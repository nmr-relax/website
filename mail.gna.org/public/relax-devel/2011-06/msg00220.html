<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Question about loading spins in xyz file -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 21 Jun 2011 12:54:16 +0200 -->
<!--X-Message-Id: BANLkTim&#45;DgPPH__7EBomM3qfeB4erekcfg@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1QYZWC&#45;0005iI&#45;2k@subversion.gna.org -->
<!--X-Reference: BANLkTimcH_ZVcgU5+DJD_hAAqhS6gsaeiA@mail.gmail.com -->
<!--X-Reference: 49B278CE&#45;F091&#45;4854&#45;AD36&#45;3BE390D992A4@nmr.mpibpc.mpg.de -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Question about loading spins in xyz file -- June 21, 2011 - 12:54</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Question about loading spins in xyz file</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00220" class="tabs">Index by Date</a> | <a href="threads.html#00220" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00219.html">Date Prev</a>] [<a href="msg00221.html">Date Next</a>] [<a href="msg00219.html">Thread Prev</a>] [<a href="msg00221.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Han Sun &lt;hasu@xxxxxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 21 Jun 2011 12:53:43 +0200</li>
<li class="menuitem">
<em>Cc</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;	h=domainkey-signature:mime-version:sender:in-reply-to:references:date	:x-google-sender-auth:message-id:subject:from:to:cc:content-type;	bh=Z+crg/oGai2Frra1XTNL8z4Tv9u/yQ7Mfo6CV+FlELA=;	b=JRR+xRuVivYYePbnW7xyaTT1Ub2j4pe4DA4EN0Vwt3K1zk3SpWPFC/qWPP3z9PiNQz	b7EtAki06XIe8W/PKgbjCJtLadsY2WaqkUb64pi5dT5HfoHFLKNgayT4d9X9ANzqJZG6	26FCS/430dFbea23OyDo8gIFtJTJFFHmKzqTY=</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00220.html">BANLkTim-DgPPH__7EBomM3qfeB4erekcfg@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1QYZWC-0005iI-2k@xxxxxxxxxxxxxxxxxx&gt;	&lt;BANLkTimcH_ZVcgU5+DJD_hAAqhS6gsaeiA@xxxxxxxxxxxxxx&gt;	&lt;49B278CE-F091-4854-AD36-3BE390D992A4@xxxxxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on June 21, 2011 - 12:54:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

This is probably correct.  The str_id argument can be deleted as it is
unused.  Actually, it is not used anywhere within relax, for example
if I look for it:

[edward@localhost xyz]$ grep str_id *.py */*.py */*/*.py
generic_fns/structure/api_base.py:    def atom_loop(self,
atom_id=None, str_id=None, model_num_flag=False, mol_name_flag=False,
res_num_flag=False, res_name_flag=False, atom_num_flag=False,
atom_name_flag=False, element_flag=False, pos_flag=False, ave=False):
generic_fns/structure/api_base.py:        @keyword str_id:
The structure identifier.  This can be the file name, model
generic_fns/structure/api_base.py:        @type str_id:
str, int, or None
generic_fns/structure/internal.py:    def atom_loop(self,
atom_id=None, str_id=None, model_num_flag=False, mol_name_flag=False,
res_num_flag=False, res_name_flag=False, atom_num_flag=False,
atom_name_flag=False, element_flag=False, pos_flag=False, ave=False):
generic_fns/structure/internal.py:        @keyword str_id:
The structure identifier.  This can be the file name, model
generic_fns/structure/internal.py:        @type str_id:
str, int, or None
generic_fns/structure/main.py:def get_pos(spin_id=None, str_id=None,
ave_pos=False):
generic_fns/structure/main.py:    @keyword str_id:            The
structure identifier.  This can be the file name, model number,
generic_fns/structure/main.py:    @type str_id:               int or str
generic_fns/structure/main.py:    for model_num, mol_name, res_num,
res_name, atom_num, atom_name, element, pos in
cdp.structure.atom_loop(atom_id=spin_id, str_id=str_id,
model_num_flag=True, mol_name_flag=True, res_num_flag=True,
res_name_flag=True, atom_num_flag=True, atom_name_flag=True,
element_flag=True, pos_flag=True, ave=ave_pos):
generic_fns/structure/main.py:def load_spins(spin_id=None,
str_id=None, combine_models=True, ave_pos=False):
generic_fns/structure/main.py:    @keyword str_id:            The
structure identifier.  This can be the file name, model number,
generic_fns/structure/main.py:    @type str_id:               int or str
generic_fns/structure/main.py:    for model_num, mol_name, res_num,
res_name, atom_num, atom_name, element, pos in
cdp.structure.atom_loop(atom_id=spin_id, str_id=str_id,
model_num_flag=True, mol_name_flag=True, res_num_flag=True,
res_name_flag=True, atom_num_flag=True, atom_name_flag=True,
element_flag=True, pos_flag=True, ave=ave_pos):
generic_fns/structure/scientific.py:    def atom_loop(self,
atom_id=None, str_id=None, model_num_flag=False, mol_name_flag=False,
res_num_flag=False, res_name_flag=False, atom_num_flag=False,
atom_name_flag=False, element_flag=False, pos_flag=False, ave=False):
generic_fns/structure/scientific.py:        @keyword str_id:
 The structure identifier.  This can be the file name, model
generic_fns/structure/scientific.py:        @type str_id:
 str, int, or None
[edward@localhost xyz]$

As you can see, it is only used as a function argument and does not
actually do anything.  This is probably one example of many of ancient
unused code which is still present but not hurting relax.  Then again
it could be an idea for a future feature that I haven't implemented
yet (but I can't remember if that is the case).  Anyway, it can be
deleted throughout relax without problem.  Note that with it still
present, relax will function.  You can pass anything as the str_id
arg, and it will do nothing.  So it is safe to ignore as well, the
number of args do not need to match if those arguments are keyword
arguments!

Cheers,

Edward



On 21 June 2011 12:23, Han Sun &lt;hasu@xxxxxxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward,

I have a question concerning about loading the spins in the xyz file. In the
prompt/structure.py there is a function load_spins. At the end of this
function it calls another function load_spins in the
generic_fns/structure/main.py. But in the first function it gives three
values: spin_id, combine_models and ave_pos and in the second function it
requests four values, which are spin_id, str_id, combine_models and ave_pos.
In my opinion the number of values should be matched. Do I misunderstand
something?

Best,
Han

</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00211" href="msg00211.html">Re: r13121 - in /branches/xyz: generic_fns/structure/internal.py	test_suite/system_tests/structure.py</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00219" href="msg00219.html">Question about loading spins in xyz file</a></strong>
<ul><li><em>From:</em> Han Sun</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Jun 21 17:00:14 2011</div>  
</body>
</html>
