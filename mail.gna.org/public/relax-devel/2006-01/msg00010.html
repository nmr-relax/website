<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: [Relax&#45;devel] Re: Relaxation data structure bug fix. -->
<!--X-From-R13: Sqjneq q'Ohiretar <rqjneq.qnhiretarNtznvy.pbz> -->
<!--X-Date: Fri, 13 Jan 2006 03:06:41 +0100 -->
<!--X-Message-Id: 7f080ed10601121804u5c45539r@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 7f080ed10601112034y7225dd03r@mail.gmail.com -->
<!--X-Reference: 7f080ed10601112039i6e4a9119x@mail.gmail.com -->
<!--X-Reference: 1137077867.31664.231.camel@bmbpcu338.leeds.ac.uk -->
<!--X-Reference: 7f080ed10601121751l2d738d8fr@mail.gmail.com -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>Re: [Relax-devel] Re: Relaxation data structure bug fix. -- January 13, 2006 - 03:06</title>
<link rel="stylesheet" type="text/css" href="http://home.gna.org/admin/style.css"> 
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h1>Re: [Relax-devel] Re: Relaxation data structure bug fix. (January 13, 2006 - 03:06)</h1>
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00010" class="tabs">Index by Date</a> | <a href="threads.html#00010" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00009.html">Date Prev</a>] [<a href="msg00011.html">Date Next</a>] [<a href="msg00009.html">Thread Prev</a>] [<a href="msg00011.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<div class="boxtitle">Headers</div>
<div class="boxitemalt">
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Chris MacRaild &lt;<a href="mailto:c.a.macraild@DOMAIN.HIDDEN">c.a.macraild@xxxxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: Re: [Relax-devel] Re: Relaxation data structure bug fix.</li>
<li><em>From</em>: Edward d'Auvergne &lt;<a href="mailto:edward.dauvergne@DOMAIN.HIDDEN">edward.dauvergne@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Fri, 13 Jan 2006 13:04:28 +1100</li>
<li><em>Cc</em>: <a href="mailto:relax-devel@DOMAIN.HIDDEN">relax-devel@xxxxxxx</a></li>
<li><em>Domainkey-signature</em>: a=rsa-sha1; q=dns; c=nofws; s=beta; d=gmail.com;	h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;	b=ecbumv08POFMY+RtmfJeaxiVIKgdFjhTq4e0aFrOA+YZCk7pe5sPfHXiEs2YFZV+mYjPCWyIgo8S+B0d9Xc4YU2LlJKs3oYGbyhjY6uB8zvV7V7RNqob+RZU++AvlTFSlZfPRFh8k8qATy+gKMNOUDbOaW3TjWBsFFT7DsW4omc=</li>
<li><em>Message-id</em>: &lt;<a href="msg00010.html">7f080ed10601121804u5c45539r@mail.gmail.com</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg00006.html">7f080ed10601112034y7225dd03r@mail.gmail.com</a>&gt;	&lt;<a href="msg00007.html">7f080ed10601112039i6e4a9119x@mail.gmail.com</a>&gt;	&lt;<a href="msg00008.html">1137077867.31664.231.camel@bmbpcu338.leeds.ac.uk</a>&gt;	&lt;<a href="msg00009.html">7f080ed10601121751l2d738d8fr@mail.gmail.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div>
<p>&nbsp;</p>
<div class="data">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Oh, the consistency check in 'specific_fns/model_free.py' were there
to make sure that the structures in the results file were all
identical.  As they are the global structures, they should be.  That
block of code was poorly designed, I had a test to speed up the code
by skipping the eval() statement but, just below it, the eval()
statements were executed in the consistency check.  I didn't think
that one out too clearly.


On 13/01/06, Edward d'Auvergne &lt;edward.dauvergne@xxxxxxxxx&gt; wrote:
&gt; The if condition is only there to speed up the code.  As the data
&gt; structures which are evaluated will be the same for all residues (they
&gt; are the global structures), the eval() statements only need to be done
&gt; once to read in a results file.  I should have explained its purpose
&gt; in the comment line.  The change, however, will have no noticeable
&gt; effect.
&gt;
&gt; Would you like to have a go at merging your fix into the 1.1 line.
&gt; It's probably easiest to check out that line and manually change the
&gt; file.  Otherwise, I'll just incorporate it (unless you would prefer
&gt; having 'macraild' next to the file).  The merge is important as any
&gt; changes made to the 1.0 line will disappear in future versions of
&gt; relax if they are not merged into the highest numbered branch.
&gt;
&gt; I've almost completed the relaxation curve fitting code, the reason
&gt; for creating the 1.1 branch, so once I stabilise a few things, I'll
&gt; create a new stable branch from it called 1.2.  You might even find
&gt; the 1.2 branch next time you look (therefore the merge should go there
&gt; instead).  There are a lot of internal changes which would be
&gt; invisible to the user and the release packages will be different.
&gt; Installation of the program has also changed.  Instead of typing the
&gt; commands, making symlinks, etc as in the 1.0 line, you type 'make
&gt; install' and it will do all that for you.  Not quite sure how this
&gt; will work on a Windows computer though?  Oh, the manual has had a few
&gt; fixes and has expanded a bit as well.  It's now well over 200 pages
&gt; long.
&gt;
&gt;
&gt; On 12 Jan 2006 14:57:47 +0000, Chris MacRaild &lt;c.a.macraild@xxxxxxxxxxx&gt; wrote:
&gt; &gt; Opps, Should have spotted the noe_r1_table issue. I've shifted the new
&gt; &gt; code as you suggest.  The other change that somehow escaped my last
&gt; &gt; commit is the deletion of the if condition in the function
&gt; &gt; read_columnar_relax_data() at line 3221 in specific_fns/model_free.py
&gt; &gt; The test for consistency that follows is then redundant.
&gt; &gt;
&gt; &gt;
&gt; &gt; On Thu, 2006-01-12 at 04:39, Edward d'Auvergne wrote:
&gt; &gt; &gt; Oh, for readability it might be worth having an empty line before each
&gt; &gt; &gt; comment and subsequent block of code.  It makes it easier to read and
&gt; &gt; &gt; understand the code.  As for the mailing list, a 'reply to all' option
&gt; &gt; &gt; should CC the email to the relax-devel list as well as the person
&gt; &gt; &gt; you're responding to.
&gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; On 12/01/06, Edward d'Auvergne &lt;edward.dauvergne@xxxxxxxxx&gt; wrote:
&gt; &gt; &gt; &gt; Chris,
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; Good idea to pop the empty data out after the fact.  It's a nice and
&gt; &gt; &gt; &gt; simple fix.  There will, however, probably be a problem with the
&gt; &gt; &gt; &gt; residue specific data structure 'noe_r1_table[]'.  As the pop commands
&gt; &gt; &gt; &gt; are run, the indexes in 'noe_r1_table' will need to be changed to a
&gt; &gt; &gt; &gt; different integer or to None.  This structure is essential for
&gt; &gt; &gt; &gt; minimisation.
&gt; &gt; &gt; &gt;
&gt; &gt; &gt; &gt; It may be easier to shift your code into the file
&gt; &gt; &gt; &gt; 'specific_fns/relax_data.py' and into the bizarrely named function
&gt; &gt; &gt; &gt; 'add_residue()', probably around line 90 but before the 'num_ri' and
&gt; &gt; &gt; &gt; 'num_frq' assignment.  The the 'noe_r1_table' structure will then be
&gt; &gt; &gt; &gt; correctly constructed and you won't need an algorithm to fix the
&gt; &gt; &gt; &gt; structure post construction.  What do you think?
&gt; &gt; &gt; &gt;
&gt; &gt; &gt;
&gt; &gt; &gt; _______________________________________________
&gt; &gt; &gt; Relax-devel mailing list
&gt; &gt; &gt; Relax-devel@xxxxxxx
&gt; &gt; &gt; <a  href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
&gt; &gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; _______________________________________________
&gt; &gt; Relax-devel mailing list
&gt; &gt; Relax-devel@xxxxxxx
&gt; &gt; <a  href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
&gt; &gt;
&gt;


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00006" href="msg00006.html">[Relax-devel] Relaxation data structure bug fix.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00007" href="msg00007.html">[Relax-devel] Re: Relaxation data structure bug fix.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00008" href="msg00008.html">Re: [Relax-devel] Re: Relaxation data structure bug fix.</a></strong>
<ul><li><em>From:</em> Chris MacRaild</li></ul></li>
<li><strong><a name="00009" href="msg00009.html">Re: [Relax-devel] Re: Relaxation data structure bug fix.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<div class="boxtitle">Related Mails</div>
<div class="boxitemalt">
<ul>
<li>Prev by Date:
<strong><a href="msg00009.html">Re: [Relax-devel] Re: Relaxation data structure bug fix.</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00011.html">[Relax-devel] problems compiling from source</a></strong>
</li>

<li>Previous by thread:
<strong><a href="msg00009.html">Re: [Relax-devel] Re: Relaxation data structure bug fix.</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00011.html">[Relax-devel] problems compiling from source</a></strong>
</li>

</ul>
</div>
<br /><br /><br />

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Jan 24 14:00:38 2006</div>  
</body>
</html>
