<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [bug #15321] Bad syntac in "minimise/line_search/more_thuente.py" -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Thu, 11 Feb 2010 10:11:40 +0100 -->
<!--X-Message-Id: 7f080ed11002110110v482002e2r8619422edeb87b69@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20100209&#45;095618.sv7147.99650@gna.org -->
<!--X-Reference: 7f080ed11002090720v78de540di59dfda4c83c267a2@mail.gmail.com -->
<!--X-Reference: 4B737D34.4050008@ulaval.ca -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [bug #15321] Bad syntac in &quot;minimise/line_search/more_thuente.py&quot; -- February 11, 2010 - 10:11</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: [bug #15321] Bad syntac in &quot;minimise/line_search/more_thuente.py&quot;</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00036" class="tabs">Index by Date</a> | <a href="threads.html#00036" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00035.html">Date Prev</a>] [<a href="msg00037.html">Date Next</a>] [<a href="msg00035.html">Thread Prev</a>] [<a href="msg00038.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Sébastien Morin &lt;sebastien.morin.1@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 11 Feb 2010 10:10:55 +0100</li>
<li class="menuitem">
<em>Cc</em>: Sébastien Morin &lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt;,	&quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00036.html">7f080ed11002110110v482002e2r8619422edeb87b69@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;20100209-095618.sv7147.99650@xxxxxxx&gt;	&lt;7f080ed11002090720v78de540di59dfda4c83c267a2@xxxxxxxxxxxxxx&gt;	&lt;4B737D34.4050008@xxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on February 11, 2010 - 10:11:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

It is a very easy fix, and you could even find the minfx commit
message to see all of the changes required
(<a  rel="nofollow" href="/mail.gna.org/public/minfx-commits/">https://mail.gna.org/public/minfx-commits/</a>).  So feel free to make
this.  An alternative is to use python versions &lt;= 2.5.

Cheers,

Edward


On 11 February 2010 04:44, Sébastien Morin &lt;sebastien.morin.1@xxxxxxxxx&gt; 
wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Ed,

Yes, using the old 1.2 line is a bit weird, but we just wanted to calculate
some reduced spectral density stuff again using the same script as 1-2 years
ago...

I guess it may be a good idea to fix the problem since it is not very hard
to do. If you wish, I could do the fix by changing the variable name for its
name in minfx...

Regards,


Séb


On 10-02-09 10:20 AM, Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Hi,

Unfortuanately what you have encountered here is a Python 'feature'.
They have decided that 'as' will now be a python statement, so this
assignment &quot;as = ...&quot; fails.  This is in Python 2.6 and higher.  minfx
1.0.2 was released to fix this problem
(<a  rel="nofollow" href="https://gna.org/forum/forum.php?forum_id=2103">https://gna.org/forum/forum.php?forum_id=2103</a>).  Unfortunately
relax-1.2 does not use minfx, so you will not benefit from this fix :S
 The other test suite failures were always there.  These just indicate
that that code is incomplete (in the 1.3 line they are complete).  Is
there a reason you are using the 1.2 line?  This hasn't been touched
in years ;)  If really necessary, the as statement problem could be
easily fixed in the 1.2 line.  I changed 'as' to 'asec' in minfx, and
the same change could be made again.

Regards,

Edward


On 9 February 2010 15:56, Sébastien Morin
&lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt;  wrote:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">

URL:
 &lt;<a  rel="nofollow" href="http://gna.org/bugs/?15321">http://gna.org/bugs/?15321</a>&gt;

                Summary: Bad syntac in
&quot;minimise/line_search/more_thuente.py&quot;
                Project: relax
           Submitted by: semor
           Submitted on: Tuesday 02/09/2010 at 09:56
               Category: relax's source code
               Severity: 5 - Blocker
               Priority: 7 - High
                 Status: None
                Privacy: Public
            Assigned to: None
        Originator Name:
       Originator Email:
            Open/Closed: Open
        Discussion Lock: Any
                Release: Repository: 1.2 line
       Operating System: GNU/Linux

   _______________________________________________________

Details:

Hi,

Trying to use relax-1.2 (up-to-date repository line, r10688), we went
into a
syntax problem. This was probably introduced by new versions of Numeric
(or
any other dependency). The problem was as follows when invoking relax
(either
relax alone or with any option such as -h, -d, --test-suite):

=========================
Traceback (most recent call last):
 File &quot;./relax&quot;, line 76, in&lt;module&gt;
   from prompt.interpreter import Interpreter
 File &quot;/home/pys/relax-1.2/prompt/interpreter.py&quot;, line 42, in&lt;module&gt;
   from dx import OpenDX
 File &quot;/home/pys/relax-1.2/prompt/dx.py&quot;, line 29, in&lt;module&gt;
   from specific_fns.model_free import Model_free
 File &quot;/home/pys/relax-1.2/specific_fns/model_free.py&quot;, line 33, in
&lt;module&gt;
   from minimise.generic import generic_minimise
 File &quot;/home/pys/relax-1.2/minimise/generic.py&quot;, line 26, in&lt;module&gt;
   from coordinate_descent import coordinate_descent
 File &quot;/home/pys/relax-1.2/minimise/coordinate_descent.py&quot;, line 26, in
&lt;module&gt;
   from base_classes import Line_search, Min
 File &quot;/home/pys/relax-1.2/minimise/base_classes.py&quot;, line 46, in&lt;module&gt;
   from line_search.more_thuente import more_thuente
 File &quot;/home/pys/relax-1.2/minimise/line_search/more_thuente.py&quot;, line
385
   as = secant(al, at, gl, gt)
    ^
SyntaxError: invalid syntax

=========================

Opening the file &quot;minimise/line_search/more_thuente.py&quot; in vim, we saw
that
the string &quot;as&quot; was colored differently than the rest.

We then had the idea that maybe &quot;as&quot; was now a variable inside Numeric
(or
any other dependency) and we changed &quot;as&quot; for something else such as
&quot;RogerMoquin&quot;.

The problem was solved and the prompt now worked properly..!

We ran the test-suite and, however, saw that three tests were not
passing.
These are:

==========================
Loading a sequence from a PDB file
The user function angles()
Loading of Sparky peak heights
==========================

Were these tests broken before we changed the variable &quot;as&quot; to
&quot;RogerMoquin&quot;
?

Is this problem as easy to solve as we propose here ?

Thank you !

Sébastien&amp;  Pierre-Yves




   _______________________________________________________

Reply to this item at:

 &lt;<a  rel="nofollow" href="http://gna.org/bugs/?15321">http://gna.org/bugs/?15321</a>&gt;

_______________________________________________
 Message sent via/by Gna!
 <a  rel="nofollow" href="http://gna.org/">http://gna.org/</a>


_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="/mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>


</pre></blockquote></blockquote><pre style="margin: 0em;">

--
Sébastien Morin
PhD Student
S. Gagné NMR Laboratory
Université Laval&amp;  PROTEO
Québec, Canada


</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00033" href="msg00033.html">[bug #15321] Bad syntac in &quot;minimise/line_search/more_thuente.py&quot;</a></strong>
<ul><li><em>From:</em> Sébastien Morin</li></ul></li>
<li><strong><a name="00034" href="msg00034.html">Re: [bug #15321] Bad syntac in &quot;minimise/line_search/more_thuente.py&quot;</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00035" href="msg00035.html">Re: [bug #15321] Bad syntac in &quot;minimise/line_search/more_thuente.py&quot;</a></strong>
<ul><li><em>From:</em> Sébastien Morin</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Feb 12 15:00:21 2010</div>  
</body>
</html>
