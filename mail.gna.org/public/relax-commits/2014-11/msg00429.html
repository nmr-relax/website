<!-- MHonArc v2.6.18 -->
<!--X-Subject: r26825 &#45; in /trunk: specific_analyses/relax_fit/uf.py user_functions/relax_fit.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Sat, 29 Nov 2014 10:10:58 +0100 -->
<!--X-Message-Id: E1Xue3O&#45;0007yP&#45;3J@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r26825 - in /trunk: specific_analyses/relax_fit/uf.py user_functions/relax_fit.py -- November 29, 2014 - 10:10</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r26825 - in /trunk: specific_analyses/relax_fit/uf.py user_functions/relax_fit.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00429" class="tabs">Index by Date</a> | <a href="threads.html#00429" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00428.html">Date Prev</a>] [<a href="msg00430.html">Date Next</a>] [<a href="msg00428.html">Thread Prev</a>] [<a href="msg00430.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Sat, 29 Nov 2014 09:10:57 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00429.html">E1Xue3O-0007yP-3J@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on November 29, 2014 - 10:10:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Sat Nov 29 10:10:56 2014
New Revision: 26825

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=26825&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=26825&amp;view=rev</a>
Log:
Added the saturation recovery experiment to the relax_fit.select_model user 
function.

This simply adds a new option and sets up a different parameter set [Rx, 
Iinf].


Modified:
    trunk/specific_analyses/relax_fit/uf.py
    trunk/user_functions/relax_fit.py

Modified: trunk/specific_analyses/relax_fit/uf.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/specific_analyses/relax_fit/uf.py?rev=26825&amp;r1=26824&amp;r2=26825&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/specific_analyses/relax_fit/uf.py?rev=26825&amp;r1=26824&amp;r2=26825&amp;view=diff</a>
==============================================================================
--- trunk/specific_analyses/relax_fit/uf.py     (original)
+++ trunk/specific_analyses/relax_fit/uf.py     Sat Nov 29 10:10:56 2014
@@ -82,7 +82,7 @@
 def select_model(model='exp'):
     &quot;&quot;&quot;Function for selecting the model of the exponential curve.
 
-    @keyword model: The exponential curve type.  Can be one of 'exp' or 
'inv'.
+    @keyword model: The exponential curve type.  Can be one of 'exp', 'inv', 
or 'sat'.
     @type model:    str
     &quot;&quot;&quot;
 
@@ -108,6 +108,11 @@
         print(&quot;Three parameter inversion recovery fit.&quot;)
         params = ['rx', 'i0', 'iinf']
 
+    # The saturation recovery.
+    if model == 'exp':
+        print(&quot;Saturation recovery.&quot;)
+        params = ['rx', 'iinf']
+
     # Invalid model.
     else:
         raise RelaxError(&quot;The model '&quot; + model + &quot;' is invalid.&quot;)

Modified: trunk/user_functions/relax_fit.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/user_functions/relax_fit.py?rev=26825&amp;r1=26824&amp;r2=26825&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/user_functions/relax_fit.py?rev=26825&amp;r1=26824&amp;r2=26825&amp;view=diff</a>
==============================================================================
--- trunk/user_functions/relax_fit.py   (original)
+++ trunk/user_functions/relax_fit.py   Sat Nov 29 10:10:56 2014
@@ -84,20 +84,23 @@
     wiz_element_type = &quot;combo&quot;,
     wiz_combo_choices = [
         &quot;exp: [Rx, I0]&quot;,
-        &quot;inv: [Rx, I0, Iinf]&quot;
+        &quot;inv: [Rx, I0, Iinf]&quot;,
+        &quot;Saturation recovery, [Rx, Iinf]&quot;
     ],
     wiz_combo_data = [
         &quot;exp&quot;,
-        &quot;inv&quot;
+        &quot;inv&quot;,
+        &quot;sat&quot;
     ],
     wiz_read_only = True
 )
 # Description.
 uf.desc.append(Desc_container())
-uf.desc[-1].add_paragraph(&quot;The supported relaxation experiments include the 
default two parameter exponential fit, selected by setting the model type to 
'exp', and the three parameter inversion recovery experiment in which the 
peak intensity limit is a non-zero value, selected by setting the model to 
'inv'.&quot;)
+uf.desc[-1].add_paragraph(&quot;The supported relaxation experiments include the 
default two parameter exponential fit, selected by setting the model type to 
'exp', the three parameter inversion recovery experiment in which the peak 
intensity limit is a non-zero value, selected by setting the model to 'inv', 
and the saturation recovery R1 experiment.&quot;)
 uf.desc[-1].add_paragraph(&quot;The two models are:&quot;)
 uf.desc[-1].add_item_list_element(&quot;'exp'&quot;, &quot;The parameters are [Rx, I0], and 
the equation is I(t) = I0*exp(-Rx*t).&quot;)
 uf.desc[-1].add_item_list_element(&quot;'inv'&quot;, &quot;The parameters are [Rx, I0, 
Iinf].  This has not been implemented yet.&quot;)
+uf.desc[-1].add_item_list_element(&quot;'sat'&quot;, &quot;The saturation recovery 
experiment.  The parameters are [Rx, Iinf] and the equation is I(t) = 
Iinf*(1-exp(-Rx*t)).&quot;)
 uf.backend = select_model
 uf.menu_text = &quot;&amp;select_model&quot;
 uf.gui_icon = &quot;oxygen.actions.list-add&quot;



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sat Nov 29 10:20:04 2014</div>  
</body>
</html>
