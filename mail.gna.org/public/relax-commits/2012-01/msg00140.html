<!-- MHonArc v2.6.16 -->
<!--X-Subject: r15256 &#45; /1.3/generic_fns/dasha.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Thu, 26 Jan 2012 10:43:07 +0100 -->
<!--X-Message-Id: E1RqLrH&#45;0007pQ&#45;KJ@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r15256 - /1.3/generic_fns/dasha.py -- January 26, 2012 - 10:43</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r15256 - /1.3/generic_fns/dasha.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00140" class="tabs">Index by Date</a> | <a href="threads.html#00140" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00139.html">Date Prev</a>] [<a href="msg00141.html">Date Next</a>] [<a href="msg00139.html">Thread Prev</a>] [<a href="msg00141.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Thu, 26 Jan 2012 09:43:07 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00140.html">E1RqLrH-0007pQ-KJ@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on January 26, 2012 - 10:43:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Thu Jan 26 10:43:07 2012
New Revision: 15256

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=15256&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=15256&amp;view=rev</a>
Log:
Fixes for the Dasha use functions for file creation and data extraction.

This should now handle relaxation data values of None, and also set the 
parameter values of
deselected spins using the Dasha output files.


Modified:
    1.3/generic_fns/dasha.py

Modified: 1.3/generic_fns/dasha.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/1.3/generic_fns/dasha.py?rev=15256&amp;r1=15255&amp;r2=15256&amp;view=diff">http://svn.gna.org/viewcvs/relax/1.3/generic_fns/dasha.py?rev=15256&amp;r1=15255&amp;r2=15256&amp;view=diff</a>
==============================================================================
--- 1.3/generic_fns/dasha.py (original)
+++ 1.3/generic_fns/dasha.py Thu Jan 26 10:43:07 2012
@@ -254,7 +254,7 @@
                 continue
 
             # Skip and deselect spins for which relaxation data is missing.
-            if len(spin.ri_data) != len(cdp.ri_ids):
+            if len(spin.ri_data) != len(cdp.ri_ids) or spin.ri_data[ri_id] 
== None:
                 spin.select = False
                 continue
 
@@ -479,12 +479,8 @@
         # Set the values.
         value.read(param=param, scaling=scaling, file=file_name, 
res_num_col=1, res_name_col=None, data_col=2, error_col=3)
 
-        # Clean up of non-existant parameters (set the parameter to None!).
+        # Clean up of non-existent parameters (set the parameter to None!).
         for spin in spin_loop():
-            # Skip deselected spins.
-            if not spin.select:
-                continue
-
             # Skip the spin (don't set the parameter to None) if the 
parameter exists in the model.
             if param in spin.params:
                 continue



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Jan 26 11:00:01 2012</div>  
</body>
</html>
