<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [bug #20175] run mf_multimodel.py in relax (cmd) -->
<!--X-From-R13: zratwha.khrNznvyobk.gh&#45;oreyva.qr -->
<!--X-Date: Wed, 19 Sep 2012 17:35:38 +0200 -->
<!--X-Message-Id: 20120919173440.1442704qvpy21n9s@webmail.tu&#45;berlin.de -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Reference: 20120918&#45;103441.sv0.14128@gna.org -->
<!--X-Reference: 20120918&#45;131759.sv0.3457@gna.org -->
<!--X-Reference: 20120919&#45;122546.sv2782.84781@gna.org -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [bug #20175] run mf_multimodel.py in relax (cmd) -- September 19, 2012 - 17:35</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: [bug #20175] run mf_multimodel.py in relax (cmd)</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00085" class="tabs">Index by Date</a> | <a href="threads.html#00085" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00083.html">Date Prev</a>] [<a href="msg00084.html">Date Next</a>] [<a href="msg00096.html">Thread Prev</a>] [<a href="msg00086.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Edward d  Auvergne &lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Wed, 19 Sep 2012 17:34:40 +0200</li>
<li class="menuitem">
<em>Cc</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00085.html">20120919173440.1442704qvpy21n9s@webmail.tu-berlin.de</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;20120918-103441.sv0.14128@xxxxxxx&gt;	&lt;20120918-131759.sv0.3457@xxxxxxx&gt;	&lt;20120919-122546.sv2782.84781@xxxxxxx&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Internet Messaging Program (IMP) H3 (4.3.9)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>mengjun . xue</strong> on September 19, 2012 - 17:35:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Dear Dr. Edward d  Auvergne,

</pre><tt>Attached please find the mf_multimodel.py, which opened and modified  
</tt><tt>in a window text file (basic text formatting). By the way, I sent the  
</tt><tt>email to relax-devel@xxxxxxx, not to relax-users@xxxxxxx, it is  
</tt><tt>correct way ?
</tt><pre style="margin: 0em;">

Thank you very much.

With best regards,

Mengjun Xue

Quoting Edward d  Auvergne &lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt;:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">
Update of bug #20175 (project relax):

                  Status:                    None =&gt; Need Info
             Assigned to:                    None =&gt; bugman

    _______________________________________________________

Follow-up Comment #1:

Mengjun, could you attach the script you used as well to this report?  From
the log file, I can see that there is a formatting problem in your script.
The bruker.read user functions are all located on the same line whereas they
should be on separate lines.

This could be a typo, or it could be a problem with the newline formatting
differences between MS Windows, GNU/Linux and Mac OS X.  Which text editor do
you use to edit your scripts?

    _______________________________________________________

Reply to this item at:

  &lt;<a  rel="nofollow" href="http://gna.org/bugs/?20175">http://gna.org/bugs/?20175</a>&gt;

_______________________________________________
  Message sent via/by Gna!
  <a  rel="nofollow" href="http://gna.org/">http://gna.org/</a>



</pre></blockquote><pre style="margin: 0em;">


</pre><pre style="margin: 0em;">###############################################################################
#                                                                             
#
# Copyright (C) 2003-2012 Edward d'Auvergne                                   
#
#                                                                             
#
# This file is part of the program relax (<a  rel="nofollow" href="/">http://www.nmr-relax.com</a>).          
#
#                                                                             
#
# This program is free software: you can redistribute it and/or modify        
#
# it under the terms of the GNU General Public License as published by        
#
# the Free Software Foundation, either version 3 of the License, or           
#
# (at your option) any later version.                                         
#
#                                                                             
#
# This program is distributed in the hope that it will be useful,             
#
# but WITHOUT ANY WARRANTY; without even the implied warranty of              
#
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the               
#
# GNU General Public License for more details.                                
#
#                                                                             
#
# You should have received a copy of the GNU General Public License           
#
# along with this program.  If not, see &lt;<a  rel="nofollow" href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.       
#
#                                                                             
#
###############################################################################

&quot;&quot;&quot;This script performs a model-free analysis for the models 'm0' to 'm9' (or 
'tm0' to 'tm9').&quot;&quot;&quot;


# Set the data pipe names (also the names of preset model-free models).
#pipes = ['tm0', 'tm1', 'tm2', 'tm3', 'tm4', 'tm5', 'tm6', 'tm7', 'tm8', 
'tm9']
pipes = ['m0', 'm1', 'm2', 'm3', 'm4', 'm5', 'm6', 'm7', 'm8', 'm9']

# Loop over the pipes.
for name in pipes:
    # Create the data pipe.
    pipe.create(name, 'mf')

    # Set up the 15N spins.
    sequence.read('noe.500.out', res_num_col=1)
    spin.name('N')
    spin.element(element='N', spin_id='@N')
    spin.isotope('15N', spin_id='@N')

    # Load a PDB file.
    structure.read_pdb(file='C:\\Documents and Settings\\Mengjun 
Xue\\Desktop\\Relax bugs\\Relax\\tutorial_pdc\\tutorial_pdc\\1UBQ_H.pdb', 
dir=None, read_mol=None, set_mol_name=None, read_model=None, 
set_model_num=None, parser='internal')

    # Load the relaxation data.
    bruker.read(ri_id='noe_600', file='C:\\Documents and Settings\\Mengjun 
Xue\\Desktop\\Relax bugs\\Relax\\NOE demo.txt', dir=None)   
bruker.read(ri_id='r1_600', file='C:\\Documents and Settings\\Mengjun 
Xue\\Desktop\\Relax bugs\\Relax\\T1 demo.txt', dir=None)   
bruker.read(ri_id='r2_600', file='C:\\Documents and Settings\\Mengjun 
Xue\\Desktop\\Relax bugs\\Relax\\T2 demo.txt', dir=None) # Set up the 
diffusion tensor.
    diffusion_tensor.init(1e-8, fixed=True)
    #diffusion_tensor.init((1e-8, 1.0, 60, 290), param_types=0, 
spheroid_type='oblate', fixed=True)

    # Generate the 1H spins for the magnetic dipole-dipole relaxation 
interaction.
    sequence.attach_protons()

    # Define the magnetic dipole-dipole relaxation interaction.
    dipole_pair.define(spin_id1='@N', spin_id2='@H', direct_bond=True)
    dipole_pair.set_dist(spin_id1='@N', spin_id2='@H', ave_dist=1.02 * 1e-10)
    structure.get_pos('@N')
    structure.get_pos('@H')
    dipole_pair.unit_vectors()

    # Define the chemical shift relaxation interaction.
    value.set(-172 * 1e-6, 'csa', spin_id='@N')

    # Select the model-free model.
    model_free.select_model(model=name)

    # Minimise.
    grid_search(inc=11)
    minimise('newton')

    # Write the results.
    results.write(file='results', force=True)

# Save the program state.
state.save('save', force=True)
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00086" href="msg00086.html">Re: [bug #20175] run mf_multimodel.py in relax (cmd)</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00061" href="msg00061.html">[bug #20175] run mf_multimodel.py in relax (cmd)</a></strong>
<ul><li><em>From:</em> anonymous</li></ul></li>
<li><strong><a name="00064" href="msg00064.html">[bug #20175] run mf_multimodel.py in relax (cmd)</a></strong>
<ul><li><em>From:</em> anonymous</li></ul></li>
<li><strong><a name="00078" href="msg00078.html">[bug #20175] run mf_multimodel.py in relax (cmd)</a></strong>
<ul><li><em>From:</em> Edward d Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Sep 26 17:40:09 2012</div>  
</body>
</html>
