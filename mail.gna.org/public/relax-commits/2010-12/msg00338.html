<!-- MHonArc v2.6.16 -->
<!--X-Subject: r12038 &#45; /branches/bieri_gui/gui_bieri/user_functions/base.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Thu, 30 Dec 2010 15:25:21 +0100 -->
<!--X-Message-Id: E1PYJRR&#45;000329&#45;Co@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r12038 - /branches/bieri_gui/gui_bieri/user_functions/base.py -- December 30, 2010 - 15:25</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r12038 - /branches/bieri_gui/gui_bieri/user_functions/base.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00338" class="tabs">Index by Date</a> | <a href="threads.html#00338" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00337.html">Date Prev</a>] [<a href="msg00339.html">Date Next</a>] [<a href="msg00337.html">Thread Prev</a>] [<a href="msg00339.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Thu, 30 Dec 2010 14:25:21 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00338.html">E1PYJRR-000329-Co@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on December 30, 2010 - 15:25:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Thu Dec 30 15:25:21 2010
New Revision: 12038

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=12038&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=12038&amp;view=rev</a>
Log:
The initial values of the free file format widget are now those in the relax 
data store.

This means that values set in the menu now appear in the user function 
windows.


Modified:
    branches/bieri_gui/gui_bieri/user_functions/base.py

Modified: branches/bieri_gui/gui_bieri/user_functions/base.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/bieri_gui/gui_bieri/user_functions/base.py?rev=12038&amp;r1=12037&amp;r2=12038&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/bieri_gui/gui_bieri/user_functions/base.py?rev=12038&amp;r1=12037&amp;r2=12038&amp;view=diff</a>
==============================================================================
--- branches/bieri_gui/gui_bieri/user_functions/base.py (original)
+++ branches/bieri_gui/gui_bieri/user_functions/base.py Thu Dec 30 15:25:21 
2010
@@ -35,6 +35,7 @@
 from gui_bieri.controller import Redirect_text
 from gui_bieri.filedialog import openfile
 from gui_bieri.message import error_message
+from gui_bieri.misc import int_to_gui, str_to_gui
 from gui_bieri import paths
 
 
@@ -533,8 +534,23 @@
             data_col = self.input_field(sub_sizer, &quot;Data column:&quot;, 
divider=divider, padding=padding, spacer=spacer)
             err_col = self.input_field(sub_sizer, &quot;Error column:&quot;, 
divider=divider, padding=padding, spacer=spacer)
 
+        # Set the values.
+        
spin_id_col.SetValue(int_to_gui(ds.relax_gui.free_file_format.spin_id_col))
+        
mol_name_col.SetValue(int_to_gui(ds.relax_gui.free_file_format.mol_name_col))
+        
res_num_col.SetValue(int_to_gui(ds.relax_gui.free_file_format.res_num_col))
+        
res_name_col.SetValue(int_to_gui(ds.relax_gui.free_file_format.res_name_col))
+        
spin_num_col.SetValue(int_to_gui(ds.relax_gui.free_file_format.spin_num_col))
+        
spin_name_col.SetValue(int_to_gui(ds.relax_gui.free_file_format.spin_name_col))
+        if data_cols:
+            
data_col.SetValue(int_to_gui(ds.relax_gui.free_file_format.data_col))
+            
err_col.SetValue(int_to_gui(ds.relax_gui.free_file_format.err_col))
+
         # The column separator.
         sep = self.combo_box(sub_sizer, &quot;Column separator:&quot;, [&quot;white space&quot;, 
&quot;,&quot;, &quot;;&quot;, &quot;:&quot;, &quot;&quot;], divider=divider, padding=padding, spacer=0, 
read_only=False)
+        if not ds.relax_gui.free_file_format.sep:
+            sep.SetValue(&quot;white space&quot;)
+        else:
+            sep.SetValue(str_to_gui(ds.relax_gui.free_file_format.sep))
 
         # Set the size of the widget.
         sub_sizer.AddSpacer(10)



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Dec 30 15:40:02 2010</div>  
</body>
</html>
