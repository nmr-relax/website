<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: [bug #6288] errors in value.copy and value.delete,	possibly sequence gap related... -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Mon, 10 Jul 2006 07:25:32 +0200 -->
<!--X-Message-Id: 7f080ed10607092224k45986dfdx3581b4ba08935c39@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 111302211134fe.11134fe1113022@uq.edu.au -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [bug #6288] errors in value.copy and value.delete,	possibly sequence gap related... -- July 10, 2006 - 07:25</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: [bug #6288] errors in value.copy and value.delete,	possibly sequence gap related...</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00006" class="tabs">Index by Date</a> | <a href="threads.html#00006" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00005.html">Date Prev</a>] [<a href="msg00007.html">Date Next</a>] [<a href="msg00005.html">Thread Prev</a>] [<a href="msg00007.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Mon, 10 Jul 2006 15:24:53 +1000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00006.html">7f080ed10607092224k45986dfdx3581b4ba08935c39@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;111302211134fe.11134fe1113022@uq.edu.au&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on July 10, 2006 - 07:25:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,</pre><br>
<pre style="margin: 0em;">Unfortunately Horst your email didn't make it to the relax-devel
mailing list.  Would you be able to repost it?  The problem may be the
reply to my post - if you hit 'reply' rather than 'reply to all' the
message will not end up on the list.  Also as one of the attachments
is very large, would you be able to attach them to your bug report
#6288 (<a  href="https://web.archive.org/web/https://gna.org/bugs/?func=detailitem&amp;item_id=6288">https://gna.org/bugs/?func=detailitem&amp;item_id=6288</a>) rather than
the email to the list?</pre><br>
<pre style="margin: 0em;">Thanks,</pre><br>
<pre style="margin: 0em;">Edward</pre><br>
<tt><br>On 7/10/06, Dr Horst Schirra &lt;h.schirra@xxxxxxxxx&gt; wrote:
</tt><blockquote class="blockquote"><pre style="margin: 0em;">Hi Ed,</pre><br>
<pre style="margin: 0em;">all residues, except for the glycines (G2, G7, G8, G14, G26) should have
their values such as CSA etc. set.</pre><br>
<pre style="margin: 0em;">I've attached the python script to this email, together with the .save
file that gets read in by it, and the .results file. The .save and
.results are from a previous relax run in which I have fitted
microdynamic parameters to the relaxation data. Now I want to see how
well the relaxation data belonging to the fitted microdynamic parameters
fit to the measured original data...</pre><br>
<pre style="margin: 0em;">On a related note: The error occurs in both relax 1.2.2 and relax 1.2.3.
I tried testing relax 1.2.4., but It won't start up on my machine giving
me the following error:</pre><br>
<pre style="margin: 0em;">[h.schirra@djc-montecristi ~/kalata]$ ~/relax-1.2.4/relax
Traceback (most recent call last):
  File &quot;/home/h.schirra/relax-1.2.4/relax&quot;, line 70, in ?
    from io import IO
  File &quot;/home/h.schirra/relax-1.2.4/io.py&quot;, line 36, in ?
    from os import F_OK, access, devnull, makedirs, remove, stat
ImportError: cannot import name devnull</pre><br>
<pre style="margin: 0em;">Is that a relax issue, or shall I kick our IT guys for a dodgy python
installation??</pre><br>
<pre style="margin: 0em;">Cheers, and thanks in advance!!</pre><br>
<pre style="margin: 0em;">Horst Joachim</pre><br>
<pre style="margin: 0em;"><br>     ----------------------------------------------------------------
    / Dr. sc. nat. Horst Joachim Schirra    Phone: (+61)7/3346-2021 /
   / Queensland Smart State Fellow          Fax:  (+61)7/3346-2101 /
  / Institute for Molecular Bioscience                            /
 / University of Queensland           email: h.schirra@xxxxxxxxx /
/ Brisbane QLD 4072, Australia   <a  href="http://www.uq.edu.au/~uqhschir">http://www.uq.edu.au/~uqhschir</a> /
----------------------------------------------------------------</pre><br>
<pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">----- Original Message -----
From: Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;
Date: Friday, July 7, 2006 6:22 pm
Subject: Re: [bug #6288] errors in value.copy and value.delete, possibly
sequence gap related...
&gt; Hi,
&gt;
&gt; Horst, I just have a few quick questions about the bug report.
&gt; Residue 3 appears to be selected yet not have a CSA value.  Is this
&gt; correct?  The fix should be relatively easy, it's probably that the
&gt; CSA value of 'None' needs to be caught and handled properly.  Another
&gt; thing is, would you be able to attach your relax script to the bug
&gt; report.  It will help to work out why the global_flag variable has not
&gt; been set yet (it should exist).
&gt;
&gt; Thanks,
&gt;
&gt; Edward
&gt;
&gt;
&gt; On 7/4/06, anonymous &lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt; wrote:
&gt; &gt;
&gt; &gt; URL:
&gt; &gt;   &lt;<a  href="http://gna.org/bugs/?func=detailitem&amp;item_id=6288">http://gna.org/bugs/?func=detailitem&amp;item_id=6288</a>&gt;
&gt; &gt;
&gt; &gt;                  Summary: errors in value.copy and value.delete,
&gt; possibly&gt; sequence gap related...
&gt; &gt;                  Project: relax
&gt; &gt;             Submitted by: None
&gt; &gt;             Submitted on: Tuesday 07/04/2006 at 06:34 CEST
&gt; &gt;                 Category: None
&gt; &gt;                 Priority: 5 - Normal
&gt; &gt;                 Severity: 4 - Important
&gt; &gt;                   Status: None
&gt; &gt;                  Privacy: Public
&gt; &gt;              Assigned to: None
&gt; &gt;          Originator Name: Horst Joachim Schirra
&gt; &gt;         Originator Email: h.schirra@xxxxxxxxx
&gt; &gt;              Open/Closed: Open
&gt; &gt;                  Release: 1.2.2
&gt; &gt;         Operating System: GNU/Linux
&gt; &gt;
&gt; &gt;     _______________________________________________________
&gt; &gt;
&gt; &gt; Details:
&gt; &gt;
&gt; &gt; Hi Ed,
&gt; &gt;
&gt; &gt; Using relax 1.2.2. under linux.
&gt; &gt;
&gt; &gt; I'm currently trying to backcalculate some raw relaxation data
&gt; (R1 etc) from
&gt; &gt; a set of microdynamic parameters that I got.
&gt; &gt;
&gt; &gt; 1) When I do
&gt; &gt;
&gt; &gt; value.copy(run_name, 'test', 'csa')
&gt; &gt; to copy the parameters from the run where they originated into
&gt; the new run
&gt; &gt; 'test', I get the following error:
&gt; &gt;
&gt; &gt; Traceback (most recent call last):
&gt; &gt;   File &quot;&lt;console&gt;&quot;, line 1, in ?
&gt; &gt;   File &quot;/home/h.schirra/relax_1.2.2/prompt/value.py&quot;, line 99, in
&gt; copy&gt;     self.__relax__.generic.value.copy(run1=run1, run2=run2,
&gt; param=param)&gt;   File
&gt; &quot;/home/h.schirra/relax_1.2.2/generic_fns/value.py&quot;, line 82, in copy
&gt; &gt;     set(run=run2, value=value, error=error, param=param, index=i)
&gt; &gt;   File &quot;/home/h.schirra/relax_1.2.2/specific_fns/base_class.py&quot;,
&gt; line 154, in
&gt; &gt; set
&gt; &gt;     setattr(self.relax.data.res[self.run][index], object_name,
&gt; float(value) *
&gt; &gt; scaling)
&gt; &gt; TypeError: float() argument must be a string or a number
&gt; &gt;
&gt; &gt; same happens with most other parameters (e.g. s2, s2f, etc).
&gt; &gt;
&gt; &gt; When I check with
&gt; &gt; value.display('test', 'csa')
&gt; &gt;
&gt; &gt; what has arrived, I get:
&gt; &gt;
&gt; &gt; Num  Name  Value                         Error
&gt; &gt; 1    CYS   2.4999999999999998e-05        None
&gt; &gt; 2    GLY   None                          None
&gt; &gt; 3    GLU   None                          None
&gt; &gt; ....
&gt; &gt;
&gt; &gt; HINT: Gly 2 is not selected in the relax run. I assume the error
&gt; lies&gt; somewhere in that copy vcan't deal yet with gap residues...
&gt; &gt;
&gt; &gt; Sequence:
&gt; &gt;
&gt; &gt; relax&gt; sequence.display(run_name)
&gt; &gt; Number  Name    Selected
&gt; &gt; 1       CYS     1
&gt; &gt; 2       GLY     0
&gt; &gt; 3       GLU     1
&gt; &gt; 4       THR     1
&gt; &gt; 5       CYS     1
&gt; &gt; 6       VAL     1
&gt; &gt; 7       GLY     0
&gt; &gt; 8       GLY     0
&gt; &gt; 9       THR     1
&gt; &gt; 10      CYS     1
&gt; &gt; 11      ASN     1
&gt; &gt; 12      THR     1
&gt; &gt; 13      PRO     1
&gt; &gt; 14      GLY     0
&gt; &gt; 15      CYS     1
&gt; &gt; 16      THR     1
&gt; &gt; 17      CYS     1
&gt; &gt; 18      SER     1
&gt; &gt; 19      TRP     1
&gt; &gt; 20      PRO     1
&gt; &gt; 21      VAL     1
&gt; &gt; 22      CYS     1
&gt; &gt; 23      THR     1
&gt; &gt; 24      ARG     1
&gt; &gt; 25      ASN     1
&gt; &gt; 26      GLY     0
&gt; &gt; 27      LEU     1
&gt; &gt; 28      PRO     1
&gt; &gt; 29      VAL     1
&gt; &gt; ===================================================
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; 2) Related. when I try to delete the original relaxation data
&gt; from run
&gt; &gt; run_name, I get the following error:
&gt; &gt;
&gt; &gt; relax&gt; relax_data.delete(run_name, 'R1', '500')
&gt; &gt; Traceback (most recent call last):
&gt; &gt;   File &quot;&lt;console&gt;&quot;, line 1, in ?
&gt; &gt;   File &quot;/home/h.schirra/relax_1.2.2/prompt/relax_data.py&quot;, line
&gt; 198, in
&gt; &gt; delete
&gt; &gt;     self.__relax__.specific.relax_data.delete(run=run,
&gt; ri_label=ri_label,&gt; frq_label=frq_label)
&gt; &gt;   File &quot;/home/h.schirra/relax_1.2.2/specific_fns/relax_data.py&quot;,
&gt; line 432, in
&gt; &gt; delete
&gt; &gt;     index = self.find_index(data)
&gt; &gt;   File &quot;/home/h.schirra/relax_1.2.2/specific_fns/relax_data.py&quot;,
&gt; line 501, in
&gt; &gt; find_index
&gt; &gt;     if self.global_flag == 1:
&gt; &gt; AttributeError: Rx_data instance has no attribute 'global_flag'
&gt; &gt;
&gt; &gt; ====================================
&gt; &gt;
&gt; &gt; Any ideas?
&gt; &gt;
&gt; &gt; Thanks a lot in advance!!
&gt; &gt;
&gt; &gt; Horst Joachim
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;     _______________________________________________________
&gt; &gt;
&gt; &gt; Reply to this item at:
&gt; &gt;
&gt; &gt;   &lt;<a  href="http://gna.org/bugs/?func=detailitem&amp;item_id=6288">http://gna.org/bugs/?func=detailitem&amp;item_id=6288</a>&gt;
&gt; &gt;
&gt; &gt; _______________________________________________
&gt; &gt;   Message sent via/by Gna!
&gt; &gt;   <a  href="http://gna.org/">http://gna.org/</a>
&gt; &gt;
&gt; &gt;
&gt;</pre><br>
<pre style="margin: 0em;"><br></pre><br>
</blockquote><pre style="margin: 0em;"><br></pre><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Jul 18 08:40:37 2006</div>  
</body>
</html>
