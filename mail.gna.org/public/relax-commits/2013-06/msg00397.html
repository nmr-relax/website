<!-- MHonArc v2.6.16 -->
<!--X-Subject: r20208 &#45; in /trunk/devel_scripts: backup_mailing_lists	backup_repository -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Wed, 19 Jun 2013 11:04:30 +0200 -->
<!--X-Message-Id: E1UpEJa&#45;0001s5&#45;EN@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r20208 - in /trunk/devel_scripts: backup_mailing_lists	backup_repository -- June 19, 2013 - 11:04</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r20208 - in /trunk/devel_scripts: backup_mailing_lists	backup_repository</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00397" class="tabs">Index by Date</a> | <a href="threads.html#00397" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00396.html">Date Prev</a>] [<a href="msg00398.html">Date Next</a>] [<a href="msg00396.html">Thread Prev</a>] [<a href="msg00398.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Wed, 19 Jun 2013 09:04:30 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00397.html">E1UpEJa-0001s5-EN@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on June 19, 2013 - 11:04:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Wed Jun 19 11:04:30 2013
New Revision: 20208

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=20208&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=20208&amp;view=rev</a>
Log:
Added the scripts for backing up the relax SVN repository and mailing lists 
to the repository.

This is to make it easier for others to set up the backups on their systems.


Added:
    trunk/devel_scripts/backup_mailing_lists   (with props)
    trunk/devel_scripts/backup_repository   (with props)

Added: trunk/devel_scripts/backup_mailing_lists
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/devel_scripts/backup_mailing_lists?rev=20208&amp;view=auto">http://svn.gna.org/viewcvs/relax/trunk/devel_scripts/backup_mailing_lists?rev=20208&amp;view=auto</a>
==============================================================================
--- trunk/devel_scripts/backup_mailing_lists (added)
+++ trunk/devel_scripts/backup_mailing_lists Wed Jun 19 11:04:30 2013
@@ -1,0 +1,15 @@
+#! /bin/sh
+
+# Target directory.
+DIR='/data/relax/gna/relax_mailing_lists/'
+
+# Log file.
+LOG=$DIR'log'
+ERR=$DIR'err'
+
+# Get the files.
+echo -e &quot;Wget, `date`&quot; &gt;&gt; $LOG 2&gt; $ERR
+wget -np -m --no-check-certificate 
<a  rel="nofollow" href="https://mail.gna.org/public/relax-announce/">https://mail.gna.org/public/relax-announce/</a> &gt;&gt; $LOG 2&gt;&gt; $ERR
+wget -np -m --no-check-certificate 
<a  rel="nofollow" href="https://mail.gna.org/public/relax-commits/">https://mail.gna.org/public/relax-commits/</a> &gt;&gt; $LOG 2&gt;&gt; $ERR
+wget -np -m --no-check-certificate <a  rel="nofollow" href="https://mail.gna.org/public/relax-users/">https://mail.gna.org/public/relax-users/</a> 
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">$LOG 2&gt;&gt; $ERR
</pre></blockquote></blockquote><pre style="margin: 0em;">+wget -np -m --no-check-certificate <a  rel="nofollow" href="https://mail.gna.org/public/relax-devel/">https://mail.gna.org/public/relax-devel/</a> 
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">$LOG 2&gt;&gt; $ERR
</pre></blockquote></blockquote><pre style="margin: 0em;">

Propchange: trunk/devel_scripts/backup_mailing_lists
------------------------------------------------------------------------------
    svn:executable = *

Added: trunk/devel_scripts/backup_repository
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/devel_scripts/backup_repository?rev=20208&amp;view=auto">http://svn.gna.org/viewcvs/relax/trunk/devel_scripts/backup_repository?rev=20208&amp;view=auto</a>
==============================================================================
--- trunk/devel_scripts/backup_repository (added)
+++ trunk/devel_scripts/backup_repository Wed Jun 19 11:04:30 2013
@@ -1,0 +1,23 @@
+#! /bin/sh
+
+# Target directory.
+DIR='/data/relax/gna/repository_backup/'
+
+# Log file.
+LOG=$DIR'log'
+ERR=$DIR'err'
+
+# Header.
+echo -e &quot;\n\n\n\n\n&lt;&lt;&lt; Downloading the latest relax dump &gt;&gt;&gt;\n\nToday is 
`date`&quot; &gt;&gt; $LOG 2&gt;&gt; $ERR
+echo -e &quot;\n\n\n\n\n&lt;&lt;&lt; Downloading the latest relax dump &gt;&gt;&gt;\n\nToday is 
`date`&quot; &gt;&gt; $ERR 2&gt;&gt; $ERR
+echo -e &quot;\n\n\n&quot; &gt;&gt; $LOG 2&gt;&gt; $ERR
+
+# Rsync the repository.
+rsync -avHS rsync://svn.gna.org/svn/relax/ $DIR'gna.repo' &gt;&gt; $LOG 2&gt;&gt; $ERR
+
+# Make a dump.
+svnadmin dump $DIR'gna.repo' &gt; $DIR'relax.dump' 2&gt; 'dump_log'
+
+# Compress the dump (removing the old first).
+rm -rf $DIR'relax.dump.bz2' &gt; /dev/null 2&gt; /dev/null
+bzip2 $DIR'relax.dump' &gt; /dev/null 2&gt; /dev/null

Propchange: trunk/devel_scripts/backup_repository
------------------------------------------------------------------------------
    svn:executable = *



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Jun 19 11:20:01 2013</div>  
</body>
</html>
