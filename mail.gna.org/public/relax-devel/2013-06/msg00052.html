<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [bug #20884] Icons in menu is missing -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Thu, 13 Jun 2013 14:09:24 +0200 -->
<!--X-Message-Id: CAED9pY_2NiHM6ZkfSzJvRk045F=&#45;=f3zFGNvUxNJSYV1H+ovfg@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20130610&#45;115935.sv20529.73158@gna.org -->
<!--X-Reference: 20130610&#45;123417.sv2782.97855@gna.org -->
<!--X-Reference: CAED9pY9yDXvdoD41oSuNL71OHLEa8VEQug3Uhsw89hHKvzGnPA@mail.gmail.com -->
<!--X-Reference: CA+CBx2NFmBREAEu3WPd0&#45;Wjt&#45;zm4M4&#45;oRe18w47N0bFy+OcTcQ@mail.gmail.com -->
<!--X-Reference: CAED9pY&#45;yP=UKW6imY_oLB+sSEWxcrk2s+0J4ocQK5N37ESg6hw@mail.gmail.com -->
<!--X-Reference: CAED9pY_33qBd&#45;693VJ3twihsFni8oRon4pyq65K3Pki__a7sbw@mail.gmail.com -->
<!--X-Reference: CA+CBx2MivYZ00YaZ5Rvp90TkLG6gjkSTe9Ptm&#45;cq4SSy42b+Og@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [bug #20884] Icons in menu is missing -- June 13, 2013 - 14:09</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: [bug #20884] Icons in menu is missing</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00052" class="tabs">Index by Date</a> | <a href="threads.html#00052" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00051.html">Date Prev</a>] [<a href="msg00053.html">Date Next</a>] [<a href="msg00051.html">Thread Prev</a>] [<a href="msg00053.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 13 Jun 2013 14:08:52 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:sender:in-reply-to:references:date	:x-google-sender-auth:message-id:subject:from:to:cc:content-type	:content-transfer-encoding;	bh=BZLFVJ0ovloOG0cpxGBxgKPdPcETDj22l/N5mThZ/IY=;	b=0YLoGmJfbIhqVMZoXIHDSvCj0nlAOYyTTfuKO5R8296nPFb5xNQcdVIsbwog4of2t8	h/992Xsn9/Zv2imBevVCz+FAZcS/t9riwO5gRPnqsxQwescdvVP39IN3T7gbc9v2CAZW	JLkgiIWDhJFSlbE9btd6M81IkhKGDj37lVRaEQWnTjXONl9r/QgxwweA2wTEUoE34SZ2	jG6VPgIPsPuTDrT4GN4dV//Tbwoj7y3InbIiXlmQJRhihiq+dtOuXHrtisrlDqrVVInu	TruR/BvcAp8zB5ogrMEjjt7VpwYkiTqvby0TL99gbKRVIZgBTi63jtVeTw9bV3pY0X+a	GEvA==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00052.html">CAED9pY_2NiHM6ZkfSzJvRk045F=-=f3zFGNvUxNJSYV1H+ovfg@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;20130610-115935.sv20529.73158@xxxxxxx&gt;	&lt;20130610-123417.sv2782.97855@xxxxxxx&gt;	&lt;CAED9pY9yDXvdoD41oSuNL71OHLEa8VEQug3Uhsw89hHKvzGnPA@xxxxxxxxxxxxxx&gt;	&lt;CA+CBx2NFmBREAEu3WPd0-Wjt-zm4M4-oRe18w47N0bFy+OcTcQ@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY-yP=UKW6imY_oLB+sSEWxcrk2s+0J4ocQK5N37ESg6hw@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY_33qBd-693VJ3twihsFni8oRon4pyq65K3Pki__a7sbw@xxxxxxxxxxxxxx&gt;	&lt;CA+CBx2MivYZ00YaZ5Rvp90TkLG6gjkSTe9Ptm-cq4SSy42b+Og@xxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on June 13, 2013 - 14:09:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

I just opened that bz2 file and can find the demo.py file in the demo/
directory.  Alternatively you can go into the demo directory and run:

$ python2.7 Menu.py

The Image.py demo should work because from the screenshot
(<a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/bugs/download.php?file_id=18073">https://gna.org/bugs/download.php?file_id=18073</a>) it can be seen that
the wx.Image GUI element is functional.  This element is used for the
relaxation dispersion graphic to the left side.  The problem lies in
the wx.Menu GUI element with bitmap images.  The test with the
graphics module demonstrates that relax is clearly not being confused
somehow and it can find all the paths.  However what worries me is
that there is no '.png' at the end of the noe.png file!  When I run
these commands, I see:

relax&gt; e=graphics.fetch_icon(&quot;relax.noe&quot;, size=&quot;16x16&quot;)
relax&gt; print e
/data/relax/relax-trunk/graphics/relax_icons/16x16/noe.png

Are you sure you copied the text fully?  From the code in
graphics/__init__.py in the fetch_icon() function, you can see that it
is impossible for a PNG file ending to not be added unless the
'format' argument is given.  Something strange is happening here!

Regards,

Edward


On 13 June 2013 11:59, Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward.

Everything looks fine I think?

I downloaded wxPython demo from:
<a  rel="nofollow" href="http://www.wxpython.org/download.php">http://www.wxpython.org/download.php</a>
Source Code and Other Tarballs
<a  rel="nofollow" href="http://downloads.sourceforge.net/wxpython/wxPython-demo-2.8.12.1.tar.bz2">http://downloads.sourceforge.net/wxpython/wxPython-demo-2.8.12.1.tar.bz2</a>

I can not find the demo.py?
But I did:
grep -r &quot;image.png&quot; .  (Found in:  wxPython-2.8.12.1/demo/bitmaps)
python2.7 Image.py

And it works fine. :-)

Strange


------------------------
import os, graphics
a=graphics.status.install_path; print a,os.path.exists(a);os.listdir(a)
/sbinlab2/software/NMR-relax/relax_disp True
['dep_check.py', 'relax_backup', 'version.py', 'relax_gui_mode.py',
'scons2', 'test_suite', 'README', 'sconstruct', 'devel_scripts',
'sample_scripts', 'gui', 'extern', 'info.py', 'colour.py',
'data_store', 'auto_analyses', 'user_functions', 'prompt',
'pipe_control', 'multi', 'relax.py', 'relax', '.sconsign.dblite',
'compat.py', 'lib', 'target_functions', 'status.pyc', 'version.pyc',
'python', 'status.py', 'graphics', '.svn', 'relax.bat', 'compat.pyc',
'scons', 'specific_analyses', 'dep_check.pyc', 'setup.py', 'docs']

b=graphics.ANALYSIS_IMAGE_PATH; print b,os.path.exists(b);os.listdir(b)
/sbinlab2/software/NMR-relax/relax_disp/graphics/analyses/ True
['r2_600x600.eps.gz', 'README', 'consistency_testing_200x94.png',
'r2_200x200.eps.gz', 'r1_150x150.png', 'consistency_testing.svg',
'noe_200x200.png', 'model_free', 'consistency_testing',
'r1_600x600.eps.gz', 'noe_600x600.eps.gz', 'relax_disp_200x200.png',
'relax_disp_600x600.eps.gz', 'r2.svg', 'noe.svg',
'custom_150x150.png', 'r2_150x150.png', 'r1_200x200.png',
'r1_200x200.eps.gz', 'consistency_testing_150x70.png',
'noe_600x600.png', 'relax_disp_600x600.png', 'r2_200x200.png',
'consistency_testing_100x47.png', 'noe_200x200.eps.gz',
'r1_600x600.png', 'noe_150x150.png', 'r1.svg', 'r2_600x600.png',
'relax_disp_150x150.png', 'relax_disp.svg']

c=graphics.WIZARD_IMAGE_PATH; print c,os.path.exists(c);os.listdir(c)
/sbinlab2/software/NMR-relax/relax_disp/graphics/wizards/ True
['pipe_bundle.png', 'residue.eps.gz', 'spin.png', 'modelfree4.png',
'pymol', 'nuclear_symbol.png', 'residue_grey.png', 'select.png',
'pipe.png', 'align_tensor.png', 'reset.xcf', 'n_state_model.eps.gz',
'spectrometer.png', 'pipe_hybrid.png', 'pipe_switch.png', 'nessy.png',
'oxygen-icon-weather-snow-scattered-night.png', 'pipe_switch.xcf',
'spectrum', 'fid.png', 'residue.png', 'deselect.xcf', 'bruker.png',
'structure', 'monte_carlo.png', 'bmrb.png', 'sequence.png',
'minimise.png', 'model_elimination.png',
'oxygen-icon-weather-clear.png', 'opendx.png',
'discrepancy_curve.png', 'diff_tensor.png', 'deselect.png',
'spin.eps.gz', 'value', 'n_state_model.png', 'reset.png',
'molecule_grey.png', 'pipe_200x90.png', 'pipe.eps.gz', 'select.xcf',
'object-locked-unlocked.png', 'molecule.xcf', 'spin_grey.png',
'grace.png', 'molecule.png', 'frame_order.png', 'molecule.eps.gz',
'dipole_pair', 'molmol', 'sherekhan.png', 'sequence.eps.gz',
'pipe_bundle.eps.gz']

d=graphics.IMAGE_PATH; print d,os.path.exists(d);os.listdir(d)
/sbinlab2/software/NMR-relax/relax_disp/graphics/misc/ True
['residue_600x600.eps.gz', 'sequence_600x600.png',
'pipe_600x600.eps.gz', 'model_elimination_s2_te.png',
'sequence_600x600.eps.gz', 'pymol', 'r2.png', 'sphere.png',
'oblate.png', 'prolate.jpg', 'molecule_600x600.png',
'relaxGUI_splash.xcf', 'relax.gif', 'pipe_bundle.xcf',
'discrepancy_curve.svg', 'prolate.png', 'dx-logo-shd.jpg',
'molecule_600x600.eps.gz', 'noe.png', 'pipe_bundle_600x600.png',
'modelfree.png', 'r1.png', 'ulysses_shadowless.png',
'spin_600x600.eps.gz', 'oblate.jpg', 'ulysses_shadowless_400x168.png',
'sphere.jpg', 'noe.gif', 'spin_600x600.png', 'pipe_600x600.png',
'relaxGUI_splash.png', 'structure.png', 'n_state_model',
'ellipsoid.png', 'bmrb_100x100.png', 'pipe_bundle_600x600.eps.gz',
'ellipsoid.jpg', 'minimise.xcf', 'dx-logo.gif', 'residue_600x600.png',
'relax_start.gif']

e=graphics.fetch_icon(&quot;relax.noe&quot;, size=&quot;16x16&quot;)
print e
/sbinlab2/software/NMR-relax/relax_disp/graphics/relax_icons/16x16/noe

----------------------------
DEBUG
---------------------------
[tlinnet@tomat ~]$ relax_disp -g --debug
debug&gt; Observer: 'pipe_alteration' registering the 'notebook page
switcher' method pipe_switch().
debug&gt; Observer: 'pipe_alteration' registering the 'notebook pipe
deletion' method pipe_deletion().
debug&gt; Observer: 'reset' registering the 'gui analyses' method post_reset().
debug&gt; Observer: 'state_load' registering the 'gui analyses' method
load_from_store().



                                  relax repository checkout r20087
                          svn://svn.gna.org/svn/relax/branches/relax_disp

                              Molecular dynamics by NMR data analysis

                             Copyright (C) 2001-2006 Edward d'Auvergne
                         Copyright (C) 2006-2013 the relax development team

This is free software which you are welcome to modify and redistribute
under the conditions of the
GNU General Public License (GPL).  This program, including all
modules, is licensed under the GPL
and comes with absolutely no warranty.  For details type 'GPL' within
the relax prompt.

Assistance in using the relax prompt and scripting interface can be
accessed by typing 'help' within
the prompt.

Processor fabric:  Uni-processor.

debug&gt; Observer: 'pipe_alteration' registering the 'controller' method
update_controller().
debug&gt; Observer: 'auto_analyses' registering the 'controller' method
update_controller().
debug&gt; Observer: 'gui_analysis' registering the 'controller' method
update_controller().
debug&gt; Observer: 'exec_lock' registering the 'controller' method 
update_gauge().
debug&gt; Observer: 'pipe_alteration' registering the 'status bar' method
update_status_bar().
debug&gt; Observer: 'result_file' registering the 'gui' method
show_results_viewer_no_warn().
debug&gt; Observer: 'exec_lock' registering the 'gui' method enab().
debug&gt; Observer: 'gui_analysis' notifying the 'controller' method
update_controller().
debug&gt; Observer: 'exec_lock' registering the 'GUI prompt' method enable().


Troels Emtekær Linnet


2013/6/12 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Oh, if the wxPython demo works ok and you see the icon, then maybe the
problem is relax's paths.  Could you run relax in the prompt UI mode
and then type:

relax&gt; import graphics
relax&gt; print(graphics.status.install_path)
relax&gt; print(graphics.ANALYSIS_IMAGE_PATH)
relax&gt; print(graphics.WIZARD_IMAGE_PATH)
relax&gt; print(graphics.IMAGE_PATH)

and then check that all the directories that are printed out are
correct.  Also, try running:

relax&gt; graphics.fetch_icon(&quot;relax.noe&quot;, size=&quot;16x16&quot;)

and see if the icon is correctly found - i.e. the directories are
exactly correct.

Cheers,

Edward

On 12 June 2013 13:56, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

I'm using exactly the same versions without the problem.  However I
wouldn't say that you have an incorrect version/setting, at least not
without more testing.  Could you run the wxPython demo (make sure it
is for this wxPython version) as follows:

- first run the demo.py file,
- go to the &quot;Core Windows/Controls&quot;,
- select &quot;Menu&quot;,
- go to the &quot;Demo&quot; tab,
- click on &quot;Show the Menu sample&quot;,
- in the new window, click on the &quot;Fun&quot; menu,
- check that you see a smiley face in the first menu entry.

If there is no smiley face, then the problem is in wxPython.
Otherwise there is a problem with relax and the setup you have.  Also
when you run relax from the terminal, do you see any wxPython error
messages?  Or GTK+ errors?  Do you see any errors if you use the
--debug command line option when running relax?

Regards,

Edward


On 12 June 2013 13:23, Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward.

I actually have the problem with:
relax_trunk
relax_disp
relax 2.2.5

so I think something is wrong with my installation.

My current version of wxPython:
import wx
wx.version()
'2.8.10.1 (gtk2-unicode)'

I wonder if I have correct versions / settings of wxWidgets and wxPython.




Troels Emtekær Linnet


2013/6/11 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Troels,

Did you get your icons back?  Do you have the same problem with the
relax trunk?  If you still cannot see your icons, could you run relax
with the debugging flag '--debug' and see if there are any messages
about paths to files not being found?

Cheers,

Edward



On 10 June 2013 14:34, Edward d  Auvergne
&lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Update of bug #20884 (project relax):

                  Status:                    None =&gt; Need Info
                 Release:       Repository: trunk =&gt; Branches

    _______________________________________________________

Follow-up Comment #1:

This is strange!  I can see from the screenshot that the icons are 
used in the
buttons, so this is not a broken path issue.  Normally when this 
happens, you
receive a error dialog when launching relax.  Did you see this?

I can also see from the screenshot that this is the relax_disp branch 
and not
the relax trunk, so I'm changing that part.  I would also recommend 
that you
run:

$ svn up

as this branch is constantly changing and hence you might on an old 
revision
that has issues.  Using r20006 of this relax_disp branch, I have all 
my menu
icons showing.

    _______________________________________________________

Reply to this item at:

  &lt;<a  rel="nofollow" href="http://gna.org/bugs/?20884">http://gna.org/bugs/?20884</a>&gt;

_______________________________________________
  Message sent via/by Gna!
  <a  rel="nofollow" href="http://gna.org/">http://gna.org/</a>


_______________________________________________
relax (<a  rel="nofollow" href="/">http://www.nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="/mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00053" href="msg00053.html">Re: [bug #20884] Icons in menu is missing</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00026" href="msg00026.html">[bug #20884] Icons in menu is missing</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00027" href="msg00027.html">[bug #20884] Icons in menu is missing</a></strong>
<ul><li><em>From:</em> Edward d Auvergne</li></ul></li>
<li><strong><a name="00044" href="msg00044.html">Re: [bug #20884] Icons in menu is missing</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00047" href="msg00047.html">Re: [bug #20884] Icons in menu is missing</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00049" href="msg00049.html">Re: [bug #20884] Icons in menu is missing</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00050" href="msg00050.html">Re: [bug #20884] Icons in menu is missing</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00051" href="msg00051.html">Re: [bug #20884] Icons in menu is missing</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Jun 13 14:40:10 2013</div>  
</body>
</html>
