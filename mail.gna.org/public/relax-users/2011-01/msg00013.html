<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Full analysis: prolate and oblate -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Mon, 10 Jan 2011 15:49:59 +0100 -->
<!--X-Message-Id: AANLkTiktrPdNV2kW6uB8iJL&#45;7aRk69prvmwBB7sKfLjx@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: AANLkTinRO3ZCNwL6GeqWdx0uBvv=PQ=zw6vpdQQeruBW@mail.gmail.com -->
<!--X-Reference: AANLkTi=FJDG5Ph3X8suaCZF1YwSYVGKTGVLTTkZ9t=RH@mail.gmail.com -->
<!--X-Reference: AANLkTi=bT3YwCn6svEv0ir4+aBoWM+2QKAyQLQ4&#45;JkW2@mail.gmail.com -->
<!--X-Reference: AANLkTimEWrCB8G2hwnFzStNtn53rgkaB6pWDbRqfTrjW@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Full analysis: prolate and oblate -- January 10, 2011 - 15:49</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Full analysis: prolate and oblate</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00013" class="tabs">Index by Date</a> | <a href="threads.html#00013" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00012.html">Date Prev</a>] [<a href="msg00014.html">Date Next</a>] [<a href="msg00009.html">Thread Prev</a>] [<a href="msg00015.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;V.V.&quot; &lt;vvostri@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Mon, 10 Jan 2011 15:49:28 +0100</li>
<li class="menuitem">
<em>Cc</em>: relax-users@xxxxxxx</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;	h=domainkey-signature:mime-version:received:sender:received	:in-reply-to:references:date:x-google-sender-auth:message-id:subject	:from:to:cc:content-type:content-transfer-encoding;	bh=GUI8nGaQ/1nIo8jTeu8ICdqqAq+vHlpf2EOnwSJiZY8=;	b=nwycOPSAOL2I/WGA0mxdbSuXk16UsedQqf/tmh8Or0mbVZ+7Ukro4CvwDri9ED742W	8TPN3FkOPTDBakbLNRCLwJ93nlgAfL+dyV5o1pCxKoRHJWEklTOz2tvOxuRLnUHAx0IA	ObjhK+jSOBkoVoyqGuwO04DbzuTf1WqP3xIzo=</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00013.html">AANLkTiktrPdNV2kW6uB8iJL-7aRk69prvmwBB7sKfLjx@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;AANLkTinRO3ZCNwL6GeqWdx0uBvv=PQ=zw6vpdQQeruBW@xxxxxxxxxxxxxx&gt;	&lt;AANLkTi=FJDG5Ph3X8suaCZF1YwSYVGKTGVLTTkZ9t=RH@xxxxxxxxxxxxxx&gt;	&lt;AANLkTi=bT3YwCn6svEv0ir4+aBoWM+2QKAyQLQ4-JkW2@xxxxxxxxxxxxxx&gt;	&lt;AANLkTimEWrCB8G2hwnFzStNtn53rgkaB6pWDbRqfTrjW@xxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on January 10, 2011 - 15:49:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Vitaly,

I've now fixed this bug in relax.  It would still be useful to have a
bug report in case someone else encounters the same problem.  As I
said in the commit message
(<a  rel="nofollow" href="https://mail.gna.org/public/relax-commits/2011-01/msg00114.html">https://mail.gna.org/public/relax-commits/2011-01/msg00114.html</a>),
this bug was recently introduced due to changes for BMRB support.  It
affects relax 1.3.6, as well as the 1.3 line from revision r11678 to
r12174.  As this bug is quite big affecting all users of model-free
analysis, I will try to release a new version of relax very soon.  If
you have a repository version, you can type 'svn up' to receive the
bug fix.

Cheers,

Edward



On 10 January 2011 11:00, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

I can confirm a recently introduced bug in relax whereby the prolate
tensor is actually oblate!  I will try to solve this as soon as
possible and release a new relax version.  Strangely this was not
caught by the relax test suite.  But if you look in the prolate
results file, you may see that the diffusion tensor is labelled as
'oblate'.  Would you be able to submit a bug report for this?  This
will help other relax users who encounter the same problem.  The
submission form is located at
<a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/bugs/?func=additem&amp;group=relax">https://gna.org/bugs/?func=additem&amp;group=relax</a>.

Cheers,

Edward


On 6 January 2011 19:15, V.V. &lt;vvostri@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Ok, looks like &quot;diff_min.py&quot; is already setup to do everything I
wanted. :-) The problem with the prolate/oblate uncertainty still
exists though. I have a feeling that the constraint for Da=&gt;0 or &lt;=0
is removed by the statement fix('diff', fixed=False). As a workaround
at the moment I use the following in the &quot;diff_min.py&quot;:

   fix('diff', fixed=False)
   cdp.diff_tensor.spheroid_type = 'prolate'

This seems to do the trick.

Vitaly




On Wed, Jan 5, 2011 at 16:14, V.V. &lt;vvostri@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hello,

I am trying to optimize the diffusion tensor outside of
&quot;full_analysis.py&quot;, to avoid this prolate/oblate issue. I understand
that the first round should be models tm0-tm9, followed by model
selection, while the latter ones should alternate between the tensor
optimization and model-free parameters fitting. I am not entirely sure
how to start though. Should I:

1. Take the results from 'local_tm/aic', fix spins, initialize the
diffusion tensor and then run grid search + minimization, then fix the
tensor and optimize model-free parameters?

or

2. Fix spins, initialize the diffusion tensor and perform m0-m9 runs
followed by model selection, and after that fix the tensor and
optimize MF? This seems to be what &quot;diff_min.py&quot; does.

Thank you,
Vitaly


On Sat, Dec 18, 2010 at 23:25, V.V. &lt;vvostri@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hello,

I have performed a &quot;full_analysis&quot; run, and the Chi2 values for
prolate and oblate models were reported to be identical. I have
checked the contents of the /prolate/round_**/opt, and the results
file appears to contain the data for the oblate model:

================
&lt;diff_tensor desc=&quot;Diffusion tensor&quot; type=&quot;spheroid&quot;&gt;
&lt;Da ieee_754_byte_array=&quot;[144, 224, 168, 43, 17, 72, 82, 193]&quot;&gt;
               -4792388.6821824461
           &lt;/Da&gt;
&lt;fixed&gt;
               False
           &lt;/fixed&gt;
&lt;phi ieee_754_byte_array=&quot;[127, 197, 226, 164, 9, 205, 0, 64]&quot;&gt;
               2.1001160508828316
           &lt;/phi&gt;
&lt;spheroid_type&gt;
               'oblate'
           &lt;/spheroid_type&gt;
&lt;theta ieee_754_byte_array=&quot;[157, 42, 47, 69, 3, 109, 252, 63]&quot;&gt;
               1.7766144468793421
           &lt;/theta&gt;
&lt;tm ieee_754_byte_array=&quot;[131, 104, 243, 90, 176, 172, 60, 62]&quot;&gt;
               6.6763176508168525e-09
&lt;/tm&gt;
&lt;/diff_tensor&gt;
================

So, does it mean that the system is converging to the oblate model in
the prolate pipe? I thought the Da sign is constrained during the
search.

Thank you,
Vitaly

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00015" href="msg00015.html">Re: Full analysis: prolate and oblate</a></strong>
<ul><li><em>From:</em> V.V.</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00004" href="msg00004.html">Re: Full analysis: prolate and oblate</a></strong>
<ul><li><em>From:</em> V.V.</li></ul></li>
<li><strong><a name="00005" href="msg00005.html">Re: Full analysis: prolate and oblate</a></strong>
<ul><li><em>From:</em> V.V.</li></ul></li>
<li><strong><a name="00009" href="msg00009.html">Re: Full analysis: prolate and oblate</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Mon Jan 10 18:20:09 2011</div>  
</body>
</html>
