<!-- MHonArc v2.6.16 -->
<!--X-Subject: r17259 &#45; in /branches/frame_order_testing: prompt/domain.py	user_functions/__init__.py user_functions/domain.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Mon, 16 Jul 2012 19:56:50 +0200 -->
<!--X-Message-Id: E1SqpXO&#45;00046G&#45;GJ@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r17259 - in /branches/frame_order_testing: prompt/domain.py	user_functions/__init__.py user_functions/domain.py -- July 16, 2012 - 19:56</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r17259 - in /branches/frame_order_testing: prompt/domain.py	user_functions/__init__.py user_functions/domain.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00145" class="tabs">Index by Date</a> | <a href="threads.html#00145" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00144.html">Date Prev</a>] [<a href="msg00146.html">Date Next</a>] [<a href="msg00144.html">Thread Prev</a>] [<a href="msg00146.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Mon, 16 Jul 2012 17:56:50 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00145.html">E1SqpXO-00046G-GJ@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on July 16, 2012 - 19:56:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Mon Jul 16 19:56:50 2012
New Revision: 17259

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=17259&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=17259&amp;view=rev</a>
Log:
Converted the domain user function to the new relax 2.x auto-generation 
design.


Added:
    branches/frame_order_testing/user_functions/domain.py
      - copied, changed from r17256, 
branches/frame_order_testing/prompt/domain.py
Removed:
    branches/frame_order_testing/prompt/domain.py
Modified:
    branches/frame_order_testing/user_functions/__init__.py

Removed: branches/frame_order_testing/prompt/domain.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/prompt/domain.py?rev=17258&amp;view=auto">http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/prompt/domain.py?rev=17258&amp;view=auto</a>
==============================================================================
--- branches/frame_order_testing/prompt/domain.py (original)
+++ branches/frame_order_testing/prompt/domain.py (removed)
@@ -1,62 +1,0 @@
-###############################################################################
-#                                                                            
 #
-# Copyright (C) 2003-2012 Edward d'Auvergne                                  
 #
-#                                                                            
 #
-# This file is part of the program relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>).         
 #
-#                                                                            
 #
-# This program is free software: you can redistribute it and/or modify       
 #
-# it under the terms of the GNU General Public License as published by       
 #
-# the Free Software Foundation, either version 3 of the License, or          
 #
-# (at your option) any later version.                                        
 #
-#                                                                            
 #
-# This program is distributed in the hope that it will be useful,            
 #
-# but WITHOUT ANY WARRANTY; without even the implied warranty of             
 #
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the              
 #
-# GNU General Public License for more details.                               
 #
-#                                                                            
 #
-# You should have received a copy of the GNU General Public License          
 #
-# along with this program.  If not, see &lt;<a  rel="nofollow" href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.      
 #
-#                                                                            
 #
-###############################################################################
-
-# Module docstring.
-&quot;&quot;&quot;Module containing the 'domain' user function for defining structural 
domains.&quot;&quot;&quot;
-__docformat__ = 'plaintext'
-
-# relax module imports.
-from base_class import Basic_class, _build_doc
-import arg_check
-from generic_fns import domain
-from relax_errors import RelaxListStrError, RelaxNoneStrListError, 
RelaxNoneTupleError
-from specific_fns.model_free import Model_free
-
-
-class Domain(Basic_class):
-    &quot;&quot;&quot;Class containing the user function for defining domains.&quot;&quot;&quot;
-
-    def domain(self, id=None, spin_id=None):
-        # Function intro text.
-        if self._exec_info.intro:
-            text = self._exec_info.ps3 + &quot;domain(&quot;
-            text = text + &quot;id=&quot; + repr(id)
-            text = text + &quot;, spin_id=&quot; + repr(spin_id) + &quot;)&quot;
-            print(text)
-
-        # The argument checks.
-        arg_check.is_str(id, 'domain ID string')
-        arg_check.is_str(spin_id, 'spin ID string', can_be_none=True)
-
-        # Execute the functional code.
-        domain.define(id=id, spin_id=spin_id)
-
-    # The function doc info.
-    domain._doc_title = &quot;Definition of structural domains.&quot;
-    domain._doc_title_short = &quot;Domain definition.&quot;
-    domain._doc_args = [
-        [&quot;id&quot;, &quot;The domain ID string.&quot;],
-        [&quot;spin_id&quot;, &quot;The spin ID string of all atomic members of the 
domain.&quot;]
-    ]
-    domain._doc_desc = &quot;&quot;&quot;
-        This is used to define structural domains.  Multiple domains can be 
defined, and these can overlap.  Rather than labelling the currently loaded 
spins with the ID string, the spin ID string is stored for later use.  This 
allows new spins to be loaded later and still be included within the same 
domain.
-        &quot;&quot;&quot;
-    _build_doc(domain)

Modified: branches/frame_order_testing/user_functions/__init__.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/user_functions/__init__.py?rev=17259&amp;r1=17258&amp;r2=17259&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/user_functions/__init__.py?rev=17259&amp;r1=17258&amp;r2=17259&amp;view=diff</a>
==============================================================================
--- branches/frame_order_testing/user_functions/__init__.py (original)
+++ branches/frame_order_testing/user_functions/__init__.py Mon Jul 16 
19:56:50 2012
@@ -42,6 +42,7 @@
     'deselect',
     'diffusion_tensor',
     'dipole_pair',
+    'domain',
     'dx',
     'eliminate',
     'fix',
@@ -91,6 +92,7 @@
 import user_functions.deselect
 import user_functions.diffusion_tensor
 import user_functions.dipole_pair
+import user_functions.domain
 import user_functions.dx
 import user_functions.eliminate
 import user_functions.fix

Copied: branches/frame_order_testing/user_functions/domain.py (from r17256, 
branches/frame_order_testing/prompt/domain.py)
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/user_functions/domain.py?p2=branches/frame_order_testing/user_functions/domain.py&amp;p1=branches/frame_order_testing/prompt/domain.py&amp;r1=17256&amp;r2=17259&amp;rev=17259&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/user_functions/domain.py?p2=branches/frame_order_testing/user_functions/domain.py&amp;p1=branches/frame_order_testing/prompt/domain.py&amp;r1=17256&amp;r2=17259&amp;rev=17259&amp;view=diff</a>
==============================================================================
--- branches/frame_order_testing/prompt/domain.py (original)
+++ branches/frame_order_testing/user_functions/domain.py Mon Jul 16 19:56:50 
2012
@@ -20,43 +20,34 @@
 
###############################################################################
 
 # Module docstring.
-&quot;&quot;&quot;Module containing the 'domain' user function for defining structural 
domains.&quot;&quot;&quot;
-__docformat__ = 'plaintext'
+&quot;&quot;&quot;The domain user function definitions.&quot;&quot;&quot;
 
 # relax module imports.
-from base_class import Basic_class, _build_doc
-import arg_check
 from generic_fns import domain
-from relax_errors import RelaxListStrError, RelaxNoneStrListError, 
RelaxNoneTupleError
-from specific_fns.model_free import Model_free
+from user_functions.data import Uf_info; uf_info = Uf_info()
+from user_functions.objects import Desc_container
 
 
-class Domain(Basic_class):
-    &quot;&quot;&quot;Class containing the user function for defining domains.&quot;&quot;&quot;
-
-    def domain(self, id=None, spin_id=None):
-        # Function intro text.
-        if self._exec_info.intro:
-            text = self._exec_info.ps3 + &quot;domain(&quot;
-            text = text + &quot;id=&quot; + repr(id)
-            text = text + &quot;, spin_id=&quot; + repr(spin_id) + &quot;)&quot;
-            print(text)
-
-        # The argument checks.
-        arg_check.is_str(id, 'domain ID string')
-        arg_check.is_str(spin_id, 'spin ID string', can_be_none=True)
-
-        # Execute the functional code.
-        domain.define(id=id, spin_id=spin_id)
-
-    # The function doc info.
-    domain._doc_title = &quot;Definition of structural domains.&quot;
-    domain._doc_title_short = &quot;Domain definition.&quot;
-    domain._doc_args = [
-        [&quot;id&quot;, &quot;The domain ID string.&quot;],
-        [&quot;spin_id&quot;, &quot;The spin ID string of all atomic members of the 
domain.&quot;]
-    ]
-    domain._doc_desc = &quot;&quot;&quot;
-        This is used to define structural domains.  Multiple domains can be 
defined, and these can overlap.  Rather than labelling the currently loaded 
spins with the ID string, the spin ID string is stored for later use.  This 
allows new spins to be loaded later and still be included within the same 
domain.
-        &quot;&quot;&quot;
-    _build_doc(domain)
+# The domain user function.
+uf = uf_info.add_uf('domain')
+uf.title = &quot;Definition of structural domains.&quot;
+uf.title_short = &quot;Domain definition.&quot;
+uf.add_keyarg(
+    name = &quot;id&quot;,
+    py_type = &quot;str&quot;,
+    desc_short = &quot;domain ID string&quot;,
+    desc = &quot;The ID string used to identify molecular domains.&quot;,
+)
+uf.add_keyarg(
+    name = &quot;spin_id&quot;,
+    py_type = &quot;str&quot;,
+    arg_type = &quot;spin ID&quot;,
+    desc_short = &quot;spin ID string&quot;,
+    desc = &quot;The spin ID string of all atomic members of the domain.&quot;,
+    can_be_none = True
+)
+# Description.
+uf.desc.append(Desc_container())
+uf.desc[-1].add_paragraph(&quot;This is used to define structural domains.  
Multiple domains can be defined, and these can overlap.  Rather than 
labelling the currently loaded spins with the ID string, the spin ID string 
is stored for later use.  This allows new spins to be loaded later and still 
be included within the same domain.&quot;)
+uf.backend = domain.define
+uf.menu_text = &quot;&amp;domain&quot;



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Mon Jul 16 20:00:02 2012</div>  
</body>
</html>
