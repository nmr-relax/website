<!-- MHonArc v2.6.18 -->
<!--X-Subject: r27657 &#45; in /branches/frame_order_cleanup: ./ test_suite/system_tests/structure.py user_functions/structure.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Tue, 17 Feb 2015 09:47:04 +0100 -->
<!--X-Message-Id: E1YNdo7&#45;0007ou&#45;Na@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r27657 - in /branches/frame_order_cleanup: ./ test_suite/system_tests/structure.py user_functions/structure.py -- February 17, 2015 - 09:47</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r27657 - in /branches/frame_order_cleanup: ./ test_suite/system_tests/structure.py user_functions/structure.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00222" class="tabs">Index by Date</a> | <a href="threads.html#00222" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00221.html">Date Prev</a>] [<a href="msg00223.html">Date Next</a>] [<a href="msg00221.html">Thread Prev</a>] [<a href="msg00223.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Tue, 17 Feb 2015 08:47:03 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00222.html">E1YNdo7-0007ou-Na@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on February 17, 2015 - 09:47:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Tue Feb 17 09:47:03 2015
New Revision: 27657

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=27657&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=27657&amp;view=rev</a>
Log:
Merged revisions 27654-27655 via svnmerge from 
svn+ssh://bugman@xxxxxxxxxxx/svn/relax/trunk

........
  r27654 | bugman | 2015-02-17 09:27:42 +0100 (Tue, 17 Feb 2015) | 3 lines
  
  Small correction for the structure.read_pdb user function description.
........
  r27655 | bugman | 2015-02-17 09:31:42 +0100 (Tue, 17 Feb 2015) | 6 lines
  
  Created the Structure.test_read_merge_simultaneous system test.
  
  This is to demonstrate a failure in the structure.read_pdb user function 
when merging multiple
  molecules from one file into one molecule simultaneously with a single user 
function call.
........

Modified:
    branches/frame_order_cleanup/   (props changed)
    branches/frame_order_cleanup/test_suite/system_tests/structure.py
    branches/frame_order_cleanup/user_functions/structure.py

Propchange: branches/frame_order_cleanup/
------------------------------------------------------------------------------
--- svnmerge-integrated (original)
+++ svnmerge-integrated Tue Feb 17 09:47:03 2015
@@ -1 +1 @@
-/trunk:1-27639
+/trunk:1-27639,27654-27655

Modified: branches/frame_order_cleanup/test_suite/system_tests/structure.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/frame_order_cleanup/test_suite/system_tests/structure.py?rev=27657&amp;r1=27656&amp;r2=27657&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/frame_order_cleanup/test_suite/system_tests/structure.py?rev=27657&amp;r1=27656&amp;r2=27657&amp;view=diff</a>
==============================================================================
--- branches/frame_order_cleanup/test_suite/system_tests/structure.py   
(original)
+++ branches/frame_order_cleanup/test_suite/system_tests/structure.py   Tue 
Feb 17 09:47:03 2015
@@ -4025,6 +4025,19 @@
         cdp.structure.validate_models()
 
 
+    def test_read_merge_simultaneous(self):
+        &quot;&quot;&quot;Test the simultaneous merging of two molecules into one.&quot;&quot;&quot;
+
+        # Path of the files.
+        path = status.install_path + 
sep+'test_suite'+sep+'shared_data'+sep+'structures'
+
+        # Read the PDB files.
+        self.interpreter.structure.read_pdb(file='2BE6_core_I_IV.pdb', 
dir=path, read_mol=[1, 3], set_mol_name='CaM A')
+
+        # Check that everything is ok.
+        cdp.structure.validate_models()
+
+
     def test_read_not_pdb(self):
         &quot;&quot;&quot;Test the reading of a file by structure.read_pdb that is not a 
PDB.&quot;&quot;&quot;
 

Modified: branches/frame_order_cleanup/user_functions/structure.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/frame_order_cleanup/user_functions/structure.py?rev=27657&amp;r1=27656&amp;r2=27657&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/frame_order_cleanup/user_functions/structure.py?rev=27657&amp;r1=27656&amp;r2=27657&amp;view=diff</a>
==============================================================================
--- branches/frame_order_cleanup/user_functions/structure.py    (original)
+++ branches/frame_order_cleanup/user_functions/structure.py    Tue Feb 17 
09:47:03 2015
@@ -1002,7 +1002,7 @@
 uf.desc[-1].add_paragraph(&quot;Setting the molecule name allows the molecule 
within the PDB (within one model) to have a custom name.  If not set, then 
the molecules will be named after the file name, with the molecule number 
appended if more than one exists.&quot;)
 uf.desc[-1].add_paragraph(&quot;Note that relax will complain if it cannot work 
out what to do.&quot;)
 uf.desc[-1].add_paragraph(&quot;This is able to handle uncompressed, bzip2 
compressed files, or gzip compressed files automatically.  The full file name 
including extension can be supplied, however, if the file cannot be found, 
this function will search for the file name with '.bz2' appended followed by 
the file name with '.gz' appended.&quot;)
-uf.desc[-1].add_paragraph(&quot;If a PDB file contains alternative atomic 
locations, then the alternate location indicator must be specified to allow 
one of the multiple coordinate sets to be select.&quot;)
+uf.desc[-1].add_paragraph(&quot;If a PDB file contains alternative atomic 
locations, then the alternate location indicator must be specified to allow 
one of the multiple coordinate sets to be selected.&quot;)
 # Prompt examples.
 uf.desc.append(Desc_container(&quot;Prompt examples&quot;))
 uf.desc[-1].add_paragraph(&quot;To load all structures from the PDB file 
'test.pdb' in the directory '~/pdb', including all models and all molecules, 
type one of:&quot;)



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Feb 17 10:00:02 2015</div>  
</body>
</html>
