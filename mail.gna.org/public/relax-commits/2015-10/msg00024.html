<!-- MHonArc v2.6.19+ -->
<!--X-Subject: r27934 &#45; in /trunk: ./ lib/frame_order/ specific_analyses/frame_order/ target_functions/ test_suite/shared_data/frame_order/... -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Fri, 02 Oct 2015 09:29:13 +0200 -->
<!--X-Message-Id: E1ZhumH&#45;00080m&#45;Ca@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r27934 - in /trunk: ./ lib/frame_order/ specific_analyses/frame_order/ target_functions/ test_suite/shared_data/frame_order/... -- October 02, 2015 - 09:29</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r27934 - in /trunk: ./ lib/frame_order/ specific_analyses/frame_order/ target_functions/ test_suite/shared_data/frame_order/...</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00024" class="tabs">Index by Date</a> | <a href="threads.html#00024" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00023.html">Date Prev</a>] [<a href="msg00025.html">Date Next</a>] [<a href="msg00023.html">Thread Prev</a>] [<a href="msg00025.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Fri, 02 Oct 2015 07:29:13 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00024.html">E1ZhumH-00080m-Ca@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on October 02, 2015 - 09:29:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Fri Oct  2 09:29:12 2015
New Revision: 27934

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=27934&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=27934&amp;view=rev</a>
Log:
Merged revisions 23856-23863,23878-23879,23883-23887 via svnmerge from 
svn+ssh://bugman@xxxxxxxxxxx/svn/relax/branches/frame_order_cleanup

........
  r23856 | bugman | 2014-06-12 10:42:55 +0200 (Thu, 12 Jun 2014) | 5 lines
  
  Updated the free rotor and 2nd free rotor PDB representations using the 
represent_frame_order.py script.
  
  This is for the CaM frame order test data.
........
  r23857 | bugman | 2014-06-12 10:44:38 +0200 (Thu, 12 Jun 2014) | 5 lines
  
  Removed some debugging code from the frame order system tests.
  
  This was used to activate all tests.
........
  r23858 | bugman | 2014-06-12 10:47:31 +0200 (Thu, 12 Jun 2014) | 6 lines
  
  Reparameterisation of the double rotor frame order model.
  
  The two axes defined by spherical angles have been replaced by a full 
eigenframe and the second
  pivot has been replaced by a single displacement along the z-axis of the 
eigenframe.
........
  r23859 | bugman | 2014-06-12 10:53:55 +0200 (Thu, 12 Jun 2014) | 6 lines
  
  Removed the 2nd pivot point infrastructure from the frame order analysis.
  
  This change is almost the same as reverting r22177 of the deleted 
double_rotor branch.  The 2nd
  pivot is now defined via the pivot_disp parameter.
........
  r23860 | bugman | 2014-06-12 10:57:21 +0200 (Thu, 12 Jun 2014) | 5 lines
  
  Added the 2nd rotor axis torsion angle to the list of frame order 
parameters.
  
  This is for the double rotor model.
........
  r23861 | bugman | 2014-06-12 10:58:26 +0200 (Thu, 12 Jun 2014) | 3 lines
  
  Fix for the previous commit - the parameter name was not correct.
........
  r23862 | bugman | 2014-06-12 11:23:22 +0200 (Thu, 12 Jun 2014) | 3 lines
  
  Comment fixes for the eigenframe reconstruction in the frame order target 
functions.
........
  r23863 | bugman | 2014-06-12 12:12:19 +0200 (Thu, 12 Jun 2014) | 3 lines
  
  Converted the double rotor frame order model target function to use the new 
parameterisation.
........
  r23878 | bugman | 2014-06-12 13:52:26 +0200 (Thu, 12 Jun 2014) | 3 lines
  
  Fix for the PDB representation generated by frame_order.pdb_model for the 
free rotor pseudo-ellipse.
........
  r23879 | bugman | 2014-06-12 13:55:35 +0200 (Thu, 12 Jun 2014) | 6 lines
  
  Fix for the Frame_order.test_rigid_data_to_free_rotor_model system test.
  
  As the free rotor has undergone a reparameterisation, the chi-squared value 
is now higher.  The
  value is reasonable as the free rotor can never model the rigid system.
........
  r23883 | bugman | 2014-06-12 15:57:22 +0200 (Thu, 12 Jun 2014) | 7 lines
  
  Removed the structure loading and transformation from the CaM frame order 
system tests.
  
  This was mimicking the old behaviour of the auto-analysis.  However as that 
behaviour has been
  shifted into the backend of the frame_order.pdb_model user function, which 
is called by these system
  tests as well, the code is now redundant and is wasting test suite time.
........
  r23884 | bugman | 2014-06-12 16:00:22 +0200 (Thu, 12 Jun 2014) | 6 lines
  
  Removed the setting of the second pivot point in the CaM frame order system 
tests.
  
  The second pivot point has been removed from the double rotor frame order 
model to eliminate
  parameter redundancy, so no models now have a conventional second pivot.
........
  r23885 | bugman | 2014-06-12 16:40:15 +0200 (Thu, 12 Jun 2014) | 7 lines
  
  Modified the CaM frame order system test base script to test alternative 
code paths.
  
  This pivot point was fixed in all tests, so the code in the target 
functions behind the pivot_opt
  flag was not being tested.  Now for those system tests whereby the calc 
rather than minimise user
  function is called, the pivot is no longer fixed to execute this code.
........
  r23886 | bugman | 2014-06-12 18:47:36 +0200 (Thu, 12 Jun 2014) | 7 lines
  
  Simplification and clean up of the RDC and PCS flags in the frame order 
target functions.
  
  The per-alignment flags have been removed and replaced by a global flag for 
all data.  This
  accidentally fixes a bug when only RDCs are present, as the calc_vectors() 
method was being called
  when it should not have been.
........
  r23887 | bugman | 2014-06-12 19:44:47 +0200 (Thu, 12 Jun 2014) | 19 lines
  
  Speed up and simplifications for the vector calculations used for the PCS 
numerical integration.
  
  This has a minimal effect on the total speed as the target function 
calc_vectors() method is not the
  major bottleneck - the slowest part is the quasi-random numerical 
integration.  However the changes
  may be useful for speeding up the integration later on.
  
  The 3D pivot point, average domain rotation pivot, and paramagnetic centre 
position arrays are now
  converted into rank-2 arrays in __init__() where the first dimension 
corresponds to the spin.  Each
  element is a copy of the 3D array.
  
  These are then used for the calculation of the pivot to atom vectors, 
eliminating the looping over
  spins.  The numpy add() and subtract() ufuncs are used together with the 
out argument for speed and
  to avoid temporary data structure creation and deletion.  The end result is 
that the calculated
  vector structure is transposed, so the first dimension are the spins.
  
  The changes required minor updates to a number of system tests.  The target 
functions themselves had
  to be modified so that the pivot is converted to the larger structure when 
optimised, or aliased.
........

Modified:
    trunk/   (props changed)
    trunk/lib/frame_order/matrix_ops.py
    trunk/lib/frame_order/rotor.py
    trunk/specific_analyses/frame_order/optimisation.py
    trunk/specific_analyses/frame_order/parameter_object.py
    trunk/specific_analyses/frame_order/parameters.py
    trunk/specific_analyses/frame_order/uf.py
    trunk/target_functions/frame_order.py
    trunk/test_suite/shared_data/frame_order/cam/free_rotor/ave_pos.pdb.gz
    trunk/test_suite/shared_data/frame_order/cam/free_rotor/frame_order.pdb.gz
    trunk/test_suite/shared_data/frame_order/cam/free_rotor2/ave_pos.pdb.gz
    
trunk/test_suite/shared_data/frame_order/cam/free_rotor2/frame_order.pdb.gz
    trunk/test_suite/system_tests/frame_order.py
    trunk/test_suite/system_tests/scripts/frame_order/cam/base_script.py

[This mail would be too long, it was shortened to contain the URLs only.]

Modified: trunk/lib/frame_order/matrix_ops.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/lib/frame_order/matrix_ops.py?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/lib/frame_order/matrix_ops.py?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff</a>

Modified: trunk/lib/frame_order/rotor.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/lib/frame_order/rotor.py?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/lib/frame_order/rotor.py?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff</a>

Modified: trunk/specific_analyses/frame_order/optimisation.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/specific_analyses/frame_order/optimisation.py?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/specific_analyses/frame_order/optimisation.py?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff</a>

Modified: trunk/specific_analyses/frame_order/parameter_object.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/specific_analyses/frame_order/parameter_object.py?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/specific_analyses/frame_order/parameter_object.py?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff</a>

Modified: trunk/specific_analyses/frame_order/parameters.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/specific_analyses/frame_order/parameters.py?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/specific_analyses/frame_order/parameters.py?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff</a>

Modified: trunk/specific_analyses/frame_order/uf.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/specific_analyses/frame_order/uf.py?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/specific_analyses/frame_order/uf.py?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff</a>

Modified: trunk/target_functions/frame_order.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/target_functions/frame_order.py?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/target_functions/frame_order.py?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff</a>

Modified: 
trunk/test_suite/shared_data/frame_order/cam/free_rotor/ave_pos.pdb.gz
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/test_suite/shared_data/frame_order/cam/free_rotor/ave_pos.pdb.gz?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/test_suite/shared_data/frame_order/cam/free_rotor/ave_pos.pdb.gz?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff</a>

Modified: 
trunk/test_suite/shared_data/frame_order/cam/free_rotor/frame_order.pdb.gz
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/test_suite/shared_data/frame_order/cam/free_rotor/frame_order.pdb.gz?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/test_suite/shared_data/frame_order/cam/free_rotor/frame_order.pdb.gz?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff</a>

Modified: 
trunk/test_suite/shared_data/frame_order/cam/free_rotor2/ave_pos.pdb.gz
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/test_suite/shared_data/frame_order/cam/free_rotor2/ave_pos.pdb.gz?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/test_suite/shared_data/frame_order/cam/free_rotor2/ave_pos.pdb.gz?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff</a>

Modified: 
trunk/test_suite/shared_data/frame_order/cam/free_rotor2/frame_order.pdb.gz
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/test_suite/shared_data/frame_order/cam/free_rotor2/frame_order.pdb.gz?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/test_suite/shared_data/frame_order/cam/free_rotor2/frame_order.pdb.gz?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff</a>

Modified: trunk/test_suite/system_tests/frame_order.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/test_suite/system_tests/frame_order.py?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/test_suite/system_tests/frame_order.py?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff</a>

Modified: trunk/test_suite/system_tests/scripts/frame_order/cam/base_script.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/test_suite/system_tests/scripts/frame_order/cam/base_script.py?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/test_suite/system_tests/scripts/frame_order/cam/base_script.py?rev=27934&amp;r1=27933&amp;r2=27934&amp;view=diff</a>



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Oct 02 11:00:10 2015</div>  
</body>
</html>
