<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: relax, MPI, and Grid computing. -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 20 Mar 2007 16:13:28 +0100 -->
<!--X-Message-Id: 7f080ed10703200813x323ec212l471796641855a7ff@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 7f080ed10703191030h79036e06w56912aa1d9130f48@mail.gmail.com -->
<!--X-Reference: 45FF0E84.1060007@bmb.leeds.ac.uk -->
<!--X-Reference: 1174384147.29205.20.camel@pc172&#45;31&#45;2&#45;63.biochem.unimelb.edu.au -->
<!--X-Reference: 45FFEC5C.7060205@bmb.leeds.ac.uk -->
<!--X-Reference: 7f080ed10703200727l5fad8e72if4cf9aff74bc21@mail.gmail.com -->
<!--X-Reference: 45FFF714.7070903@bmb.leeds.ac.uk -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: relax, MPI, and Grid computing. -- March 20, 2007 - 16:13</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: relax, MPI, and Grid computing.</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00114" class="tabs">Index by Date</a> | <a href="threads.html#00114" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00113.html">Date Prev</a>] [<a href="msg00115.html">Date Next</a>] [<a href="msg00112.html">Thread Prev</a>] [<a href="msg00115.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Gary S. Thompson&quot; &lt;garyt@xxxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Wed, 21 Mar 2007 02:13:20 +1100</li>
<li class="menuitem">
<em>Cc</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Dkim-signature</em>: a=rsa-sha1; c=relaxed/relaxed; d=gmail.com; s=beta;	h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;	b=KgZqJ0cCtWkXOJ7w+i+dFOtjXKP2I/M5fjib1TOq272sGLkEGARzK6rMUYszqg/H5jMWOtb9VOymfHrjMTWuRWVrQ2LLNim+iQdMTdQNaDHxXIGOrKuZHtbXnc7BtI04Yv/5sqPTwj1CVfXTsKl9PviHmPeT28b81cq/Wlhd7SE=</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00114.html">7f080ed10703200813x323ec212l471796641855a7ff@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00092.html">7f080ed10703191030h79036e06w56912aa1d9130f48@mail.gmail.com</a>&gt;	&lt;<a href="msg00093.html">45FF0E84.1060007@bmb.leeds.ac.uk</a>&gt;	&lt;<a href="msg00097.html">1174384147.29205.20.camel@pc172-31-2-63.biochem.unimelb.edu.au</a>&gt;	&lt;<a href="msg00107.html">45FFEC5C.7060205@bmb.leeds.ac.uk</a>&gt;	&lt;<a href="msg00110.html">7f080ed10703200727l5fad8e72if4cf9aff74bc21@mail.gmail.com</a>&gt;	&lt;<a href="msg00112.html">45FFF714.7070903@bmb.leeds.ac.uk</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on March 20, 2007 - 16:13:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<blockquote class="blockquote"><pre style="margin: 0em;">&gt;&gt; &gt;&gt; my main thought was to
&gt;&gt; &gt;&gt;effectivley add restrictions to a some commands. So consider grid
&gt;&gt; search
&gt;&gt; &gt;&gt;I would add an extra parameter at the generic  and functional levels
&gt;&gt; &gt;&gt;which would give a range of steps within the current parameters to
&gt;&gt; &gt;&gt;calculate.... e.g here are the ranges which give a grid of 10x10x10 ie
&gt;&gt; &gt;&gt;1000 steps. slave 1. you calculate 1-250 slave 2. 251-500 and so
&gt;&gt; on.....
&gt;&gt; &gt;&gt;is this the correct way to go?
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;
&gt;&gt; &gt;Subdividing the grid search will be an interesting problem!  Should it
&gt;&gt; &gt;be at the 'generic_fns' level, the 'specific_fns' level, or implemented
&gt;&gt; &gt;directly into the minimisation package?  I think that the
&gt;&gt; 'specific_fns'
&gt;&gt; &gt;level, again within the 'minimise()' model-free method (copied,
&gt;&gt; modified
&gt;&gt; &gt;for MPI, and renamed to 'minimise_mpi()') would be the best place to
&gt;&gt; &gt;target.
&gt;&gt; &gt;
&gt;&gt; &gt;An algorithm to subdivide the grid would be useful.  Then an algorithm
&gt;&gt; &gt;to collect the results and determine which subspace of the grid has the
&gt;&gt; &gt;point with the lowest chi2 value should be used.  I.e. this will be an
&gt;&gt; &gt;MPI-oriented grid search over a number of standard grid searches.
&gt;&gt; &gt;
&gt;&gt; &gt;However your best MPI gains are likely to be achieved by sending each
&gt;&gt; &gt;grid search to a different node.  This higher level would be shared
&gt;&gt; with
&gt;&gt; &gt;the standard model-free optimisation code and hence you don't need to
&gt;&gt; &gt;worry about writing separate MPI code for the grid search and for the
&gt;&gt; &gt;minimisation.  Slight improvements may be achieved by breaking up the
&gt;&gt; &gt;grid search, but I would personally tackle this later on.
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt;
&gt;&gt; again I need to think about this. However if this uses divisons by model
&gt;&gt; again it will perform poorly as the different models will take different
&gt;&gt; amounts of time to calculate so many processors will sit idle...
&gt;&gt; again if I am not undertsanding properly please accept my apologies
&gt;&gt; relax is very heavily layered and alot of names are repeated multiple
&gt;&gt; times it can be quite had to follow whatis going on in the code base ;-)
&gt;
&gt;
&gt; Idle time will be inevitable.  Especially when it comes to the 'all'
&gt; model-free minimisation instance (the optimisation of all model-free
&gt; model parameters for all residues together with all diffusion
&gt; parameters).  That cannot be avoided.
&gt;
I agree especially if you are going for the low hanging fruit. In the
case of the all minimisation it might be possible to  parallelise it
but the code would have to work at a much lower level and many messages
would have to be passed. Whether it would work or not would depend on
how frequently nodes had to update data between themselves.  Certainly
it would only work well on a homogenous system or a fairly well balanced
hetrogenous system (i.e. you would have to know the relative speed of
each slave and weight the amount of work it did correctly)
</pre></blockquote><pre style="margin: 0em;"><br>By definition, minimisation algorithms are a serial process.  They
walk downhill through the space using information from the previous
and current positions.  I can't see how the 'all' model-free
minimisation instance can ever be parallelised - it will take a while
no matter what.  Unless a proven parallelised optimisation algorithm
is coded from scratch.  And even then extensive testing would be
required to validate the algorithm within the model-free space.  Where
we will get improvements with the 'all' parameter set is in the
parallelisation of the Monte Carlo simulations!  The parallelisation
of the processing of data pipes (the old 'runs') would most likely
give the least improvements.</pre><br>
<pre style="margin: 0em;">Regards,</pre><br>
<pre style="margin: 0em;">Edward</pre><br>
<br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00124" href="msg00124.html">how to parallelise model_free minimise</a></strong>
<ul><li><em>From:</em> Gary S. Thompson</li></ul></li>
<li><strong><a name="00115" href="msg00115.html">Re: relax, MPI, and Grid computing.</a></strong>
<ul><li><em>From:</em> Gary S. Thompson</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00092" href="msg00092.html">relax and Grid computing.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00093" href="msg00093.html">Re: relax and Grid computing.</a></strong>
<ul><li><em>From:</em> Gary S. Thompson</li></ul></li>
<li><strong><a name="00097" href="msg00097.html">relax, MPI, and Grid computing.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00107" href="msg00107.html">Re: relax, MPI, and Grid computing.</a></strong>
<ul><li><em>From:</em> Gary S. Thompson</li></ul></li>
<li><strong><a name="00110" href="msg00110.html">Re: relax, MPI, and Grid computing.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00112" href="msg00112.html">Re: relax, MPI, and Grid computing.</a></strong>
<ul><li><em>From:</em> Gary S. Thompson</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Mar 23 16:00:45 2007</div>  
</body>
</html>
