<!-- MHonArc v2.6.16 -->
<!--X-Subject: r16541 &#45; /branches/uf_redesign/gui/input_elements/value.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Wed, 30 May 2012 20:04:55 +0200 -->
<!--X-Message-Id: E1SZnGR&#45;0003WT&#45;A7@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r16541 - /branches/uf_redesign/gui/input_elements/value.py -- May 30, 2012 - 20:04</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r16541 - /branches/uf_redesign/gui/input_elements/value.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00678" class="tabs">Index by Date</a> | <a href="threads.html#00678" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00677.html">Date Prev</a>] [<a href="msg00679.html">Date Next</a>] [<a href="msg00677.html">Thread Prev</a>] [<a href="msg00679.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Wed, 30 May 2012 18:04:55 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00678.html">E1SZnGR-0003WT-A7@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on May 30, 2012 - 20:04:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Wed May 30 20:04:54 2012
New Revision: 16541

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=16541&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=16541&amp;view=rev</a>
Log:
The Value GUI input element UpdateChoices() method now handles non-selection 
strings in the ComboBox.

The SetStringSelection() method is now only used when the combo default is 
one of the choices, and
SetValue() when not in the list of choices.


Modified:
    branches/uf_redesign/gui/input_elements/value.py

Modified: branches/uf_redesign/gui/input_elements/value.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/uf_redesign/gui/input_elements/value.py?rev=16541&amp;r1=16540&amp;r2=16541&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/uf_redesign/gui/input_elements/value.py?rev=16541&amp;r1=16540&amp;r2=16541&amp;view=diff</a>
==============================================================================
--- branches/uf_redesign/gui/input_elements/value.py (original)
+++ branches/uf_redesign/gui/input_elements/value.py Wed May 30 20:04:54 2012
@@ -370,13 +370,21 @@
                 # Translate if needed.
                 if combo_default in combo_choices:
                     string = combo_default
+                    set_sel = True
                 elif combo_default not in combo_data:
                     string = combo_default
+                    set_sel = False
                 else:
                     string = combo_choices[combo_data.index(combo_default)]
+                    set_sel = True
 
                 # Set the selection.
-                self._field.SetStringSelection(string)
+                if set_sel:
+                    self._field.SetStringSelection(string)
+
+                # Set the value.
+                else:
+                    self._field.SetValue(string)
 
             # Restore the selection.
             else:



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed May 30 20:20:07 2012</div>  
</body>
</html>
