<!-- MHonArc v2.6.16 -->
<!--X-Subject: r13374 &#45; /branches/gui_testing/prompt/structure.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Fri, 01 Jul 2011 16:47:10 +0200 -->
<!--X-Message-Id: E1Qcezu&#45;0007NX&#45;Lx@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r13374 - /branches/gui_testing/prompt/structure.py -- July 01, 2011 - 16:47</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r13374 - /branches/gui_testing/prompt/structure.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00017" class="tabs">Index by Date</a> | <a href="threads.html#00017" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00016.html">Date Prev</a>] [<a href="msg00018.html">Date Next</a>] [<a href="msg00016.html">Thread Prev</a>] [<a href="msg00018.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Fri, 01 Jul 2011 14:47:10 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00017.html">E1Qcezu-0007NX-Lx@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on July 01, 2011 - 16:47:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Fri Jul  1 16:47:10 2011
New Revision: 13374

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=13374&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=13374&amp;view=rev</a>
Log:
The structure.read_pdb() docstring is now created via _build_doc().


Modified:
    branches/gui_testing/prompt/structure.py

Modified: branches/gui_testing/prompt/structure.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/gui_testing/prompt/structure.py?rev=13374&amp;r1=13373&amp;r2=13374&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/gui_testing/prompt/structure.py?rev=13374&amp;r1=13373&amp;r2=13374&amp;view=diff</a>
==============================================================================
--- branches/gui_testing/prompt/structure.py (original)
+++ branches/gui_testing/prompt/structure.py Fri Jul  1 16:47:10 2011
@@ -1,6 +1,6 @@
 
###############################################################################
 #                                                                            
 #
-# Copyright (C) 2003, 2004, 2006-2010 Edward d'Auvergne                      
 #
+# Copyright (C) 2003-2011 Edward d'Auvergne                                  
 #
 #                                                                            
 #
 # This file is part of the program relax.                                    
 #
 #                                                                            
 #
@@ -354,61 +354,55 @@
 
 
     def read_pdb(self, file=None, dir=None, read_mol=None, 
set_mol_name=None, read_model=None, set_model_num=None, parser='internal'):
-        &quot;&quot;&quot;The PDB loading function.
-
-        Keyword Arguments
-        ~~~~~~~~~~~~~~~~~
-
-        file:  The name of the PDB file.
-
-        dir:  The directory where the file is located.
-
-        read_mol:  If set, only the given molecule(s) will be read.
-
-        set_mol_name:  Set the names of the read molecules.
-
-        read_model:  If set, only the given model number(s) from the PDB 
file will be read.
-
-        set_model_num:  Set the model numbers of the read molecules.
-
-        parser:  The PDB parser used to read the file.
-
-
-        Description
-        ~~~~~~~~~~~
-
-        The reading of PDB files into relax is quite a flexible procedure 
allowing for both models,
-        defined as an ensemble of the same molecule but with different 
atomic positions, and
-        different molecules within the same model.  One of more molecules 
can exist in one or more
-        models.  The flexibility allows PDB models to be converted into 
different molecules and
-        different PDB files loaded as the same molecule but as different 
models.  This flexibility
-        is controlled by the four keyword arguments 'read_mol', 
'set_mol_name', 'read_model', and
-        'set_model_num'.
-
-        A few different PDB parsers can be used to read the structural data. 
 The choice of which to
-        use depends on whether your PDB file is supported by that reader.  
These are selected by
-        setting the 'parser' argument to one of:
+        # Function intro text.
+        if self._exec_info.intro:
+            text = self._exec_info.ps3 + &quot;structure.read_pdb(&quot;
+            text = text + &quot;file=&quot; + repr(file)
+            text = text + &quot;, dir=&quot; + repr(dir)
+            text = text + &quot;, read_mol=&quot; + repr(read_mol)
+            text = text + &quot;, set_mol_name=&quot; + repr(set_mol_name)
+            text = text + &quot;, read_model=&quot; + repr(read_model)
+            text = text + &quot;, set_model_num=&quot; + repr(set_model_num)
+            text = text + &quot;, parser=&quot; + repr(parser) + &quot;)&quot;
+            print(text)
+
+        # The argument checks.
+        arg_check.is_str(file, 'file name')
+        arg_check.is_str(dir, 'directory name', can_be_none=True)
+        arg_check.is_int_or_int_list(read_mol, 'read molecule number', 
can_be_none=True)
+        arg_check.is_int_or_int_list(read_model, 'read model', 
can_be_none=True)
+        arg_check.is_int_or_int_list(set_model_num, 'set model numbers', 
can_be_none=True)
+        arg_check.is_str_or_str_list(set_mol_name, 'set molecule names', 
can_be_none=True)
+        arg_check.is_str(parser, 'PDB parser')
+
+        # Execute the functional code.
+        generic_fns.structure.main.read_pdb(file=file, dir=dir, 
read_mol=read_mol, set_mol_name=set_mol_name, read_model=read_model, 
set_model_num=set_model_num, parser=parser)
+
+    # The function doc info.
+    read_pdb._doc_title = &quot;The PDB loading function.&quot;
+    read_pdb._doc_args = [
+        [&quot;file&quot;, &quot;The name of the PDB file.&quot;],
+        [&quot;dir&quot;, &quot;The directory where the file is located.&quot;],
+        [&quot;read_mol&quot;, &quot;If set, only the given molecule(s) will be read.&quot;],
+        [&quot;set_mol_name&quot;, &quot;Set the names of the read molecules.&quot;],
+        [&quot;read_model&quot;, &quot;If set, only the given model number(s) from the PDB 
file will be read.&quot;],
+        [&quot;set_model_num&quot;, &quot;Set the model numbers of the read molecules.&quot;],
+        [&quot;parser&quot;, &quot;The PDB parser used to read the file.&quot;]]
+    read_pdb._doc_desc = &quot;&quot;&quot;
+        The reading of PDB files into relax is quite a flexible procedure 
allowing for both models, defined as an ensemble of the same molecule but 
with different atomic positions, and different molecules within the same 
model.  One of more molecules can exist in one or more models.  The 
flexibility allows PDB models to be converted into different molecules and 
different PDB files loaded as the same molecule but as different models.  
This flexibility is controlled by the four keyword arguments 'read_mol', 
'set_mol_name', 'read_model', and 'set_model_num'.
+
+        A few different PDB parsers can be used to read the structural data. 
 The choice of which to use depends on whether your PDB file is supported by 
that reader.  These are selected by setting the 'parser' argument to one of:
 
             'scientific' - the Scientific Python PDB parser.
-            'internal' - a lower quality and less reliable, although faster, 
PDB parser built into
-                relax.
-
-        In a PDB file, the models are specified by the MODEL PDB record.  
All the supported PDB
-        readers in relax recognise this.  The molecule level is quite 
different between the
-        Scientific Python and internal readers.  For how Scientific Python 
defines molecules, please
-        see its documentation.  The internal reader is far simpler as it 
defines molecules using the
-        TER PDB record.  In both cases, the molecules will be numbered 
consecutively from 1.
-
-        The 'set_mol_name' argument is used to name the molecules within the 
PDB (within one
-        model).  If not set, then the molecules will be named after the file 
name, with the molecule
-        number appended if more than one exists.
+            'internal' - a lower quality and less reliable, although faster, 
PDB parser built into relax.
+
+        In a PDB file, the models are specified by the MODEL PDB record.  
All the supported PDB readers in relax recognise this.  The molecule level is 
quite different between the Scientific Python and internal readers.  For how 
Scientific Python defines molecules, please see its documentation.  The 
internal reader is far simpler as it defines molecules using the TER PDB 
record.  In both cases, the molecules will be numbered consecutively from 1.
+
+        The 'set_mol_name' argument is used to name the molecules within the 
PDB (within one model).  If not set, then the molecules will be named after 
the file name, with the molecule number appended if more than one exists.
 
         Note that relax will complain if it cannot work out what to do.
-
-
-        Examples
-        ~~~~~~~~
-
+        &quot;&quot;&quot;
+    read_pdb._doc_examples = &quot;&quot;&quot;
         To load all structures from the PDB file 'test.pdb' in the directory 
'~/pdb', including all
         models and all molecules, type one of:
 
@@ -445,30 +439,7 @@
         relax&gt; structure.read_pdb('lactose_MCMM4_S1_4.pdb', 
set_mol_name='lactose_MCMM4_S1',
                                   set_model_num=4)
         &quot;&quot;&quot;
-
-        # Function intro text.
-        if self._exec_info.intro:
-            text = self._exec_info.ps3 + &quot;structure.read_pdb(&quot;
-            text = text + &quot;file=&quot; + repr(file)
-            text = text + &quot;, dir=&quot; + repr(dir)
-            text = text + &quot;, read_mol=&quot; + repr(read_mol)
-            text = text + &quot;, set_mol_name=&quot; + repr(set_mol_name)
-            text = text + &quot;, read_model=&quot; + repr(read_model)
-            text = text + &quot;, set_model_num=&quot; + repr(set_model_num)
-            text = text + &quot;, parser=&quot; + repr(parser) + &quot;)&quot;
-            print(text)
-
-        # The argument checks.
-        arg_check.is_str(file, 'file name')
-        arg_check.is_str(dir, 'directory name', can_be_none=True)
-        arg_check.is_int_or_int_list(read_mol, 'read molecule number', 
can_be_none=True)
-        arg_check.is_int_or_int_list(read_model, 'read model', 
can_be_none=True)
-        arg_check.is_int_or_int_list(set_model_num, 'set model numbers', 
can_be_none=True)
-        arg_check.is_str_or_str_list(set_mol_name, 'set molecule names', 
can_be_none=True)
-        arg_check.is_str(parser, 'PDB parser')
-
-        # Execute the functional code.
-        generic_fns.structure.main.read_pdb(file=file, dir=dir, 
read_mol=read_mol, set_mol_name=set_mol_name, read_model=read_model, 
set_model_num=set_model_num, parser=parser)
+    _build_doc(read_pdb)
 
 
     def vectors(self, attached='H', spin_id=None, model=None, verbosity=1, 
ave=True, unit=True):



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Jul 01 17:00:02 2011</div>  
</body>
</html>
