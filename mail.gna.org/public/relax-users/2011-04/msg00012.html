<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: How to set S2f to 0.111? &#45; SOLVED with 1.3.8 -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Thu, 07 Apr 2011 13:15:53 +0200 -->
<!--X-Message-Id: BANLkTi=TQ3ppb1mHmLe9vYmsPj2MrZo3Sw@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 4BC6F9772C394DE7A4AC86F6AB89F835@Mercurio -->
<!--X-Reference: BANLkTi=oHfx4G1nEBDYQwysaN5Sa0yfB4w@mail.gmail.com -->
<!--X-Reference: F07F7034D94E4855868CB38C4AB3C787@Mercurio -->
<!--X-Reference: BANLkTinm=pxnwz3kYu1S=L75mArutb=4vw@mail.gmail.com -->
<!--X-Reference: 78F8FACF15244E5DB30D23776CF896D8@Mercurio -->
<!--X-Reference: BANLkTinzkEnw1So7m04ErDoPsO46pLbYUA@mail.gmail.com -->
<!--X-Reference: A0CA89EECA89493283F2F442AAB63D7E@Mercurio -->
<!--X-Reference: BANLkTinukupaufvG+vc2uFKkoFjHf&#45;1tCw@mail.gmail.com -->
<!--X-Reference: DE22B17D36534ECAA68F247025482BFC@Mercurio -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: How to set S2f to 0.111? - SOLVED with 1.3.8 -- April 07, 2011 - 13:15</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: How to set S2f to 0.111? - SOLVED with 1.3.8</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00012" class="tabs">Index by Date</a> | <a href="threads.html#00012" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00011.html">Date Prev</a>] [<a href="msg00013.html">Date Next</a>] [<a href="msg00010.html">Thread Prev</a>] [<a href="msg00013.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Tiago Pais &lt;tpais@xxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 7 Apr 2011 13:15:23 +0200</li>
<li class="menuitem">
<em>Cc</em>: relax-users@xxxxxxx</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;	h=domainkey-signature:mime-version:sender:in-reply-to:references:date	:x-google-sender-auth:message-id:subject:from:to:cc:content-type	:content-transfer-encoding;	bh=FePa0O3T4qE3DVpqvEAeFWhCzk94ZU0NceXu5oLCEyc=;	b=rlN+6EsASAtkK8HNjtv0DcwurD8fB8qZTEJPa4UwiiczVw4bsP/Rk5FowCyyVF2RcU	IPfwVFf134QZ669WiiorCGOOx9JM24rZT/R9bQrcT1ym0amo8nYYQcv3ssSDjcNdIg/X	doSYn1Ic5yi81vfEGsS9cw/78rdIc06JaCJag=</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00012.html">BANLkTi=TQ3ppb1mHmLe9vYmsPj2MrZo3Sw@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00000.html">4BC6F9772C394DE7A4AC86F6AB89F835@Mercurio</a>&gt;	&lt;BANLkTi=oHfx4G1nEBDYQwysaN5Sa0yfB4w@xxxxxxxxxxxxxx&gt;	&lt;<a href="msg00002.html">F07F7034D94E4855868CB38C4AB3C787@Mercurio</a>&gt;	&lt;BANLkTinm=pxnwz3kYu1S=L75mArutb=4vw@xxxxxxxxxxxxxx&gt;	&lt;<a href="msg00004.html">78F8FACF15244E5DB30D23776CF896D8@Mercurio</a>&gt;	&lt;BANLkTinzkEnw1So7m04ErDoPsO46pLbYUA@xxxxxxxxxxxxxx&gt;	&lt;<a href="msg00007.html">A0CA89EECA89493283F2F442AAB63D7E@Mercurio</a>&gt;	&lt;BANLkTinukupaufvG+vc2uFKkoFjHf-1tCw@xxxxxxxxxxxxxx&gt;	&lt;<a href="msg00010.html">DE22B17D36534ECAA68F247025482BFC@Mercurio</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on April 07, 2011 - 13:15:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Ah, right.  I did fix that bug!  I thought so :)  Ok, if you have any
problems, don't hesitate to ask.

Bye,

Edward



On 7 April 2011 13:09, Tiago Pais &lt;tpais@xxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">I have now also running the 1.3.8 version and the problem seems to have
disappeared. Took me some time to use this version because the column
numbering has changed, now columns start at number one! Important! ;-)

I hope now this goes well.

Thanks once more for your valuable help.
Cheers
Tiago

-----Original Message-----
From: edward.dauvergne@xxxxxxxxx [<a  rel="nofollow" href="mailto:edward.dauvergne@xxxxxxxxx">mailto:edward.dauvergne@xxxxxxxxx</a>] On
Behalf Of Edward d'Auvergne
Sent: quinta-feira, 7 de Abril de 2011 10:46
To: Tiago Pais
Cc: relax-users@xxxxxxx
Subject: Re: How to set S2f to 0.111?

Hi,

I've looked up that line in the specific_fns/model_free/mf_minimise.py
file, and it looks like you are using an older version of relax.
Could you copy the output of:

$ relax --info

This looks like an ancient bug that was eliminated a long, long time ago.

Cheers,

Edward




On 6 April 2011 19:51, Tiago Pais &lt;tpais@xxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">I used the expression like this:
grid_search(lower=[0.111, 0, 0], upper=[0.111, 2, 1E12], inc=[1, 11, 11])

But I get the following error:
Unconstrained grid search size: 121 (constraints may decrease this size).

Traceback (most recent call last):
 File &quot;/usr/local/bin/relax&quot;, line 418, in &lt;module&gt;
   Relax()
 File &quot;/usr/local/bin/relax&quot;, line 127, in __init__
   self.interpreter.run(self.script_file)
 File &quot;/usr/local/relax/prompt/interpreter.py&quot;, line 276, in run
   return run_script(intro=self.__intro_string, local=self.local,
script_file=script_file, quit=self.__quit_flag,
show_script=self.__show_script,
</pre></blockquote><pre style="margin: 0em;">raise_relax_error=self.__raise_relax_error)
</pre><blockquote class="blockquote"><pre style="margin: 0em;"> File &quot;/usr/local/relax/prompt/interpreter.py&quot;, line 537, in run_script
   return console.interact(intro, local, script_file, quit,
show_script=show_script, raise_relax_error=raise_relax_error)
 File &quot;/usr/local/relax/prompt/interpreter.py&quot;, line 433, in
interact_script
   execfile(script_file, local)
 File &quot;mf_multimodel_m5S2f0111.py&quot;, line 82, in &lt;module&gt;
   grid_search(lower=[0.111, 0, 0], upper=[0.111, 1, 11], inc=[1, 11, 11])
 File &quot;/usr/local/relax/prompt/minimisation.py&quot;, line 156, in grid_search
   minimise.grid_search(lower=lower, upper=upper, inc=inc,
constraints=constraints, verbosity=verbosity)
 File &quot;/usr/local/relax/generic_fns/minimise.py&quot;, line 191, in grid_search
   grid_search(lower=lower, upper=upper, inc=inc, constraints=constraints,
verbosity=verbosity)
 File &quot;/usr/local/relax/specific_fns/model_free/mf_minimise.py&quot;, line 479,
in grid_search
   self.minimise(min_algor='grid', lower=lower, upper=upper, inc=inc,
constraints=constraints, verbosity=verbosity, sim_index=sim_index)
 File &quot;/usr/local/relax/specific_fns/model_free/mf_minimise.py&quot;, line 922,
in minimise
   min_options = self.grid_search_config(num_params, spin=spin,
lower=lower, upper=upper, inc=inc, scaling_matrix=scaling_matrix)
 File &quot;/usr/local/relax/specific_fns/model_free/mf_minimise.py&quot;, line 554,
in grid_search_config
   self.grid_search_config_fin(min_options, lower, upper, scaling_matrix)
 File &quot;/usr/local/relax/specific_fns/model_free/mf_minimise.py&quot;, line 631,
in grid_search_config_fin
   for i in xrange(n):
NameError: global name 'n' is not defined


Any ideas?

Cheers
Tiago

-----Original Message-----
From: edward.dauvergne@xxxxxxxxx [<a  rel="nofollow" href="mailto:edward.dauvergne@xxxxxxxxx">mailto:edward.dauvergne@xxxxxxxxx</a>] On
Behalf Of Edward d'Auvergne
Sent: quarta-feira, 6 de Abril de 2011 18:05
To: Tiago Pais
Cc: relax-users@xxxxxxx
Subject: Re: How to set S2f to 0.111?

Hi,

These match the parameters as listed in the help for the
model_free.select_model() user function.  The grid search arrays match
the parameter arrays.

Regards,

Edward


On 6 April 2011 18:54, Tiago Pais &lt;tpais@xxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Ok,
Im sorry to insist but I am probably missing something here. How do I
</pre></blockquote><pre style="margin: 0em;">state
</pre><blockquote class="blockquote"><pre style="margin: 0em;">which bound goes with which parameter? That is, which position in the
</pre></blockquote><pre style="margin: 0em;">array
</pre><blockquote class="blockquote"><pre style="margin: 0em;">bound corresponds to the S2f parameter?
Regards.
TP

-----Original Message-----
From: edward.dauvergne@xxxxxxxxx [<a  rel="nofollow" href="mailto:edward.dauvergne@xxxxxxxxx">mailto:edward.dauvergne@xxxxxxxxx</a>] On
Behalf Of Edward d'Auvergne
Sent: quarta-feira, 6 de Abril de 2011 17:42
To: Tiago Pais
Cc: relax-users@xxxxxxx
Subject: Re: How to set S2f to 0.111?

Hi,

That is roughly correct.  Just set the lower and upper bound to 0.111
and set the number of increments for that parameter to 1.  Then it is
like a grid search without S2f being present, or being fixed to 0.111.

Regards,

Edward



On 6 April 2011 18:38, Tiago Pais &lt;tpais@xxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Ed,
Thanks for the quick reply.
Let's see if I understand your suggestion. For example, the
</pre></blockquote><pre style="margin: 0em;">mf_multimodel.py
</pre><blockquote class="blockquote"><pre style="margin: 0em;">sample script performs a grid search minimization using the grid_search
function. So if I insert an array of upper and lower bounds for the
parameters in the model I can constrain the interval of possible
</pre></blockquote></blockquote></blockquote><pre style="margin: 0em;">results,
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">correct? If so, what is the sequence for the parameters in the array?
TP



-----Original Message-----
From: Edward d'Auvergne [<a  rel="nofollow" href="mailto:edward.dauvergne@xxxxxxxxx">mailto:edward.dauvergne@xxxxxxxxx</a>]
Sent: quarta-feira, 6 de Abril de 2011 17:13
To: Tiago Pais
Cc: relax-users@xxxxxxx
Subject: Re: How to set S2f to 0.111?

Hi,

Unfortunately, there is no ability to fix one of the model-free
parameters during optimisation in relax yet.  This is something that
has been requested one or two times over the years.  This is
complicated as the gradients and Hessians (first and second partial
derivates) need to be modified with this in mind, as the curvature of
the space changes.  The fixed parameter is not part of the gradient or
Hessian, and has to be removed.  This really complicates the target
function, gradient, and Hessian and, due to the low demand, has not
been implemented.

Are you able to optimise this parameter and see if you get 0.111?  And
are you able to extract the timescale of this process (the methyl
group rotamer jumps)?  From memory, someone has optimsed these models
using a grid search.  This coarse optimisation can be performed in
relax as you are able to specify the fine details of the grid search.
It is slower, but will do the job.  You could even implement a zooming
grid search if your scripting skills are up to it to be able to
relatively quickly find the parameters to high precision.  Anyway, I
hope this info helps.

Regards,

Edward





On 6 April 2011 17:39, Tiago Pais &lt;tpais@xxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

I would like to make an analysis of side-chain relaxation data with the
</pre></blockquote><pre style="margin: 0em;">S2f
</pre><blockquote class="blockquote"><pre style="margin: 0em;">parameter (in model 5) set to 0.111.

Is it possible to do this with RELAX? How?

Thanks in advance.

Cheers

Tiago P



**************************************

Tiago Pais, PhD. student

Cell Physiology &amp; NMR

Instituto de Tecnologia Química e Biológica-Oeiras



__________ Information from ESET NOD32 Antivirus, version of virus
</pre></blockquote><pre style="margin: 0em;">signature
</pre><blockquote class="blockquote"><pre style="margin: 0em;">database 6019 (20110406) __________

The message was checked by ESET NOD32 Antivirus.

<a  rel="nofollow" href="http://www.eset.com">http://www.eset.com</a>

_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>


</pre></blockquote><pre style="margin: 0em;">

__________ Information from ESET NOD32 Antivirus, version of virus
</pre></blockquote><pre style="margin: 0em;">signature
</pre><blockquote class="blockquote"><pre style="margin: 0em;">database 6019 (20110406) __________

The message was checked by ESET NOD32 Antivirus.

<a  rel="nofollow" href="http://www.eset.com">http://www.eset.com</a>




__________ Information from ESET NOD32 Antivirus, version of virus
</pre></blockquote><pre style="margin: 0em;">signature
</pre><blockquote class="blockquote"><pre style="margin: 0em;">database 6019 (20110406) __________

The message was checked by ESET NOD32 Antivirus.

<a  rel="nofollow" href="http://www.eset.com">http://www.eset.com</a>



</pre></blockquote><pre style="margin: 0em;">

__________ Information from ESET NOD32 Antivirus, version of virus
</pre></blockquote><pre style="margin: 0em;">signature
</pre><blockquote class="blockquote"><pre style="margin: 0em;">database 6019 (20110406) __________

The message was checked by ESET NOD32 Antivirus.

<a  rel="nofollow" href="http://www.eset.com">http://www.eset.com</a>




__________ Information from ESET NOD32 Antivirus, version of virus
</pre></blockquote><pre style="margin: 0em;">signature
</pre><blockquote class="blockquote"><pre style="margin: 0em;">database 6019 (20110406) __________

The message was checked by ESET NOD32 Antivirus.

<a  rel="nofollow" href="http://www.eset.com">http://www.eset.com</a>



</pre></blockquote><pre style="margin: 0em;">

__________ Information from ESET NOD32 Antivirus, version of virus
</pre></blockquote><pre style="margin: 0em;">signature
</pre><blockquote class="blockquote"><pre style="margin: 0em;">database 6019 (20110406) __________

The message was checked by ESET NOD32 Antivirus.

<a  rel="nofollow" href="http://www.eset.com">http://www.eset.com</a>




__________ Information from ESET NOD32 Antivirus, version of virus
</pre></blockquote><pre style="margin: 0em;">signature
</pre><blockquote class="blockquote"><pre style="margin: 0em;">database 6019 (20110406) __________

The message was checked by ESET NOD32 Antivirus.

<a  rel="nofollow" href="http://www.eset.com">http://www.eset.com</a>



</pre></blockquote><pre style="margin: 0em;">

__________ Information from ESET NOD32 Antivirus, version of virus signature
database 6021 (20110407) __________

The message was checked by ESET NOD32 Antivirus.

<a  rel="nofollow" href="http://www.eset.com">http://www.eset.com</a>




__________ Information from ESET NOD32 Antivirus, version of virus signature
database 6021 (20110407) __________

The message was checked by ESET NOD32 Antivirus.

<a  rel="nofollow" href="http://www.eset.com">http://www.eset.com</a>



</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00013" href="msg00013.html">Grid search does not appear to do the job</a></strong>
<ul><li><em>From:</em> Tiago Pais</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00000" href="msg00000.html">How to set S2f to 0.111?</a></strong>
<ul><li><em>From:</em> Tiago Pais</li></ul></li>
<li><strong><a name="00001" href="msg00001.html">Re: How to set S2f to 0.111?</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00002" href="msg00002.html">RE: How to set S2f to 0.111?</a></strong>
<ul><li><em>From:</em> Tiago Pais</li></ul></li>
<li><strong><a name="00003" href="msg00003.html">Re: How to set S2f to 0.111?</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00004" href="msg00004.html">RE: How to set S2f to 0.111?</a></strong>
<ul><li><em>From:</em> Tiago Pais</li></ul></li>
<li><strong><a name="00005" href="msg00005.html">Re: How to set S2f to 0.111?</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00007" href="msg00007.html">RE: How to set S2f to 0.111?</a></strong>
<ul><li><em>From:</em> Tiago Pais</li></ul></li>
<li><strong><a name="00008" href="msg00008.html">Re: How to set S2f to 0.111?</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00010" href="msg00010.html">RE: How to set S2f to 0.111?  - SOLVED with 1.3.8</a></strong>
<ul><li><em>From:</em> Tiago Pais</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Mon Apr 11 12:40:07 2011</div>  
</body>
</html>
