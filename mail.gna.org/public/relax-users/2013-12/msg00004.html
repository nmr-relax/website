<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Peak list reading -->
<!--X-From-R13: Febryf Szgrxæe Zvaarg <gyvaargNaze&#45;erynk.pbz> -->
<!--X-Date: Sat, 21 Dec 2013 02:42:41 +0100 -->
<!--X-Message-Id: CA+CBx2OTnWWPB5YsfGh50tv4vqf8Da3PPDLKrmMuR4R3OdVT+A@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: BLU177&#45;DS8226D46B9BA61A6D3651EC9C40@phx.gbl -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Peak list reading -- December 21, 2013 - 02:42</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Peak list reading</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00004" class="tabs">Index by Date</a> | <a href="threads.html#00004" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00003.html">Date Prev</a>] [<a href="msg00005.html">Date Next</a>] [<a href="msg00003.html">Thread Prev</a>] [<a href="msg00005.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Min-Kyu Cho &lt;min-kyu.cho@xxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Sat, 21 Dec 2013 02:41:49 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:sender:in-reply-to:references:from:date:message-id	:subject:to:cc:content-type;	bh=8BzcvAgTlLeROmMkpwgXUQBHcamRpU/Z33954Z33evA=;	b=as5RZ1NMdhnR/5OlRhAnBgWBBs367TAjvqgP9S/jVaFwqJQyTf3lkqJSJ/Gr+Khmrn	XSNOJz4len0zKep7F1U1u3q8KrxurYy1860JGQkCddErzhKayC5taHak1Xnvh7EGtzOr	DqaFoWK8b6s6GBDrQN9SLap35gQt3jIcYN7rB9ZV49koTkmHFEwy5zbUGTOAq5Togjsv	PC7jKn2uHgfwuM1pkAwcf6IztKcWL2N3WWS962TivwHznZcc8zgKWqWsh2si9tCRS9C+	hipEK75fG7YSB9WsbqaBIcjIfNCLJccsAqMe1NzXMhPyGEZClNuaaAYArnTFZiv8eTI6	nC9g==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00004.html">CA+CBx2OTnWWPB5YsfGh50tv4vqf8Da3PPDLKrmMuR4R3OdVT+A@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;BLU177-DS8226D46B9BA61A6D3651EC9C40@xxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Troels Emtekær Linnet</strong> on December 21, 2013 - 02:42:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr">Hi Min-Kyu.<div><br></div><div>I believe you probably need to define the right header</div><div>for the file.</div><div>ex:</div><div>      Assignment         w1         w2   Data Height<br></div><div><br></div>

<div>And see if you can fix the question marks.</div><div>568N-HN<br></div><div><br></div><div>Have a look in the test-suite for some typical definition of peaks files.</div><div>test_suite/shared_data/peak_lists<br></div>

<div><br></div><div>If you have a peak list, the new 3.1.1 version allow you to define the spins from </div><div>a typical peak list.</div><div><div>spectrum.read_spins(file=&#39;peak_file.list&#39;, dir=&#39;/path/to/file&#39;)</div>

</div><div><br></div><div>Cheers</div><div><br></div></div><div class="gmail_extra"><br><br><div class="gmail_quote">2013/12/20 Min-Kyu Cho <span dir="ltr">&lt;<a rel="nofollow" href="mailto:min-kyu.cho@xxxxxxxx" target="_blank">min-kyu.cho@xxxxxxxx</a>&gt;</span><br>

<blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div lang="EN-US" link="blue" vlink="purple"><div><p class="MsoNormal">Hi ,<u></u><u></u></p><p class="MsoNormal"><u></u> <u></u></p>

<p class="MsoNormal"><u></u> <u></u></p><p class="MsoNormal">I got sparky peak list file written as<u></u><u></u></p><p class="MsoNormal"><u></u> <u></u></p><p class="MsoNormal">568?-?  123.445 8.765 3.45E06<u></u><u></u></p>

<p class="MsoNormal">. . . . . <u></u><u></u></p><p class="MsoNormal"><u></u> <u></u></p><p class="MsoNormal"><u></u> <u></u></p><p class="MsoNormal">When I tried to read in this file through GUI, it complains <u></u><u></u></p>

<p class="MsoNormal">----------<u></u><u></u></p><p class="MsoNormal">Sparky formatted data file.<u></u><u></u></p><p class="MsoNormal"><u></u> <u></u></p><p class="MsoNormal">Number of header lines found: 1<u></u><u></u></p>

<p class="MsoNormal">2D peak list detected.<u></u><u></u></p><p class="MsoNormal">RelaxWarning: Improperly formatted Sparky file, cannot process the residue name for dimension 1 in assignment: 546N-H. Setting residue name to None.<u></u><u></u></p>

<p class="MsoNormal">RelaxWarning: Improperly formatted NMRPipe SeriesTab file, cannot process the residue name for dimension 2 in assignment: 546N-H. Setting residue name to None.<u></u><u></u></p><p class="MsoNormal">Traceback (most recent call last):<u></u><u></u></p>

<p class="MsoNormal">  File &quot;/home/mkc9/Programs/RELAX/relax-3.1.1/gui/wizards/wiz_objects.py&quot;, line 161, in _apply<u></u><u></u></p><p class="MsoNormal">    self.exec_status = self.on_execute()<u></u><u></u></p>

<p class="MsoNormal">  File &quot;/home/mkc9/Programs/RELAX/relax-3.1.1/gui/uf_objects.py&quot;, line 883, in on_execute<u></u><u></u></p><p class="MsoNormal">    return_status = self.execute(<a rel="nofollow" href="http://self.name" target="_blank">self.name</a>, **kargs)<u></u><u></u></p>

<p class="MsoNormal">  File &quot;/home/mkc9/Programs/RELAX/relax-3.1.1/gui/uf_objects.py&quot;, line 805, in execute<u></u><u></u></p><p class="MsoNormal">    return_status = interpreter.apply(uf, *args, **kwds)<u></u><u></u></p>

<p class="MsoNormal">  File &quot;/home/mkc9/Programs/RELAX/relax-3.1.1/gui/interpreter.py&quot;, line 109, in apply<u></u><u></u></p><p class="MsoNormal">    apply(fn, args, kwds)<u></u><u></u></p><p class="MsoNormal">  File &quot;/home/mkc9/Programs/RELAX/relax-3.1.1/pipe_control/spectrum.py&quot;, line 530, in read<u></u><u></u></p>

<p class="MsoNormal">    peak_list = read_peak_list(file=file, dir=dir, int_col=int_col, spin_id_col=spin_id_col, mol_name_col=mol_name_col, res_num_col=res_num_col, res_name_col=res_name_col, spin_num_col=spin_num_col, spin_name_col=spin_name_col, sep=sep, spin_id=spin_id)<u></u><u></u></p>

<p class="MsoNormal">  File &quot;/home/mkc9/Programs/RELAX/relax-3.1.1/lib/spectrum/peak_list.py&quot;, line 208, in read_peak_list<u></u><u></u></p><p class="MsoNormal">    sparky.read_list(peak_list=peak_list, file_data=file_data)<u></u><u></u></p>

<p class="MsoNormal">  File &quot;/home/mkc9/Programs/RELAX/relax-3.1.1/lib/spectrum/sparky.py&quot;, line 203, in read_list<u></u><u></u></p><p class="MsoNormal">    intensity = float(line[int_col])<u></u><u></u></p><p class="MsoNormal">

IndexError: list index out of range<u></u><u></u></p><p class="MsoNormal">-----<u></u><u></u></p><p class="MsoNormal"><u></u> <u></u></p><p class="MsoNormal">Since I already made sequence &amp; spin system with correct residue number, I expected the residue number in Sparky file should be enough. <u></u><u></u></p>

<p class="MsoNormal"><u></u> <u></u></p><p class="MsoNormal">So,my questions are:<u></u><u></u></p><p class="MsoNormal"><u></u> <u></u></p><p class="MsoNormal">1. the sparky file format for relax should be made as written in the manual? <u></u><u></u></p>

<p class="MsoNormal"><u></u> <u></u></p><p class="MsoNormal">2. Can relax recognize FASTA sequence and automatically generate Spin system?<u></u><u></u></p><p class="MsoNormal"><u></u> <u></u></p><p class="MsoNormal">Thanks and Happy Holiday!<span class="HOEnZb"><font color="#888888"><u></u><u></u></font></span></p>

<span class="HOEnZb"><font color="#888888"><p class="MsoNormal"><u></u> <u></u></p><p class="MsoNormal">Min-Kyu<u></u><u></u></p><p class="MsoNormal"><span style="font-size:11.0pt;font-family:&quot;Calibri&quot;,&quot;sans-serif&quot;"><u></u> <u></u></span></p>

</font></span></div></div><br>_______________________________________________<br>
relax (<a rel="nofollow" href="http://www.nmr-relax.com" target="_blank">http://www.nmr-relax.com</a>)<br>
<br>
This is the relax-users mailing list<br>
<a rel="nofollow" href="mailto:relax-users@xxxxxxx">relax-users@xxxxxxx</a><br>
<br>
To unsubscribe from this list, get a password<br>
reminder, or change your subscription options,<br>
visit the list information page at<br>
<a rel="nofollow" href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-users" target="_blank">https://mail.gna.org/listinfo/relax-users</a><br>
<br></blockquote></div><br></div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00005" href="msg00005.html">Re: Peak list reading</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00003" href="msg00003.html">Peak list reading</a></strong>
<ul><li><em>From:</em> Min-Kyu Cho</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sat Dec 21 13:20:06 2013</div>  
</body>
</html>
