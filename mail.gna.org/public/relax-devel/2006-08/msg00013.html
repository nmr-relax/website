<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: [bug #6503] Uncaught nan in xh_vect -->
<!--X-From-R13: "Unel E. Fubzcfba" <tnelgNozo.yrrqf.np.hx> -->
<!--X-Date: Fri, 04 Aug 2006 18:24:13 +0200 -->
<!--X-Message-Id: 44D37486.6060003@bmb.leeds.ac.uk -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20060802&#45;104941.sv4125.3051@gna.org -->
<!--X-Reference: 7f080ed10608020558o47fd0260s9579f663147ab84@mail.gmail.com -->
<!--X-Reference: 1154597081.28764.140.camel@fbsdpcu021 -->
<!--X-Reference: 7f080ed10608030650t7896164mbcfa499f1987270a@mail.gmail.com -->
<!--X-Reference: 1154620634.28764.190.camel@fbsdpcu021 -->
<!--X-Reference: 7f080ed10608040708k4738dd5cjb41e9056acd88902@mail.gmail.com -->
<!--X-Reference: 1154706350.28764.284.camel@fbsdpcu021 -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [bug #6503] Uncaught nan in xh_vect -- August 04, 2006 - 18:24</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: [bug #6503] Uncaught nan in xh_vect</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00013" class="tabs">Index by Date</a> | <a href="threads.html#00013" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00012.html">Date Prev</a>] [<a href="msg00014.html">Date Next</a>] [<a href="msg00018.html">Thread Prev</a>] [<a href="msg00016.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Chris MacRaild &lt;c.a.macraild@xxxxxxxxxxx&gt;, relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Fri, 04 Aug 2006 17:23:34 +0100</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00013.html">44D37486.6060003@bmb.leeds.ac.uk</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;20060802-104941.sv4125.3051@gna.org&gt;	&lt;<a href="msg00000.html">7f080ed10608020558o47fd0260s9579f663147ab84@mail.gmail.com</a>&gt;	&lt;<a href="msg00001.html">1154597081.28764.140.camel@fbsdpcu021</a>&gt;	&lt;<a href="msg00002.html">7f080ed10608030650t7896164mbcfa499f1987270a@mail.gmail.com</a>&gt;	&lt;<a href="msg00003.html">1154620634.28764.190.camel@fbsdpcu021</a>&gt;	&lt;<a href="msg00007.html">7f080ed10608040708k4738dd5cjb41e9056acd88902@mail.gmail.com</a>&gt;	&lt;<a href="msg00009.html">1154706350.28764.284.camel@fbsdpcu021</a>&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Mozilla Thunderbird 1.0 (X11/20041206)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Gary S. Thompson</strong> on August 04, 2006 - 18:24:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Chris MacRaild wrote:</pre><br>
<blockquote class="blockquote"><tt>On Sat, 2006-08-05 at 00:08 +1000, Edward d'Auvergne wrote:<br>
 </tt><br>
<br>
<blockquote class="blockquote"><blockquote class="blockquote"><tt>2) there is an external module called fpconst which supplies similar<br>
functionality. This relies on the python struct module to compare the<br>
underlying bit sequence with the IEEE 754 standards. It seems to work<br>
well on my machine, and I think most platforms should be compliant at<br>
that level, but I'm not sure and I have limited opportunity to test<br>
other platforms. On the up side the module is relatively small, and<br>
could be incorporated into relax, so it need not be a dependency (its<br>
under the Apache Licence).<br>
     </tt><br>
<br>
</blockquote><pre style="margin: 0em;">Would this module be useful for NaNs generated by the current code?
Does it replace the inbuilt Python NaNs with it's own NaNs?  The
module's web page seems to be down at the moment.</pre><br>
<tt>   </tt><br>
<br>
</blockquote><pre style="margin: 0em;">fpconst won't override the inbuilt Python NaNs, but on the two machines
I have briefly tested it on, fpconst.isNaN() gives the right answer with
Python NaNs. So it will be useful in that it allows us to test output
from the current code for the pressence of NaNs. It does not provide a
complete and coherent set of NaN behaviour, though. This we might get
from Numpy, but I'm not absolutely sure.</pre><br>
<pre style="margin: 0em;">Chris</pre><br>
<tt> </tt><br>
<br>
</blockquote><tt><br>It ought to be said that nan and inf etc have very clearly defined bit 
patterns in memory that are defined by an ieee754 cf 
<a  href="http://steve.hollasch.net/cgindex/coding/ieeefloat.html">http://steve.hollasch.net/cgindex/coding/ieeefloat.html</a> and 
<a  href="http://www.psc.edu/general/software/packages/ieee/ieee.html">http://www.psc.edu/general/software/packages/ieee/ieee.html</a>. Thus its a 
question of python/compilers not putting nan in the right place and not 
using comaprisons etc properly when nans are are present. It should 
always be possible to detect if a nan is present by the bit pattern in 
memory (and this is the way fpconst.py does it). It is of course 
possible to test if nans are supported correctly on a paricular 
architecture and compiler by comparisons etc and if not warnings etc 
could be raised or alternative code executed)</tt><br>
<br>
<tt>another thing to say is that though fpconst.py  is gpl incompatible due 
to some arcana about /patent termination cases 
(<a  href="http://en.wikipedia.org/wiki/Apache_License">http://en.wikipedia.org/wiki/Apache_License</a>)/ in the apache license, 
due to they way it works should be relativley easy to cook up our own 
version which would bullet proof and low maintenance in the same way as 
fpconst.py is... and also quite legal</tt><br>
<br>
<pre style="margin: 0em;">regards
gary</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">_______________________________________________
relax (<a  href="http://nmr-relax.com">http://nmr-relax.com</a>)</pre><br>
<pre style="margin: 0em;">This is the relax-devel mailing list
relax-devel@xxxxxxx</pre><br>
<pre style="margin: 0em;">To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a></pre><br>
<pre style="margin: 0em;">.</pre><br>
<tt> </tt><br>
<br>
</blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">--
-------------------------------------------------------------------
Dr Gary Thompson
Astbury Centre for Structural Molecular Biology,
University of Leeds, Astbury Building,
Leeds, LS2 9JT, West-Yorkshire, UK             Tel. +44-113-3433024
email: garyt@xxxxxxxxxxxxxxx                   Fax  +44-113-2331407
-------------------------------------------------------------------</pre><br>
<pre style="margin: 0em;"><br></pre><br>
<br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00016" href="msg00016.html">Re: [bug #6503] Uncaught nan in xh_vect</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00000" href="msg00000.html">Re: [bug #6503] Uncaught nan in xh_vect</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00001" href="msg00001.html">Re: [bug #6503] Uncaught nan in xh_vect</a></strong>
<ul><li><em>From:</em> Chris MacRaild</li></ul></li>
<li><strong><a name="00002" href="msg00002.html">Re: [bug #6503] Uncaught nan in xh_vect</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00003" href="msg00003.html">Re: [bug #6503] Uncaught nan in xh_vect</a></strong>
<ul><li><em>From:</em> Chris MacRaild</li></ul></li>
<li><strong><a name="00007" href="msg00007.html">Re: [bug #6503] Uncaught nan in xh_vect</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00009" href="msg00009.html">Re: [bug #6503] Uncaught nan in xh_vect</a></strong>
<ul><li><em>From:</em> Chris MacRaild</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Aug 04 19:20:22 2006</div>  
</body>
</html>
