<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Merging of the xyz branch into the main 1.3 line (as well as the	multi_processor and gui_testing branches). -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Thu, 11 Aug 2011 15:01:50 +0200 -->
<!--X-Message-Id: CAED9pY9bsmJbN6J&#45;sNL5T+DAAnMDkUqe2EDTwoc&#45;U7dV_xs==g@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CAED9pY8wdnKm_wfcy0pKHGt5EGOVJmGSPTcMSY=F6n=qz8AydA@mail.gmail.com -->
<!--X-Reference: 8A3ECF80&#45;5C7B&#45;49DD&#45;8729&#45;503E807CC160@nmr.mpibpc.mpg.de -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Merging of the xyz branch into the main 1.3 line (as well as the	multi_processor and gui_testing branches). -- August 11, 2011 - 15:01</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Merging of the xyz branch into the main 1.3 line (as well as the	multi_processor and gui_testing branches).</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00026" class="tabs">Index by Date</a> | <a href="threads.html#00026" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00025.html">Date Prev</a>] [<a href="msg00027.html">Date Next</a>] [<a href="msg00025.html">Thread Prev</a>] [<a href="msg00027.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Han Sun &lt;hasu@xxxxxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 11 Aug 2011 15:01:14 +0200</li>
<li class="menuitem">
<em>Cc</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;	h=mime-version:sender:in-reply-to:references:date	:x-google-sender-auth:message-id:subject:from:to:cc:content-type	:content-transfer-encoding;	bh=J8tr98hGVMtgsWDUAQmOKbb7RP+WL2fXvH2vBkCbKwI=;	b=ORt2XDgUdyaZ2Cx6YEKH8x9J1Rad1cQRsKpbKOMnNgqpsv59RDIC/mc127nRfSg7k5	Uzxa03KL7q/1rOF8IeX1S92nmxHVVuWV+1OJHjAjbfGH5yaZH4vQCRrRxCoNmdMCCZ2z	QH3roHrdIq80I3pbCeiDSInBLBde14Cf+zWy0=</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00026.html">CAED9pY9bsmJbN6J-sNL5T+DAAnMDkUqe2EDTwoc-U7dV_xs==g@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;CAED9pY8wdnKm_wfcy0pKHGt5EGOVJmGSPTcMSY=F6n=qz8AydA@xxxxxxxxxxxxxx&gt;	&lt;8A3ECF80-5C7B-49DD-8729-503E807CC160@xxxxxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on August 11, 2011 - 15:01:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

That sounds good.  Would you be able to make the change?

Cheers,

Edward


On 11 August 2011 14:42, Han Sun &lt;hasu@xxxxxxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward,

I checked out the copy and I think the problem can be very easily fixed.

The reason for this failure is because the system test code of
'test_read_xyz_internal2' is old. In this old test it assumes that the
vector is not a unit vector, which is however not identical with the default
setting in the 'extract_vector' function. So to solve this problem you just
need to replace the following code for extracting a vector in the
'test_read_xyz_internal2':

       # Extract a vector between first two spins.
       self.interpreter.structure.vectors(attached='@10', spin_id='@2')
       self.assertAlmostEqual(a.bond_vect[0], -0.4102707)
       self.assertAlmostEqual(a.bond_vect[1], 0.62128879)
       self.assertAlmostEqual(a.bond_vect[2], -0.6675913)

Best wishes,
Han

On Aug 11, 2011, at 11:30 AM, Edward d'Auvergne wrote:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Han,

I have now merged your xyz branch into the main 1.3 line.  There was
only one conflict in this process, and it was easy enough to fix.  I
have now run the test suite, and noticed that the
test_read_xyz_internal2 system test fails.  This can be quickly
checked with:

$ ./relax -s Structure.test_read_xyz_internal2

I think I remember seeing this problem before, but I thought that it
was solved in the xyz branch.  Could you check the 1.3 line and see if
all your code is in there?  Or check what could be the source of this
problem?  I would like to release a new version of relax soon with
this code (along with a series of bug fixes) prior to releasing a new
version with Gary Thompson's multiprocessor code, and then a version
with the new GUI code (hopefully all by the end of next week).

Cheers,

Edward
</pre></blockquote><pre style="margin: 0em;">


</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00027" href="msg00027.html">Re: Merging of the xyz branch into the main 1.3 line (as well as the	multi_processor and gui_testing branches).</a></strong>
<ul><li><em>From:</em> Han Sun</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00024" href="msg00024.html">Merging of the xyz branch into the main 1.3 line (as well as the	multi_processor and gui_testing branches).</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00025" href="msg00025.html">Re: Merging of the xyz branch into the main 1.3 line (as well as the	multi_processor and gui_testing branches).</a></strong>
<ul><li><em>From:</em> Han Sun</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Aug 11 15:20:18 2011</div>  
</body>
</html>
