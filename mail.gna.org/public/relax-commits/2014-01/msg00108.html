<!-- MHonArc v2.6.16 -->
<!--X-Subject: r22061 &#45;	/branches/double_rotor/test_suite/shared_data/frame_order/cam/generate_base.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Wed, 29 Jan 2014 09:08:34 +0100 -->
<!--X-Message-Id: E1W8QCI&#45;0005kc&#45;9E@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r22061 -	/branches/double_rotor/test_suite/shared_data/frame_order/cam/generate_base.py -- January 29, 2014 - 09:08</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r22061 -	/branches/double_rotor/test_suite/shared_data/frame_order/cam/generate_base.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00108" class="tabs">Index by Date</a> | <a href="threads.html#00108" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00107.html">Date Prev</a>] [<a href="msg00109.html">Date Next</a>] [<a href="msg00107.html">Thread Prev</a>] [<a href="msg00109.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Wed, 29 Jan 2014 08:08:34 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00108.html">E1W8QCI-0005kc-9E@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on January 29, 2014 - 09:08:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Wed Jan 29 09:08:33 2014
New Revision: 22061

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=22061&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=22061&amp;view=rev</a>
Log:
The save file created by the frame order test data generation base script can 
now be bypassed.

When loading 1,000,000 PDB structures as models into the relax data store, 
the RAM usage can go over
10 Gb.  When trying to save this into a relax state file with the state.save 
user function, the time
required can be over a day.  Therefore the SAVE_STATE class variable has been 
introduced to allow
the state.save call to be bypassed.


Modified:
    
branches/double_rotor/test_suite/shared_data/frame_order/cam/generate_base.py

Modified: 
branches/double_rotor/test_suite/shared_data/frame_order/cam/generate_base.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/double_rotor/test_suite/shared_data/frame_order/cam/generate_base.py?rev=22061&amp;r1=22060&amp;r2=22061&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/double_rotor/test_suite/shared_data/frame_order/cam/generate_base.py?rev=22061&amp;r1=22060&amp;r2=22061&amp;view=diff</a>
==============================================================================
--- 
branches/double_rotor/test_suite/shared_data/frame_order/cam/generate_base.py 
(original)
+++ 
branches/double_rotor/test_suite/shared_data/frame_order/cam/generate_base.py 
Wed Jan 29 09:08:33 2014
@@ -64,6 +64,9 @@
     # The rotations file.
     ROT_FILE = True
 
+    # The state file.
+    SAVE_STATE = True
+
     def run(self, save_path=None):
         &quot;&quot;&quot;Generate the distribution and alignment data.
         
@@ -95,7 +98,8 @@
         self._back_calc()
 
         # Save a state file for debugging.
-        self.interpreter.state.save('generate_distribution', 
dir=self.save_path, force=True)
+        if self.SAVE_STATE:
+            self.interpreter.state.save('generate_distribution', 
dir=self.save_path, force=True)
 
 
     def _back_calc(self):



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Jan 29 11:40:01 2014</div>  
</body>
</html>
