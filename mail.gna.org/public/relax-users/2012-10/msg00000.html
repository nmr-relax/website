<!-- MHonArc v2.6.16 -->
<!--X-Subject: [model&#45;free] handling of missing data -->
<!--X-From-R13: [negva Pnyynfpux <onyynfpuxNszc&#45;oreyva.qr> -->
<!--X-Date: Tue, 02 Oct 2012 10:25:54 +0200 -->
<!--X-Message-Id: CFAB8152&#45;33CE&#45;4EF9&#45;A5B6&#45;97A68EDF7FF1@fmp&#45;berlin.de -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[model-free] handling of missing data -- October 02, 2012 - 10:25</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />[model-free] handling of missing data</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00000" class="tabs">Index by Date</a> | <a href="threads.html#00000" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[Date Prev] [<a href="msg00001.html">Date Next</a>] [Thread Prev] [<a href="msg00001.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 2 Oct 2012 10:25:23 +0200</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00000.html">CFAB8152-33CE-4EF9-A5B6-97A68EDF7FF1@fmp-berlin.de</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Martin Ballaschk</strong> on October 02, 2012 - 10:25:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Dear Edward, dear relax users,

what is the best way of handling relaxation data that have no corresponding 
residues in the crystal structure?

My first step is to read the pdb and load the spins (e.g. resdidues 7 to 61):

</pre><blockquote class="blockquote"><pre style="margin: 0em;">structure.read_pdb(file='./mypdb.pdb', dir=None, read_mol=None, 
set_mol_name=None, read_model=None, set_model_num=None, parser='internal')
structure.load_spins(spin_id='@N*', ave_pos=True)
structure.load_spins(spin_id='@H*', ave_pos=True)
</pre></blockquote><pre style="margin: 0em;">

If I try to load my relaxation data sets (ranging from residue 6 to 62), 
relax complains that there is no spin set up for residue 6 (and 62):

</pre><blockquote class="blockquote"><pre style="margin: 0em;">relax_data.read(ri_id='R1_600', ri_type='R1', frq=600179910.0, 
file='./600/rx_t1.out', res_num_col=2, res_name_col=3, spin_num_col=4, 
spin_name_col=5, data_col=6, error_col=7)
Opening the file './600/rx_t1.out' for reading.
RelaxError: The spin ':6@N' does not exist.
</pre></blockquote><pre style="margin: 0em;">

I can imagine the following workarounds:

a) delete spin relaxation data for res. 6 and 62 from all data files, 
b) create residues 6 and 62 by hand (residue.create, spin.create) and 
deselect them, or
c) read a sequence file containing all missing N spins, and &quot;None&quot; spins for 
all the spins I want to load from the pdb file.

So far I have been successful with a) but I don't like fiddling with my input 
files too much, as it quickly becomes a mess of different versions etc. 
Option b) gave me weird errors after t_m fitting (&quot;deepcopy(spin2) 
IndexError: list assignment index out of range&quot;) I guess are related to the 
additional spins. 
I tried using c) but I ran into problems with the spin setup: Obviously relax 
set up spins of type &quot;0&quot; and wants me to set up the isotope type of it.

So, what kind of approach do you have?

Cheers, 
Martin



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00001" href="msg00001.html">Re: [model-free] handling of missing data</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Oct 04 19:00:07 2012</div>  
</body>
</html>
