<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [sr #3071] Implementation of Tollinger/Kay dispersion model (2001) -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 10 Sep 2013 08:36:40 +0200 -->
<!--X-Message-Id: CAED9pY&#45;pNFvU&#45;P7mK1y15SYSZjYHA505WCY1A_iAXCLtNThYxQ@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20130817&#45;121906.sv20529.33791@gna.org -->
<!--X-Reference: 20130817&#45;130317.sv20529.86053@gna.org -->
<!--X-Reference: 20130817&#45;194759.sv20529.14461@gna.org -->
<!--X-Reference: 20130818&#45;180809.sv20529.99171@gna.org -->
<!--X-Reference: 20130820&#45;192858.sv20529.11242@gna.org -->
<!--X-Reference: 20130826&#45;144015.sv20529.53054@gna.org -->
<!--X-Reference: 20130826&#45;145816.sv2782.75054@gna.org -->
<!--X-Reference: 20130902&#45;131641.sv20529.61571@gna.org -->
<!--X-Reference: 20130902&#45;132317.sv20529.8263@gna.org -->
<!--X-Reference: 20130903&#45;063614.sv20529.56559@gna.org -->
<!--X-Reference: 20130903&#45;150002.sv20529.78667@gna.org -->
<!--X-Reference: 20130903&#45;150037.sv20529.73473@gna.org -->
<!--X-Reference: 20130903&#45;161822.sv20529.71876@gna.org -->
<!--X-Reference: 20130904&#45;112339.sv20529.2174@gna.org -->
<!--X-Reference: 20130904&#45;115721.sv20529.34751@gna.org -->
<!--X-Reference: 20130904&#45;132009.sv20529.18963@gna.org -->
<!--X-Reference: 20130904&#45;134717.sv20529.6289@gna.org -->
<!--X-Reference: 20130906&#45;073527.sv20529.76828@gna.org -->
<!--X-Reference: 20130906&#45;093233.sv20529.36161@gna.org -->
<!--X-Reference: 20130906&#45;114318.sv20529.62161@gna.org -->
<!--X-Reference: 20130906&#45;123652.sv20529.49677@gna.org -->
<!--X-Reference: 20130906&#45;131618.sv20529.38415@gna.org -->
<!--X-Reference: 20130906&#45;150146.sv20529.11716@gna.org -->
<!--X-Reference: 20130909&#45;151719.sv20529.4225@gna.org -->
<!--X-Reference: 20130909&#45;192940.sv20529.95343@gna.org -->
<!--X-Reference: 20130909&#45;200743.sv20529.83240@gna.org -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [sr #3071] Implementation of Tollinger/Kay dispersion model (2001) -- September 10, 2013 - 08:36</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: [sr #3071] Implementation of Tollinger/Kay dispersion model (2001)</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00103" class="tabs">Index by Date</a> | <a href="threads.html#00103" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00102.html">Date Prev</a>] [<a href="msg00104.html">Date Next</a>] [<a href="msg00101.html">Thread Prev</a>] [<a href="msg00105.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Troels E. Linnet&quot; &lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 10 Sep 2013 08:36:08 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:sender:in-reply-to:references:date:message-id:subject	:from:to:cc:content-type;	bh=mbFn3goXB1QpgERc1ThXLYbgSwBc6gC9YvbBIIeYnYM=;	b=tgzZHAbAzjVeO+/yk9ExCy/24ef/t8uDtxbRTTYovSosrcIO6MMsQeayTaOwUSy8yZ	9TMUm9dT/eboplH4rdf5E2kcqRSPRfEYpFe1CIwI4K/T970gc9I4BtlAfHtH5x4BSWA7	qqw8mvylxoapulZ9vTTsPsC85Mtt3jxgQVYD/dRGqfLtqS59yH6h87yHEZCbb/ct7h/E	xbt0t+d7M0yoylzySdCDG9CTCjVi0SC+RX2oeDgMP1pvYJvmZdhBnGaxnU6lnbFAW39N	NxEa58bkb2K592BBhPjoEyCDDthQBoT0I8MFcL56S5oYpvgGWh1Zr2VhIO5m7WmQdXin	Hl1A==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00103.html">CAED9pY-pNFvU-P7mK1y15SYSZjYHA505WCY1A_iAXCLtNThYxQ@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;20130817-121906.sv20529.33791@xxxxxxx&gt;	&lt;20130817-130317.sv20529.86053@xxxxxxx&gt;	&lt;20130817-194759.sv20529.14461@xxxxxxx&gt;	&lt;20130818-180809.sv20529.99171@xxxxxxx&gt;	&lt;20130820-192858.sv20529.11242@xxxxxxx&gt;	&lt;20130826-144015.sv20529.53054@xxxxxxx&gt;	&lt;20130826-145816.sv2782.75054@xxxxxxx&gt;	&lt;20130902-131641.sv20529.61571@xxxxxxx&gt;	&lt;20130902-132317.sv20529.8263@xxxxxxx&gt;	&lt;20130903-063614.sv20529.56559@xxxxxxx&gt;	&lt;20130903-150002.sv20529.78667@xxxxxxx&gt;	&lt;20130903-150037.sv20529.73473@xxxxxxx&gt;	&lt;20130903-161822.sv20529.71876@xxxxxxx&gt;	&lt;20130904-112339.sv20529.2174@xxxxxxx&gt;	&lt;20130904-115721.sv20529.34751@xxxxxxx&gt;	&lt;20130904-132009.sv20529.18963@xxxxxxx&gt;	&lt;20130904-134717.sv20529.6289@xxxxxxx&gt;	&lt;20130906-073527.sv20529.76828@xxxxxxx&gt;	&lt;20130906-093233.sv20529.36161@xxxxxxx&gt;	&lt;20130906-114318.sv20529.62161@xxxxxxx&gt;	&lt;20130906-123652.sv20529.49677@xxxxxxx&gt;	&lt;20130906-131618.sv20529.38415@xxxxxxx&gt;	&lt;20130906-150146.sv20529.11716@xxxxxxx&gt;	&lt;20130909-151719.sv20529.4225@xxxxxxx&gt;	&lt;20130909-192940.sv20529.95343@xxxxxxx&gt;	&lt;20130909-200743.sv20529.83240@xxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on September 10, 2013 - 08:36:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

I have applied the
'0001-Changed-reference-to-Tollinger-et-al.-instead-of-Tol.patch'
patch.  But the
'0002-Optimized-the-target-function-for-model-TSMFK.patch' one is not
the best solution.  You have shifted the calculation from
lib.dispersion.tsmfk01 module into the func_TSMFK01() target function.
 But the target function is called many, many times during
optimisation.  Therefore the calculation needs to be in the __init__()
method, as that is only called once per optimisation.  This
information never changes, so having it calculated only once when the
target function class is initialised will result in a huge
computational saving.  Just a hint, have a look at the lines after the
comment &quot;# Some other data structures for the numerical solutions.&quot; ;)

Regards,

Edward


P. S.  The float64() conversion you have performed is also not
necessary as the cpmg_frqs data structure passed into the target
function class is already a numpy float64 array - just see the
Dispersion.__init__() docstring.  Avoiding that conversion also saves
time.


On 9 September 2013 22:07, Troels E. Linnet
&lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Follow-up Comment #67, sr #3071 (project relax):

Updates for the precious patches.

(file #18948, file #18949)
    _______________________________________________________

Additional Item Attachment:

File name: 0001-Changed-reference-to-Tollinger-et-al.-instead-of-Tol.patch
Size:5 KB
File name: 0002-Optimized-the-target-function-for-model-TSMFK.patch Size:4 
KB


    _______________________________________________________

Reply to this item at:

  &lt;<a  rel="nofollow" href="http://gna.org/support/?3071">http://gna.org/support/?3071</a>&gt;

_______________________________________________
  Message sent via/by Gna!
  <a  rel="nofollow" href="http://gna.org/">http://gna.org/</a>


_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00013" href="msg00013.html">[sr #3071] Implementation of Tollinger/Kay dispersion model (2001)</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00014" href="msg00014.html">[sr #3071] Implementation of Tollinger/Kay dispersion model (2001)</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00024" href="msg00024.html">[sr #3071] Implementation of Tollinger/Kay dispersion model (2001)</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00034" href="msg00034.html">[sr #3071] Implementation of Tollinger/Kay dispersion model (2001)</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00035" href="msg00035.html">[sr #3071] Implementation of Tollinger/Kay dispersion model (2001)</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00039" href="msg00039.html">[sr #3071] Implementation of Tollinger/Kay dispersion model (2001)</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00051" href="msg00051.html">[sr #3071] Implementation of Tollinger/Kay dispersion model (2001)</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00054" href="msg00054.html">[sr #3071] Implementation of Tollinger/Kay dispersion model (2001)</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00058" href="msg00058.html">[sr #3071] Implementation of Tollinger/Kay dispersion model (2001)</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00061" href="msg00061.html">[sr #3071] Implementation of Tollinger/Kay dispersion model (2001)</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00067" href="msg00067.html">[sr #3071] Implementation of Tollinger/Kay dispersion model (2001)</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00071" href="msg00071.html">[sr #3071] Implementation of Tollinger/Kay dispersion model (2001)</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00076" href="msg00076.html">[sr #3071] Implementation of Tollinger/Kay dispersion model (2001)</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00079" href="msg00079.html">[sr #3071] Implementation of Tollinger/Kay dispersion model (2001)</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00081" href="msg00081.html">[sr #3071] Implementation of Tollinger/Kay dispersion model (2001)</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00085" href="msg00085.html">[sr #3071] Implementation of Tollinger/Kay dispersion model (2001)</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00093" href="msg00093.html">[sr #3071] Implementation of Tollinger/Kay dispersion model (2001)</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00098" href="msg00098.html">[sr #3071] Implementation of Tollinger/Kay dispersion model (2001)</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00101" href="msg00101.html">[sr #3071] Implementation of Tollinger/Kay dispersion model (2001)</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Sep 10 09:00:09 2013</div>  
</body>
</html>
