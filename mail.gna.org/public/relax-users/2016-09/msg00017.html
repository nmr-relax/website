<!-- MHonArc v2.6.19+ -->
<!--X-Subject: Re: Using multi&#45;processor for model_free -->
<!--X-From-R13: "[nuqv, Enz" &#60;fnz.znuqv.846Nzl.pfha.rqh> -->
<!--X-Date: Mon, 19 Sep 2016 17:11:55 +0200 -->
<!--X-Message-Id: CALgM0gVzsV6Rra246tiAE3kQZtea+idtoKXLb500ZfNuwpsQOw@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CALgM0gUvCzpo2B20iHDxkPWBeKYdj4LLUv_yu2hDVo3gjVha4Q@mail.gmail.com -->
<!--X-Reference: CALgM0gXrG+=85_FiJqQ98kRSSmRQ8APe=y+PFqrcpnuEne78YQ@mail.gmail.com -->
<!--X-Reference: CA+CBx2PcJHScP=EdZpXqwvfdgEGO8vu8Gq&#45;gNbCKS_HDH0NLJw@mail.gmail.com -->
<!--X-Reference: CALgM0gWz1fS03WRFsPYarvoii&#45;443L6bi7NFeZHto5L&#45;O2WoDQ@mail.gmail.com -->
<!--X-Reference: CA+CBx2PBJM2OQzSbSwW2=iiSJqMdfyq1hv=QSteUjkJdAgg2CQ@mail.gmail.com -->
<!--X-Reference: CALgM0gW7tPe5snzLWTFzvRC+i0irnP=LTsZpEe&#45;5raPvWCj5ug@mail.gmail.com -->
<!--X-Reference: CA+CBx2O6YK9NXn57USpfPBGBFyH_RJRqkkzwM&#45;3o3QpGhu2L0w@mail.gmail.com -->
<!--X-Reference: CALgM0gWt_UdEkJ0xMMp396YAqhA4NLZPM01_0RrMxn&#45;VTEVDBA@mail.gmail.com -->
<!--X-Reference: CALgM0gXFbZZGWEQjkodHLwzqP+_uM=wEDer1UXaX&#45;aWteWTtCQ@mail.gmail.com -->
<!--X-Reference: CA+CBx2OX+ZzYzE42ZvyerjE8jBGOguueEiGCLQgYAWkd9EpY9g@mail.gmail.com -->
<!--X-Reference: CALgM0gVgjQce&#45;F2gdk=nhx0A1htss0RJH&#45;TkQjAQci+_SEfkXQ@mail.gmail.com -->
<!--X-Reference: CA+CBx2NQXw+=oKZoTnqB_0o9Cgn+c&#45;8JXgU0fc=8sfYWtAepzA@mail.gmail.com -->
<!--X-Reference: CALgM0gVy7ywH36wHui8bg=b+BhvgJqyRmrycy5_V8wTGMmwy8A@mail.gmail.com -->
<!--X-Reference: CA+CBx2M&#45;Sgb5uPy1DaHSd2JzJ_sKNRuOX2Vxa418xHSVU&#45;dTGQ@mail.gmail.com -->
<!--X-Reference: CALgM0gUSTzZUmEQWYCkXjjPzEN1DXFXZco3Q+9GwUx_MXqMa1Q@mail.gmail.com -->
<!--X-Reference: CA+CBx2O7pi4R7HmsBKn3hdhLnn+FkY0XZW4qAsY=j0g0WSTpEQ@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Using multi-processor for model_free -- September 19, 2016 - 17:11</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Using multi-processor for model_free</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00017" class="tabs">Index by Date</a> | <a href="threads.html#00017" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00016.html">Date Prev</a>] [<a href="msg00018.html">Date Next</a>] [<a href="msg00015.html">Thread Prev</a>] [<a href="msg00018.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt;,  relax-users@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Mon, 19 Sep 2016 08:11:21 -0700</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=my-csun-edu.20150623.gappssmtp.com; s=20150623; h=mime-version:in-reply-to:references:from:date:message-id:subject:to; bh=K8VPHWu6+X8gGKNAtcZcSDJORivav+FZEMLEAg5yWks=; b=gFJY18vss9ko3tO9KlSpWs4IFiIetyvHqfMOAcNU+4ZhIjD1Y//g3+CofN74nGarya FEK5pNx0GLs4lnnkdvpeBU/Lqzq7LqjxiRP6gjH4W/4D0XO2+GOq9JLr+qG/Fo/CyL3h laEjOF0hDU/HnmUrB1FcT/PQ0pv+kg9je7lOsCmp6zH8DUG4kHGY0ykf2k6L4YLiKC7P 1+Mp0aolidbHXtlbPT/EMl2hKrZ0bwtBYzFV3WhbPP6PLcGUxsNQhuXaVLRoijKHg4Zg dscCP3niL0Sji9JRRcU24eEyuSIrQAyvqUHC9iykwieJDdCAMqaQoWZ3SuoObCZnWxjS bQoA==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00017.html">CALgM0gVzsV6Rra246tiAE3kQZtea+idtoKXLb500ZfNuwpsQOw@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00001.html">CALgM0gUvCzpo2B20iHDxkPWBeKYdj4LLUv_yu2hDVo3gjVha4Q@mail.gmail.com</a>&gt; &lt;CALgM0gXrG+=85_FiJqQ98kRSSmRQ8APe=y+PFqrcpnuEne78YQ@mail.gmail.com&gt; &lt;CA+CBx2PcJHScP=EdZpXqwvfdgEGO8vu8Gq-gNbCKS_HDH0NLJw@mail.gmail.com&gt; &lt;<a href="msg00004.html">CALgM0gWz1fS03WRFsPYarvoii-443L6bi7NFeZHto5L-O2WoDQ@mail.gmail.com</a>&gt; &lt;CA+CBx2PBJM2OQzSbSwW2=iiSJqMdfyq1hv=QSteUjkJdAgg2CQ@mail.gmail.com&gt; &lt;CALgM0gW7tPe5snzLWTFzvRC+i0irnP=LTsZpEe-5raPvWCj5ug@mail.gmail.com&gt; &lt;<a href="msg00007.html">CA+CBx2O6YK9NXn57USpfPBGBFyH_RJRqkkzwM-3o3QpGhu2L0w@mail.gmail.com</a>&gt; &lt;<a href="msg00008.html">CALgM0gWt_UdEkJ0xMMp396YAqhA4NLZPM01_0RrMxn-VTEVDBA@mail.gmail.com</a>&gt; &lt;CALgM0gXFbZZGWEQjkodHLwzqP+_uM=wEDer1UXaX-aWteWTtCQ@mail.gmail.com&gt; &lt;<a href="msg00010.html">CA+CBx2OX+ZzYzE42ZvyerjE8jBGOguueEiGCLQgYAWkd9EpY9g@mail.gmail.com</a>&gt; &lt;CALgM0gVgjQce-F2gdk=nhx0A1htss0RJH-TkQjAQci+_SEfkXQ@mail.gmail.com&gt; &lt;CA+CBx2NQXw+=oKZoTnqB_0o9Cgn+c-8JXgU0fc=8sfYWtAepzA@mail.gmail.com&gt; &lt;CALgM0gVy7ywH36wHui8bg=b+BhvgJqyRmrycy5_V8wTGMmwy8A@mail.gmail.com&gt; &lt;CA+CBx2M-Sgb5uPy1DaHSd2JzJ_sKNRuOX2Vxa418xHSVU-dTGQ@mail.gmail.com&gt; &lt;<a href="msg00014.html">CALgM0gUSTzZUmEQWYCkXjjPzEN1DXFXZco3Q+9GwUx_MXqMa1Q@mail.gmail.com</a>&gt; &lt;CA+CBx2O7pi4R7HmsBKn3hdhLnn+FkY0XZW4qAsY=j0g0WSTpEQ@mail.gmail.com&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Mahdi, Sam</strong> on September 19, 2016 - 17:11:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Troels,

I have successfully been able to run the model-free analysis on 64 cores.
The issue appears to have been I simply did not specify the spin number, so
after looking at your tutorial and making the proper modifications, it ran
with no complications. The results are somewhat reasonable. I decided to
try to run 2 other proteins however; and I've come across problems for both
again.
Protein 1:
I set this up just like the tutorial, and it runs with no warnings or
errors; however, the run never finishes. At round_3 for the prolate model
when it starts to minimize it just stops. I don't mean relax is stopped or
closed, I mean it stops doing any calculations. Relax is still open, and if
I run the top command, I can still see something is going on with the other
cores, but nothing is being calculated. The run with 64 cores is incredibly
fast (under 4 hours), so I don't think it's loading calculations or writing
them, and I've left it there for over 24 hours, and it's still just sorta
stuck. There are no errors, no outputs, it just says its gonna start to
minimize and then nothing happens after that.
Protein2:
This protein was a little different since the pdb structure was a crystal
structure. I had to use WhatIf to add the protons onto the pdb file. The
structure appears to load up fine, all the spins appear to be read, data is
loaded, vectors and are calculated and define, but when I came to run the
protocol this error pops up:
 File &quot;/home/sam2/relax-4.0.2/multi/processor.py&quot;, line 494, in run
    self.callback.init_master(self)
  File &quot;/home/sam2/relax-4.0.2/multi/__init__.py&quot;, line 318, in
default_init_master
    self.master.run()
  File &quot;/home/sam2/relax-4.0.2/relax.py&quot;, line 199, in run
    self.interpreter.run(self.script_file)
  File &quot;/home/sam2/relax-4.0.2/prompt/interpreter.py&quot;, line 279, in run
    return run_script(intro=self.__intro_string, local=locals(),
script_file=script_file, show_script=self.__show_script,
raise_relax_error=self.__raise_relax_error)
  File &quot;/home/sam2/relax-4.0.2/prompt/interpreter.py&quot;, line 585, in
run_script
    return console.interact(intro, local, script_file,
show_script=show_script, raise_relax_error=raise_relax_error)
  File &quot;/home/sam2/relax-4.0.2/prompt/interpreter.py&quot;, line 484, in
interact_script
    exec_script(script_file, local)
  File &quot;/home/sam2/relax-4.0.2/prompt/interpreter.py&quot;, line 363, in
exec_script
    runpy.run_module(module, globals)
  File &quot;/usr/lib64/python2.7/runpy.py&quot;, line 192, in run_module
    fname, loader, pkg_name)
  File &quot;/usr/lib64/python2.7/runpy.py&quot;, line 72, in _run_code
    exec code in run_globals
  File &quot;/home/sam2/relax-4.0.2/HdeA_script.py&quot;, line 30, in &lt;module&gt;
    dAuvergne_protocol(pipe_name=name,pipe_bundle=pipe_bundle,
diff_model=DIFF_MODEL,mf_models=MF_MODELS,local_tm_
models=LOCAL_TM_MODELS,grid_inc=GRID_INC,min_algor=MIN_
ALGOR,mc_sim_num=MC_NUM,conv_loop=CONV_LOOP)
  File &quot;/home/sam2/relax-4.0.2/auto_analyses/dauvergne_protocol.py&quot;, line
246, in __init__
    self.execute()
  File &quot;/home/sam2/relax-4.0.2/auto_analyses/dauvergne_protocol.py&quot;, line
600, in execute
    self.multi_model(local_tm=True)
  File &quot;/home/sam2/relax-4.0.2/auto_analyses/dauvergne_protocol.py&quot;, line
888, in multi_model
    self.interpreter.minimise.grid_search(inc=self.grid_inc)
  File &quot;/home/sam2/relax-4.0.2/prompt/uf_objects.py&quot;, line 225, in __call__
    self._backend(*new_args, **uf_kargs)
  File &quot;/home/sam2/relax-4.0.2/pipe_control/minimise.py&quot;, line 172, in
grid_search
    model_lower, model_upper, model_inc = grid_setup(lower, upper, inc,
verbosity=verbosity, skip_preset=skip_preset)
  File &quot;/home/sam2/relax-4.0.2/pipe_control/minimise.py&quot;, line 341, in
grid_setup
    elif values[i] in [None, {}, []]:
IndexError: index 0 is out of bounds for axis 0 with size 0
I should mention this error pops up when it decided to calculate the first
spins upper and lower bounds. So this isn't at the minimization portion of
the calculation (like in the previous bug). Thanks in advance.

Sincerely,
Sam

On Wed, Sep 14, 2016 at 6:34 AM, Troels Emtekær Linnet &lt;
tlinnet@xxxxxxxxxxxxx&gt; wrote:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Sam.

To tackle this problem, I would advice to create another bug.
Creation and closing of a bug &quot;leaves trails&quot;, which maybe will help
another person, when googling for the same problem.

To help you, can you do a &quot;relax -i&quot; on both computers?
That give some indication about package versions and computer setup.

The first thing we need to establish, is that mpirun is working.
We have to test the installation without relax.

Can you have a look at:
<a  rel="nofollow" href="http://wiki.nmr-relax.com/OpenMPI">http://wiki.nmr-relax.com/OpenMPI</a>

Try the different things like:
lscpu
mpirun --report-bindings -np 11 echo &quot;hello world&quot;
mpirun --report-bindings -np 4 relax --multi='mpi4py'

When we are confident about this, then we will try make a small test
script for relax.

Please try these things at both computers, and provide 2 files with
commands and output.

Then attach it to the bug report.





2016-09-14 6:40 GMT+02:00 Mahdi, Sam &lt;sam.mahdi.846@xxxxxxxxxxx&gt;:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Troels,

So I saw the tutorial you put, and the main problem was I had not
specified my data was only for the Nitrogen spins. After applying the spin
column, my data loaded and relax ran model free with no problem. I have a
script that starts and runs relax and model free all automatic, if you wish
I can send it via email to you and you can upload it to the tutorial wiki
page. So I can successfully run model-free in script mode for a
uni-processor.
The problem now with the multi-processor is that the script won't load.
In the bug page I uploaded a screenshot where I had input the 'mpirun -np 4
../relax --multi='mpi4py' command, however I had no output. I checked
processes running in the background, and saw that there was indeed 4
processess running in the background (1 master and 3 slaves) for relax; but
there was no output, so I was unable to load any data, or create a pipe or
anything. This was only on the Fedora 24 computer, not the Fedora 20. On
the Fedora 20 computer, I was able to successfully open relax on a multi
processor platform. I can send the screenshots and the relax -i for both
computers again. I don't know why it doesn't work the fedora 24. Do you
know what could be causing this?

Thanks again in advance

On Tue, Sep 13, 2016 at 9:32 PM, Troels Emtekær Linnet &lt;
tlinnet@xxxxxxxxxxxxx&gt; wrote:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Sam

Can you send the mail again and include the maillist?

Best Troels


Den tirsdag den 13. september 2016 skrev Mahdi, Sam &lt;
sam.mahdi.846@xxxxxxxxxxx&gt;:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">HI Troels,

So I saw the tutorial you put, and the main problem was I had not
specified my data was only for the Nitrogen spins. After applying the 
spin
column, my data loaded and relax ran model free with no problem. I have a
script that starts and runs relax and model free all automatic, if you 
wish
I can send it via email to you and you can upload it to the tutorial wiki
page. So I can successfully run model-free in script mode for a
uni-processor.
The problem now with the multi-processor is that the script won't load.
In the bug page I uploaded a screenshot where I had input the 'mpirun 
-np 4
../relax --multi='mpi4py' command, however I had no output. I checked
processes running in the background, and saw that there was indeed 4
processess running in the background (1 master and 3 slaves) for relax; 
but
there was no output, so I was unable to load any data, or create a pipe 
or
anything. This was only on the Fedora 24 computer, not the Fedora 20. On
the Fedora 20 computer, I was able to successfully open relax on a multi
processor platform. I can send the screenshots and the relax -i for both
computers again. I don't know why it doesn't work the fedora 24. Do you
know what could be causing this?

Thanks again in advance
Sam

On Tue, Sep 13, 2016 at 1:01 PM, Troels Emtekær Linnet &lt;
tlinnet@xxxxxxxxxxxxx&gt; wrote:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Sam.

I closed the 2 bug reports as invalid.

The data is not labelled correct.
But this can be corrected.

Please see this tutorial I wrote:
<a  rel="nofollow" href="http://wiki.nmr-relax.com/Tutorial_for_model-free_analysis_sam_mahdi">http://wiki.nmr-relax.com/Tutorial_for_model-free_analysis_sam_mahdi</a>

I hope this give some guidance.

If you experience any new problems, please feel free to ask!!

What you experience, will probably be the same for many.
Your feedback is valuable for the development.

Please wait with using mpirun and multiple processors, before you are
absolutely sure
that it will run on 1 processor.

Bugfixing when using multiple processors is a nightmare....

Best
Troels

2016-09-12 17:36 GMT+02:00 Mahdi, Sam &lt;sam.mahdi.846@xxxxxxxxxxx&gt;:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Troels,

I just created another bug report. I simply copy pasted the email,
and uploaded the script files there.

Sincerely,
Sam

On Mon, Sep 12, 2016 at 5:14 AM, Troels Emtekær Linnet &lt;
tlinnet@xxxxxxxxxxxxx&gt; wrote:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Sam.

Can you produce another bug report.

Please don't attach files to these mails as it will strain  the
mailinglists.

Cheers
Troels


Den lørdag den 10. september 2016 skrev Mahdi, Sam &lt;
sam.mahdi.846@xxxxxxxxxxx&gt;:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Troels,

Additional question that I had, if you could also look into this as
well on Tuesday please. I have decided to try to write a script to 
automate
this whole process (since I won't be using the gui to do model 
free), and
I've come across a problem. I can successfully open up relax using 
openmpi,
and can load the pdb file, and assign all the spins and isotopes; 
however,
it appears it will only load one data file (the very first one I'll 
have
inputed in the script). I don't know if there is a problem with how 
I wrote
my script. Not only will it not load the rest of my data sets, it 
won't
actually run dAuvergne's protocol either, it'll just load the data 
set and
exit out of the program. Attached is the script I wrote for relax.

This is the output once relax has loaded

script = 'model_free_sample_script.py'
------------------------------------------------------------
----------------------------------------
from time import asctime, localtime
from auto_analyses.dauvergne_protocol import dAuvergne_protocol
DIFF_MODEL=['local_tm','sphere','prolate','oblate','ellipsoi
d','final']
MF_MODELS=['m0','m1','m2','m3','m4','m5','m6','m7','m8','m9']
LOCAL_TM_MODELS=['tm0','tm1','tm2','tm3','tm4','tm5','tm6','
tm7','tm7','tm8','tm9']
GRID_INC=11
MIN_ALGOR='newton'
MC_NUM=500
CONV_LOOP=True
pipe_bundle=&quot;mf(%s)&quot;%asctime(localtime())
name=&quot;origin-&quot;+pipe_bundle
pipe.create(name,'mf',bundle=pipe_bundle)
structure.read_pdb('2d9j.pdb',set_mol_name='hRGS7')
structure.load_spins('@N',ave_pos=True)
structure.load_spins('@NE1',ave_pos=True)
structure.load_spins('@H',ave_pos=True)
structure.load_spins('@HE1',ave_pos=True)
spin.isotope('15N',spin_id='@N*')
spin.isotope('1H',spin_id='@H*')
relax_data.read(ri_id='R1_Agnes',ri_type='R1',frq=599.642*1e6,
file='R1_Agnes',res_num_col=1,data_col=2,error_col=3)
relax_data.read(ri_id='R2_Agnes',ri_type='R2',frq=599.642*1e6,
file='R2_Agnes',res_num_col=1,data_col=2,error_col=3)
relax_data.read(ri_id='ssNOE_Agnes',ri_type='NOE',frq=599.642*1e6,
file='ssNOE_Agnes',res_num_col=1,data_col=2,error_col=3)
relax_data.read(ri_id='R1_NMRFAM',ri_type='R1',frq=799.642*1e6,
file='R1_NMRFAM',res_num_col=1,data_col=2,error_col=3)
relax_data.read(ri_id='R2_NMRFAM',ri_type='R2',frq=799.642*1e6,
file='R2_NMRFAM',res_num_col=1,data_col=2,error_col=3)
relax_data.read(ri_id='ssNOE_NMRFAM',ri_type='NOE',frq=799.642*1e6,
file='ssNOE_NMRFAM',res_num_col=1,data_col=2,error_col=3)
interatom.define(spin_id1='@N',spin_id2='@H', direct_bond=True)
interatom.define(spin_id1='@NE1',spin_id2='@HE1', direct_bond=True)
interatom.set_dist(spin_id1='@N*',spin_id2='@H*',ave_dist=1.
02*1e-10)
interatom.unit_vectors()
value.set(-172*1e-6,'csa',spin_id='@N*')
dAuvergne_protocol(pipe_name=name,pipe_bundle=pipe_bundle,di
ff_model=DIFF_MODEL,mf_models=MF_MODELS,local_tm_models=LOCA
L_TM_MODELS,grid_inc=GRID_INC,min_algor=MIN_ALGOR,mc_sim_num
=MC_NUM,conv_loop=CONV_LOOP)

So it indicates that my script has loaded. However, after it loads
the spins from the pdb file, this is what happens after my first 
data set
has been loaded:

relax&gt; relax_data.read(ri_id='R1_Agnes', ri_type='R1',
frq=599642000.0, file='R1_Agnes', dir=None, spin_id_col=None,
mol_name_col=None, res_num_col=1, res_name_col=None, 
spin_num_col=None,
spin_name_col=None, data_col=2, error_col=3, sep=None, spin_id=None)
Opening the file 'R1_Agnes' for reading.
RelaxWarning: The sequence data in the line ['Residue', 'R1',
'Error'] is invalid, the residue number data 'Residue' is invalid.
RelaxWarning: The sequence data in the line ['1'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['2'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['3'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['4'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['5'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['6'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['7'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['8'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['9'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['10'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['11'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['16'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['17'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['18'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['21'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['22'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['23'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['26'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['27'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['28'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['31'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['40'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['46'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['58'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['61'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['62'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['63'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['73'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['76'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['79'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['81'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['82'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['85'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['94'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['97'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['99'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['106'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['115'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['121'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['126'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['127'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['134'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['135'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['136'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['137'] is invalid, the
data is missing.
RelaxWarning: The sequence data in the line ['139'] is invalid, the
data is missing.

RelaxError: The spin ID '#hRGS7:12' corresponds to multiple spins,
including '#hRGS7:12@N' and '#hRGS7:12@H'.
crowlab: [~/relax-4.0.2]&gt;

As you can see, I have all 6 data sets set to load, but only the
very first one appears to do so, and after it loads, it just exits 
out of
relax. Again, I don't know if this is a problem with how I wrote the
script. The Relax_script1 is the one that I load up to run the whole 
thing.
The model free script.py is just the script it reads once relax has 
opened
up.  Again, I can see all the spins are properly loaded, and the 
isotopes
are set. It just everything after the first data set that doesn't 
load.
Thanks again in advance.

Sincerely,
Sam

On Thu, Sep 8, 2016 at 10:15 AM, Mahdi, Sam &lt;
sam.mahdi.846@xxxxxxxxxxx&gt; wrote:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Troels,

Thank you so much. If there is any extra info you need please let
me know.

Sincerely,
Sam

On Thu, Sep 8, 2016 at 9:12 AM, Troels Emtekær Linnet &lt;
tlinnet@xxxxxxxxxxxxx&gt; wrote:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Sam.

I will have some time on Tuesday, and then I will look at it.

Best
Troels


Den onsdag den 7. september 2016 skrev Mahdi, Sam &lt;
sam.mahdi.846@xxxxxxxxxxx&gt;:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hello Troels,

I  uploaded all the files, and even added in the entire output
that i recieved using model free in script mode. I didn't know if 
all the
files uploaded need to have that link, so only the initial files 
that were
uploaded it, have it.
Thank you in advance for your help!
Sincerely,
Sam

On Wed, Sep 7, 2016 at 12:41 AM, Troels Emtekær Linnet &lt;
tlinnet@xxxxxxxxxxxxx&gt; wrote:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Sam.

You should be able to upload more files after the initial
upload.
In the comment thread, please also make a link to this
discussion.

<a  rel="nofollow" href="https://mail.gna.org/public/relax-users/2016-09/threads.html">https://mail.gna.org/public/relax-users/2016-09/threads.html</a>
#00001

Best
Troels



2016-09-06 19:10 GMT+02:00 Mahdi, Sam &lt;
sam.mahdi.846@xxxxxxxxxxx&gt;:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Thank you for your reply. When I come to upload my data
though, I see there are only 4 available slots I can upload my 
data. I have
a total of 6 data files however, that need to be uploaded (3 of 
each
frequency). I also need to upload the relax -i of 2 different 
computers,
and the script file I've been using for a total of 9 files that 
need to be
uploaded. Is there a way to increase the amount I can upload, 
or can I
upload more after the initial submission?

On Mon, Sep 5, 2016 at 2:46 AM, Troels Emtekær Linnet &lt;
tlinnet@xxxxxxxxxxxxx&gt; wrote:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Sam.

To solve this problem, it would be easier to have access to
some of your data.
Can you upload to: <a  rel="nofollow" href="https://gna.org/bugs/?group=relax">https://gna.org/bugs/?group=relax</a>

Take each of your data files, and delete all data, except 2
spins.
Also provide your script file, or a description of which
button you press in the GUI.

Please also provide information about your system with:
relax -i

Then I will make a tutorial for you. To be added here:
<a  rel="nofollow" href="http://wiki.nmr-relax.com/Category:Tutorials">http://wiki.nmr-relax.com/Category:Tutorials</a>

If there is a problem in relax, I will write a systemtest
which will solve the problem.
And the problem will never return.

If this a user error, the tutorial should help to prevent
this, and would be the first step before
adding/modifying the manual.

Regarding using mpirun.
Have a look at this page. Maybe it helps.
<a  rel="nofollow" href="http://wiki.nmr-relax.com/OpenMPI">http://wiki.nmr-relax.com/OpenMPI</a>


Cheers.


2016-09-03 4:13 GMT+02:00 Mahdi, Sam &lt;
sam.mahdi.846@xxxxxxxxxxx&gt;:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hello everyone,

So I was able to set up and run the dauvergne_protocol
successfully by
using the script in the wiki. The problem I have come across
now is the
program doesn't seem to read my data. Using the gui
interface I was able to
successfully load my data and run it. When I upload my data
using the
script command:
relax_data.read(ri_id='R1_Agnes',ri_type='R1',frq=599.642*1e
6,
file='R1_Agnes',res_num_col=1,data_col=2,error_col=3)

The output file simply gives errors for amino acids I don't
have data for:
RelaxWarning: The sequence data in the line ['1'] is
invalid, the data is
missing.

This is fine as relax just ignores these values and
continues its
calculations. I only receive this warning for values I don't
have data for.
This is the same thing I got when using the gui interface
(the gui however
showed my values that I have data for and the residue it
corresponds to,
using the script I don't receive such an output, I don't
know whether this
is normal or not). However, since I don't get this warning
for every amino
acid, I assume this means it has read the values for the
other amino acids.
All of my data is the same, relax warnings only pop up for
amino acids that
I don't have data for. The problem is, when I enter the
dAuvergne protocol,
I get the protocol working, it starts running local_tm
however it appears
none of my data has been uploaded:
RelaxWarning: The spin '#hRGS7:2@N' has been deselected
because of missing
relaxation data
RelaxWarning: The spin '#hRGS7:3@N' has been deselected
because of missing
relaxation data

And I get that warning for every single amino acid. From the
output, it
appears to have read the file since it knows exactly which
amino acids I
don't have data for, but I don't know why when it comes to
running the
protocol, it tells me I havn't inputed any data. I have
typed everything
directly according to the script from the wiki. From running
the protoco,
it appears everything has properly been uploaded, structure
data, magnetic
dipole interactions, csa, the data pipe, the analysis
variables, the python
module imports, and setting up the spins from the pdb file.
It appears the
only error is from loading the actual relaxation data.

On a completely unrelated side note, I have been attempting
to run relax on
multiple processors. I have tried 2 different computers,
both fedora linux.
I have mpi4py and openmpi downloaded on both. On one, I can
get relax on
multiple cores working (havn't been able to successfully run
it due to
being unable to upload any data properly). On the other
however, I type in
the mpirun -np --multi='mpi4py' script, but I get no output.
I can see that
it's running in the background (top command), but nothing
pops up, no text
command, nothing. I typed the same mpirun with the --gui,
but that opened
up nothing. On a uni-processor (typing in the exact same
command without
indicating how many cores i.e. no -np --multi='mpi4py') it
works just fine,
so I don't think its my openmpi that's an issue. I don't
know whether this
is an issue with my mpi4py or a personal computer issue
(since on the other
computer relax runs just fine on multiple cores).

Sincerely,
Sam

P.S. when I do enter the top command to see what's running.
My master shows
mpirun, and the 3 slaves display python when I put -np 4, so
I know
something is running in the background. I have 8 cores.

On Wed, Aug 31, 2016 at 6:49 PM, Mahdi, Sam &lt;
sam.mahdi.846@xxxxxxxxxxx&gt;
wrote:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hello everyone,

I am attempting to run relax on a multi-processor mode. I
</pre></blockquote><pre style="margin: 0em;">have been able
</pre><blockquote class="blockquote"><pre style="margin: 0em;">to successfully set-up relax to operate in a
</pre></blockquote><pre style="margin: 0em;">multi-processor mode by using
</pre><blockquote class="blockquote"><pre style="margin: 0em;">the mpirun -np #ofprocessors /location/of/relax
</pre></blockquote><pre style="margin: 0em;">--multi='mpi4py'
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

The problem I encounter is when using the --tee log
</pre></blockquote><pre style="margin: 0em;">dauvergne_protocol.py
</pre><blockquote class="blockquote"><pre style="margin: 0em;">command. I receive this error
RelaxError: the script file 'dauvergne_protocol.py' does
</pre></blockquote><pre style="margin: 0em;">not exist
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

I located the script file and tried to direct to it's path
mpirun /usr/local/Relax/relax-2.2.5/relax
</pre></blockquote><pre style="margin: 0em;">--multi='mpi4py' --tee log
</pre><blockquote class="blockquote"><pre style="margin: 0em;">/usr/local/Relax/relax-2.2.5/a
</pre></blockquote><pre style="margin: 0em;">uto-analyses/dauvergne_protocol.py
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

But i received this error
RelaxError: the script file '/usr/local/Relax/relax-2.2.5/
auto-analyses/dauvergne_protocol.py' does not exist.

Even though I have the script, it doesn't seem to be able
</pre></blockquote><pre style="margin: 0em;">to locate it.
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

On a side note, in the manual, one dash doesn't actually
</pre></blockquote><pre style="margin: 0em;">run the command.
</pre><blockquote class="blockquote"><pre style="margin: 0em;">I.e. in the manual it displays -multi='mpi4py' . What it
</pre></blockquote><pre style="margin: 0em;">should be is
</pre><blockquote class="blockquote"><pre style="margin: 0em;">--multi='mpi4py' . The same goes for -tee. It should be
</pre></blockquote><pre style="margin: 0em;">--tee.
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Sincerely,
Sam

</pre></blockquote><pre style="margin: 0em;">_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>

</pre></blockquote><pre style="margin: 0em;">


</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00019" href="msg00019.html">Re: Using multi-processor for model_free</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00018" href="msg00018.html">Re: Using multi-processor for model_free</a></strong>
<ul><li><em>From:</em> Mahdi, Sam</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00001" href="msg00001.html">Using multi-processor for model_free</a></strong>
<ul><li><em>From:</em> Mahdi, Sam</li></ul></li>
<li><strong><a name="00002" href="msg00002.html">Re: Using multi-processor for model_free</a></strong>
<ul><li><em>From:</em> Mahdi, Sam</li></ul></li>
<li><strong><a name="00003" href="msg00003.html">Re: Using multi-processor for model_free</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00004" href="msg00004.html">Re: Using multi-processor for model_free</a></strong>
<ul><li><em>From:</em> Mahdi, Sam</li></ul></li>
<li><strong><a name="00005" href="msg00005.html">Re: Using multi-processor for model_free</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00006" href="msg00006.html">Re: Using multi-processor for model_free</a></strong>
<ul><li><em>From:</em> Mahdi, Sam</li></ul></li>
<li><strong><a name="00007" href="msg00007.html">Re: Using multi-processor for model_free</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00008" href="msg00008.html">Re: Using multi-processor for model_free</a></strong>
<ul><li><em>From:</em> Mahdi, Sam</li></ul></li>
<li><strong><a name="00009" href="msg00009.html">Re: Using multi-processor for model_free</a></strong>
<ul><li><em>From:</em> Mahdi, Sam</li></ul></li>
<li><strong><a name="00010" href="msg00010.html">Re: Using multi-processor for model_free</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00011" href="msg00011.html">Re: Using multi-processor for model_free</a></strong>
<ul><li><em>From:</em> Mahdi, Sam</li></ul></li>
<li><strong><a name="00012" href="msg00012.html">Re: Using multi-processor for model_free</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00014" href="msg00014.html">Re: Using multi-processor for model_free</a></strong>
<ul><li><em>From:</em> Mahdi, Sam</li></ul></li>
<li><strong><a name="00015" href="msg00015.html">Re: Using multi-processor for model_free</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Mon Sep 19 18:20:05 2016</div>  
</body>
</html>
