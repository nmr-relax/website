<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [sr #3155] An R1rho expression for a spin in chemical exchange between two sites with unequal transverse relaxation rates -->
<!--X-From-R13: "Sqjneq q'Ohiretar" &#60;rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Wed, 30 Apr 2014 17:17:34 +0200 -->
<!--X-Message-Id: CAED9pY9F7_&#45;s2tDvsYRv=2oyA4VN28NpzdAd4dv6eiZJ70mnGw@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20140429&#45;225947.sv20529.58155@gna.org -->
<!--X-Reference: CAED9pY_EqTXxWh&#45;UU9d3epa0JJG9UOR66kYNDzUCsQC59EO9Aw@mail.gmail.com -->
<!--X-Reference: 5360CDCF.8020809@chem.ox.ac.uk -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [sr #3155] An R1rho expression for a spin in chemical exchange between two sites with unequal transverse relaxation rates -- April 30, 2014 - 17:17</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: [sr #3155] An R1rho expression for a spin in chemical exchange between two sites with unequal transverse relaxation rates</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00151" class="tabs">Index by Date</a> | <a href="threads.html#00151" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00150.html">Date Prev</a>] [<a href="msg00152.html">Date Next</a>] [<a href="msg00135.html">Thread Prev</a>] [<a href="msg00138.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Andrew Baldwin &lt;andrew.baldwin@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Wed, 30 Apr 2014 17:16:42 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;Troels E. Linnet&quot; &lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt;, &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:date:message-id:subject :from:to:cc:content-type; bh=aDl0X77ji7V9I2zjkpM9Wu1/r3Sb6Q8cwNgVymL9BLY=; b=WIYD9+8qalbrRVv9Ercd1CfYKW0/EtWmmI+kGotM02igrjjw/SpZ7jXydGSulLeOCr 7TTdNEwxVxxWQ1XwxvLz5sYVoADivB+zzT1BJQ+H4lYWGt6JPldjTGcNjr0jqaMl5BD2 nvqfepLnjpY88IpFP2aTEJFU8bf+ssYiVq+IsjEPIfEU8LMpIzspCPE804XzB1mn7OuJ pOBqLENek+poh6ADENAt0pTE7Uiz9MErNrrlsotIBB9rv5i/VVy3AZ9VvCbndlDI40/z LTVfPVqNeMbX9J9z2tJAfhGODkKxZQdwArWLgFRzYAwb107vLSSbl/8Nj/f/TpLF5cGZ x1lQ==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;CAED9pY9F7_-s2tDvsYRv=2oyA4VN28NpzdAd4dv6eiZJ70mnGw@mail.gmail.com&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00120.html">20140429-225947.sv20529.58155@gna.org</a>&gt; &lt;<a href="msg00135.html">CAED9pY_EqTXxWh-UU9d3epa0JJG9UOR66kYNDzUCsQC59EO9Aw@mail.gmail.com</a>&gt; &lt;5360CDCF.8020809@chem.ox.ac.uk&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on April 30, 2014 - 17:17:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Andy,

Do you have code for this R1rho model?  It may help to have the code,
either to use it directly or for comparison and test suite purposes.
In relax, the implementation is in Python.  But as numpy is used, the
different between Python and C is minimal.  The fine details of the
implementation itself make more of a difference for speed than the
choice of language.

For the spin-lock offset, it is input and stored as ppm units.  The
ppm to rad.s^-1 conversion code is visible at
<a  rel="nofollow" href="http://www.nmr-relax.com/api/3.1/lib.nmr-pysrc.html#frequency_to_rad_per_s">http://www.nmr-relax.com/api/3.1/lib.nmr-pysrc.html#frequency_to_rad_per_s</a>.
 Then the w_eff values are calculated from this in the code at
<a  rel="nofollow" href="http://www.nmr-relax.com/api/3.1/specific_analyses.relax_disp.disp_data-pysrc.html#return_offset_data">http://www.nmr-relax.com/api/3.1/specific_analyses.relax_disp.disp_data-pysrc.html#return_offset_data</a>.
 Can you see a bug there?  Are you talking about the +/-
0.5*delta_omega factor for slow exchange?  Or the Korzhnev 2005
correction for constant time R1rho experiments (in the TODO list at
<a  rel="nofollow" href="http://www.nmr-relax.com/manual/do_dispersion_features_yet_be_implemented.html">http://www.nmr-relax.com/manual/do_dispersion_features_yet_be_implemented.html</a>,
hence it is not implemented yet).

CATIA is useful for the handling of CPMG off-resonace effects, but it
is limited to the models it supports.  It cannot handle MMQ data (this
is a shortcut for the combination of SQ, ZQ, DQ, and MQ data for both
the proton and heteronumcleus).  CATIA also does not handle R1rho data
or models.  Anyway, relax has a user function called
relax_disp.catia_input which can simplify the life of users by
creating the required CATIA input files.  There is even a
relax_disp.catia_execute user function to allow CATIA to be run from
within relax.  If a relax_disp.catia_extract user function is added,
then CATIA could be used as a replacement optimisation engine in relax
and the user will only need to have an executable CATIA binary in
their system path.  A similar set of user functions exist for Art
Palmer's CPMGFit, NESSY and ShereKhan.

For relax, the idea is to add the off-resonance support to a few of
the numeric models (not all as the Tollinger &amp; Skrynnikov Maple
expansion cannot support it).  This is in the todo list
(<a  rel="nofollow" href="http://www.nmr-relax.com/manual/do_dispersion_features_yet_be_implemented.html">http://www.nmr-relax.com/manual/do_dispersion_features_yet_be_implemented.html</a>).
 As no other dispersion software supports the scalar coupling and spin
flips, as far as I am aware, there are no plans or pressure to add
this.

Cheers,

Edward



On 30 April 2014 12:17, Andrew Baldwin &lt;andrew.baldwin@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">R1rho: Would you prefer python or C? Software seems a bit of a stretch.
People code up formulas and use them.

Note with R1rho there is a trick that is easily missed. I wondered when you
specify an offset to the program in Hz, how precisely your code deals with
that? Ie, how precisely do you use that number to get deltaA and OmegaA?
Probably you're doing it right, but I didn't see any mention of the trick,
which case me to be concerned.

Btw, I think your project is a good one! Particularly the intrinsic analysis
parts. If you incorporate a few more bits into the CPMG as i've ranted
previously, then I think you'll have made something genuinely useful. Catia
has everything in, but is a dog to use. Those in the Kay group with the
source code get it, but I think no-one outside that world has used it. Which
is a shame, as the papers with excited state structures etc that get people
interested in CPMG, come from that approach.

Best,

Andy.




On 30/04/2014 11:09, Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Hi Troels,

Maybe you should add this BK13 model, as well as B14
(<a  rel="nofollow" href="http://wiki.nmr-relax.com/B14">http://wiki.nmr-relax.com/B14</a>) to the TODO section of the dispersion
chapter of the relax manual?  It could also be added to the table in
the docs/latex/dispersion_software.tex file for completeness.  I am
unaware of any software which implements these models from Andy to add
ticks to that table (table 10.3 of
<a  rel="nofollow" href="http://download.gna.org/relax/manual/relax.pdf">http://download.gna.org/relax/manual/relax.pdf</a>).

Cheers,

Edward


On 30 April 2014 00:59, Troels E. Linnet
&lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

URL:
   &lt;<a  rel="nofollow" href="http://gna.org/support/?3155">http://gna.org/support/?3155</a>&gt;

                  Summary: An R1rho expression for a spin in chemical
exchange
between two sites with unequal transverse relaxation rates
                  Project: relax
             Submitted by: tlinnet
             Submitted on: Tue 29 Apr 2014 10:59:47 PM UTC
                 Category: None
                 Priority: 5 - Normal
                 Severity: 3 - Normal
                   Status: Postponed
              Assigned to: None
         Originator Email:
              Open/Closed: Open
          Discussion Lock: Any
         Operating System: None

     _______________________________________________________

Details:

In the interests of formula collection, this might be useful for R1rho:

An R1rho expression for a spin in chemical exchange between two sites
with
unequal transverse relaxation rates.
J. Biol. NMR (2013), 55:211-218
dx.doi.org/10.1007%2Fs10858-012-9694-6

It's applicable in the same regime as TP02
<a  rel="nofollow" href="http://wiki.nmr-relax.com/TP02">http://wiki.nmr-relax.com/TP02</a>

Except it will be correct when R2E is not equal to R2G, where other R1rho
models may trip up in this regime.




     _______________________________________________________

Reply to this item at:

   &lt;<a  rel="nofollow" href="http://gna.org/support/?3155">http://gna.org/support/?3155</a>&gt;

_______________________________________________
   Message sent via/by Gna!
   <a  rel="nofollow" href="http://gna.org/">http://gna.org/</a>


_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
</pre></blockquote></blockquote><pre style="margin: 0em;">


</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00120" href="msg00120.html">[sr #3155] An R1rho expression for a spin in chemical exchange between two sites with unequal transverse relaxation rates</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00135" href="msg00135.html">Re: [sr #3155] An R1rho expression for a spin in chemical exchange between two sites with unequal transverse relaxation rates</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Apr 30 17:20:18 2014</div>  
</body>
</html>
