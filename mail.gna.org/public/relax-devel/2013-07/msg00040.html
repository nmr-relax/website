<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Pulse miscalibration,	R1A and R1B in the fitting_main_kex.py script. -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 16 Jul 2013 17:41:01 +0200 -->
<!--X-Message-Id: CAED9pY&#45;TM_4EX9Mto6P01RPugoQ9Zk9qBLnhn0r_n3u=GDt3XQ@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CAED9pY8P5o_fFaCpQnnuZ6zS9vNBtkgOiu&#45;UZmKKVQ7BryDpjQ@mail.gmail.com -->
<!--X-Reference: 51E56212.9030802@ibs.fr -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Pulse miscalibration,	R1A and R1B in the fitting_main_kex.py script. -- July 16, 2013 - 17:41</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Pulse miscalibration,	R1A and R1B in the fitting_main_kex.py script.</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00040" class="tabs">Index by Date</a> | <a href="threads.html#00040" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00039.html">Date Prev</a>] [<a href="msg00041.html">Date Next</a>] [<a href="msg00039.html">Thread Prev</a>] [<a href="msg00043.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Dominique Marion (IBS)&quot; &lt;Dominique.Marion@xxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 16 Jul 2013 17:40:30 +0200</li>
<li class="menuitem">
<em>Cc</em>: mathilde lescanne &lt;mathilde.lescanne@xxxxxxxxx&gt;,	&quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;,	Paul Schanda &lt;paul.schanda@xxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:sender:in-reply-to:references:date	:x-google-sender-auth:message-id:subject:from:to:cc:content-type	:content-transfer-encoding;	bh=fqMhay/77jK5VWPHy59s4zAmaJAxiqtqIvrBdVQNdHY=;	b=AJURA68b4mDMEpcQ/QBZdK05KIn2MBKcTvsqCLv5/0VWbWiezLyot+MXep0MDcUjMG	7VYUiRyS67nfwjpU2n9cZGHmETpASVVCfIn9aoYptSb/QOEvG6UlbisXOaY0uxVdvR36	1SGl20rINCRPlzOalLscf+BCHFmuGyKdzIvBwRFj83biMS2ANPl+bSQYAcHJM+Jg3vHA	8XiXMImm+IuSGTxOsOGYzg1Ojux0C02L2jo7+hiFCx9g+UzYlVM6UNvujxf4pk9RiZS3	Ch1gjFghP9O9MKaSrfRcB9tyGt4G7YW0Wlu/cKlcd5PBBcqRLO7AAGJefsI+wJlB2Wyv	jitA==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00040.html">CAED9pY-TM_4EX9Mto6P01RPugoQ9Zk9qBLnhn0r_n3u=GDt3XQ@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;CAED9pY8P5o_fFaCpQnnuZ6zS9vNBtkgOiu-UZmKKVQ7BryDpjQ@xxxxxxxxxxxxxx&gt;	&lt;51E56212.9030802@xxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on July 16, 2013 - 17:41:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Cheers,

I'll leave all the functionality intact then, but just default to
zeros.  As the R2eff calculation and matrix construction is in the
relax library and a clean separation between it and the target
function code (for optimisation), the relaxation dispersion
auto-analysis (to simplify the analysis for users), GUI, and the
specific analysis code, the functions can be directly imported into
simulation scripts and used as is.  I have now simplified and speed up
most of this code.  Most speed ups are due to a large reduction in the
number of multiplications per target function call, simply by
performing the multiplication at the highest loop level and storing
the value as a variable.  As well as by minimisation numpy matrix
creation and destruction.  Additional large speed ups in the analysis
of experimental data are due to a switch from the scipy optimisation
algorithms to those of minfx (<a  rel="nofollow" href="http://gna.org/projects/minfx/">http://gna.org/projects/minfx/</a>).

Regards,

Edward

On 16 July 2013 17:09, Dominique Marion (IBS) &lt;Dominique.Marion@xxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hello,

We have found useful to carry out some simulations with the same equations
to figure out the influence of some parameters.  You are right, the train of
180ยบ pulses can be miscalibrated and the rf coil can be highly
inhomogeneous.  If the CPMG pulses differ from 180ยบ, then the spins spend
some fraction of time along the z-axis. In the case of slow tumbling
proteins, the difference between R1 and R2 may become quite large. Whether
the small oscillations observed for some CPMG profiles originate from
imperfect 180ยบ remains to be demonstrated.

Cheers,

Dominique



On 16/7/13 16:35 , Edward d'Auvergne wrote:

Hello,

I'm now copying in the function returned by MakeFunction when a==1
into relax.  I have noticed that this has the ability to handle
miscalibrated pulses via the R180_3Dx() function, however the pi-pulse
angle is 180 + a degrees, where a is hardcoded to 0.0 degrees.  Is
this a planned future feature?

It is also not clear how the R1 relaxation rates for states G and E
(or A and B) are used.  Is the aim to have R1G (per spin), R1E (per
spin), and the pulse angle (all per magnetic field strength) as
optimisable parameters of the model?  For the current implementation,
I will just set these all to hardcoded values of zero, as neither
relax nor the fitting_main_kex.py script appear to use these.

Cheers,

Edward



_______________________________________________
relax (<a  rel="nofollow" href="/">http://www.nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="/mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>

</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00043" href="msg00043.html">Re: Pulse miscalibration, R1A and R1B in the fitting_main_kex.py	script.</a></strong>
<ul><li><em>From:</em> Paul Schanda</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00038" href="msg00038.html">Pulse miscalibration, R1A and R1B in the fitting_main_kex.py script.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00039" href="msg00039.html">Re: Pulse miscalibration, R1A and R1B in the fitting_main_kex.py	script.</a></strong>
<ul><li><em>From:</em> Dominique Marion (IBS)</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Jul 16 18:20:08 2013</div>  
</body>
</html>
