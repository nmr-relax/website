<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: numeric values of d and c -->
<!--X-From-R13: Egrsnab Zhpvnab Qvheyv &#60;fgrsnab.pvheyvNhavob.vg> -->
<!--X-Date: Tue, 18 Mar 2014 17:06:12 +0100 -->
<!--X-Message-Id: DF2C0E91&#45;4BEC&#45;4C91&#45;8AA8&#45;4365093182EF@unibo.it -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: B26484E7&#45;DEA1&#45;40E7&#45;B4CB&#45;06F92E64BD2D@unibo.it -->
<!--X-Reference: CAED9pY_oqMEsdXhdEsXmZH7Wf&#45;9Vj_e8KsuODOxO9drtJWfXpA@mail.gmail.com -->
<!--X-Reference: 486C3C57&#45;73B9&#45;411F&#45;89F5&#45;4BB7882A37AF@unibo.it -->
<!--X-Reference: CAED9pY8HhfRsNpeyzCDt_nevuYsK3H5TDjvPF0zMuC4OUXSfLQ@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: numeric values of d and c -- March 18, 2014 - 17:06</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: numeric values of d and c</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00033" class="tabs">Index by Date</a> | <a href="threads.html#00033" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00032.html">Date Prev</a>] [<a href="msg00034.html">Date Next</a>] [<a href="msg00029.html">Thread Prev</a>] [<a href="msg00034.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 18 Mar 2014 16:06:00 +0000</li>
<li class="menuitem">
<em>Accept-language</em>: it-IT, en-US</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00033.html">DF2C0E91-4BEC-4C91-8AA8-4365093182EF@unibo.it</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00015.html">B26484E7-DEA1-40E7-B4CB-06F92E64BD2D@unibo.it</a>&gt; &lt;<a href="msg00025.html">CAED9pY_oqMEsdXhdEsXmZH7Wf-9Vj_e8KsuODOxO9drtJWfXpA@mail.gmail.com</a>&gt; &lt;<a href="msg00028.html">486C3C57-73B9-411F-89F5-4BB7882A37AF@unibo.it</a>&gt; &lt;<a href="msg00029.html">CAED9pY8HhfRsNpeyzCDt_nevuYsK3H5TDjvPF0zMuC4OUXSfLQ@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>Thread-index</em>: AQHPQoklrEUqgXX8e0COGY6AiGyGGZrm8hOA</li>
<li class="menuitem">
<em>Thread-topic</em>: numeric values of d and c</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Stefano Luciano Ciurli</strong> on March 18, 2014 - 17:06:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Edward,
thank you for the exhaustive answer.
I have saved the script as a filename.py file in the 
/relax/Contents/Resources/user_functions directory and tried to run in from 
within relax using the menu user functions (n-z) -&gt; script
However, it does not appear to do anything.
Any hint?
Stefano

On Mar 18, 2014, at 10:04 AM, Edward d'Auvergne wrote:

# Python module imports.
from numpy import float64, zeros

# relax module imports.
from lib.auto_relaxation.ri_comps import calc_fixed_csa,
calc_fixed_dip, comp_csa_const_func, comp_dip_const_func
from lib.physical_constants import h_bar, mu0, return_gyromagnetic_ratio


class Data:
   &quot;&quot;&quot;Dummy class for storing data.&quot;&quot;&quot;

# Initialise the data container.
data = Data()

# The spectrometer frequency (Hz).
frq = 500e6

# The dynamically averaged bond length (m) and chemical shift tensor 
anisotropy.
r = 1.02e-10
csa = -172e-6

# Add the needed physical constants to the data storage.
data.gx = return_gyromagnetic_ratio('15N')
data.gh = return_gyromagnetic_ratio('1H')
data.mu0 = mu0
data.h_bar = h_bar

# The number of frequencies.
data.num_frq = 1

# Initialise dipolar and CSA data structures.
data.dip_const_fixed = 0.0
data.csa_const_fixed = [0.0]
data.dip_const_func = 0.0
data.csa_const_func = zeros(1, float64)

# Nuclear frequencies.
frq = frq * 2 * pi
frqX = frq * data.gx / data.gh

# Calculate the five frequencies which cause R1, R2, and NOE relaxation.
data.frq_list = zeros((1, 5), float64)
data.frq_list[0, 1] = frqX
data.frq_list[0, 2] = frq - frqX
data.frq_list[0, 3] = frq
data.frq_list[0, 4] = frq + frqX
data.frq_sqrd_list = data.frq_list ** 2

# Calculate the fixed component of the dipolar and CSA constants.
calc_fixed_dip(data)
calc_fixed_csa(data)

# Calculate the dipolar and CSA constants.
comp_dip_const_func(data, r)
comp_csa_const_func(data, csa)

# Rename the dipolar and CSA constants.
d = data.dip_const_func
c = data.csa_const_func[0]

# Printout.
print(&quot;d: %s&quot; % d)
print(&quot;c: %s&quot; % c)



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00034" href="msg00034.html">Re: numeric values of d and c</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00015" href="msg00015.html">error message</a></strong>
<ul><li><em>From:</em> Stefano Luciano Ciurli</li></ul></li>
<li><strong><a name="00025" href="msg00025.html">Re: error message</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00028" href="msg00028.html">numeric values of d and c</a></strong>
<ul><li><em>From:</em> Stefano Luciano Ciurli</li></ul></li>
<li><strong><a name="00029" href="msg00029.html">Re: numeric values of d and c</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Mar 18 17:20:18 2014</div>  
</body>
</html>
