<!-- MHonArc v2.6.18 -->
<!--X-Subject: r26647 &#45; in /website/manual: align_tensor_matrix_angles.html align_tensor_svd.html -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Thu, 20 Nov 2014 10:15:49 +0100 -->
<!--X-Message-Id: E1XrNq9&#45;0001IZ&#45;Hi@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r26647 - in /website/manual: align_tensor_matrix_angles.html align_tensor_svd.html -- November 20, 2014 - 10:15</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r26647 - in /website/manual: align_tensor_matrix_angles.html align_tensor_svd.html</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00251" class="tabs">Index by Date</a> | <a href="threads.html#00251" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00250.html">Date Prev</a>] [<a href="msg00252.html">Date Next</a>] [<a href="msg00250.html">Thread Prev</a>] [<a href="msg00252.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Thu, 20 Nov 2014 09:15:49 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00251.html">E1XrNq9-0001IZ-Hi@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on November 20, 2014 - 10:15:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Thu Nov 20 10:15:48 2014
New Revision: 26647

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=26647&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=26647&amp;view=rev</a>
Log:
Updated the relax user manual HTML documentation for the align_tensor user 
function changes.

This is for <a  rel="nofollow" href="http://www.nmr-relax.com/manual/align_tensor_matrix_angles.html">http://www.nmr-relax.com/manual/align_tensor_matrix_angles.html</a> 
and
<a  rel="nofollow" href="http://www.nmr-relax.com/manual/align_tensor_svd.html">http://www.nmr-relax.com/manual/align_tensor_svd.html</a>.  The pages are being 
updated as a test of the
new text.


Modified:
    website/manual/align_tensor_matrix_angles.html
    website/manual/align_tensor_svd.html

Modified: website/manual/align_tensor_matrix_angles.html
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/website/manual/align_tensor_matrix_angles.html?rev=26647&amp;r1=26646&amp;r2=26647&amp;view=diff">http://svn.gna.org/viewcvs/relax/website/manual/align_tensor_matrix_angles.html?rev=26647&amp;r1=26646&amp;r2=26647&amp;view=diff</a>
==============================================================================
--- website/manual/align_tensor_matrix_angles.html      (original)
+++ website/manual/align_tensor_matrix_angles.html      Thu Nov 20 10:15:48 
2014
@@ -112,7 +112,7 @@
 &lt;/H3&gt;
 
 &lt;P&gt;
-Calculate the 5D angles&lt;A NAME=&quot;30759&quot;&gt;&lt;/A&gt; between all alignment tensors.
+Calculate the angles&lt;A NAME=&quot;30759&quot;&gt;&lt;/A&gt; between all alignment tensors.
 
 &lt;P&gt;
 
@@ -122,7 +122,7 @@
 
 &lt;P&gt;
 &lt;DIV ALIGN=&quot;LEFT&quot;&gt;
-&lt;SPAN  CLASS=&quot;textsf&quot;&gt;&lt;SPAN  
CLASS=&quot;textbf&quot;&gt;align_tensor.matrix_angles&lt;/SPAN&gt;(basis_set=0, 
tensors=None)&lt;/SPAN&gt;
+&lt;SPAN  CLASS=&quot;textsf&quot;&gt;&lt;SPAN  
CLASS=&quot;textbf&quot;&gt;align_tensor.matrix_angles&lt;/SPAN&gt;(basis_set=`matrix', 
tensors=None, angle_units=`deg', precision=1)&lt;/SPAN&gt;
 
 &lt;/DIV&gt;
 
@@ -139,15 +139,110 @@
  &lt;SPAN  CLASS=&quot;textsf&quot;&gt;tensors:&lt;/SPAN&gt;  A list of the tensors to apply the 
calculation to.  If None, all tensors are used.
 
 &lt;P&gt;
+ &lt;SPAN  CLASS=&quot;textsf&quot;&gt;angle_units:&lt;/SPAN&gt;  The units for the angle&lt;A 
NAME=&quot;30771&quot;&gt;&lt;/A&gt; parameters, either `&lt;TT&gt;deg&lt;/TT&gt;' or `&lt;TT&gt;rad&lt;/TT&gt;'.
+ 
+&lt;P&gt;
+ &lt;SPAN  CLASS=&quot;textsf&quot;&gt;precision:&lt;/SPAN&gt;  The precision of the printed out 
angles.&lt;A NAME=&quot;30776&quot;&gt;&lt;/A&gt;  The number corresponds to the number of figures 
to print after the decimal point.
+
+&lt;P&gt;
 
 &lt;H3&gt;&lt;A NAME=&quot;SECTION08129400000000000000&quot;&gt;
 Description&lt;/A&gt;
 &lt;/H3&gt;
 
 &lt;P&gt;
-This will calculate the angles&lt;A NAME=&quot;30770&quot;&gt;&lt;/A&gt; between all loaded 
alignment tensors for the current data pipe.  The matrices are first 
converted to a 5D vector form and then then angles&lt;A NAME=&quot;30771&quot;&gt;&lt;/A&gt; are 
calculated.  The angles&lt;A NAME=&quot;30772&quot;&gt;&lt;/A&gt; are dependent on the basis set.  
If the basis set is set to the default of 0, the vectors {Sxx, Syy, Sxy, Sxz, 
Syz} are used.  If the basis set is set to 1, the vectors {Szz, Sxxyy, Sxy, 
Sxz, Syz} are used instead.
-
-&lt;P&gt;
+
+This will calculate the inter-matrix angles&lt;A NAME=&quot;30778&quot;&gt;&lt;/A&gt; between all 
loaded alignment tensors for the current data pipe.  For the vector basis 
sets, the matrices are first mapped&lt;A NAME=&quot;30779&quot;&gt;&lt;/A&gt; to vector form and 
then then the inter-vector angles&lt;A NAME=&quot;30780&quot;&gt;&lt;/A&gt; rather than 
inter-matrix angles&lt;A NAME=&quot;30781&quot;&gt;&lt;/A&gt; are calculated.  The angles&lt;A 
NAME=&quot;30782&quot;&gt;&lt;/A&gt; are dependent upon the basis set - linear maps&lt;A 
NAME=&quot;30783&quot;&gt;&lt;/A&gt; produce identical results whereas non-linear maps&lt;A 
NAME=&quot;30784&quot;&gt;&lt;/A&gt; result in different angles.&lt;A NAME=&quot;30785&quot;&gt;&lt;/A&gt;  The basis 
set can be one of:
+
+&lt;P&gt;
+
+&lt;DL&gt;
+&lt;DT&gt;&lt;STRONG&gt;`&lt;TT&gt;matrix&lt;/TT&gt;' -&lt;/STRONG&gt;&lt;/DT&gt;
+&lt;DD&gt;The standard inter-matrix angles.&lt;A NAME=&quot;30788&quot;&gt;&lt;/A&gt;  This default 
option is a linear map,&lt;A NAME=&quot;30789&quot;&gt;&lt;/A&gt; hence angles&lt;A NAME=&quot;30790&quot;&gt;&lt;/A&gt; 
are preserved.  The angle&lt;A NAME=&quot;30791&quot;&gt;&lt;/A&gt; is calculated via the arccos of 
the Euclidean inner product of the alignment matrices in rank-2, 3D form 
divided by the Frobenius norm ||A||_F of the matrices.
+  
+&lt;/DD&gt;
+&lt;DT&gt;&lt;STRONG&gt;`&lt;TT&gt;irreducible 5D&lt;/TT&gt;' -&lt;/STRONG&gt;&lt;/DT&gt;
+&lt;DD&gt;The inter-tensor vector angles&lt;A NAME=&quot;30793&quot;&gt;&lt;/A&gt; for the irreducible 
spherical tensor 5D basis set {A-2, A-1, A0, A1, A2}.  This is a linear 
map,&lt;A NAME=&quot;30794&quot;&gt;&lt;/A&gt; hence angles&lt;A NAME=&quot;30795&quot;&gt;&lt;/A&gt; are preserved.  
These are the spherical harmonic decomposition coefficients.
+  
+&lt;/DD&gt;
+&lt;DT&gt;&lt;STRONG&gt;`&lt;TT&gt;unitary 9D&lt;/TT&gt;' -&lt;/STRONG&gt;&lt;/DT&gt;
+&lt;DD&gt;The inter-tensor vector angles&lt;A NAME=&quot;30797&quot;&gt;&lt;/A&gt; for the unitary 9D 
basis set {Sxx, Sxy, Sxz, Syx, Syy, Syz, Szx, Szy, Szz}.  This is a linear 
map,&lt;A NAME=&quot;30798&quot;&gt;&lt;/A&gt; hence angles&lt;A NAME=&quot;30799&quot;&gt;&lt;/A&gt; are preserved.
+  
+&lt;/DD&gt;
+&lt;DT&gt;&lt;STRONG&gt;`&lt;TT&gt;unitary 5D&lt;/TT&gt;' -&lt;/STRONG&gt;&lt;/DT&gt;
+&lt;DD&gt;The inter-tensor vector angles&lt;A NAME=&quot;30801&quot;&gt;&lt;/A&gt; for the unitary 5D 
basis set {Sxx, Syy, Sxy, Sxz, Syz}.  This is a non-linear map,&lt;A 
NAME=&quot;30802&quot;&gt;&lt;/A&gt; hence angles&lt;A NAME=&quot;30803&quot;&gt;&lt;/A&gt; are not preserved.
+  
+&lt;/DD&gt;
+&lt;DT&gt;&lt;STRONG&gt;`&lt;TT&gt;geometric 5D&lt;/TT&gt;' -&lt;/STRONG&gt;&lt;/DT&gt;
+&lt;DD&gt;The inter-tensor vector angles&lt;A NAME=&quot;30805&quot;&gt;&lt;/A&gt; for the geometric 5D 
basis set {Szz, Sxxyy, Sxy, Sxz, Syz}.  This is a non-linear map,&lt;A 
NAME=&quot;30806&quot;&gt;&lt;/A&gt; hence angles&lt;A NAME=&quot;30807&quot;&gt;&lt;/A&gt; are not preserved.  This 
is also the Pales standard notation.
+&lt;/DD&gt;
+&lt;/DL&gt;
+
+&lt;P&gt;
+The full matrix angle&lt;A NAME=&quot;30809&quot;&gt;&lt;/A&gt; via the Euclidean inner product is 
defined as
+
+&lt;P&gt;
+&lt;PRE&gt;
+                   /   &amp;lt;A1 , A2&amp;gt;   \ 
+    theta = arccos | ------------- | ,
+                   \ ||A1||.||A2|| /
+&lt;/PRE&gt;
+
+&lt;P&gt;
+where &amp;lt;a,b&amp;gt; is the Euclidean inner product and ||a|| is the Frobenius 
norm of the matrix.  For the irreducible spherical tensor 5D basis set, the 
Am components are defined as
+
+&lt;P&gt;
+&lt;PRE&gt;
+            / 4pi \ 1/2
+       A0 = | --- |     Szz ,
+            \  5  /
+
+                / 8pi \ 1/2
+    A+/-1 = +/- | --- |     (Sxz +/- iSyz) ,
+                \ 15  /
+
+            / 2pi \ 1/2
+    A+/-2 = | --- |     (Sxx - Syy +/- 2iSxy) ,
+            \ 15  /
+&lt;/PRE&gt;
+
+&lt;P&gt;
+and, for this complex notation, the angle&lt;A NAME=&quot;30814&quot;&gt;&lt;/A&gt; is
+
+&lt;P&gt;
+&lt;PRE&gt;
+                   / Re(&amp;lt;A1|A2&amp;gt;) \ 
+    theta = arccos | ----------- | ,
+                   \  |A1|.|A2|  /
+&lt;/PRE&gt;
+
+&lt;P&gt;
+where the inner product is defined as
+
+&lt;P&gt;
+&lt;PRE&gt;
+               ___
+               \      1    2*
+    &amp;lt;A1|A2&amp;gt; =   &amp;gt;   Am . Am   ,
+               /__
+              m=-2,2
+&lt;/PRE&gt;
+
+&lt;P&gt;
+and where Am* = (-1)Ëm A-m, and the norm is defined as |A1| = 
Re(sqrt(&amp;lt;A1|A1&amp;gt;)).  For all other basis sets whereby the map&lt;A 
NAME=&quot;30820&quot;&gt;&lt;/A&gt; is real matrix -&amp;gt; real vector, the inter-tensor angle&lt;A 
NAME=&quot;30821&quot;&gt;&lt;/A&gt; is defined as
+
+&lt;P&gt;
+&lt;PRE&gt;
+                   /  &amp;lt;A1|A2&amp;gt;  \ 
+    theta = arccos | --------- | ,
+                   \ |A1|.|A2| /
+&lt;/PRE&gt;
+
+&lt;P&gt;
+where the inner product &amp;lt;A1|A2&amp;gt; is simply the vector dot product and 
|A1| is the vector length.
+
+&lt;P&gt;
+
 
 &lt;BR&gt;
 

Modified: website/manual/align_tensor_svd.html
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/website/manual/align_tensor_svd.html?rev=26647&amp;r1=26646&amp;r2=26647&amp;view=diff">http://svn.gna.org/viewcvs/relax/website/manual/align_tensor_svd.html?rev=26647&amp;r1=26646&amp;r2=26647&amp;view=diff</a>
==============================================================================
--- website/manual/align_tensor_svd.html        (original)
+++ website/manual/align_tensor_svd.html        Thu Nov 20 10:15:48 2014
@@ -122,7 +122,7 @@
 
 &lt;P&gt;
 &lt;DIV ALIGN=&quot;LEFT&quot;&gt;
-&lt;SPAN  CLASS=&quot;textsf&quot;&gt;&lt;SPAN  
CLASS=&quot;textbf&quot;&gt;align_tensor.svd&lt;/SPAN&gt;(basis_set=0, tensors=None)&lt;/SPAN&gt;
+&lt;SPAN  CLASS=&quot;textsf&quot;&gt;&lt;SPAN  
CLASS=&quot;textbf&quot;&gt;align_tensor.svd&lt;/SPAN&gt;(basis_set=`irreducible 5D', 
tensors=None, precision=4)&lt;/SPAN&gt;
 
 &lt;/DIV&gt;
 
@@ -139,13 +139,66 @@
  &lt;SPAN  CLASS=&quot;textsf&quot;&gt;tensors:&lt;/SPAN&gt;  A list of the tensors to apply the 
calculation to.  If None, all tensors are used.
 
 &lt;P&gt;
+ &lt;SPAN  CLASS=&quot;textsf&quot;&gt;precision:&lt;/SPAN&gt;  The precision of the printed out 
singular values and condition numbers.  The number corresponds to the number 
of figures to print after the decimal point.
+ 
+&lt;P&gt;
 
 &lt;H3&gt;&lt;A NAME=&quot;SECTION081212400000000000000&quot;&gt;
 Description&lt;/A&gt;
 &lt;/H3&gt;
 
 &lt;P&gt;
-This will perform a singular value decomposition of all tensors loaded for 
the current data pipe.  If the basis set is set to the default of 0, the 
matrix on which SVD will be performed is composed of the unitary basis set 
{Sxx, Syy, Sxy, Sxz, Syz} layed out as:
+This will perform a singular value decomposition for all alignment tensors 
and calculate the condition number.  The singular values and condition number 
are dependent on the basis set - linear maps&lt;A NAME=&quot;30889&quot;&gt;&lt;/A&gt; produce 
identical results whereas non-linear maps&lt;A NAME=&quot;30890&quot;&gt;&lt;/A&gt; result in 
different values.  The basis set can be one of:
+
+&lt;P&gt;
+&lt;DL&gt;
+&lt;DT&gt;&lt;STRONG&gt;`&lt;TT&gt;irreducible 5D&lt;/TT&gt;' -&lt;/STRONG&gt;&lt;/DT&gt;
+&lt;DD&gt;The irreducible spherical tensor 5D basis set {A-2, A-1, A0, A1, A2}.  
This is a linear map,&lt;A NAME=&quot;30893&quot;&gt;&lt;/A&gt; hence angles,&lt;A NAME=&quot;30894&quot;&gt;&lt;/A&gt; 
singular values, and condition number are preserved.  These are the spherical 
harmonic decomposition coefficients.
+  
+&lt;/DD&gt;
+&lt;DT&gt;&lt;STRONG&gt;`&lt;TT&gt;unitary 9D&lt;/TT&gt;' -&lt;/STRONG&gt;&lt;/DT&gt;
+&lt;DD&gt;The unitary 9D basis set {Sxx, Sxy, Sxz, Syx, Syy, Syz, Szx, Szy, Szz}.  
This is a linear map,&lt;A NAME=&quot;30896&quot;&gt;&lt;/A&gt; hence angles,&lt;A NAME=&quot;30897&quot;&gt;&lt;/A&gt; 
singular values, and condition number are preserved.
+  
+&lt;/DD&gt;
+&lt;DT&gt;&lt;STRONG&gt;`&lt;TT&gt;unitary 5D&lt;/TT&gt;' -&lt;/STRONG&gt;&lt;/DT&gt;
+&lt;DD&gt;The unitary 5D basis set {Sxx, Syy, Sxy, Sxz, Syz}.  This is a 
non-linear map,&lt;A NAME=&quot;30899&quot;&gt;&lt;/A&gt; hence angles,&lt;A NAME=&quot;30900&quot;&gt;&lt;/A&gt; 
singular values, and condition number are not preserved.
+  
+&lt;/DD&gt;
+&lt;DT&gt;&lt;STRONG&gt;`&lt;TT&gt;geometric 5D&lt;/TT&gt;' -&lt;/STRONG&gt;&lt;/DT&gt;
+&lt;DD&gt;The geometric 5D basis set {Szz, Sxxyy, Sxy, Sxz, Syz}.  This is a 
non-linear map,&lt;A NAME=&quot;30902&quot;&gt;&lt;/A&gt; hence angles,&lt;A NAME=&quot;30903&quot;&gt;&lt;/A&gt; 
singular values, and condition number are not preserved.  This is also the 
Pales standard notation.
+&lt;/DD&gt;
+&lt;/DL&gt;
+
+&lt;P&gt;
+If the selected basis set is the default of `&lt;TT&gt;irreducible 5D&lt;/TT&gt;', the 
matrix on which SVD will be performed will be:
+
+&lt;P&gt;
+&lt;PRE&gt;
+    | A-2(1) A-1(1) A0(1)  A1(1)  A2(1) |
+    | A-2(2) A-1(2) A0(2)  A1(2)  A2(2) |
+    | A-2(3) A-1(3) A0(3)  A1(3)  A2(3) |
+    |   .      .     .      .      .    |
+    |   .      .     .      .      .    |
+    |   .      .     .      .      .    |
+    | A-2(N) A-1(N) A0(N)  A1(N)  A2(N) |
+&lt;/PRE&gt;
+
+&lt;P&gt;
+If the selected basis set is `&lt;TT&gt;unitary 9D&lt;/TT&gt;', the matrix on which SVD 
will be performed will be:
+
+&lt;P&gt;
+&lt;PRE&gt;
+    | Sxx1 Sxy1 Sxz1 Syx1 Syy1 Syz1 Szx1 Szy1 Szz1 |
+    | Sxx2 Sxy2 Sxz2 Syx2 Syy2 Syz2 Szx2 Szy2 Szz2 |
+    | Sxx3 Sxy3 Sxz3 Syx3 Syy3 Syz3 Szx3 Szy3 Szz3 |
+    |  .    .    .    .    .    .    .    .    .   |
+    |  .    .    .    .    .    .    .    .    .   |
+    |  .    .    .    .    .    .    .    .    .   |
+    | SxxN SxyN SxzN SyxN SyyN SyzN SzxN SzyN SzzN |
+&lt;/PRE&gt;
+
+&lt;P&gt;
+Otherwise if the selected basis set is `&lt;TT&gt;unitary 5D&lt;/TT&gt;', the matrix for 
SVD is:
 
 &lt;P&gt;
 &lt;PRE&gt;
@@ -159,7 +212,7 @@
 &lt;/PRE&gt;
 
 &lt;P&gt;
-If basis_set is set to 1, the geometric basis set consisting of the 
stretching and skewing parameters Szz and Sxx-yy respectively {Szz, Sxxyy, 
Sxy, Sxz, Syz} will be used instead.  The matrix is:
+Or if the selected basis set is `&lt;TT&gt;geometric 5D&lt;/TT&gt;', the stretching and 
skewing parameters Szz and Sxx-yy will be used instead and the matrix is:
 
 &lt;P&gt;
 &lt;PRE&gt;
@@ -173,17 +226,33 @@
 &lt;/PRE&gt;
 
 &lt;P&gt;
-The relationships between the geometric and unitary basis sets are:
+For the irreducible spherical tensor basis set, the Am components are 
defined as
+
+
+&lt;P&gt;
+&lt;PRE&gt;
+            / 4pi \ 1/2
+       A0 = | --- |     Szz ,
+            \  5  /
+
+                / 8pi \ 1/2
+    A+/-1 = +/- | --- |     (Sxz +/- iSyz) ,
+                \ 15  /
+
+            / 2pi \ 1/2
+    A+/-2 = | --- |     (Sxx - Syy +/- 2iSxy) .
+            \ 15  /
+&lt;/PRE&gt;
+
+&lt;P&gt;
+The relationships between the geometric and unitary basis sets are
 
 &lt;P&gt;
 &lt;PRE&gt;
     Szz = - Sxx - Syy,
-    Sxxyy = Sxx - Syy,
-&lt;/PRE&gt;
-
-&lt;P&gt;
-The SVD values and condition number are dependent upon the basis set chosen.
-
+    Sxxyy = Sxx - Syy.
+&lt;/PRE&gt;
+ 
 &lt;P&gt;
 
 &lt;BR&gt;



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Nov 20 11:20:02 2014</div>  
</body>
</html>
