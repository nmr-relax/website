<!-- MHonArc v2.6.16 -->
<!--X-Subject: r19536 &#45; in /branches/relax_disp: ./ gui/analyses/	gui/analyses/elements/ -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Sun, 21 Apr 2013 15:29:07 +0200 -->
<!--X-Message-Id: E1UTuKJ&#45;00035A&#45;HT@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r19536 - in /branches/relax_disp: ./ gui/analyses/	gui/analyses/elements/ -- April 21, 2013 - 15:29</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r19536 - in /branches/relax_disp: ./ gui/analyses/	gui/analyses/elements/</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00255" class="tabs">Index by Date</a> | <a href="threads.html#00255" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00254.html">Date Prev</a>] [<a href="msg00256.html">Date Next</a>] [<a href="msg00254.html">Thread Prev</a>] [<a href="msg00256.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Sun, 21 Apr 2013 13:29:07 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00255.html">E1UTuKJ-00035A-HT@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on April 21, 2013 - 15:29:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Sun Apr 21 15:29:07 2013
New Revision: 19536

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=19536&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=19536&amp;view=rev</a>
Log:
Merged revisions 19533-19535 via svnmerge from 
svn+ssh://bugman@xxxxxxxxxxx/svn/relax/trunk

........
  r19533 | bugman | 2013-04-21 15:11:53 +0200 (Sun, 21 Apr 2013) | 5 lines
  
  The Text_ctrl analysis frame GUI elements  now have separate tooltips for 
the buttons.
  
  This is to give a hint to the user as to what the button does.
........
  r19534 | bugman | 2013-04-21 15:13:32 +0200 (Sun, 21 Apr 2013) | 3 lines
  
  The model selection GUI analysis element can now have a different tooltip 
for the button.
........
  r19535 | bugman | 2013-04-21 15:18:56 +0200 (Sun, 21 Apr 2013) | 3 lines
  
  Added tooltips to the model-free model list GUI elements in the model-free 
analysis frame.
........

Modified:
    branches/relax_disp/   (props changed)
    branches/relax_disp/gui/analyses/auto_model_free.py
    branches/relax_disp/gui/analyses/auto_noe.py
    branches/relax_disp/gui/analyses/auto_rx_base.py
    branches/relax_disp/gui/analyses/base.py
    branches/relax_disp/gui/analyses/elements/model_list.py
    branches/relax_disp/gui/analyses/elements/text_element.py

Propchange: branches/relax_disp/
------------------------------------------------------------------------------
--- svnmerge-integrated (original)
+++ svnmerge-integrated Sun Apr 21 15:29:07 2013
@@ -1,1 +1,1 @@
-/trunk:1-19531
+/trunk:1-19535

Modified: branches/relax_disp/gui/analyses/auto_model_free.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/gui/analyses/auto_model_free.py?rev=19536&amp;r1=19535&amp;r2=19536&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/relax_disp/gui/analyses/auto_model_free.py?rev=19536&amp;r1=19535&amp;r2=19536&amp;view=diff</a>
==============================================================================
--- branches/relax_disp/gui/analyses/auto_model_free.py (original)
+++ branches/relax_disp/gui/analyses/auto_model_free.py Sun Apr 21 15:29:07 
2013
@@ -511,7 +511,7 @@
         Text_ctrl(box, self, text=&quot;The data pipe bundle:&quot;, 
default=self.data.pipe_bundle, tooltip=&quot;This is the data pipe bundle 
associated with this analysis.&quot;, editable=False, width_text=self.width_text, 
width_button=self.width_button, spacer=self.spacer_horizontal)
 
         # Add the results directory GUI element.
-        self.field_results_dir = Text_ctrl(box, self, text=&quot;Results 
directory:&quot;, icon=paths.icon_16x16.open_folder, default=self.data.save_dir, 
tooltip=&quot;The directory in which all automatically created files will be 
saved.&quot;, fn=self.results_directory, button=True, width_text=self.width_text, 
width_button=self.width_button, spacer=self.spacer_horizontal)
+        self.field_results_dir = Text_ctrl(box, self, text=&quot;Results 
directory:&quot;, icon=paths.icon_16x16.open_folder, default=self.data.save_dir, 
tooltip=&quot;The directory in which all automatically created files will be 
saved.&quot;, tooltip_button=&quot;Select the results directory.&quot;, 
fn=self.results_directory, button=True, width_text=self.width_text, 
width_button=self.width_button, spacer=self.spacer_horizontal)
 
         # Add the spin GUI element.
         self.add_spin_systems(box, self)
@@ -541,7 +541,7 @@
         self.max_iter = Spin_ctrl(box, self, text=&quot;Maximum interations:&quot;, 
default=self.data.max_iter, tooltip=&quot;The maximum number of iterations for the 
protocol.  This is the limit for the global looping over the optimisation of 
the model-free models, model elimination, model selection and then 
optimisation of the diffusion tensor.&quot;, min=25, max=100, 
width_text=self.width_text, width_button=self.width_button, 
spacer=self.spacer_horizontal)
 
         # The calculation mode.
-        self.mode = Text_ctrl(box, self, text=&quot;Protocol mode:&quot;, 
default='Fully automated', tooltip=&quot;Select if the dauvergne_protocol analysis 
will be fully automated or whether the individual global models will be 
optimised separately.&quot;, icon=paths.icon_16x16.system_run, 
fn=self.mode_dialog, editable=False, button=True, width_text=self.width_text, 
width_button=self.width_button, spacer=self.spacer_horizontal)
+        self.mode = Text_ctrl(box, self, text=&quot;Protocol mode:&quot;, 
default='Fully automated', tooltip=&quot;Select if the dauvergne_protocol analysis 
will be fully automated or whether the individual global models will be 
optimised separately.&quot;, tooltip_button=&quot;Open the protocol mode selection 
window.&quot;, icon=paths.icon_16x16.system_run, fn=self.mode_dialog, 
editable=False, button=True, width_text=self.width_text, 
width_button=self.width_button, spacer=self.spacer_horizontal)
 
         # Stretchable spacing (with a minimal space).
         box.AddSpacer(30)
@@ -843,6 +843,8 @@
     ]
     warning = &quot;The model-free models used in dauvergne_protocol 
auto-analysis should almost never be changed!  The consequences will be 
unpredictable.  Please proceed only if you are sure of what you are doing.  
Would you like to modify the model-free model list?&quot;
     red_flag = True
+    tooltip = u&quot;The list model-free models with the local \u03C4m parameter 
to optimise as the first step of the protocol (see the about window for 
details).  This really should not be changed.&quot;
+    tooltip_button = &quot;Open the model list selector window.&quot;
 
 
 
@@ -877,6 +879,8 @@
     ]
     warning = &quot;The model-free models used in dauvergne_protocol 
auto-analysis should almost never be changed!  The consequences will be 
unpredictable.  Please proceed only if you are sure of what you are doing.  
Would you like to modify the model-free model list?&quot;
     red_flag = True
+    tooltip = &quot;The list model-free models to optimise as the iterative part 
of the protocol (see the about window for details).  This really should not 
be changed.&quot;
+    tooltip_button = &quot;Open the model list selector window.&quot;
 
 
 

Modified: branches/relax_disp/gui/analyses/auto_noe.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/gui/analyses/auto_noe.py?rev=19536&amp;r1=19535&amp;r2=19536&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/relax_disp/gui/analyses/auto_noe.py?rev=19536&amp;r1=19535&amp;r2=19536&amp;view=diff</a>
==============================================================================
--- branches/relax_disp/gui/analyses/auto_noe.py (original)
+++ branches/relax_disp/gui/analyses/auto_noe.py Sun Apr 21 15:29:07 2013
@@ -203,7 +203,7 @@
         self.field_nmr_frq = Text_ctrl(box, self, text=&quot;NMR frequency label 
[MHz]:&quot;, default=self.data.frq, tooltip=&quot;This label is added to the output 
files.  For example if the label is '600', the NOE values will be located in 
the file 'noe.600.out'.&quot;, width_text=self.width_text, 
width_button=self.width_button, spacer=self.spacer_horizontal)
 
         # Add the results directory GUI element.
-        self.field_results_dir = Text_ctrl(box, self, text=&quot;Results 
directory:&quot;, icon=paths.icon_16x16.open_folder, default=self.data.save_dir, 
tooltip=&quot;The directory in which all automatically created files will be 
saved.&quot;, fn=self.results_directory, button=True, width_text=self.width_text, 
width_button=self.width_button, spacer=self.spacer_horizontal)
+        self.field_results_dir = Text_ctrl(box, self, text=&quot;Results 
directory:&quot;, icon=paths.icon_16x16.open_folder, default=self.data.save_dir, 
tooltip=&quot;The directory in which all automatically created files will be 
saved.&quot;, tooltip_button=&quot;Select the results directory.&quot;, 
fn=self.results_directory, button=True, width_text=self.width_text, 
width_button=self.width_button, spacer=self.spacer_horizontal)
 
         # Add the spin GUI element.
         self.add_spin_systems(box, self)

Modified: branches/relax_disp/gui/analyses/auto_rx_base.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/gui/analyses/auto_rx_base.py?rev=19536&amp;r1=19535&amp;r2=19536&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/relax_disp/gui/analyses/auto_rx_base.py?rev=19536&amp;r1=19535&amp;r2=19536&amp;view=diff</a>
==============================================================================
--- branches/relax_disp/gui/analyses/auto_rx_base.py (original)
+++ branches/relax_disp/gui/analyses/auto_rx_base.py Sun Apr 21 15:29:07 2013
@@ -214,7 +214,7 @@
         self.field_nmr_frq = Text_ctrl(box, self, text=&quot;NMR frequency label 
[MHz]:&quot;, default=self.data.frq, tooltip=&quot;This label is added to the output 
files.  For example if the label is '600', the %s values will be located in 
the file '%s.600.out'.&quot; % (self.label, self.label.lower()), 
width_text=self.width_text, width_button=self.width_button, 
spacer=self.spacer_horizontal)
 
         # Add the results directory GUI element.
-        self.field_results_dir = Text_ctrl(box, self, text=&quot;Results 
directory:&quot;, icon=paths.icon_16x16.open_folder, default=self.data.save_dir, 
tooltip=&quot;The directory in which all automatically created files will be 
saved.&quot;, fn=self.results_directory, button=True, width_text=self.width_text, 
width_button=self.width_button, spacer=self.spacer_horizontal)
+        self.field_results_dir = Text_ctrl(box, self, text=&quot;Results 
directory:&quot;, icon=paths.icon_16x16.open_folder, default=self.data.save_dir, 
tooltip=&quot;The directory in which all automatically created files will be 
saved.&quot;, tooltip_button=&quot;Select the results directory.&quot;, 
fn=self.results_directory, button=True, width_text=self.width_text, 
width_button=self.width_button, spacer=self.spacer_horizontal)
 
         # Add the spin GUI element.
         self.add_spin_systems(box, self)

Modified: branches/relax_disp/gui/analyses/base.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/gui/analyses/base.py?rev=19536&amp;r1=19535&amp;r2=19536&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/relax_disp/gui/analyses/base.py?rev=19536&amp;r1=19535&amp;r2=19536&amp;view=diff</a>
==============================================================================
--- branches/relax_disp/gui/analyses/base.py (original)
+++ branches/relax_disp/gui/analyses/base.py Sun Apr 21 15:29:07 2013
@@ -215,7 +215,7 @@
         &quot;&quot;&quot;
 
         # Add the element.
-        self.spin_systems = Text_ctrl(box, self, text=&quot;Spin systems:&quot;, 
button_text=&quot; Spin editor&quot;, default=self.spin_count(), tooltip=&quot;The currently 
loaded molecule, residue, and spin sequence.&quot;, icon=paths.icon_16x16.spin, 
fn=self.launch_spin_editor, editable=False, button=True, 
width_text=self.width_text, width_button=self.width_button, 
spacer=self.spacer_horizontal)
+        self.spin_systems = Text_ctrl(box, self, text=&quot;Spin systems:&quot;, 
button_text=&quot; Spin editor&quot;, default=self.spin_count(), tooltip=&quot;The currently 
loaded molecule, residue and spin sequence.&quot;, tooltip_button=&quot;Launch the spin 
editor window for modifying the molecule, residue and spin sequence.&quot;, 
icon=paths.icon_16x16.spin, fn=self.launch_spin_editor, editable=False, 
button=True, width_text=self.width_text, width_button=self.width_button, 
spacer=self.spacer_horizontal)
 
 
     def add_static_text(self, box, parent, text='', width=-1, height=-1):

Modified: branches/relax_disp/gui/analyses/elements/model_list.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/gui/analyses/elements/model_list.py?rev=19536&amp;r1=19535&amp;r2=19536&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/relax_disp/gui/analyses/elements/model_list.py?rev=19536&amp;r1=19535&amp;r2=19536&amp;view=diff</a>
==============================================================================
--- branches/relax_disp/gui/analyses/elements/model_list.py (original)
+++ branches/relax_disp/gui/analyses/elements/model_list.py Sun Apr 21 
15:29:07 2013
@@ -55,7 +55,10 @@
     &quot;&quot;&quot;A flag which if True will cause the flag icon to turn red if the 
model list has been modified.&quot;&quot;&quot;
 
     tooltip = None
-    &quot;&quot;&quot;The tooltip string to add to all wx GUI elements.&quot;&quot;&quot;
+    &quot;&quot;&quot;The tooltip string to add to the text and field wx GUI elements.&quot;&quot;&quot;
+
+    tooltip_button = None
+    &quot;&quot;&quot;The separate tooltip string to add to the button wx GUI element.&quot;&quot;&quot;
 
 
     def __init__(self, parent, box):
@@ -100,7 +103,8 @@
         if self.tooltip:
             label.SetToolTipString(self.tooltip)
             self.field.SetToolTipString(self.tooltip)
-            self.button.SetToolTipString(self.tooltip)
+        if self.tooltip_button:
+            self.button.SetToolTipString(self.tooltip_button)
 
         # Add the contents to the main box.
         box.Add(sizer, 0, wx.ALL|wx.EXPAND, 0)

Modified: branches/relax_disp/gui/analyses/elements/text_element.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/gui/analyses/elements/text_element.py?rev=19536&amp;r1=19535&amp;r2=19536&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/relax_disp/gui/analyses/elements/text_element.py?rev=19536&amp;r1=19535&amp;r2=19536&amp;view=diff</a>
==============================================================================
--- branches/relax_disp/gui/analyses/elements/text_element.py (original)
+++ branches/relax_disp/gui/analyses/elements/text_element.py Sun Apr 21 
15:29:07 2013
@@ -39,42 +39,46 @@
     This consists of three elements:  wx.StaticText, wx.TextCtrl, and 
wx.Button.
     &quot;&quot;&quot;
 
-    def __init__(self, box, parent, text=&quot;&quot;, default=&quot;&quot;, tooltip=None, 
button_text=&quot; Change&quot;, control=wx.TextCtrl, icon=icon_16x16.open, fn=None, 
editable=True, button=False, width_text=200, width_button=80, spacer=0):
+    def __init__(self, box, parent, text=&quot;&quot;, default=&quot;&quot;, tooltip=None, 
tooltip_button=None, button_text=&quot; Change&quot;, control=wx.TextCtrl, 
icon=icon_16x16.open, fn=None, editable=True, button=False, width_text=200, 
width_button=80, spacer=0):
         &quot;&quot;&quot;Create a text selection element for the frame.
 
         This consists of a horizontal layout with a static text element, a 
text control, and an optional button.
 
-        @param box:             The box element to pack the structure file 
selection GUI element into.
-        @type box:              wx.BoxSizer instance
-        @param parent:          The parent GUI element.
-        @type parent:           wx object
-        @keyword text:          The static text.
-        @type text:             str
-        @keyword default:       The default text of the control.
-        @type default:          str
-        @keyword tooltip:       The tooltip which appears on hovering over 
the text or input field.
-        @type tooltip:          str
-        @keyword button_text:   The text to display on the button.
-        @type button_text:      str
-        @keyword control:       The control class to use.
-        @type control:          wx.TextCtrl derived class
-        @keyword icon:          The path of the icon to use for the button.
-        @type icon:             str
-        @keyword fn:            The function or method to execute when 
clicking on the button.  If this is a string, then an equivalent function 
will be searched for in the control object.
-        @type fn:               func or str
-        @keyword editable:      A flag specifying if the control is editable 
or not.
-        @type editable:         bool
-        @keyword button:        A flag which if True will cause a button to 
appear.
-        @type button:           bool
-        @keyword width_text:    The width of the text element.
-        @type width_text:       int
-        @keyword width_button:  The width of the button.
-        @type width_button:     int
-        @keyword spacer:        The horizontal spacing between the elements.
-        @type spacer:           int
+        @param box:                 The box element to pack the structure 
file selection GUI element into.
+        @type box:                  wx.BoxSizer instance
+        @param parent:              The parent GUI element.
+        @type parent:               wx object
+        @keyword text:              The static text.
+        @type text:                 str
+        @keyword default:           The default text of the control.
+        @type default:              str
+        @keyword tooltip:           The tooltip which appears on hovering 
over the text or input field.
+        @type tooltip:              str
+        @keyword tooltip_button:    The separate tooltip for the button.
+        @type tooltip_button:       str
+        @keyword button_text:       The text to display on the button.
+        @type button_text:          str
+        @keyword control:           The control class to use.
+        @type control:              wx.TextCtrl derived class
+        @keyword icon:              The path of the icon to use for the 
button.
+        @type icon:                 str
+        @keyword fn:                The function or method to execute when 
clicking on the button.  If this is a string, then an equivalent function 
will be searched for in the control object.
+        @type fn:                   func or str
+        @keyword editable:          A flag specifying if the control is 
editable or not.
+        @type editable:             bool
+        @keyword button:            A flag which if True will cause a button 
to appear.
+        @type button:               bool
+        @keyword width_text:        The width of the text element.
+        @type width_text:           int
+        @keyword width_button:      The width of the button.
+        @type width_button:         int
+        @keyword spacer:            The horizontal spacing between the 
elements.
+        @type spacer:               int
         &quot;&quot;&quot;
 
         # Horizontal packing for this element.
+        print
+        print text
         sizer = wx.BoxSizer(wx.HORIZONTAL)
 
         # The label.
@@ -129,8 +133,14 @@
         if tooltip:
             self.label.SetToolTipString(tooltip)
             self.field.SetToolTipString(tooltip)
-            if button:
-                self.button.SetToolTipString(tooltip)
+        if button and tooltip_button:
+            print &quot;hello&quot;
+            self.button.SetToolTipString(tooltip_button)
+        else:
+            print &quot;no?&quot;
+            print button
+            print tooltip
+            print tooltip_button
 
 
     def Enable(self, enable=True):



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sun Apr 21 16:00:02 2013</div>  
</body>
</html>
