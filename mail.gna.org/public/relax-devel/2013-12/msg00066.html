<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: r21824 &#45; /trunk/test_suite/system_tests/peak_lists.py -->
<!--X-From-R13: Febryf Szgrxæe Zvaarg <gyvaargNaze&#45;erynk.pbz> -->
<!--X-Date: Fri, 06 Dec 2013 13:14:27 +0100 -->
<!--X-Message-Id: CA+CBx2OH6SR+uxuy_5h6rz7_O00WKgstifKGZX1_AcEuOwFM0Q@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1VotIB&#45;0000mE&#45;51@subversion.gna.org -->
<!--X-Reference: CAED9pY8enhC7LEkNyXe7HxKJSKySz6NH6rhMBowe5&#45;R76thESQ@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: r21824 - /trunk/test_suite/system_tests/peak_lists.py -- December 06, 2013 - 13:14</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: r21824 - /trunk/test_suite/system_tests/peak_lists.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00066" class="tabs">Index by Date</a> | <a href="threads.html#00066" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00065.html">Date Prev</a>] [<a href="msg00067.html">Date Next</a>] [<a href="msg00064.html">Thread Prev</a>] [<a href="msg00065.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Edward d'Auvergne&quot; &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Fri, 6 Dec 2013 13:13:35 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:sender:in-reply-to:references:from:date:message-id	:subject:to:cc:content-type:content-transfer-encoding;	bh=5BTOIo4eSQiXBVN4RH4zo+x/XZCQkadqS2f0qV3eA/4=;	b=kSZM5dhflnwdmx9TjcFkizp/oKEdaglGjG++5PdInCxLbc0oMWko954vQNYWc3KPpG	V8aLyrTSDCIXXztfi0RpAOf96RlTVP6TGpA2Jyel4si0gZtznz26ppHnnZS4fas8ksa3	yw9MvqptyedL3lS9j0z11UcpuOlQHWe65zsPTxC5OQjPVmxKtnZrREx1PdCsQ8plbfTp	lvzhf0R3djRhxSzWKy9QHeoPwmofCJdwrvF8O/I8SZsI2hXV/1aVg9Y2hFI8AQS1SwCS	uVplIIwLkvqBwz1xNoMdTmocPQy5DYUPJLrLU8dep82KUPEDt+EQphmO0TwJscGMkS3F	njLA==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00066.html">CA+CBx2OH6SR+uxuy_5h6rz7_O00WKgstifKGZX1_AcEuOwFM0Q@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1VotIB-0000mE-51@xxxxxxxxxxxxxxxxxx&gt;	&lt;CAED9pY8enhC7LEkNyXe7HxKJSKySz6NH6rhMBowe5-R76thESQ@xxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Troels Emtekær Linnet</strong> on December 06, 2013 - 13:14:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Now fixed.

Best
T

2013/12/6 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

I would suggest modifying the test so that cdp.mol[0].res[1].num = 61
is checked and the name is 'L'.  The user function backend should
place both these spins into the same residue container if the residue
ID information is missing from the second bit.  So there should only
be one residue with two spins 'N' and 'HN'.

Regards,

Edward



On 6 December 2013 12:09,  &lt;tlinnet@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Author: tlinnet
Date: Fri Dec  6 12:09:54 2013
New Revision: 21824

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=21824&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=21824&amp;view=rev</a>
Log:
Implemented system test for reading spins from a NMRPipe SeriesTab 
formatted file, where the assignments for second dimension is missing.

This will be a typically export from SPARKY, converted to NMRPipe format, 
and proÂcessed with SeriesTab.

Work in progress for Support Request #3044, 
(<a  rel="nofollow" href="https://gna.org/support/index.php?3044">https://gna.org/support/index.php?3044</a>) - Load spins from SPARKY list.

Modified:
    trunk/test_suite/system_tests/peak_lists.py

Modified: trunk/test_suite/system_tests/peak_lists.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/test_suite/system_tests/peak_lists.py?rev=21824&amp;r1=21823&amp;r2=21824&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/test_suite/system_tests/peak_lists.py?rev=21824&amp;r1=21823&amp;r2=21824&amp;view=diff</a>
==============================================================================
--- trunk/test_suite/system_tests/peak_lists.py (original)
+++ trunk/test_suite/system_tests/peak_lists.py Fri Dec  6 12:09:54 2013
@@ -253,6 +253,33 @@
         self.assertEqual(len(cdp.mol[0].res[3].spin), 1)
         self.assertEqual(cdp.mol[0].res[3].spin[0].num, None)
         self.assertEqual(cdp.mol[0].res[3].spin[0].name, 'N')
+
+
+    def test_read_spins_peak_list_NMRPipe_seriesTab_multi_no_2dim(self):
+        &quot;&quot;&quot;Test the reading of an NMRPipe seriesTab peak list, with no 
assignment for second dimension.&quot;&quot;&quot;
+
+        # Read the peak list.
+        
self.interpreter.spectrum.read_spins(file=&quot;folded_sparky_corr_final_max_standard_trunc.ser&quot;,
 dir=status.install_path + 
sep+'test_suite'+sep+'shared_data'+sep+'dispersion'+sep+'KTeilum_FMPoulsen_MAkke_2006'+sep+'acbp_cpmg_disp_101MGuHCl_40C_041223',
 dim=1)
+        
self.interpreter.spectrum.read_spins(file=&quot;folded_sparky_corr_final_max_standard_trunc.ser&quot;,
 dir=status.install_path + 
sep+'test_suite'+sep+'shared_data'+sep+'dispersion'+sep+'KTeilum_FMPoulsen_MAkke_2006'+sep+'acbp_cpmg_disp_101MGuHCl_40C_041223',
 dim=2)
+
+        # Test some of the sequence.
+        self.assertEqual(len(cdp.mol), 1)
+        self.assertEqual(cdp.mol[0].name, None)
+        self.assertEqual(len(cdp.mol[0].res), 2)
+
+        # 1st residue.
+        self.assertEqual(cdp.mol[0].res[0].num, 61)
+        self.assertEqual(cdp.mol[0].res[0].name, 'L')
+        self.assertEqual(len(cdp.mol[0].res[0].spin), 1)
+        self.assertEqual(cdp.mol[0].res[0].spin[0].num, None)
+        self.assertEqual(cdp.mol[0].res[0].spin[0].name, 'N')
+
+        # 2nd residue, which is a None residue.
+        self.assertEqual(cdp.mol[0].res[1].num, None)
+        self.assertEqual(cdp.mol[0].res[1].name, None)
+        self.assertEqual(len(cdp.mol[0].res[1].spin), 1)
+        self.assertEqual(cdp.mol[0].res[1].spin[0].num, None)
+        self.assertEqual(cdp.mol[0].res[1].spin[0].name, 'HN')


     def test_read_spins_peak_list_sparky(self):


_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-commits mailing list
relax-commits@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-commits">https://mail.gna.org/listinfo/relax-commits</a>
</pre></blockquote><pre style="margin: 0em;">

_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00064" href="msg00064.html">Re: r21824 - /trunk/test_suite/system_tests/peak_lists.py</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Dec 06 19:40:09 2013</div>  
</body>
</html>
