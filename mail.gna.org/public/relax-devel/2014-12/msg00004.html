<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: r26814 &#45; /branches/nmrglue/lib/io.py -->
<!--X-From-R13: "Sqjneq q'Ohiretar" &#60;rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Mon, 01 Dec 2014 19:36:25 +0100 -->
<!--X-Message-Id: CAED9pY8qV5y4E7=F1d_mFQ1OP2WXmhzobV=0d_v+Xrp_ybts&#45;g@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1XuUaX&#45;0001Ji&#45;Bc@subversion.gna.org -->
<!--X-Reference: CAED9pY&#45;7hOA0Qia1dba3_M6cD97vQQOGCzdCccYtBqGnLvf=5w@mail.gmail.com -->
<!--X-Reference: CA+CBx2PW03h=0OEagm&#45;u7kRtmWT8kmZO+7WNTcqprRi6HGCRdQ@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: r26814 - /branches/nmrglue/lib/io.py -- December 01, 2014 - 19:36</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: r26814 - /branches/nmrglue/lib/io.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00004" class="tabs">Index by Date</a> | <a href="threads.html#00004" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00003.html">Date Prev</a>] [<a href="msg00005.html">Date Next</a>] [<a href="msg00003.html">Thread Prev</a>] [<a href="msg00005.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Mon, 1 Dec 2014 19:35:36 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:date:message-id:subject :from:to:cc:content-type:content-transfer-encoding; bh=xoJx9Wg1J+sbW9UA/TTP5vlRrIo2yrBo94iiwFbTcwI=; b=a40IQtNuUCQhvxNSIrldCbTOmExoBmWxihSREbFqHVMDIPvG+God+7+rROJE3m3K70 OvojSJE7r/BHetoc9cxe3qyil9pG1+uuD/JiHciy5g8ZxygnF4ocluIu/TbDuUkBUQzD foYdPtsY7N0S0z2vO2rhoKvRIJyDZ7qJ+Ay/xMDb3m17BrCi52+vYitgQe4pFWm9f/0p Bm0ruSkoNViuVaH6rF8NgDVySMRZbyYDNya/EPoYzXUz43mlUnPeZfxGgwEnIYzBvmqZ FQdb32615oooWtCW4R0A4TOOxJ9oj+A2vB6EDLZ+4BOKietqa3vs983GF6ucxLcBkqIl UQXA==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;CAED9pY8qV5y4E7=F1d_mFQ1OP2WXmhzobV=0d_v+Xrp_ybts-g@mail.gmail.com&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1XuUaX-0001Ji-Bc@subversion.gna.org&gt; &lt;CAED9pY-7hOA0Qia1dba3_M6cD97vQQOGCzdCccYtBqGnLvf=5w@mail.gmail.com&gt; &lt;CA+CBx2PW03h=0OEagm-u7kRtmWT8kmZO+7WNTcqprRi6HGCRdQ@mail.gmail.com&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on December 01, 2014 - 19:36:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

That is probably because the docstrings are old.  The arguments
probably used to be parameters and were then converted to keyword
arguments.  I'll fix this in the trunk.  Just start the svnmerge.py
tracking on your branch (on an svn copy) and then pull in the changes
when they are there.

Regards,

Edward


On 1 December 2014 at 19:24, Troels Emtekær Linnet
&lt;tlinnet@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward.

Could you then clarify this difference:

From: <a  rel="nofollow" href="http://epydoc.sourceforge.net/fields.html">http://epydoc.sourceforge.net/fields.html</a>
@param p: ... A description of the parameter p for a function or method. It
may appear in the class docstring to describe a costructor parameter: mostly
useful for C extensions.
@keyword p: ... A description of the keyword parameter p. It may appear in
the class docstring to describe a costructor keyword parameter.

And all other functions in io use param.

<a  rel="nofollow" href="http://epydoc.sourceforge.net/epydoc.html">http://epydoc.sourceforge.net/epydoc.html</a>
@param fields should be used to document any explicit parameter (including
the keyword parameter).
@keyword fields should only be used for non-explicit keyword parameters:

Best
Troels



2014-11-29 9:24 GMT+01:00 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Hi Troels,

The epydoc markup is not quite right here.  These are keyword
arguments, so you need to replace:

    @param glob_pattern:    Pattern may contain simple shell-style
wildcards.

With:

    @keyword glob_pattern:    Pattern may contain simple shell-style
wildcards.

Cheers,

Edward


On 29 November 2014 at 00:04,  &lt;tlinnet@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Author: tlinnet
Date: Sat Nov 29 00:04:32 2014
New Revision: 26814

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=26814&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=26814&amp;view=rev</a>
Log:
Added functionality to lib/io to extract a list of file basenames and a
list of fileroot matching a pathname pattern.

This can be useful when loading many spectra and assigning spectrum IDs.

Task #7873 (<a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/task/index.php?7873">https://gna.org/task/index.php?7873</a>): Write wrapper function
to nmrglue, to read .ft2 files and process them.
Homepage: <a  rel="nofollow" href="http://www.nmrglue.com/">http://www.nmrglue.com/</a>
Link to nmrglue discussion:
<a  rel="nofollow" href="https://groups.google.com/forum/#!forum/nmrglue-discuss">https://groups.google.com/forum/#!forum/nmrglue-discuss</a>
The code is develop at Github: <a  rel="nofollow" href="https://github.com/jjhelmus/nmrglue/">https://github.com/jjhelmus/nmrglue/</a>
Google code: <a  rel="nofollow" href="https://code.google.com/p/nmrglue/">https://code.google.com/p/nmrglue/</a>
Documentation: <a  rel="nofollow" href="http://nmrglue.readthedocs.org/en/latest/index.html">http://nmrglue.readthedocs.org/en/latest/index.html</a>

Modified:
    branches/nmrglue/lib/io.py

Modified: branches/nmrglue/lib/io.py
URL:
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/nmrglue/lib/io.py?rev=26814&amp;r1=26813&amp;r2=26814&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/nmrglue/lib/io.py?rev=26814&amp;r1=26813&amp;r2=26814&amp;view=diff</a>

==============================================================================
--- branches/nmrglue/lib/io.py  (original)
+++ branches/nmrglue/lib/io.py  Sat Nov 29 00:04:32 2014
@@ -35,6 +35,7 @@
     bz2 = None
     message = sys.exc_info()[1]
     bz2_module_message = message.args[0]
+from glob import glob
 from os import devnull
 from os import F_OK, X_OK, access, altsep, getenv, makedirs, pathsep,
remove, sep
 from os.path import expanduser, basename, splitext, isfile
@@ -173,6 +174,42 @@

     # Return the file root with the directories stripped.
     return basename(file_path)
+
+
+def get_file_list(glob_pattern=None, dir=None):
+    &quot;&quot;&quot;Return a list of file basenames and a list of fileroot matching
a pathname pattern.
+
+    @param glob_pattern:    Pattern may contain simple shell-style
wildcards.
+    @type glob_pattern:     str
+    @param dir:             The path where the files is located.  If
None, then the current directory is assumed.
+    @type dir:              str
+    @return:                list of file basenames, list of fileroots.
+    @rtype:                 list of str, list of str
+    &quot;&quot;&quot;
+
+    # Get the file path.
+    file_path = get_file_path(file_name=glob_pattern, dir=dir)
+
+    # Get the file list.
+    file_list = glob(file_path)
+
+    # Make a list if of basenames.
+    basename_list = []
+
+    # Loop over the file list.
+    for file_i in file_list:
+        basename_list.append(basename(file_i))
+
+    # Sort the file list Alphanumeric.
+    basename_list = sort_filenames(filenames=basename_list)
+
+    # Now make a list of file_root, which is the file name striped of
extension detail.
+    # This can be useful when assigning spectrum IDs.
+    file_root_list = []
+    for file_i in basename_list:
+        file_root_list.append(file_root(file_i))
+
+    return basename_list, file_root_list


 def get_file_path(file_name=None, dir=None):


_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-commits mailing list
relax-commits@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-commits">https://mail.gna.org/listinfo/relax-commits</a>
</pre></blockquote><pre style="margin: 0em;">

_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
</pre></blockquote><pre style="margin: 0em;">


</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00003" href="msg00003.html">Re: r26814 - /branches/nmrglue/lib/io.py</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Mon Dec 01 23:00:09 2014</div>  
</body>
</html>
