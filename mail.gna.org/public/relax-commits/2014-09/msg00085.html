<!-- MHonArc v2.6.18 -->
<!--X-Subject: r25579 &#45; /tags/3.3.0/docs/CHANGES -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Wed, 03 Sep 2014 15:30:55 +0200 -->
<!--X-Message-Id: E1XPAeF&#45;0006Iu&#45;ER@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r25579 - /tags/3.3.0/docs/CHANGES -- September 03, 2014 - 15:30</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r25579 - /tags/3.3.0/docs/CHANGES</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00085" class="tabs">Index by Date</a> | <a href="threads.html#00085" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00084.html">Date Prev</a>] [<a href="msg00086.html">Date Next</a>] [<a href="msg00084.html">Thread Prev</a>] [<a href="msg00086.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Wed, 03 Sep 2014 13:30:55 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00085.html">E1XPAeF-0006Iu-ER@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on September 03, 2014 - 15:30:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Wed Sep  3 15:30:54 2014
New Revision: 25579

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=25579&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=25579&amp;view=rev</a>
Log:
Ported the CHANGES file changes from trunk to the 3.3.0 tag.

The command used was:
svn merge -r25577:25578 svn+ssh://bugman@xxxxxxxxxxx/svn/relax/trunk .


Modified:
    tags/3.3.0/docs/CHANGES

Modified: tags/3.3.0/docs/CHANGES
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/tags/3.3.0/docs/CHANGES?rev=25579&amp;r1=25578&amp;r2=25579&amp;view=diff">http://svn.gna.org/viewcvs/relax/tags/3.3.0/docs/CHANGES?rev=25579&amp;r1=25578&amp;r2=25579&amp;view=diff</a>
==============================================================================
--- tags/3.3.0/docs/CHANGES     (original)
+++ tags/3.3.0/docs/CHANGES     Wed Sep  3 15:30:54 2014
@@ -676,7 +676,7 @@
         * Added synthetic data generator script which created the data to 
test against.  Bug #22146: (<a  rel="nofollow" href="https://gna.org/bugs/?22146">https://gna.org/bugs/?22146</a>) Unpacking of R2A and 
R2B is performed wrong for clustered &quot;full&quot; dispersion models.
         * Split system test 
Relax_disp.test_bug_22146_unpacking_r2a_r2b_cluster up in different tests.  A 
setup function which is: setup_bug_22146_unpacking_r2a_r2b_cluster(self, 
folder=None, model_analyse=None):  And then the tests: 
test_bug_22146_unpacking_r2a_r2b_cluster_B14 
test_bug_22146_unpacking_r2a_r2b_cluster_CR72 
test_bug_22146_unpacking_r2a_r2b_cluster_NS_3D 
test_bug_22146_unpacking_r2a_r2b_cluster_NS_STAR.  Bug #22146: 
(<a  rel="nofollow" href="https://gna.org/bugs/?22146">https://gna.org/bugs/?22146</a>) Unpacking of R2A and R2B is performed wrong for 
clustered &quot;full&quot; dispersion models.
         * Modified profiling script to get closer to the implementation in 
relax.  An additional test function is setup to figure out how to reshape the 
numpy arrays in the target function.  Bug #22146: 
(<a  rel="nofollow" href="https://gna.org/bugs/?22146">https://gna.org/bugs/?22146</a>) Unpacking of R2A and R2B is performed wrong for 
clustered &quot;full&quot; dispersion models.
-        * Updated profiling text for CR72 model.  Now it is tested for 3 
fields.  This is related to: Task #7807 
(<a  rel="nofollow" href="https://gna.org/task/index.php?7807">https://gna.org/task/index.php?7807</a>): Speed-up of dispersion models for 
Clustered analysis.
+        * Updated profiling text for CR72 model.  Now it is tested for 3 
fields.  This is related to: Task #7807 (<a  rel="nofollow" href="https://gna.org/task/?7807">https://gna.org/task/?7807</a>): 
Speed-up of dispersion models for Clustered analysis.
         * Added searching for environment variable PYTHON_INCLUDE_DIR if 
Python.h is not found in standard Python library.  This can be very handsome, 
if one has a Python virtual environment for multiple users.  This relates to 
the wiki page: <a  rel="nofollow" href="http://wiki.nmr-relax.com/Epd_canopy">http://wiki.nmr-relax.com/Epd_canopy</a>.
         * The lib.compat.norm() replacement function for numpy.linalg.norm() 
now handles no axis argument.  This is to allow the function to be used in 
all cases where numpy.linalg.norm() is used, while providing compatibility 
with the axis argument and all numpy versions.
         * Fix for the scons target for compiling the relax manual when using 
a repository checkout copy.  The method for compiling the relax manual was 
calling the version.revision() function, however this has been replaced a 
while ago by the version.repo_revision variable.
@@ -721,7 +721,7 @@
         * Bug fix for the lib.io.file_root() function for multiple file 
extensions.  The function will now strip off all file extensions.
         * Fix for bug #22210 (<a  rel="nofollow" href="https://gna.org/bugs/?22210">https://gna.org/bugs/?22210</a>), the failure of 
the 'LM63 3-site' dispersion model.  The problem is described in the bug 
report - the multiplication in the tanh() function is a mistake, it must be a 
division.
         * Fix for the Library.test_library_independence verification test on 
MS Windows.  The tearDown() method now uses the error handling 
test_suite.clean_up.deletion() function to remove the copied version of the 
relax library.
-        * Fixed the packing out of parameter tex for global analysis in 
model IT99.  Bug #22220 (<a  rel="nofollow" href="https://gna.org/bugs/index.php?22220">https://gna.org/bugs/index.php?22220</a>): Unpacking of 
parameters for global analysis in model IT99, is performed wrong.
+        * Fixed the packing out of parameter tex for global analysis in 
model IT99.  Bug #22220 (<a  rel="nofollow" href="https://gna.org/bugs/?22220">https://gna.org/bugs/?22220</a>): Unpacking of 
parameters for global analysis in model IT99, is performed wrong.
         * Fix for bug #22257, the freezing of the GUI after using the free 
file format window on Mac OS X.  This is reported at 
<a  rel="nofollow" href="https://gna.org/bugs/?22257">https://gna.org/bugs/?22257</a>.  This is a recurring problem in Mac OS X as it 
cannot be tested in the relax test suite.  The problem is with wxPython.  The 
modal dialogs, such as the free file format window, cannot be destroyed on 
Mac OS X using wx.Dialog.Destroy() - this kills wxPython and hence kills 
relax.  The problem does not exist on any other operating system.  To fix 
this, all wx.Dialog.Destroy() calls have been replaced with wx.Dialog.Close().
 
 
@@ -933,16 +933,16 @@
 
     Changes:
         * Punctuation fixes throughout the CHANGES document.
-        * Modified system test Relax_disp.test_cpmg_synthetic_ns3d_to_cr72 
to catch bug #22017: (<a  rel="nofollow" href="https://gna.org/bugs/index.php?22017">https://gna.org/bugs/index.php?22017</a>) LinAlgError, for 
all numerical CPMG models.  System test was renamed from 
test_cpmg_synthetic_cr72 to test_cpmg_synthetic_ns3d_to_cr72, to reflect 
which model create the data and which model fits the data.
-        * Modified cpmg_synthetic script to first create all time structures 
before doing back-calculation.  Bug #22017: 
(<a  rel="nofollow" href="https://gna.org/bugs/index.php?22017">https://gna.org/bugs/index.php?22017</a>) LinAlgError, for all numerical CPMG 
models.  The numerical models need all time points which are defined in setup 
to be present when calculating.
-        * Renamed system test to 
test_cpmg_synthetic_ns3d_to_cr72_noise_cluster.  The model that creates the 
data has been changed to numerical model.  Bug #22017: 
(<a  rel="nofollow" href="https://gna.org/bugs/index.php?22017">https://gna.org/bugs/index.php?22017</a>) LinAlgError, for all numerical CPMG 
models.
+        * Modified system test Relax_disp.test_cpmg_synthetic_ns3d_to_cr72 
to catch bug #22017: (<a  rel="nofollow" href="https://gna.org/bugs/?22017">https://gna.org/bugs/?22017</a>) LinAlgError, for all 
numerical CPMG models.  System test was renamed from test_cpmg_synthetic_cr72 
to test_cpmg_synthetic_ns3d_to_cr72, to reflect which model create the data 
and which model fits the data.
+        * Modified cpmg_synthetic script to first create all time structures 
before doing back-calculation.  Bug #22017: (<a  rel="nofollow" href="https://gna.org/bugs/?22017">https://gna.org/bugs/?22017</a>) 
LinAlgError, for all numerical CPMG models.  The numerical models need all 
time points which are defined in setup to be present when calculating.
+        * Renamed system test to 
test_cpmg_synthetic_ns3d_to_cr72_noise_cluster.  The model that creates the 
data has been changed to numerical model.  Bug #22017: 
(<a  rel="nofollow" href="https://gna.org/bugs/?22017">https://gna.org/bugs/?22017</a>) LinAlgError, for all numerical CPMG models.
         * Implemented system test 
Relax_disp.test_cpmg_synthetic_ns3d_to_b14.  Bug #22021: 
(<a  rel="nofollow" href="https://gna.org/bugs/?22021">https://gna.org/bugs/?22021</a>) model B14 shows bad fitting to data.  This is 
to catch model B14 showing bad fitting behaviour.
         * Parameter precision increase for system test 
Relax_disp.test_baldwin_synthetic.  The correct implementation of the 
trigonometric functions allow for higher precision.  Bug #22021: 
(<a  rel="nofollow" href="https://gna.org/bugs/?22021">https://gna.org/bugs/?22021</a>) model B14 shows bad fitting to data.  Duplicate 
line codes were also removed.
         * Code cleanup in system test 
Relax_disp.test_baldwin_synthetic_full.  Bug #22021: 
(<a  rel="nofollow" href="https://gna.org/bugs/?22021">https://gna.org/bugs/?22021</a>) model B14 shows bad fitting to data.  The 
precision could also be increased by 1 digit.
         * Code cleanup in system test Relax_disp.test_baldwin_synthetic.  
Bug #22021: (<a  rel="nofollow" href="https://gna.org/bugs/?22021">https://gna.org/bugs/?22021</a>) model B14 shows bad fitting to 
data.  Removing many unnecessary lines of code.
         * Added 7 unit tests demonstrating edge case 'no Rex' failures of 
the 'NS CPMG 2-site expanded' model.  This follows from the ideas in the post 
<a  rel="nofollow" href="http://article.gmane.org/gmane.science.nmr.relax.devel/5858">http://article.gmane.org/gmane.science.nmr.relax.devel/5858</a>.  These tests 
cover all parameter value combinations which result in no exchange: dw = 0.0; 
pA = 1.0; kex = 0.0; dw = 0.0 and pA = 1.0; dw = 0.0 and kex = 0.0; pA = 1.0 
and kex = 0.0; dw = 0.0, pA = 1.0, and kex = 0.0.  Such tests should be 
replicated for all dispersion models.
-        * Created the 
Structure.test_bug_22069_structure_delete_helix_attribute system test.  This 
is to catch bug #22069 (<a  rel="nofollow" href="https://gna.org/bugs/index.php?22069">https://gna.org/bugs/index.php?22069</a>), the failure of 
the structure.delete user function with &quot;AttributeError: Internal instance 
has no attribute 'helices'&quot;.
-        * Created the 
Structure.test_bug_22070_structure_superimpose_after_deletion system test.  
This is to catch bug #22070 (<a  rel="nofollow" href="https://gna.org/bugs/index.php?22070">https://gna.org/bugs/index.php?22070</a>), the 
failure of the structure.superimpose user function after deleting atoms with 
structure.delete.
+        * Created the 
Structure.test_bug_22069_structure_delete_helix_attribute system test.  This 
is to catch bug #22069 (<a  rel="nofollow" href="https://gna.org/bugs/?22069">https://gna.org/bugs/?22069</a>), the failure of the 
structure.delete user function with &quot;AttributeError: Internal instance has no 
attribute 'helices'&quot;.
+        * Created the 
Structure.test_bug_22070_structure_superimpose_after_deletion system test.  
This is to catch bug #22070 (<a  rel="nofollow" href="https://gna.org/bugs/?22070">https://gna.org/bugs/?22070</a>), the failure of the 
structure.superimpose user function after deleting atoms with 
structure.delete.
         * Added some checks to the 
Structure.test_bug_22070_structure_superimpose_after_deletion system test.  
These tests reveal the real problem - that the atoms of the second model have 
not been removed by the structure.delete user function.
         * Added git-svn support for the relax version information module.  
This allows the subversion revision number and repository URL to be displayed 
on program startup, so that it is stored in log files.  This is very useful 
for debugging purposes.
         * Improvements for the git-svn support in the relax version module.  
Python 3 is now correctly handled and the URL is properly extracted from the 
git repository.
@@ -959,9 +959,9 @@
 
     Bugfixes:
         * Extremely important fix for the model B14.  This was discovered by 
author Andrew Baldwin by inspecting his code in relax.  Bug #22021: 
(<a  rel="nofollow" href="https://gna.org/bugs/?22021">https://gna.org/bugs/?22021</a>) model B14 shows bad fitting to data.  The 
implementation was performed wrong for calculation of g3 and g4.  The 
implementations should be performed by trigonometric functions.  The model 
B14 was previously in a state of non-functioning.  The B14 model now shows 
excellent performance.
-        * Fix for bug #22069 by only deleting helix and sheet data with 
structure.delete when it exists.  This is bug #22069 
(<a  rel="nofollow" href="https://gna.org/bugs/index.php?22069">https://gna.org/bugs/index.php?22069</a>), the failure of the structure.delete 
user function with &quot;AttributeError: Internal instance has no attribute 
'helices'&quot;.
+        * Fix for bug #22069 by only deleting helix and sheet data with 
structure.delete when it exists.  This is bug #22069 
(<a  rel="nofollow" href="https://gna.org/bugs/?22069">https://gna.org/bugs/?22069</a>), the failure of the structure.delete user 
function with &quot;AttributeError: Internal instance has no attribute 'helices'&quot;.
         * Fix for all edge case 'no Rex' failures of the 'NS CPMG 2-site 
expanded' model.  This uses the no exchange checking idea, modified to 
function in the relax trunk, from 
<a  rel="nofollow" href="http://article.gmane.org/gmane.science.nmr.relax.devel/5847">http://article.gmane.org/gmane.science.nmr.relax.devel/5847</a>.  This is 
importantly on line 1 of the function.  The recently introduced set of 7 unit 
tests comprehensively showing these failures now all pass.
-        * Important bug fix for the structure.delete user function when 
multiple models are present.  This is to fix bug #22070 
(<a  rel="nofollow" href="https://gna.org/bugs/index.php?22070">https://gna.org/bugs/index.php?22070</a>), the failure of the 
structure.superimpose user function after deleting atoms with 
structure.delete.  The problem is that structure.delete was removing the 
atoms from the first model but none of the others.  This is because it was 
using the structural object atom_loop() method to find the atoms to be 
deleted, but this method operates on the first model.  So when the second 
model is reached, the atoms are already gone.
+        * Important bug fix for the structure.delete user function when 
multiple models are present.  This is to fix bug #22070 
(<a  rel="nofollow" href="https://gna.org/bugs/?22070">https://gna.org/bugs/?22070</a>), the failure of the structure.superimpose user 
function after deleting atoms with structure.delete.  The problem is that 
structure.delete was removing the atoms from the first model but none of the 
others.  This is because it was using the structural object atom_loop() 
method to find the atoms to be deleted, but this method operates on the first 
model.  So when the second model is reached, the atoms are already gone.
 
 
 



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Sep 03 15:40:02 2014</div>  
</body>
</html>
