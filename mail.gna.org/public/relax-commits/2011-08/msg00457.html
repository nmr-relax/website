<!-- MHonArc v2.6.16 -->
<!--X-Subject: r14477 &#45; /1.3/prompt/pymol_control.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Fri, 26 Aug 2011 12:09:14 +0200 -->
<!--X-Message-Id: E1QwtLe&#45;0007SC&#45;5I@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r14477 - /1.3/prompt/pymol_control.py -- August 26, 2011 - 12:09</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r14477 - /1.3/prompt/pymol_control.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00457" class="tabs">Index by Date</a> | <a href="threads.html#00457" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00456.html">Date Prev</a>] [<a href="msg00458.html">Date Next</a>] [<a href="msg00456.html">Thread Prev</a>] [<a href="msg00458.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Fri, 26 Aug 2011 10:09:14 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00457.html">E1QwtLe-0007SC-5I@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on August 26, 2011 - 12:09:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Fri Aug 26 12:09:13 2011
New Revision: 14477

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=14477&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=14477&amp;view=rev</a>
Log:
Renamed the PyMOL macro related user functions in the prompt/script front end.

The pymol.macro_exec() function is now called pymol.macro_apply(), and 
pymol.write() is now called
pymol.macro_write() to make it clearer.


Modified:
    1.3/prompt/pymol_control.py

Modified: 1.3/prompt/pymol_control.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/1.3/prompt/pymol_control.py?rev=14477&amp;r1=14476&amp;r2=14477&amp;view=diff">http://svn.gna.org/viewcvs/relax/1.3/prompt/pymol_control.py?rev=14477&amp;r1=14476&amp;r2=14477&amp;view=diff</a>
==============================================================================
--- 1.3/prompt/pymol_control.py (original)
+++ 1.3/prompt/pymol_control.py Fri Aug 26 12:09:13 2011
@@ -157,10 +157,10 @@
     _build_doc(cone_pdb)
 
 
-    def macro_exec(self, data_type=None, style=&quot;classic&quot;, colour_start=None, 
colour_end=None, colour_list=None):
-        # Function intro text.
-        if self._exec_info.intro:
-            text = self._exec_info.ps3 + &quot;pymol.macro_exec(&quot;
+    def macro_apply(self, data_type=None, style=&quot;classic&quot;, 
colour_start=None, colour_end=None, colour_list=None):
+        # Function intro text.
+        if self._exec_info.intro:
+            text = self._exec_info.ps3 + &quot;pymol.macro_apply(&quot;
             text = text + &quot;data_type=&quot; + repr(data_type)
             text = text + &quot;, style=&quot; + repr(style)
             text = text + &quot;, colour_start=&quot; + repr(colour_start)
@@ -176,132 +176,37 @@
         arg_check.is_str(colour_list, 'colour list', can_be_none=True)
 
         # Execute the functional code.
-        pymol_control.macro_exec(data_type=data_type, style=style, 
colour_start=colour_start, colour_end=colour_end, colour_list=colour_list)
-
-    # The function doc info.
-    macro_exec._doc_title = &quot;Execute PyMOL macros.&quot;
-    macro_exec._doc_title_short = &quot;PyMOL macro execution.&quot;
-    macro_exec._doc_args = [
+        pymol_control.macro_apply(data_type=data_type, style=style, 
colour_start=colour_start, colour_end=colour_end, colour_list=colour_list)
+
+    # The function doc info.
+    macro_apply._doc_title = &quot;Execute PyMOL macros.&quot;
+    macro_apply._doc_title_short = &quot;PyMOL macro execution.&quot;
+    macro_apply._doc_args = [
         [&quot;data_type&quot;, &quot;The data type to map to the structure.&quot;],
         [&quot;style&quot;, &quot;The style of the macro.&quot;],
         [&quot;colour_start&quot;, &quot;The starting colour, either an array or string, of 
the linear colour gradient.&quot;],
         [&quot;colour_end&quot;, &quot;The ending colour, either an array or string, of the 
linear colour gradient.&quot;],
         [&quot;colour_list&quot;, &quot;The list of colours to match the start and end 
strings.&quot;]
     ]
-    macro_exec._doc_desc = &quot;&quot;&quot;
+    macro_apply._doc_desc = &quot;&quot;&quot;
         This allows spin specific values to be mapped to a structure through 
PyMOL macros.  Currently only the 'classic' style, which is described below, 
is available.
         &quot;&quot;&quot;
-    macro_exec._doc_examples = &quot;&quot;&quot;
+    macro_apply._doc_examples = &quot;&quot;&quot;
         To map the order parameter values, S2, onto the structure using the 
classic style, type:
 
-        relax&gt; pymol.macro_exec('S2')
-        relax&gt; pymol.macro_exec(data_type='S2')
-        relax&gt; pymol.macro_exec(data_type='S2', style=&quot;classic&quot;)
-        &quot;&quot;&quot;
-    macro_exec._doc_additional = [
+        relax&gt; pymol.macro_apply('S2')
+        relax&gt; pymol.macro_apply(data_type='S2')
+        relax&gt; pymol.macro_apply(data_type='S2', style=&quot;classic&quot;)
+        &quot;&quot;&quot;
+    macro_apply._doc_additional = [
         colour._linear_gradient_doc,
         colour.__molmol_colours_prompt_doc__,
         colour.__x11_colours_prompt_doc__
     ]
-    _build_doc(macro_exec)
-
-
-    def tensor_pdb(self, file=None):
-        # Function intro text.
-        if self._exec_info.intro:
-            text = self._exec_info.ps3 + &quot;pymol.tensor_pdb(&quot;
-            text = text + &quot;file=&quot; + repr(file) + &quot;)&quot;
-            print(text)
-
-        # The argument checks.
-        arg_check.is_str_or_inst(file, 'file name')
-
-        # Execute the functional code.
-        pymol_control.tensor_pdb(file=file)
-
-    # The function doc info.
-    tensor_pdb._doc_title = &quot;Display the diffusion tensor PDB geometric 
object over the loaded PDB.&quot;
-    tensor_pdb._doc_title_short = &quot;Diffusion tensor and structure display.&quot;
-    tensor_pdb._doc_args = [
-        [&quot;file&quot;, &quot;The name of the PDB file containing the tensor geometric 
object.&quot;]
-    ]
-    tensor_pdb._doc_desc = &quot;&quot;&quot;
-        In executing this user function, a PDB file must have previously 
been loaded into this data pipe a geometric object or polygon representing 
the Brownian rotational diffusion tensor will be overlain with the loaded PDB 
file and displayed within PyMOL.  The PDB file containing the geometric 
object must be created using the complementary 
structure.create_diff_tensor_pdb user function.
-
-        The tensor PDB file is read in using the command:
-
-            load file
-
-        The centre of mass residue 'COM' is displayed using the commands:
-
-            select resn COM
-            show dots, 'sele'
-            color blue, 'sele'
-
-        The axes of the diffusion tensor, the residue 'AXS', is displayed 
using the commands:
-
-            select resn AXS
-            hide ('sele')
-            show sticks, 'sele'
-            color cyan, 'sele'
-            label 'sele', name
-
-        The simulation axes, the residues 'SIM', are displayed using the 
commands:
-
-            select resn SIM
-            colour cyan, 'sele'
-        &quot;&quot;&quot;
-    _build_doc(tensor_pdb)
-
-
-    def vector_dist(self, file='XH_dist.pdb'):
-        # Function intro text.
-        if self._exec_info.intro:
-            text = self._exec_info.ps3 + &quot;pymol.vector_dist(&quot;
-            text = text + &quot;file=&quot; + repr(file) + &quot;)&quot;
-            print(text)
-
-        # The argument checks.
-        arg_check.is_str(file, 'file name')
-
-        # Execute the functional code.
-        pymol_control.vector_dist(file=file)
-
-    # The function doc info.
-    vector_dist._doc_title = &quot;Display the PDB file representation of the XH 
vector distribution.&quot;
-    vector_dist._doc_title_short = &quot;XH vector distribution display.&quot;
-    vector_dist._doc_args = [
-        [&quot;file&quot;, &quot;The name of the PDB file containing the vector 
distribution.&quot;]
-    ]
-    vector_dist._doc_desc = &quot;&quot;&quot;
-        A PDB file of the macromolecule must have previously been loaded as 
the vector distribution will be overlain with the macromolecule within PyMOL. 
 The PDB file containing the vector distribution must be created using the 
complementary structure.create_vector_dist user function.
-
-        The vector distribution PDB file is read in using the command:
-
-            load file
-        &quot;&quot;&quot;
-    _build_doc(vector_dist)
-
-
-    def view(self):
-        # Function intro text.
-        if self._exec_info.intro:
-            text = self._exec_info.ps3 + &quot;pymol.view()&quot;
-            print(text)
-
-        # Execute the functional code.
-        pymol_control.view()
-
-    # The function doc info.
-    view._doc_title = &quot;View the collection of molecules from the loaded PDB 
file.&quot;
-    view._doc_title_short = &quot;Molecule viewing.&quot;
-    view._doc_examples = &quot;&quot;&quot;
-        relax&gt; pymol.view()
-        &quot;&quot;&quot;
-    _build_doc(view)
-
-
-    def write(self, data_type=None, style=&quot;classic&quot;, colour_start=None, 
colour_end=None, colour_list=None, file=None, dir='pymol', force=False):
+    _build_doc(macro_apply)
+
+
+    def macro_write(self, data_type=None, style=&quot;classic&quot;, 
colour_start=None, colour_end=None, colour_list=None, file=None, dir='pymol', 
force=False):
         # Function intro text.
         if self._exec_info.intro:
             text = self._exec_info.ps3 + &quot;pymol.write(&quot;
@@ -358,3 +263,98 @@
         colour.__x11_colours_prompt_doc__
     ]
     _build_doc(write)
+
+
+    def tensor_pdb(self, file=None):
+        # Function intro text.
+        if self._exec_info.intro:
+            text = self._exec_info.ps3 + &quot;pymol.tensor_pdb(&quot;
+            text = text + &quot;file=&quot; + repr(file) + &quot;)&quot;
+            print(text)
+
+        # The argument checks.
+        arg_check.is_str_or_inst(file, 'file name')
+
+        # Execute the functional code.
+        pymol_control.tensor_pdb(file=file)
+
+    # The function doc info.
+    tensor_pdb._doc_title = &quot;Display the diffusion tensor PDB geometric 
object over the loaded PDB.&quot;
+    tensor_pdb._doc_title_short = &quot;Diffusion tensor and structure display.&quot;
+    tensor_pdb._doc_args = [
+        [&quot;file&quot;, &quot;The name of the PDB file containing the tensor geometric 
object.&quot;]
+    ]
+    tensor_pdb._doc_desc = &quot;&quot;&quot;
+        In executing this user function, a PDB file must have previously 
been loaded into this data pipe a geometric object or polygon representing 
the Brownian rotational diffusion tensor will be overlain with the loaded PDB 
file and displayed within PyMOL.  The PDB file containing the geometric 
object must be created using the complementary 
structure.create_diff_tensor_pdb user function.
+
+        The tensor PDB file is read in using the command:
+
+            load file
+
+        The centre of mass residue 'COM' is displayed using the commands:
+
+            select resn COM
+            show dots, 'sele'
+            color blue, 'sele'
+
+        The axes of the diffusion tensor, the residue 'AXS', is displayed 
using the commands:
+
+            select resn AXS
+            hide ('sele')
+            show sticks, 'sele'
+            color cyan, 'sele'
+            label 'sele', name
+
+        The simulation axes, the residues 'SIM', are displayed using the 
commands:
+
+            select resn SIM
+            colour cyan, 'sele'
+        &quot;&quot;&quot;
+    _build_doc(tensor_pdb)
+
+
+    def vector_dist(self, file='XH_dist.pdb'):
+        # Function intro text.
+        if self._exec_info.intro:
+            text = self._exec_info.ps3 + &quot;pymol.vector_dist(&quot;
+            text = text + &quot;file=&quot; + repr(file) + &quot;)&quot;
+            print(text)
+
+        # The argument checks.
+        arg_check.is_str(file, 'file name')
+
+        # Execute the functional code.
+        pymol_control.vector_dist(file=file)
+
+    # The function doc info.
+    vector_dist._doc_title = &quot;Display the PDB file representation of the XH 
vector distribution.&quot;
+    vector_dist._doc_title_short = &quot;XH vector distribution display.&quot;
+    vector_dist._doc_args = [
+        [&quot;file&quot;, &quot;The name of the PDB file containing the vector 
distribution.&quot;]
+    ]
+    vector_dist._doc_desc = &quot;&quot;&quot;
+        A PDB file of the macromolecule must have previously been loaded as 
the vector distribution will be overlain with the macromolecule within PyMOL. 
 The PDB file containing the vector distribution must be created using the 
complementary structure.create_vector_dist user function.
+
+        The vector distribution PDB file is read in using the command:
+
+            load file
+        &quot;&quot;&quot;
+    _build_doc(vector_dist)
+
+
+    def view(self):
+        # Function intro text.
+        if self._exec_info.intro:
+            text = self._exec_info.ps3 + &quot;pymol.view()&quot;
+            print(text)
+
+        # Execute the functional code.
+        pymol_control.view()
+
+    # The function doc info.
+    view._doc_title = &quot;View the collection of molecules from the loaded PDB 
file.&quot;
+    view._doc_title_short = &quot;Molecule viewing.&quot;
+    view._doc_examples = &quot;&quot;&quot;
+        relax&gt; pymol.view()
+        &quot;&quot;&quot;
+    _build_doc(view)



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Aug 26 12:20:02 2011</div>  
</body>
</html>
