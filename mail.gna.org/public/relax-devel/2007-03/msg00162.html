<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: r3243 &#45; in /branches/multi_processor: ./ multi/ prompt/	specific_fns/ -->
<!--X-From-R13: "Unel E. Fubzcfba" <tnelgNozo.yrrqf.np.hx> -->
<!--X-Date: Fri, 30 Mar 2007 09:08:42 +0200 -->
<!--X-Message-Id: 460CB741.5010103@bmb.leeds.ac.uk -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1HWrC8&#45;0002Jl&#45;Ii@subversion.gna.org -->
<!--X-Reference: 460B9BA0.1060402@bmb.leeds.ac.uk -->
<!--X-Reference: 7f080ed10703290839g1afb16c7k476b60bca781dca4@mail.gmail.com -->
<!--X-Reference: 460BE559.7010901@bmb.leeds.ac.uk -->
<!--X-Reference: f001463a0703291023l6145b88cs4ab84784c66524ab@mail.gmail.com -->
<!--X-Reference: 7f080ed10703291905m2e42d023m7ae0054fc60cf207@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: r3243 - in /branches/multi_processor: ./ multi/ prompt/	specific_fns/ -- March 30, 2007 - 09:08</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: r3243 - in /branches/multi_processor: ./ multi/ prompt/	specific_fns/</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00162" class="tabs">Index by Date</a> | <a href="threads.html#00162" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00161.html">Date Prev</a>] [<a href="msg00163.html">Date Next</a>] [<a href="msg00159.html">Thread Prev</a>] [<a href="msg00165.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Edward d'Auvergne &lt;edward.dauvergne@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Fri, 30 Mar 2007 08:07:45 +0100</li>
<li class="menuitem">
<em>Cc</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00162.html">460CB741.5010103@bmb.leeds.ac.uk</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1HWrC8-0002Jl-Ii@subversion.gna.org&gt;	&lt;<a href="msg00148.html">460B9BA0.1060402@bmb.leeds.ac.uk</a>&gt;	&lt;<a href="msg00153.html">7f080ed10703290839g1afb16c7k476b60bca781dca4@mail.gmail.com</a>&gt;	&lt;<a href="msg00156.html">460BE559.7010901@bmb.leeds.ac.uk</a>&gt;	&lt;<a href="msg00157.html">f001463a0703291023l6145b88cs4ab84784c66524ab@mail.gmail.com</a>&gt;	&lt;<a href="msg00159.html">7f080ed10703291905m2e42d023m7ae0054fc60cf207@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Mozilla Thunderbird 1.0 (X11/20041206)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Gary S. Thompson</strong> on March 30, 2007 - 09:08:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Edward d'Auvergne wrote:</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">There were two problems I encountered.  The first was the import error
when mpi4py is not installed.
</pre></blockquote><tt><br>there should be no need for this mpi4py should only be loaded when you 
request mpi4py on the command line, the module is loaded on demand. This 
is why modules processor and command have bee created to remove the 
dependencies present in the alpha version of the code between the 
generic multiprocessor objects and mpi4py_processor</tt><br>
<br>
<blockquote class="blockquote"><pre style="margin: 0em;">This could possibly be handled by
setting a flag in the importing module, printing a RelaxWarning
message, and the defaulting to the uniprocessor code.  The second
problem is that when mpi4py is installed but 'mpirun-lam' is not
running, I get the message:</pre><br>
<tt>[edward@p2800 multi_processor]$ ./relax<br>
----------------------------------------------------------------------------- </tt><br>
<br>
<pre style="margin: 0em;"><br>It seems that there is no lamd running on the host p2800.</pre><br>
<pre style="margin: 0em;">This indicates that the LAM/MPI runtime environment is not operating.
The LAM/MPI runtime environment is necessary for MPI programs to run
(the MPI program tired to invoke the &quot;MPI_Init&quot; function).</pre><br>
<tt>Please run the &quot;lamboot&quot; command the start the LAM/MPI runtime<br>
environment.  See the LAM/MPI documentation for how to invoke<br>
&quot;lamboot&quot; across multiple machines.<br>
----------------------------------------------------------------------------- </tt><br>
<br>
<pre style="margin: 0em;">[edward@p2800 multi_processor]$</pre><br>
<pre style="margin: 0em;">This should only happen if the user asks to run in MPI mode, normal
relax operation should remain as is.</pre><br>
</blockquote><tt>indeed everything should remian the same for the uni processor mode 
using either</tt><br>
<br>
<pre style="margin: 0em;">relax
or
relax --multi uni (which is equivalent to the above)</pre><br>
<tt>I have now done some updates to give r3249 which should cure these 
problems (and does on all the computers I have) could you give the 
latest revision a try</tt><br>
<br>
<tt>I have done a check for MPI and mpi4py in all the files in the branch 
and only mpi4py contains  these strings now so unless something very 
weird it should all be fixed</tt><br>
<br>
<pre style="margin: 0em;">regards
gary</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">Cheers,</pre><br>
<pre style="margin: 0em;">Edward</pre><br>
<pre style="margin: 0em;"><br>On 3/30/07, gary thompson &lt;garyt.and.sarahb@xxxxxxxxx&gt; wrote:</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">On 3/29/07, Gary S. Thompson &lt;garyt@xxxxxxxxxxxxxxx&gt; wrote:
&gt; Edward d'Auvergne wrote:
[snip]</pre><br>
<tt>&gt; &gt; One<br>
&gt; &gt; question I have is will there be a separate model-free minimise()<br>
&gt; &gt; function for normal and MPI operation?<br>
&gt;<br>
&gt;<br>
&gt; no the non mpi version just calls the uniprocessor processor<br>
&gt; multi.uni_processor.  The current uniprocessor implimentation is non<br>
&gt; optimal by space on single processor machines but will have the same<br>
&gt; overhead by time as any other implimentations (barring the use of<br>
&gt; command cacheing which may save to object creation overhead)<br>
&gt;<br>
&gt; &gt; Another point is that I can't<br>
&gt; &gt; run the code in the branch without having MPI up and running.<br>
&gt; &gt;<br>
&gt; &gt;<br>
&gt; you should be able to run relax without a --multi command line and<br>
&gt; without an mpirun and the uniprocessor implimentations should run.<br>
&gt; However, currently when I run it I get The dependency 'mpi4py' has not<br>
&gt; been installed is that the problem you have?? I will investigate 
the problem<br>
&gt;<br>
&gt;<br>
correction I have just gone home and run the command on the same<br>
machine remotely and get no messages about dependencies!. if this is<br>
the error you get please tell me.</tt><br>
<br>
<pre style="margin: 0em;">Ah revelation (realtime messaging and debugging!) in uni_processor I
am using multi.mpi4py_processor.Result_command which will load the
mpi4py_processor module which will result in  load of mpi4py (lines 14
onwards in mpi4py_processor). This is just an oversight due to me
being lazy and winging it while testing corrections on the way ;-)</pre><br>
<pre style="margin: 0em;"><br>regards
gary</pre><br>
<tt><br>&gt; &gt;&gt; obviously there is consdiderable code cleanup and documentation 
still<br>
&gt; &gt;&gt; to be done and also implimentation of processors for threading and<br>
&gt; &gt;&gt; ssh tunnels<br>
&gt; &gt;<br>
&gt; &gt;<br>
&gt; &gt; The code is shaping up nicely.  With a good clean up it should be<br>
&gt; &gt; relatively easy to port to the 1.3 line later on.<br>
&gt;<br>
&gt; yep time to go from alpha to beta, glad you like it<br>
&gt;<br>
&gt; &gt; 1It looks like a<br>
&gt; &gt; great framework for the threading and grid computing via ssh 
tunnels.<br>
&gt; &gt;<br>
&gt; indeed thats the intention and design goal ;-)<br>
&gt;<br>
&gt; &gt; Cheers,<br>
&gt; &gt;<br>
&gt; &gt; Edward<br>
&gt; &gt;<br>
&gt;<br>
&gt; regards<br>
&gt; gary<br>
&gt;<br>
&gt; &gt; _______________________________________________<br>
&gt; &gt; relax (<a  href="http://nmr-relax.com">http://nmr-relax.com</a>)<br>
&gt; &gt;<br>
&gt; &gt; This is the relax-devel mailing list<br>
&gt; &gt; relax-devel@xxxxxxx<br>
&gt; &gt;<br>
&gt; &gt; To unsubscribe from this list, get a password<br>
&gt; &gt; reminder, or change your subscription options,<br>
&gt; &gt; visit the list information page at<br>
&gt; &gt; <a  href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a><br>
&gt; &gt;<br>
&gt; &gt; .<br>
&gt; &gt;<br>
&gt;<br>
&gt;<br>
&gt; --<br>
&gt; -------------------------------------------------------------------<br>
&gt; Dr Gary Thompson<br>
&gt; Astbury Centre for Structural Molecular Biology,<br>
&gt; University of Leeds, Astbury Building,<br>
&gt; Leeds, LS2 9JT, West-Yorkshire, UK             Tel. +44-113-3433024<br>
&gt; email: garyt@xxxxxxxxxxxxxxx                   Fax  +44-113-2331407<br>
&gt; -------------------------------------------------------------------<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt; _______________________________________________<br>
&gt; relax (<a  href="http://nmr-relax.com">http://nmr-relax.com</a>)<br>
&gt;<br>
&gt; This is the relax-devel mailing list<br>
&gt; relax-devel@xxxxxxx<br>
&gt;<br>
&gt; To unsubscribe from this list, get a password<br>
&gt; reminder, or change your subscription options,<br>
&gt; visit the list information page at<br>
&gt; <a  href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a><br>
&gt;</tt><br>
<br>
</blockquote><pre style="margin: 0em;"><br>.</pre><br>
</blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">--
-------------------------------------------------------------------
Dr Gary Thompson
Astbury Centre for Structural Molecular Biology,
University of Leeds, Astbury Building,
Leeds, LS2 9JT, West-Yorkshire, UK             Tel. +44-113-3433024
email: garyt@xxxxxxxxxxxxxxx                   Fax  +44-113-2331407
-------------------------------------------------------------------</pre><br>
<pre style="margin: 0em;"><br></pre><br>
<br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00165" href="msg00165.html">Re: r3243 - in /branches/multi_processor: ./ multi/ prompt/	specific_fns/</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00148" href="msg00148.html">Re: r3243 - in /branches/multi_processor: ./ multi/ prompt/	specific_fns/</a></strong>
<ul><li><em>From:</em> Gary S. Thompson</li></ul></li>
<li><strong><a name="00153" href="msg00153.html">Re: r3243 - in /branches/multi_processor: ./ multi/ prompt/	specific_fns/</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00156" href="msg00156.html">Re: r3243 - in /branches/multi_processor: ./ multi/ prompt/	specific_fns/</a></strong>
<ul><li><em>From:</em> Gary S. Thompson</li></ul></li>
<li><strong><a name="00157" href="msg00157.html">Re: r3243 - in /branches/multi_processor: ./ multi/ prompt/	specific_fns/</a></strong>
<ul><li><em>From:</em> gary thompson</li></ul></li>
<li><strong><a name="00159" href="msg00159.html">Re: r3243 - in /branches/multi_processor: ./ multi/ prompt/	specific_fns/</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Mar 30 09:41:14 2007</div>  
</body>
</html>
