<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: relaxation curve fitting -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Sat, 30 Jun 2012 20:42:35 +0200 -->
<!--X-Message-Id: CAED9pY9E&#45;EC1LSU&#45;4gZa311rwbfH00PfmcH9Th2KRdURNXhB1A@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CAH4SRgofuRTUEW0Me6F6A+mWKhCUz6&#45;U5jFwVmOhKSPqi3pZLA@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: relaxation curve fitting -- June 30, 2012 - 20:42</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: relaxation curve fitting</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00012" class="tabs">Index by Date</a> | <a href="threads.html#00012" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00011.html">Date Prev</a>] [<a href="msg00013.html">Date Next</a>] [<a href="msg00011.html">Thread Prev</a>] [<a href="msg00013.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Romel Bobby &lt;rbob002@xxxxxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Sat, 30 Jun 2012 20:42:05 +0200</li>
<li class="menuitem">
<em>Cc</em>: relax-users@xxxxxxx</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:sender:in-reply-to:references:date	:x-google-sender-auth:message-id:subject:from:to:cc:content-type	:content-transfer-encoding;	bh=Ovu7cZHe3hKQQWLZxufrF7UYu3NHf9GKAegx1mcu0fI=;	b=YSvl7q2BGfW9Y1S+0qIBTRxqnml/irVo24cb1A6Hy1k77cIfDLfrVyaAYqxs7WaUso	rSWpiOVvcAv/xvgVu1clrQo7jEeXpr1eTDk1R6bgTLqidKklIls6qJMJ1nnENQgtDrdC	XoSmCDdDc3azbImvCF/zEL68EvXwcoxxAPAAvPO71nk+aiyCoqI+Cs+IabZLPn302fxU	qM8ygDzcnTVMmGXI+MgqjhhKgnhiPSiOOgPom4puteAd9IhdkpTfZqI9nkpiO5NFOVwN	mitjaNSPBYmSr7Mi4R+hhUFGnIgpuL1vQLZFLJGLbqtQq/pgDUryvevFBGxDugmcCX0k	nISg==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00012.html">CAED9pY9E-EC1LSU-4gZa311rwbfH00PfmcH9Th2KRdURNXhB1A@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;CAH4SRgofuRTUEW0Me6F6A+mWKhCUz6-U5jFwVmOhKSPqi3pZLA@xxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on June 30, 2012 - 20:42:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Romel,

The problem is that unfortunately the 'inv' model is simply not
implemented yet.  This is the model for the very old-school inversion
recovery type R1 experiments whereby the magnetisation returns to the
Boltzmann equilibrium.  I'm guessing you should be using the 'exp'
model instead.  This is the standard 2 parameter exponential fit
whereby the magnetisation goes to zero.  This is the standard nowadays
as it is considered far more accurate for the extraction of the rates
(simply by having one less parameter to fit).

If you have collected the old-school data, there is a relax branch
created by Sébastien Morin for handling this experiment type.  This is
the 'inversion-recovery' branch located at
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/inversion-recovery/">http://svn.gna.org/viewcvs/relax/branches/inversion-recovery/</a>.
However this branch is not complete and will require someone willing
to dive into C code to complete it (see
<a  rel="nofollow" href="http://www.mail-archive.com/relax-devel@xxxxxxx/msg03353.html">http://www.mail-archive.com/relax-devel@xxxxxxx/msg03353.html</a>).  Note
that if someone does know C, completing this will require about 50
lines of code changed in the maths_fns/relax_fit.c and
maths_fns/exponential.c files (my rough guess anyway).  It should be
incredibly trivial for someone with C knowledge.  Anyway, I hope some
of this info helps.

Regards,

Edward



On 30 June 2012 18:01, Romel Bobby &lt;rbob002@xxxxxxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Dear all,

I've been trying to use the curve fitting routine for R1 and R2 in relax
using the sample script relax_fit.py. I managed to read in the spectra and
obtain a value for the uncertainty. However, once it gets to the point of
performing a grid_search that's where it fails (see below). Has anyone had a
similar problem?

[?1034h


                                            relax 2.0.0

                              Molecular dynamics by NMR data analysis

                             Copyright (C) 2001-2006 Edward d'Auvergne
                         Copyright (C) 2006-2012 the relax development team

This is free software which you are welcome to modify and redistribute under
the conditions of the
GNU General Public License (GPL).  This program, including all modules, is
licensed under the GPL
and comes with absolutely no warranty.  For details type 'GPL' within the
relax prompt.

Assistance in using the relax prompt and scripting interface can be accessed
by typing 'help' within
the prompt.

Processor fabric:  Uni-processor.

script = 'relax_fit.py'
----------------------------------------------------------------------------------------------------
###############################################################################
#
  #
# Copyright (C) 2004-2012 Edward d'Auvergne
  #
#
  #
# This file is part of the program relax.
  #
#
  #
# relax is free software; you can redistribute it and/or modify
  #
# it under the terms of the GNU General Public License as published by
 #
# the Free Software Foundation; either version 2 of the License, or
  #
# (at your option) any later version.
  #
#
  #
# relax is distributed in the hope that it will be useful,
 #
# but WITHOUT ANY WARRANTY; without even the implied warranty of
 #
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
  #
# GNU General Public License for more details.
 #
#
  #
# You should have received a copy of the GNU General Public License
  #
# along with relax; if not, write to the Free Software
 #
# Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
  #
#
  #
###############################################################################

&quot;&quot;&quot;Script for relaxation curve fitting.&quot;&quot;&quot;


# Create the 'rx' data pipe.
pipe.create('rx', 'relax_fit')

# Load the backbone amide 15N spins from a PDB file.
structure.read_pdb('IL6_mf.pdb')
structure.load_spins(spin_id='@N')

# Spectrum names.
names = [
    'T1_1204.04',
    'T1_1504.04',
    'T1_1804.04',
    'T1_2104.04',
    'T1_2404.04',
    'T1_2754.04',
    'T1_304.04',
    'T1_304.040',
    'T1_54.04',
    'T1_604.04',
    'T1_604.040',
    'T1_904.04',
]

# Relaxation times (in seconds).
times = [
    1.204,
    1.504,
    1.804,
    2.104,
    2.404,
    2.754,
    0.304,
    0.304,
    0.054,
    0.604,
    0.604,
    0.904
]

# Loop over the spectra.
for i in xrange(len(names)):
    # Load the peak intensities.
    spectrum.read_intensities(file=names[i]+'.list', dir='',
spectrum_id=names[i], int_method='height')

    # Set the relaxation times.
    relax_fit.relax_time(time=times[i], spectrum_id=names[i])

# Specify the duplicated spectra.
spectrum.replicated(spectrum_ids=['T1_304.04', 'T1_304.040'])
spectrum.replicated(spectrum_ids=['T1_604.04', 'T1_604.040'])

# Peak intensity error analysis.
spectrum.error_analysis()

# Deselect unresolved spins.
# deselect.read(file='unresolved', mol_name_col=1, res_num_col=2,
res_name_col=3, spin_num_col=4, spin_name_col=5)

# Set the relaxation curve type.
relax_fit.select_model('inv')

# Grid search.
grid_search(inc=11)

# Minimise.
minimise('simplex', scaling=False, constraints=False)

# Monte Carlo simulations.
monte_carlo.setup(number=500)
monte_carlo.create_data()
monte_carlo.initial_values()
minimise('simplex', scaling=False, constraints=False)
monte_carlo.error_analysis()

# Save the relaxation rates.
value.write(param='rx', file='rx.out', force=True)

# Save the results.
results.write(file='results', force=True)

# Create Grace plots of the data.
grace.write(y_data_type='chi2', file='chi2.agr', force=True)    # Minimised
chi-squared value.
grace.write(y_data_type='i0', file='i0.agr', force=True)    # Initial peak
intensity.
grace.write(y_data_type='rx', file='rx.agr', force=True)    # Relaxation
rate.
grace.write(x_data_type='relax_times', y_data_type='intensities',
file='intensities.agr', force=True)    # Average peak intensities.
grace.write(x_data_type='relax_times', y_data_type='intensities', norm=True,
file='intensities_norm.agr', force=True)    # Average peak intensities
(normalised).

# Display the Grace plots.
grace.view(file='chi2.agr')
grace.view(file='i0.agr')
grace.view(file='rx.agr')
grace.view(file='intensities.agr')
grace.view(file='intensities_norm.agr')

# Save the program state.
state.save('rx.save', force=True)
----------------------------------------------------------------------------------------------------

relax&gt; pipe.create(pipe_name='rx', pipe_type='relax_fit', bundle=None)

relax&gt; structure.read_pdb(file='IL6_mf.pdb', dir=None, read_mol=None,
set_mol_name=None, read_model=None, set_model_num=None, parser='internal')

Internal relax PDB parser.
Opening the file 'IL6_mf.pdb' for reading.
Adding molecule 'IL6_mf_mol1' to model None (from the original molecule
number 1 of model None)

relax&gt; structure.load_spins(spin_id='@N', ave_pos=True)
Adding the following spins to the relax data store.

# mol_name     res_num    res_name    spin_num    spin_name
IL6_mf_mol1    20         LEU         1           N
IL6_mf_mol1    21         THR         20          N
IL6_mf_mol1    22         SER         34          N
IL6_mf_mol1    23         SER         45          N
IL6_mf_mol1    24         GLU         56          N
IL6_mf_mol1    25         ARG         71          N
IL6_mf_mol1    26         ILE         95          N
IL6_mf_mol1    27         ASP         114         N
IL6_mf_mol1    28         LYS         126         N
IL6_mf_mol1    29         GLN         148         N
IL6_mf_mol1    30         ILE         165         N
IL6_mf_mol1    31         ARG         184         N
IL6_mf_mol1    32         TYR         208         N
IL6_mf_mol1    33         ILE         229         N
IL6_mf_mol1    34         LEU         248         N
IL6_mf_mol1    35         ASP         267         N
IL6_mf_mol1    36         GLY         279         N
IL6_mf_mol1    37         ILE         286         N
IL6_mf_mol1    38         SER         305         N
IL6_mf_mol1    39         ALA         316         N
IL6_mf_mol1    40         LEU         326         N
IL6_mf_mol1    41         ARG         345         N
IL6_mf_mol1    42         LYS         369         N
IL6_mf_mol1    43         GLU         391         N
IL6_mf_mol1    44         THR         406         N
IL6_mf_mol1    45         CYS         420         N
IL6_mf_mol1    46         ASN         430         N
IL6_mf_mol1    47         LYS         444         N
IL6_mf_mol1    48         SER         466         N
IL6_mf_mol1    49         ASN         477         N
IL6_mf_mol1    50         MET         491         N
IL6_mf_mol1    51         CYS         508         N
IL6_mf_mol1    52         GLU         518         N
IL6_mf_mol1    53         SER         533         N
IL6_mf_mol1    54         SER         544         N
IL6_mf_mol1    55         LYS         555         N
IL6_mf_mol1    56         GLU         577         N
IL6_mf_mol1    57         ALA         592         N
IL6_mf_mol1    58         LEU         602         N
IL6_mf_mol1    59         ALA         621         N
IL6_mf_mol1    60         GLU         631         N
IL6_mf_mol1    61         ASN         646         N
IL6_mf_mol1    62         ASN         660         N
IL6_mf_mol1    63         LEU         674         N
IL6_mf_mol1    64         ASN         693         N
IL6_mf_mol1    65         LEU         707         N
IL6_mf_mol1    66         PRO         726         N
IL6_mf_mol1    67         LYS         740         N
IL6_mf_mol1    68         MET         762         N
IL6_mf_mol1    69         ALA         779         N
IL6_mf_mol1    70         GLU         789         N
IL6_mf_mol1    71         LYS         804         N
IL6_mf_mol1    72         ASP         826         N
IL6_mf_mol1    73         GLY         838         N
IL6_mf_mol1    74         CYS         845         N
IL6_mf_mol1    75         PHE         855         N
IL6_mf_mol1    76         GLN         875         N
IL6_mf_mol1    77         SER         892         N
IL6_mf_mol1    78         GLY         903         N
IL6_mf_mol1    79         PHE         910         N
IL6_mf_mol1    80         ASN         930         N
IL6_mf_mol1    81         GLU         944         N
IL6_mf_mol1    82         GLU         959         N
IL6_mf_mol1    83         THR         974         N
IL6_mf_mol1    84         CYS         988         N
IL6_mf_mol1    85         LEU         998         N
IL6_mf_mol1    86         VAL         1017        N
IL6_mf_mol1    87         LYS         1033        N
IL6_mf_mol1    88         ILE         1055        N
IL6_mf_mol1    89         ILE         1074        N
IL6_mf_mol1    90         THR         1093        N
IL6_mf_mol1    91         GLY         1107        N
IL6_mf_mol1    92         LEU         1114        N
IL6_mf_mol1    93         LEU         1133        N
IL6_mf_mol1    94         GLU         1152        N
IL6_mf_mol1    95         PHE         1167        N
IL6_mf_mol1    96         GLU         1187        N
IL6_mf_mol1    97         VAL         1202        N
IL6_mf_mol1    98         TYR         1218        N
IL6_mf_mol1    99         LEU         1239        N
IL6_mf_mol1    100        GLU         1258        N
IL6_mf_mol1    101        TYR         1273        N
IL6_mf_mol1    102        LEU         1294        N
IL6_mf_mol1    103        GLN         1313        N
IL6_mf_mol1    104        ASN         1330        N
IL6_mf_mol1    105        ARG         1344        N
IL6_mf_mol1    106        PHE         1368        N
IL6_mf_mol1    107        GLU         1388        N
IL6_mf_mol1    108        SER         1403        N
IL6_mf_mol1    109        SER         1414        N
IL6_mf_mol1    110        GLU         1425        N
IL6_mf_mol1    111        GLU         1440        N
IL6_mf_mol1    112        GLN         1455        N
IL6_mf_mol1    113        ALA         1472        N
IL6_mf_mol1    114        ARG         1482        N
IL6_mf_mol1    115        ALA         1506        N
IL6_mf_mol1    116        VAL         1516        N
IL6_mf_mol1    117        GLN         1532        N
IL6_mf_mol1    118        MET         1549        N
IL6_mf_mol1    119        SER         1566        N
IL6_mf_mol1    120        THR         1577        N
IL6_mf_mol1    121        LYS         1591        N
IL6_mf_mol1    122        VAL         1613        N
IL6_mf_mol1    123        LEU         1629        N
IL6_mf_mol1    124        ILE         1648        N
IL6_mf_mol1    125        GLN         1667        N
IL6_mf_mol1    126        PHE         1684        N
IL6_mf_mol1    127        LEU         1704        N
IL6_mf_mol1    128        GLN         1723        N
IL6_mf_mol1    129        LYS         1740        N
IL6_mf_mol1    130        LYS         1762        N
IL6_mf_mol1    131        ALA         1784        N
IL6_mf_mol1    132        LYS         1794        N
IL6_mf_mol1    133        ASN         1816        N
IL6_mf_mol1    134        LEU         1830        N
IL6_mf_mol1    135        ASP         1849        N
IL6_mf_mol1    136        ALA         1861        N
IL6_mf_mol1    137        ILE         1871        N
IL6_mf_mol1    138        THR         1890        N
IL6_mf_mol1    139        THR         1904        N
IL6_mf_mol1    140        PRO         1918        N
IL6_mf_mol1    141        ASP         1932        N
IL6_mf_mol1    142        PRO         1944        N
IL6_mf_mol1    143        THR         1958        N
IL6_mf_mol1    144        THR         1972        N
IL6_mf_mol1    145        ASN         1986        N
IL6_mf_mol1    146        ALA         2000        N
IL6_mf_mol1    147        SER         2010        N
IL6_mf_mol1    148        LEU         2021        N
IL6_mf_mol1    149        LEU         2040        N
IL6_mf_mol1    150        THR         2059        N
IL6_mf_mol1    151        LYS         2073        N
IL6_mf_mol1    152        LEU         2095        N
IL6_mf_mol1    153        GLN         2114        N
IL6_mf_mol1    154        ALA         2131        N
IL6_mf_mol1    155        GLN         2141        N
IL6_mf_mol1    156        ASN         2158        N
IL6_mf_mol1    157        GLN         2172        N
IL6_mf_mol1    158        TRP         2189        N
IL6_mf_mol1    159        LEU         2213        N
IL6_mf_mol1    160        GLN         2232        N
IL6_mf_mol1    161        ASP         2249        N
IL6_mf_mol1    162        MET         2261        N
IL6_mf_mol1    163        THR         2278        N
IL6_mf_mol1    164        THR         2292        N
IL6_mf_mol1    165        HIS         2306        N
IL6_mf_mol1    166        LEU         2323        N
IL6_mf_mol1    167        ILE         2342        N
IL6_mf_mol1    168        LEU         2361        N
IL6_mf_mol1    169        ARG         2380        N
IL6_mf_mol1    170        SER         2404        N
IL6_mf_mol1    171        PHE         2415        N
IL6_mf_mol1    172        LYS         2435        N
IL6_mf_mol1    173        GLU         2457        N
IL6_mf_mol1    174        PHE         2472        N
IL6_mf_mol1    175        LEU         2492        N
IL6_mf_mol1    176        GLN         2511        N
IL6_mf_mol1    177        SER         2528        N
IL6_mf_mol1    178        SER         2539        N
IL6_mf_mol1    179        LEU         2550        N
IL6_mf_mol1    180        ARG         2569        N
IL6_mf_mol1    181        ALA         2593        N
IL6_mf_mol1    182        LEU         2603        N
IL6_mf_mol1    183        ARG         2622        N
IL6_mf_mol1    184        GLN         2646        N
IL6_mf_mol1    185        MET         2663        N

relax&gt; spectrum.read_intensities(file='T1_1204.04.list', dir='',
spectrum_id='T1_1204.04', heteronuc='N', proton='HN', int_method='height',
int_col=None, spin_id_col=None, mol_name_col=None, res_num_col=None,
res_name_col=None, spin_num_col=None, spin_name_col=None, sep=None,
spin_id=None, ncproc=None)
Opening the file 'T1_1204.04.list' for reading.
Sparky formatted data file.

Number of header lines found: 1

relax&gt; relax_fit.relax_time(time=1.204, spectrum_id='T1_1204.04')

relax&gt; spectrum.read_intensities(file='T1_1504.04.list', dir='',
spectrum_id='T1_1504.04', heteronuc='N', proton='HN', int_method='height',
int_col=None, spin_id_col=None, mol_name_col=None, res_num_col=None,
res_name_col=None, spin_num_col=None, spin_name_col=None, sep=None,
spin_id=None, ncproc=None)
Opening the file 'T1_1504.04.list' for reading.
Sparky formatted data file.

Number of header lines found: 1

relax&gt; relax_fit.relax_time(time=1.504, spectrum_id='T1_1504.04')

relax&gt; spectrum.read_intensities(file='T1_1804.04.list', dir='',
spectrum_id='T1_1804.04', heteronuc='N', proton='HN', int_method='height',
int_col=None, spin_id_col=None, mol_name_col=None, res_num_col=None,
res_name_col=None, spin_num_col=None, spin_name_col=None, sep=None,
spin_id=None, ncproc=None)
Opening the file 'T1_1804.04.list' for reading.
Sparky formatted data file.

Number of header lines found: 1

relax&gt; relax_fit.relax_time(time=1.804, spectrum_id='T1_1804.04')

relax&gt; spectrum.read_intensities(file='T1_2104.04.list', dir='',
spectrum_id='T1_2104.04', heteronuc='N', proton='HN', int_method='height',
int_col=None, spin_id_col=None, mol_name_col=None, res_num_col=None,
res_name_col=None, spin_num_col=None, spin_name_col=None, sep=None,
spin_id=None, ncproc=None)
Opening the file 'T1_2104.04.list' for reading.
Sparky formatted data file.

Number of header lines found: 1

relax&gt; relax_fit.relax_time(time=2.104, spectrum_id='T1_2104.04')

relax&gt; spectrum.read_intensities(file='T1_2404.04.list', dir='',
spectrum_id='T1_2404.04', heteronuc='N', proton='HN', int_method='height',
int_col=None, spin_id_col=None, mol_name_col=None, res_num_col=None,
res_name_col=None, spin_num_col=None, spin_name_col=None, sep=None,
spin_id=None, ncproc=None)
Opening the file 'T1_2404.04.list' for reading.
Sparky formatted data file.

Number of header lines found: 1

relax&gt; relax_fit.relax_time(time=2.404, spectrum_id='T1_2404.04')

relax&gt; spectrum.read_intensities(file='T1_2754.04.list', dir='',
spectrum_id='T1_2754.04', heteronuc='N', proton='HN', int_method='height',
int_col=None, spin_id_col=None, mol_name_col=None, res_num_col=None,
res_name_col=None, spin_num_col=None, spin_name_col=None, sep=None,
spin_id=None, ncproc=None)
Opening the file 'T1_2754.04.list' for reading.
Sparky formatted data file.

Number of header lines found: 1

relax&gt; relax_fit.relax_time(time=2.754, spectrum_id='T1_2754.04')

relax&gt; spectrum.read_intensities(file='T1_304.04.list', dir='',
spectrum_id='T1_304.04', heteronuc='N', proton='HN', int_method='height',
int_col=None, spin_id_col=None, mol_name_col=None, res_num_col=None,
res_name_col=None, spin_num_col=None, spin_name_col=None, sep=None,
spin_id=None, ncproc=None)
Opening the file 'T1_304.04.list' for reading.
Sparky formatted data file.

Number of header lines found: 1

relax&gt; relax_fit.relax_time(time=0.304, spectrum_id='T1_304.04')

relax&gt; spectrum.read_intensities(file='T1_304.040.list', dir='',
spectrum_id='T1_304.040', heteronuc='N', proton='HN', int_method='height',
int_col=None, spin_id_col=None, mol_name_col=None, res_num_col=None,
res_name_col=None, spin_num_col=None, spin_name_col=None, sep=None,
spin_id=None, ncproc=None)
Opening the file 'T1_304.040.list' for reading.
Sparky formatted data file.

Number of header lines found: 1

relax&gt; relax_fit.relax_time(time=0.304, spectrum_id='T1_304.040')

relax&gt; spectrum.read_intensities(file='T1_54.04.list', dir='',
spectrum_id='T1_54.04', heteronuc='N', proton='HN', int_method='height',
int_col=None, spin_id_col=None, mol_name_col=None, res_num_col=None,
res_name_col=None, spin_num_col=None, spin_name_col=None, sep=None,
spin_id=None, ncproc=None)
Opening the file 'T1_54.04.list' for reading.
Sparky formatted data file.

Number of header lines found: 1

relax&gt; relax_fit.relax_time(time=0.054, spectrum_id='T1_54.04')

relax&gt; spectrum.read_intensities(file='T1_604.04.list', dir='',
spectrum_id='T1_604.04', heteronuc='N', proton='HN', int_method='height',
int_col=None, spin_id_col=None, mol_name_col=None, res_num_col=None,
res_name_col=None, spin_num_col=None, spin_name_col=None, sep=None,
spin_id=None, ncproc=None)
Opening the file 'T1_604.04.list' for reading.
Sparky formatted data file.

Number of header lines found: 1

relax&gt; relax_fit.relax_time(time=0.604, spectrum_id='T1_604.04')

relax&gt; spectrum.read_intensities(file='T1_604.040.list', dir='',
spectrum_id='T1_604.040', heteronuc='N', proton='HN', int_method='height',
int_col=None, spin_id_col=None, mol_name_col=None, res_num_col=None,
res_name_col=None, spin_num_col=None, spin_name_col=None, sep=None,
spin_id=None, ncproc=None)
Opening the file 'T1_604.040.list' for reading.
Sparky formatted data file.

Number of header lines found: 1

relax&gt; relax_fit.relax_time(time=0.604, spectrum_id='T1_604.040')

relax&gt; spectrum.read_intensities(file='T1_904.04.list', dir='',
spectrum_id='T1_904.04', heteronuc='N', proton='HN', int_method='height',
int_col=None, spin_id_col=None, mol_name_col=None, res_num_col=None,
res_name_col=None, spin_num_col=None, spin_name_col=None, sep=None,
spin_id=None, ncproc=None)
Opening the file 'T1_904.04.list' for reading.
Sparky formatted data file.

Number of header lines found: 1

relax&gt; relax_fit.relax_time(time=0.904, spectrum_id='T1_904.04')

relax&gt; spectrum.replicated(spectrum_ids=['T1_304.04', 'T1_304.040'])

relax&gt; spectrum.replicated(spectrum_ids=['T1_604.04', 'T1_604.040'])

relax&gt; spectrum.error_analysis()
Intensity measure:  Peak heights.
Replicated spectra:  Yes.
All spectra replicated:  No.

Replicated spectra:  ['T1_304.04', 'T1_304.040']
Standard deviation:  54707.6690901

Replicated spectra:  ['T1_604.04', 'T1_604.040']
Standard deviation:  49975.7017454

Variance averaging over all spectra.
Standard deviation for all spins:  52395.132513514036

relax&gt; relax_fit.select_model(model='inv')
Three parameter inversion recovery fit.

relax&gt; grid_search(lower=None, upper=None, inc=11, constraints=True,
verbosity=1)


Over-fit spin deselection.



Fitting to spin '#IL6_mf_mol1:24@56'
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Traceback (most recent call last):
  File &quot;/usr/local/relax/multi/processor.py&quot;, line 480, in run
    self.callback.init_master(self)
  File &quot;/usr/local/relax/multi/__init__.py&quot;, line 319, in
default_init_master
    self.master.run()
  File &quot;/usr/local/relax/relax.py&quot;, line 183, in run
    self.interpreter.run(self.script_file)
  File &quot;/usr/local/relax/prompt/interpreter.py&quot;, line 280, in run
    return run_script(intro=self.__intro_string, local=locals(),
script_file=script_file, quit=self.__quit_flag,
show_script=self.__show_script, raise_relax_error=self.__raise_relax_error)
  File &quot;/usr/local/relax/prompt/interpreter.py&quot;, line 570, in run_script
    return console.interact(intro, local, script_file, quit,
show_script=show_script, raise_relax_error=raise_relax_error)
  File &quot;/usr/local/relax/prompt/interpreter.py&quot;, line 455, in
interact_script
    exec_script(script_file, local)
  File &quot;/usr/local/relax/prompt/interpreter.py&quot;, line 329, in exec_script
    runpy.run_module(module, globals)
  File
&quot;/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/runpy.py&quot;,
line 180, in run_module
    fname, loader, pkg_name)
  File
&quot;/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/runpy.py&quot;,
line 72, in _run_code
    exec code in run_globals
  File &quot;/Users/b_romel/temp_relax/backup/relax_fit.py&quot;, line 87, in &lt;module&gt;
    grid_search(inc=11)
  File &quot;/usr/local/relax/prompt/uf_objects.py&quot;, line 220, in __call__
    self._backend(*new_args, **uf_kargs)
  File &quot;/usr/local/relax/generic_fns/minimise.py&quot;, line 141, in grid_search
    grid_search(lower=lower, upper=upper, inc=inc, constraints=constraints,
verbosity=verbosity)
  File &quot;/usr/local/relax/specific_fns/relax_fit.py&quot;, line 609, in
grid_search
    self.minimise(min_algor='grid', lower=lower, upper=upper, inc=inc,
constraints=constraints, verbosity=verbosity, sim_index=sim_index)
  File &quot;/usr/local/relax/specific_fns/relax_fit.py&quot;, line 716, in minimise
    if constraints and not match('^[Gg]rid', min_algor):
  File
&quot;/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/re.py&quot;,
line 137, in match
    return _compile(pattern, flags).match(string)
TypeError: bad argument type for built-in operation



--
Romel Bobby
Biomolecular NMR Research Group
School of Chemical Sciences/School of Biological Sciences
The University of Auckland
+64 (09) 3737599 Ext 83157
</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00013" href="msg00013.html">Re: relaxation curve fitting</a></strong>
<ul><li><em>From:</em> Romel Bobby</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00011" href="msg00011.html">relaxation curve fitting</a></strong>
<ul><li><em>From:</em> Romel Bobby</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sat Jun 30 21:20:09 2012</div>  
</body>
</html>
