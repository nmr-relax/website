<!-- MHonArc v2.6.18 -->
<!--X-Subject: r23885 &#45; /branches/frame_order_cleanup/test_suite/system_tests/scripts/frame_order/cam/base_script.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Thu, 12 Jun 2014 16:40:16 +0200 -->
<!--X-Message-Id: E1Wv6Aq&#45;0001KY&#45;Dg@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r23885 - /branches/frame_order_cleanup/test_suite/system_tests/scripts/frame_order/cam/base_script.py -- June 12, 2014 - 16:40</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r23885 - /branches/frame_order_cleanup/test_suite/system_tests/scripts/frame_order/cam/base_script.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00272" class="tabs">Index by Date</a> | <a href="threads.html#00272" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00271.html">Date Prev</a>] [<a href="msg00273.html">Date Next</a>] [<a href="msg00271.html">Thread Prev</a>] [<a href="msg00273.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Thu, 12 Jun 2014 14:40:16 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00272.html">E1Wv6Aq-0001KY-Dg@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on June 12, 2014 - 16:40:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Thu Jun 12 16:40:15 2014
New Revision: 23885

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=23885&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=23885&amp;view=rev</a>
Log:
Modified the CaM frame order system test base script to test alternative code 
paths.

This pivot point was fixed in all tests, so the code in the target functions 
behind the pivot_opt
flag was not being tested.  Now for those system tests whereby the calc 
rather than minimise user
function is called, the pivot is no longer fixed to execute this code.


Modified:
    
branches/frame_order_cleanup/test_suite/system_tests/scripts/frame_order/cam/base_script.py

Modified: 
branches/frame_order_cleanup/test_suite/system_tests/scripts/frame_order/cam/base_script.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/frame_order_cleanup/test_suite/system_tests/scripts/frame_order/cam/base_script.py?rev=23885&amp;r1=23884&amp;r2=23885&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/frame_order_cleanup/test_suite/system_tests/scripts/frame_order/cam/base_script.py?rev=23885&amp;r1=23884&amp;r2=23885&amp;view=diff</a>
==============================================================================
--- 
branches/frame_order_cleanup/test_suite/system_tests/scripts/frame_order/cam/base_script.py
 (original)
+++ 
branches/frame_order_cleanup/test_suite/system_tests/scripts/frame_order/cam/base_script.py
 Thu Jun 12 16:40:15 2014
@@ -281,8 +281,11 @@
         # Set the reference domain.
         self._execute_uf(uf_name='frame_order.ref_domain', ref='N')
 
-        # Set the initial pivot point(s).
-        self._execute_uf(uf_name='frame_order.pivot', pivot=self.PIVOT, 
fix=True)
+        # Set the initial pivot point - fixed when optimising, unfixed 
otherwise to check different code paths.
+        fix = False
+        if hasattr(status, 'flag_opt') and status.flag_opt:
+            fix = True
+        self._execute_uf(uf_name='frame_order.pivot', pivot=self.PIVOT, 
fix=fix)
 
         # Set the paramagnetic centre.
         self._execute_uf(uf_name='paramag.centre', pos=[35.934, 12.194, 
-4.206])



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Jun 12 19:00:03 2014</div>  
</body>
</html>
