<!-- MHonArc v2.6.16 -->
<!--X-Subject: r19061 &#45; in /trunk: ./ data_store/ generic_fns/	generic_fns/structure/ lib/ lib/text/ -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Sat, 23 Mar 2013 10:46:51 +0100 -->
<!--X-Message-Id: E1UJL2J&#45;00033v&#45;Gc@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r19061 - in /trunk: ./ data_store/ generic_fns/	generic_fns/structure/ lib/ lib/text/ -- March 23, 2013 - 10:46</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r19061 - in /trunk: ./ data_store/ generic_fns/	generic_fns/structure/ lib/ lib/text/</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00479" class="tabs">Index by Date</a> | <a href="threads.html#00479" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00478.html">Date Prev</a>] [<a href="msg00480.html">Date Next</a>] [<a href="msg00478.html">Thread Prev</a>] [<a href="msg00480.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Sat, 23 Mar 2013 09:46:51 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00479.html">E1UJL2J-00033v-Gc@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on March 23, 2013 - 10:46:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Sat Mar 23 10:46:51 2013
New Revision: 19061

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=19061&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=19061&amp;view=rev</a>
Log:
Moved the check_types module into the lib package.


Added:
    trunk/lib/check_types.py
      - copied unchanged from r19029, trunk/check_types.py
Removed:
    trunk/check_types.py
Modified:
    trunk/data_store/relax_xml.py
    trunk/generic_fns/mol_res_spin.py
    trunk/generic_fns/rdc.py
    trunk/generic_fns/structure/internal.py
    trunk/lib/__init__.py
    trunk/lib/arg_check.py
    trunk/lib/float.py
    trunk/lib/io.py
    trunk/lib/text/table.py

Removed: trunk/check_types.py
URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/check_types.py?rev=19060&amp;view=auto">http://svn.gna.org/viewcvs/relax/trunk/check_types.py?rev=19060&amp;view=auto</a>
==============================================================================
--- trunk/check_types.py (original)
+++ trunk/check_types.py (removed)
@@ -1,98 +1,0 @@
-###############################################################################
-#                                                                            
 #
-# Copyright (C) 2012 Edward d'Auvergne                                       
 #
-#                                                                            
 #
-# This file is part of the program relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>).         
 #
-#                                                                            
 #
-# This program is free software: you can redistribute it and/or modify       
 #
-# it under the terms of the GNU General Public License as published by       
 #
-# the Free Software Foundation, either version 3 of the License, or          
 #
-# (at your option) any later version.                                        
 #
-#                                                                            
 #
-# This program is distributed in the hope that it will be useful,            
 #
-# but WITHOUT ANY WARRANTY; without even the implied warranty of             
 #
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the              
 #
-# GNU General Public License for more details.                               
 #
-#                                                                            
 #
-# You should have received a copy of the GNU General Public License          
 #
-# along with this program.  If not, see &lt;<a  rel="nofollow" href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.      
 #
-#                                                                            
 #
-###############################################################################
-
-# Module docstring.
-&quot;&quot;&quot;Special module for checking types.&quot;&quot;&quot;
-
-# Python module imports.
-io_module = True
-try:
-    from io import IOBase    # Python 2.5+ import.
-    file = None
-except ImportError:
-    io_module = False
-from numpy import float32, float64, ndarray
-try:
-    from numpy import float16
-except ImportError:
-    float16 = float32    # Support for old numpy versions.
-try:
-    from numpy import float128
-except ImportError:
-    float128 = float64    # Support for 32-bit numpy versions.
-
-
-def is_filetype(obj):
-    &quot;&quot;&quot;Check if the given Python object is a file.
-
-    @param obj:     The Python object.
-    @type obj:      anything
-    @return:        True if the object is a file, False otherwise.
-    @rtype:         bool
-    &quot;&quot;&quot;
-
-    # New style check.
-    if io_module:
-        return isinstance(obj, IOBase)
-
-    # Old style check.
-    else:
-        return isinstance(obj, file)
-
-
-def is_float(num):
-    &quot;&quot;&quot;Check if the given number is a Python or numpy float.
-
-    @param num: The number to check.
-    @type num:  anything.
-    @return:    True if the number is a float, False otherwise.
-    @rtype:     bool
-    &quot;&quot;&quot;
-
-    # Standard float.
-    if isinstance(num, float):
-        return True
-
-    # Numpy floats.
-    if isinstance(num, float16):
-        return True
-    if isinstance(num, float32):
-        return True
-    if isinstance(num, float64):
-        return True
-    if isinstance(num, float128):
-        return True
-
-    # Not a float.
-    return False
-
-
-def is_unicode(obj):
-    &quot;&quot;&quot;Check if the given Python object is a unicode string.
-
-    @param obj:     The Python object.
-    @type obj:      anything
-    @return:        True if the object is a unicode string, False otherwise.
-    @rtype:         bool
-    &quot;&quot;&quot;
-
-    # Check using the unicode type (set in the compat module for Python 3).
-    return isinstance(obj, unicode)

Modified: trunk/data_store/relax_xml.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/data_store/relax_xml.py?rev=19061&amp;r1=19060&amp;r2=19061&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/data_store/relax_xml.py?rev=19061&amp;r1=19060&amp;r2=19061&amp;view=diff</a>
==============================================================================
--- trunk/data_store/relax_xml.py (original)
+++ trunk/data_store/relax_xml.py Sat Mar 23 10:46:51 2013
@@ -32,7 +32,7 @@
 
 # relax module imports.
 import lib.arg_check
-import check_types
+import lib.check_types
 from lib.float import floatAsByteArray, packBytesAsPyFloat
 from lib.errors import RelaxError
 
@@ -129,19 +129,19 @@
     elem.setAttribute('type', py_type)
 
     # Store floats as IEEE-754 byte arrays (for full precision storage).
-    if check_types.is_float(value):
+    if lib.check_types.is_float(value):
         val_elem = doc.createElement('ieee_754_byte_array')
         elem.appendChild(val_elem)
         
val_elem.appendChild(doc.createTextNode(repr(floatAsByteArray(value))))
 
     # Store lists with floats as IEEE-754 byte arrays.
-    elif (isinstance(value, list) or isinstance(value, ndarray)) and 
len(value) and check_types.is_float(value[0]):
+    elif (isinstance(value, list) or isinstance(value, ndarray)) and 
len(value) and lib.check_types.is_float(value[0]):
         # The converted list.
         ieee_obj = []
         conv = False
         for i in range(len(value)):
             # A float.
-            if check_types.is_float(value[i]):
+            if lib.check_types.is_float(value[i]):
                 ieee_obj.append(floatAsByteArray(value[i]))
                 conv = True
 
@@ -164,7 +164,7 @@
         ieee_obj = {}
         conv = False
         for key in list(value.keys()):
-            if check_types.is_float(value[key]):
+            if lib.check_types.is_float(value[key]):
                 ieee_obj[key] = floatAsByteArray(value[key])
                 conv = True
 

Modified: trunk/generic_fns/mol_res_spin.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/generic_fns/mol_res_spin.py?rev=19061&amp;r1=19060&amp;r2=19061&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/generic_fns/mol_res_spin.py?rev=19061&amp;r1=19060&amp;r2=19061&amp;view=diff</a>
==============================================================================
--- trunk/generic_fns/mol_res_spin.py (original)
+++ trunk/generic_fns/mol_res_spin.py Sat Mar 23 10:46:51 2013
@@ -40,9 +40,9 @@
 from warnings import warn
 
 # relax module imports.
-from check_types import is_unicode
 from data_store.mol_res_spin import MoleculeContainer, ResidueContainer, 
SpinContainer
 from generic_fns import exp_info, pipes, relax_re
+from lib.check_types import is_unicode
 from lib.errors import RelaxError, RelaxNoSpinError, RelaxMultiMolIDError, 
RelaxMultiResIDError, RelaxMultiSpinIDError, RelaxResSelectDisallowError, 
RelaxSpinSelectDisallowError
 from lib.warnings import RelaxWarning
 from status import Status; status = Status()

Modified: trunk/generic_fns/rdc.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/generic_fns/rdc.py?rev=19061&amp;r1=19060&amp;r2=19061&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/generic_fns/rdc.py?rev=19061&amp;r1=19060&amp;r2=19061&amp;view=diff</a>
==============================================================================
--- trunk/generic_fns/rdc.py (original)
+++ trunk/generic_fns/rdc.py Sat Mar 23 10:46:51 2013
@@ -31,7 +31,7 @@
 from warnings import warn
 
 # relax module imports.
-from check_types import is_float
+from lib.check_types import is_float
 from lib.float import nan
 from generic_fns import grace, pipes
 from generic_fns.align_tensor import get_tensor_index

Modified: trunk/generic_fns/structure/internal.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/generic_fns/structure/internal.py?rev=19061&amp;r1=19060&amp;r2=19061&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/generic_fns/structure/internal.py?rev=19061&amp;r1=19060&amp;r2=19061&amp;view=diff</a>
==============================================================================
--- trunk/generic_fns/structure/internal.py (original)
+++ trunk/generic_fns/structure/internal.py Sat Mar 23 10:46:51 2013
@@ -32,13 +32,13 @@
 from warnings import warn
 
 # relax module imports.
-from check_types import is_float
 from data_store.relax_xml import fill_object_contents, xml_to_object
 from generic_fns import pipes, relax_re
 from generic_fns.mol_res_spin import spin_loop
 from generic_fns.mol_res_spin import Selection
 from generic_fns.structure import pdb_read, pdb_write
 from generic_fns.structure.api_base import Base_struct_API, ModelList, 
Displacements
+from lib.check_types import is_float
 from lib.errors import RelaxError, RelaxNoneIntError, RelaxNoPdbError
 from lib.io import file_root, open_read_file
 from lib.warnings import RelaxWarning

Modified: trunk/lib/__init__.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/lib/__init__.py?rev=19061&amp;r1=19060&amp;r2=19061&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/lib/__init__.py?rev=19061&amp;r1=19060&amp;r2=19061&amp;view=diff</a>
==============================================================================
--- trunk/lib/__init__.py (original)
+++ trunk/lib/__init__.py Sat Mar 23 10:46:51 2013
@@ -27,6 +27,7 @@
     'ansi',
     'arg_check',
     'auto_relaxation',
+    'check_types',
     'errors',
     'float',
     'frame_order',

Modified: trunk/lib/arg_check.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/lib/arg_check.py?rev=19061&amp;r1=19060&amp;r2=19061&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/lib/arg_check.py?rev=19061&amp;r1=19060&amp;r2=19061&amp;view=diff</a>
==============================================================================
--- trunk/lib/arg_check.py (original)
+++ trunk/lib/arg_check.py Sat Mar 23 10:46:51 2013
@@ -26,7 +26,7 @@
 from numpy import ndarray
 
 # relax module imports.
-import check_types
+import lib.check_types
 from lib.errors import RelaxBoolError, RelaxFloatError, RelaxFunctionError, 
RelaxIntError, RelaxIntListIntError, RelaxListFloatError, RelaxListIntError, 
RelaxMatrixFloatError, RelaxNoneFloatError, RelaxNoneFunctionError, 
RelaxListNumError, RelaxListStrError, RelaxNoneError, RelaxNoneIntError, 
RelaxNoneIntListIntError, RelaxNoneListFloatError, RelaxNoneListIntError, 
RelaxNoneMatrixFloatError, RelaxNoneListNumError, RelaxNoneListStrError, 
RelaxNoneNumError, RelaxNoneNumStrListNumStrError, RelaxNoneNumTupleNumError, 
RelaxNoneStrError, RelaxNoneStrFileError, RelaxNoneStrListNumError, 
RelaxNoneStrListStrError, RelaxNoneTupleError, RelaxNumError, 
RelaxNumStrListNumStrError, RelaxNumTupleNumError, RelaxStrError, 
RelaxStrFileError, RelaxStrListNumError, RelaxStrListStrError, 
RelaxTupleError, RelaxTupleNumError, RelaxNoneValListValError, 
RelaxValListValError
 from lib.io import DummyFileObject
 from types import FunctionType, MethodType

Modified: trunk/lib/float.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/lib/float.py?rev=19061&amp;r1=19060&amp;r2=19061&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/lib/float.py?rev=19061&amp;r1=19060&amp;r2=19061&amp;view=diff</a>
==============================================================================
--- trunk/lib/float.py (original)
+++ trunk/lib/float.py Sat Mar 23 10:46:51 2013
@@ -94,7 +94,7 @@
 import sys
 
 # relax module imports.
-from check_types import is_float
+from lib.check_types import is_float
 
 
 SIGNBIT = 0x80

Modified: trunk/lib/io.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/lib/io.py?rev=19061&amp;r1=19060&amp;r2=19061&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/lib/io.py?rev=19061&amp;r1=19060&amp;r2=19061&amp;view=diff</a>
==============================================================================
--- trunk/lib/io.py (original)
+++ trunk/lib/io.py Sat Mar 23 10:46:51 2013
@@ -40,9 +40,9 @@
 from warnings import warn
 
 # relax module imports.
-from check_types import is_filetype, is_float
 from compat import bz2_open, gz_open
 import generic_fns
+from lib.check_types import is_filetype, is_float
 from lib.errors import RelaxError, RelaxFileError, RelaxFileOverwriteError, 
RelaxInvalidSeqError, RelaxMissingBinaryError, RelaxNoInPathError, 
RelaxNonExecError
 from lib.warnings import RelaxWarning, RelaxFileEmptyWarning
 

Modified: trunk/lib/text/table.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/lib/text/table.py?rev=19061&amp;r1=19060&amp;r2=19061&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/lib/text/table.py?rev=19061&amp;r1=19060&amp;r2=19061&amp;view=diff</a>
==============================================================================
--- trunk/lib/text/table.py (original)
+++ trunk/lib/text/table.py Sat Mar 23 10:46:51 2013
@@ -27,7 +27,7 @@
 from textwrap import wrap
 
 # relax module imports.
-from check_types import is_float
+from lib.check_types import is_float
 from lib.errors import RelaxError
 
 



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sat Mar 23 11:00:02 2013</div>  
</body>
</html>
