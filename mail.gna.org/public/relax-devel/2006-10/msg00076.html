<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: float.py -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneq.qnhiretarNtznvy.pbz> -->
<!--X-Date: Thu, 12 Oct 2006 12:58:32 +0200 -->
<!--X-Message-Id: 7f080ed10610120357x6257ec52of7844250f3bab680@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1160550133.9523.54.camel@pc172&#45;31&#45;2&#45;63.biochem.unimelb.edu.au -->
<!--X-Reference: 1160555137.9523.70.camel@pc172&#45;31&#45;2&#45;63.biochem.unimelb.edu.au -->
<!--X-Reference: 1160562239.14487.98.camel@mrspell -->
<!--X-Reference: 7f080ed10610110731i57c163m78de780d38ec4de0@mail.gmail.com -->
<!--X-Reference: 1160582149.14487.193.camel@mrspell -->
<!--X-Reference: 7f080ed10610110940r50dc3070i9d25f9e7da68fd9e@mail.gmail.com -->
<!--X-Reference: 1160588340.14487.209.camel@mrspell -->
<!--X-Reference: 7f080ed10610111050m60ae4b35w53166493f29e0c58@mail.gmail.com -->
<!--X-Reference: 452E0FBC.90607@bmb.leeds.ac.uk -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: float.py -- October 12, 2006 - 12:58</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: float.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00076" class="tabs">Index by Date</a> | <a href="threads.html#00076" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00075.html">Date Prev</a>] [<a href="msg00077.html">Date Next</a>] [<a href="msg00075.html">Thread Prev</a>] [<a href="msg00084.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Gary S. Thompson&quot; &lt;garyt@xxxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 12 Oct 2006 20:57:52 +1000</li>
<li class="menuitem">
<em>Cc</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00076.html">7f080ed10610120357x6257ec52of7844250f3bab680@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00053.html">1160550133.9523.54.camel@pc172-31-2-63.biochem.unimelb.edu.au</a>&gt;	&lt;<a href="msg00056.html">1160555137.9523.70.camel@pc172-31-2-63.biochem.unimelb.edu.au</a>&gt;	&lt;<a href="msg00060.html">1160562239.14487.98.camel@mrspell</a>&gt;	&lt;<a href="msg00066.html">7f080ed10610110731i57c163m78de780d38ec4de0@mail.gmail.com</a>&gt;	&lt;<a href="msg00069.html">1160582149.14487.193.camel@mrspell</a>&gt;	&lt;<a href="msg00070.html">7f080ed10610110940r50dc3070i9d25f9e7da68fd9e@mail.gmail.com</a>&gt;	&lt;<a href="msg00071.html">1160588340.14487.209.camel@mrspell</a>&gt;	&lt;<a href="msg00072.html">7f080ed10610111050m60ae4b35w53166493f29e0c58@mail.gmail.com</a>&gt;	&lt;<a href="msg00075.html">452E0FBC.90607@bmb.leeds.ac.uk</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on October 12, 2006 - 12:58:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">What an awesome effort Gary!!!  That code is brilliant!</pre><br>
<tt>On 10/12/06, Gary S. Thompson &lt;garyt@xxxxxxxxxxxxxxx&gt; wrote:
</tt><blockquote class="blockquote"><pre style="margin: 0em;">Dear Ed and all</pre><br>
<pre style="margin: 0em;">I have committed a revision which has functions for dealing with
ieee-754 doubles. There are a few points to note:</pre><br>
<pre style="margin: 0em;">1. this does much more than the required task and covers most states of
python floats. This is because having sorted through how a ieee number
works it seemed easier to do all the 'float things' while I had my head
round it
</pre></blockquote><pre style="margin: 0em;"><br>The number of floating point functions is unbelievable, these should
come in very handy in the future.  Thank you.  Maybe after a bit of
polish you should consider submitting it for inclusion into Python.
'fpconst' is one day going into Python, but this code is a much more
advanced and complete implementation!</pre><br>
<br>
<blockquote class="blockquote"><pre style="margin: 0em;">2. it is a set of functions rather than a class as there seems to be no
reason to have a class...
</pre></blockquote><pre style="margin: 0em;"><br>Do you think it'll be sufficient to import the appropriate functions
by the module requiring the test?</pre><br>
<blockquote class="blockquote"><tt>3. as shown in the notes there are some things still to do
</tt></blockquote><pre style="margin: 0em;"><br>I've played around with it on both GNU/Linux and MS Windows XP and the
'isInf()' and 'isNaN()' functions return the correct value each time.
Unit tests would be a much more thorough way of testing it though.  I
have been thinking about extending the relax test-suite to be
three-tiered: unit tests, functional or system tests, and regression
tests.  Python has a decent unit test framework (called 'unittest').
These ideas should probably be discussed on another thread though.  If
I was to integrate the unit test framework into relax, would you be
interested in writing unit tests for these new functions?</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">4. I haven't alterered
specific_fns/.svn/text-base/model_free.py.svn-base:            #if
self.relax.float.isnan(self.func):
specific_fns/model_free.py:            #if
self.relax.float.isnan(self.func):</pre><br>
<tt>yet
</tt></blockquote><pre style="margin: 0em;"><br>There are a few minor things which need to be sorted out.  The first
thing is that relax no longer starts up.  This is easy to fix though,
just delete the import line, etc. from the file 'relax'. The other
problem is this message:</pre><br>
<pre style="margin: 0em;">DeprecationWarning: Non-ASCII character '\xe2' in file
/mnt/removable/relax/float.py on line 35, but no encoding declared;
see <a  href="http://www.python.org/peps/pep-0263.html">http://www.python.org/peps/pep-0263.html</a> for details</pre><br>
<pre style="margin: 0em;">The easy fix is to use standard ASCII characters to represent the
text.  There are four instances where a Unicode (I'm assuming)
character appear in your new code.  The next thing is import 'isInf'
and 'isNaN' into 'specific_fns/model_free.py' and uncomment the two
lines.</pre><br>
<pre style="margin: 0em;">Gary would you like to make these three easy changes?  I probably
won't have repository access until tomorrow.  Thanks.</pre><br>
<pre style="margin: 0em;">The following paragraph is just about cosmetic changes and the style
of the code.  I hope I don't offend, these are just standard relax
conventions.  One point which would be of benefit for future relax
developers (and possibly if you forget as well) is:  would it be
possible to get a few more comments '# ...' interspersed within the
code of each function describing in plain English what each part of
the code is attempting to do?  The functions jump around a lot calling
each other and a few more comments would make it easier to navigate
the code execution.  I know that the amount of comments in relax is
ridiculous when compared to other code, but these comments do help
those who aren't fully fluent in Python to follow what is happening.
It would be very much appreciated.  Would you mind making a few
cosmetic whitespace fixes to the trailing whitespace, leading
whitespace, number of newlines between functions, etc. for
consistency?  As it is a package which can be imported into the
different parts of relax, it isn't too important that the docstrings,
etc. don't match the relax conventions.  Did you use one of the
standard conventions with the 'obj', 'returns', and 'throws'
descriptions in the docstrings?</pre><br>
<pre style="margin: 0em;">Thank you very much again,</pre><br>
<pre style="margin: 0em;">Edward</pre><br>
<br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00053" href="msg00053.html">Redesign of the relax data model:  A HOWTO for breaking relax.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00056" href="msg00056.html">Redesign of the relax data model:  2.  A new run concept</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00060" href="msg00060.html">Re: Redesign of the relax data model:  2.  A new run concept</a></strong>
<ul><li><em>From:</em> Chris MacRaild</li></ul></li>
<li><strong><a name="00066" href="msg00066.html">Re: Redesign of the relax data model: 2. A new run concept</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00069" href="msg00069.html">Re: Redesign of the relax data model: 2. A new run concept</a></strong>
<ul><li><em>From:</em> Chris MacRaild</li></ul></li>
<li><strong><a name="00070" href="msg00070.html">Re: Redesign of the relax data model: 2. A new run concept</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00071" href="msg00071.html">Re: Redesign of the relax data model: 2. A new run concept</a></strong>
<ul><li><em>From:</em> Chris MacRaild</li></ul></li>
<li><strong><a name="00072" href="msg00072.html">Re: Redesign of the relax data model: 2. A new run concept</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00075" href="msg00075.html">float.py</a></strong>
<ul><li><em>From:</em> Gary S. Thompson</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Oct 12 18:40:22 2006</div>  
</body>
</html>
