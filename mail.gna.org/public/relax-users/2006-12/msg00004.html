<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: Convergence on different systems -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneq.qnhiretarNtznvy.pbz> -->
<!--X-Date: Sat, 02 Dec 2006 16:03:33 +0100 -->
<!--X-Message-Id: 7f080ed10612020702w17d7e190k75b922313b2e65c8@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 4570495E.7030209@ulaval.ca -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Convergence on different systems -- December 02, 2006 - 16:03</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Convergence on different systems</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00004" class="tabs">Index by Date</a> | <a href="threads.html#00004" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00003.html">Date Prev</a>] [<a href="msg00005.html">Date Next</a>] [<a href="msg00002.html">Thread Prev</a>] [<a href="msg00005.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Sebastien Morin&quot; &lt;sebastien.morin.1@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Sun, 3 Dec 2006 02:02:53 +1100</li>
<li class="menuitem">
<em>Cc</em>: relax-users@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00004.html">7f080ed10612020702w17d7e190k75b922313b2e65c8@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00002.html">4570495E.7030209@ulaval.ca</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on December 02, 2006 - 16:03:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Convergence when using Newton optimisation in relax (or in any
application) should be quite fast.  The Newton algorithm has what is
known as quadratic convergence - the fastest type of convergence.  In
comparison steepest descent has linear convergence and the BFGS
algorithm has super-linear convergence.  For more details see, for
example, Nocedal, J. and S. J. Wright: 1999, Numerical Optimization,
Springer Series in Operations Research, New York: Springer-Verlag.
Because of the quadratic convergence, tiny parameter differences will
most likely never occur and hence the convergence tests for identical
values won't be an issue.  These tests for identical values will not
increase the amount of CPU time required relative to approximate value
tests where a small tolerance is added.</pre><br>
<pre style="margin: 0em;">The only problem is if you continually change CPU architectures,
operating systems, etc., during the running of the 'full_analysis.py'
script.  It should be fine though if the same diffusion tensor is
optimised on the same machine.</pre><br>
<pre style="margin: 0em;">Cheers,</pre><br>
<pre style="margin: 0em;">Edward</pre><br>
<tt><br>On 12/2/06, Sebastien Morin &lt;sebastien.morin.1@xxxxxxxxx&gt; wrote:
</tt><blockquote class="blockquote"><pre style="margin: 0em;">Hi</pre><br>
<pre style="margin: 0em;">I used the full_analysis.py script until convergence for the 4 diffusion
models (sphere, prolate, oblate, ellipsoid), each on one different
computer. Those computer, however, are quite similar, all 32-bits x86
Gentoo Linux with same kernel, gcc, python, etc.</pre><br>
<pre style="margin: 0em;">For the final run, I switched on a different system, our dual core
pseudo 64-bits NMR console computer running Red Hat Enterprise 4 with
almost everything different from our Gentoo workstations which are
really more up-to-date. Before starting the final run, I wanted to check
if number rounding would be the same... Well, is wasn't and the run with
the ellipsoid diffusion model ended up saying it wasn't converged yet :</pre><br>
<pre style="margin: 0em;">#####################
# Convergence tests #
#####################
Chi-squared test:
    chi2 (k-1): 7022.7261139599996
    chi2 (k):   7022.7261139563052
    The chi-squared value has not converged.
Identical model-free models test:
    The model-free models have converged.
Identical parameter test:
    Spin system: 26 PHE
    Parameter:   S2f
    Value (k-1): 0.84811676720047557
    Value (k):   0.84811676720047491
    The model-free parameters have not converged.
Convergence:
    [ No ]</pre><br>
<pre style="margin: 0em;">As is obvious, the differences are really small, but still relax thinks
it's enough to spend many hours more trying to get absolute reproducibility.</pre><br>
<pre style="margin: 0em;">My question.</pre><br>
<pre style="margin: 0em;">Is it really necessary to get convergence on so small digits ? Probably
yes, as it was designed this way... So, if yes, why ? Isn't it a problem
for multi-computer processing ?</pre><br>
<pre style="margin: 0em;">Thanks !</pre><br>
<pre style="margin: 0em;"><br>SÃ©b :)</pre><br>
<pre style="margin: 0em;"><br>_______________________________________________
relax (<a  href="http://nmr-relax.com">http://nmr-relax.com</a>)</pre><br>
<pre style="margin: 0em;">This is the relax-users mailing list
relax-users@xxxxxxx</pre><br>
<pre style="margin: 0em;">To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  href="https://mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a></pre><br>
</blockquote><pre style="margin: 0em;"><br></pre><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00002" href="msg00002.html">Convergence on different systems</a></strong>
<ul><li><em>From:</em> Sebastien Morin</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Dec 12 17:40:19 2006</div>  
</body>
</html>
