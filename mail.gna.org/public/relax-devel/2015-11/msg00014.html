<!-- MHonArc v2.6.19+ -->
<!--X-Subject: Re: Scientific software "relax" at cloud.sagemath.com ? -->
<!--X-From-R13: "Sqjneq q'Ohiretar" &#60;rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 24 Nov 2015 10:16:54 +0100 -->
<!--X-Message-Id: CAED9pY&#45;m6772XWvWBfHKDrYwC1N2FcT6UHq6KYaAH48oHXokYg@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CA+CBx2PfFO7eeWC3ghVmjVgX+CvmUGVaFXkDLovyHPhPVhh1zw@mail.gmail.com -->
<!--X-Reference: CA+jwZMjLr25nWxA+uc6RygN8RXOGvsF_1OxM1GvCg=YnndZXHw@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Scientific software &quot;relax&quot; at cloud.sagemath.com ? -- November 24, 2015 - 10:16</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Scientific software &quot;relax&quot; at cloud.sagemath.com ?</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00014" class="tabs">Index by Date</a> | <a href="threads.html#00014" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00013.html">Date Prev</a>] [<a href="msg00015.html">Date Next</a>] [<a href="msg00011.html">Thread Prev</a>] [<a href="msg00015.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 24 Nov 2015 10:16:24 +0100</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:date:message-id:subject :from:to:content-type:content-transfer-encoding; bh=uOvx/DIhNaVk1+2lfXBwpkoJHvClynWXtwojuI1TO+Q=; b=Hrni/7LvJ6OqJPkGuXFBh92TaijY/adiTMARA60SKTCb1otGpcGAyk+xpn+saEdQIW N6YM49Aiaqiduj4Btyxn9pbNc0zcmCwXduqkW81dNUZvf8e5aqG8et62n00kFnuSVt8P BbPVPuAdk/id33jOpBgkhox/XJXtEKLApoW32LgJyTtAH9InSzmW7mH6z5G3I6ToeSDD aIocy/a5E9kNMkhLTJot4m+Etsx8BqJ9t+hEl/7SIYGUfYtuVOmbmvRd+U5SCRDlKv6g 43Qw8NEnMvZYR1KC25UYXLPkbnfyyegbMk9SGNicUEn9Tqx8JkbDqOo3CFnymRr8RzQw HUjw==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00014.html">CAED9pY-m6772XWvWBfHKDrYwC1N2FcT6UHq6KYaAH48oHXokYg@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;CA+CBx2PfFO7eeWC3ghVmjVgX+CvmUGVaFXkDLovyHPhPVhh1zw@mail.gmail.com&gt; &lt;CA+jwZMjLr25nWxA+uc6RygN8RXOGvsF_1OxM1GvCg=YnndZXHw@mail.gmail.com&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on November 24, 2015 - 10:16:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Troels,

I'll respond to this message here on the relax-devel mailing list,
before it gets too far.  I think that the SageMath servers are far
from ideal for running relax.  Such 'cloud' servers, or others you can
'rent' from internet service providers, are not designed for serious
number crunching.  The ideal would be something like WeNMR
(<a  rel="nofollow" href="https://www.wenmr.eu/">https://www.wenmr.eu/</a>).  I.e. to get relax into a funded grant system
to run on real number crunching hardware, with a supercomputer cluster
running relax instances (and maybe other NMR calculation software such
as NMRPipe, Dyana/Cyana, XPLOR-NIH, ARIA, CCPN, etc.).  When you are
looking at days or weeks of calculation time for a full model-free
analysis, or 2-6 months for the new frame order analysis - all on the
fastest hardware out there - for this you really have to set up a
dedicated number crunching system.  You also have to consider options
that will allow for disconnecting and drop outs to allow the user to
log back in.  In any case, funding is required to pay for the server
system, and for that a grant needs to be applied for (or joined onto).
And in the granting systems, it would be easier to get funding to buy
the full supercomputing infrastructure than to buy a yearly
subscription to someone else's cloud servers.  This is why I have
always leaned towards web application frameworks, such as Django, Ruby
on Rails, etc., as we'd then have full control to take advantage of
the number crunching abilities of a cluster.  Such technology would
also give us a greater ability to implement the user functions, a spin
viewer, and other complex elements.

Also, I wouldn't recommend you spend too much time on this, at least
for now, as I see the complete implementation of a relax web UI as
requiring a time frame of at least half a year!  From experience with
the GUI and implementing the other UIs, I think this would be a tight
minimal timeframe to have a finished and fully functional product by.
The web UI would need to expose the full power of relax, including all
user functions, rather than being a crippled interface only allowing
for certain types of auto-analysis.  The prompt UI, script UI,
graphical UI and web UI all need to be on the same level.  A better
way to do this would be to include it in the funding proposal, to hire
someone for a year to code a fully functional web UI.  Unfortunately
I'm in no position at the moment to apply for such funding, but this
will hopefully change in the future.

Regards,

Edward



On 23 November 2015 at 18:31, William Stein &lt;wstein@xxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">On Mon, Nov 23, 2015 at 2:15 AM, Troels Emtekær Linnet
&lt;tlinnet@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Dear Sagemath.

Thank you for an *excellent* software solution at:
<a  rel="nofollow" href="https://cloud.sagemath.com/">https://cloud.sagemath.com/</a>

I have happily used this in some teaching of python.

I am a PhD student at the BIO center of Copenhagen University, at SBiNLab
www.bio.ku.dk/sbinlab

</pre></blockquote><pre style="margin: 0em;">

Cool -- I was in Copenhagen for a few weeks for SageMath workshop
during summer 2104.  I skated the beautiful vert ramp across the
street from one of the universities a few times (in Fallenparken).   I
also know people in the math department there, including Ian Kiming.

</pre><blockquote class="blockquote"><pre style="margin: 0em;">During my time at my PhD, I have helped developing &quot;relax&quot;.
<a  rel="nofollow" href="http://www.nmr-relax.com/">http://www.nmr-relax.com/</a>
<a  rel="nofollow" href="https://gna.org/projects/relax">https://gna.org/projects/relax</a>
</pre></blockquote><pre style="margin: 0em;">

First question: Is there a reason you don't post a package on
<a  rel="nofollow" href="https://pypi.python.org/pypi">https://pypi.python.org/pypi</a>?  Then I could just do

   pip install nmr-relax

and it would take care of dependencies, auto-updates, etc.   As it is
now, I have to write some special purpose code to automate
installation of relax, which involves possibly scraping your site for
the most recent tarball, downloading it, etc.,  -- it's far more error
prone.  Most python packages get installed via pypi these days, I
think.   (OK, so SageMath itself doesn't yet, but it's huge.)

</pre><blockquote class="blockquote"><pre style="margin: 0em;">&quot;The program relax is a software package designed for the study of 
molecular
dynamics through the analysis of experimental NMR data. Organic molecules,
proteins, RNA, DNA, sugars, and other biomolecules are all supported. It 
was
originally written for the model-free analysis of protein dynamics, though
its scope has been significantly expanded.&quot;

Recently we published this paper: <a  rel="nofollow" href="http://www.nmr-relax.com/refs.html">http://www.nmr-relax.com/refs.html</a>
Morin, S., Linnet, T. E., Lescanne, M., Schanda, P., Thompson, G. S.,
Tollinger, M., Teilum, K., Gagné, S., Marion, D., Griesinger, C.,
Blackledge, M., and d'Auvergne, E. J. (2014).
relax: the analysis of biomolecular kinetics and thermodynamics using NMR
relaxation dispersion data.
Bioinformatics

We always seek to help our users as much as possible.
We have this wiki:
<a  rel="nofollow" href="http://wiki.nmr-relax.com/Main_Page">http://wiki.nmr-relax.com/Main_Page</a>

The &quot;first barrier&quot; for new users, is always installation.
<a  rel="nofollow" href="http://wiki.nmr-relax.com/Category:Installation">http://wiki.nmr-relax.com/Category:Installation</a>

I have been &quot;thinking&quot; that it would be of great benefit, if we could have
relax
in &quot;the cloud&quot;, and let researchers try relax here, before fiddling with
their own installation.

I have been looking af:
<a  rel="nofollow" href="https://cloud.sagemath.com/policies/pricing.html">https://cloud.sagemath.com/policies/pricing.html</a>

The optimal solution would be, if we could have a place where researchers
could &quot;login&quot;, and use for example 5 cores.

To try relax out, until they are &quot;convinced&quot; to fiddle with their own
installation.

It is hard to say how popular this service will be.

Would it be possible to establish:

* 2 admin accounts and 5 temporary user accounts
* Access to 3-5 cores ?
</pre></blockquote><pre style="margin: 0em;">

We don't currently provide admin account or dedicated SMC servers.
However, if you were able to purchase a subscription for $ 49 / month
(or $499/year), then you can apply the quotas listed here to any
projects:

- 16 upgrades Member hosting
- 40 upgrades Network access
- 8 days Idle timeout
- 24 GB Memory
- 40 GB Disk space
- 4 shares CPU shares
- 2 cores CPU cores

One way you could use this is that somebody would go to your nmr
website, then go to SMC, create a project, and just start instantly
using your library -- one minute in, and they are using it via Jupyter
notebooks, writing .py files, the terminal, or Sage worksheets (all
100% for free).  Then they would add you as a collaborator to their
free project, and you would click a button to upgrade their project to
&quot;member hosting&quot;, add network access, increase the cpu shares, etc --
whatever you want.   There's a page you'll have which lists, for each
project, what upgrades you have applied, and you can also see if the
project is being used.  You can remove upgrades at any time (in any
granularity).

The value of upgrading to &quot;member hosting&quot; is that it is *much*
faster.  The free pool of computers are typically *massively* loaded
during the week.  They work fine, but they can easily be 15% of the
speed of the members-only machines.   I've attached a screenshot I
took right now showing the load on the free machines (top 4) and the
members-only machines (bottom 2). With the $49/month subscription, you
get to move 16 projects to members-only machines.

We also have subscriptions in the bottom row aimed at courses, which
let you move a large number of projects to members only machines.

</pre><blockquote class="blockquote"><pre style="margin: 0em;">What the researchers should be possible to do:
* Sign up for account (could be by email to us, so we create account)
</pre></blockquote><pre style="margin: 0em;">

Even if they create it, as long as they add you to a project they
create, *you* can then contribute any upgrades you want to their
project.  They can also contribute upgrades later if they want, and
they just add together.

</pre><blockquote class="blockquote"><pre style="margin: 0em;">* Use ssh to send data to the server
</pre></blockquote><pre style="margin: 0em;">

Supported right now, even for free projects.  See the button &quot;ssh to
your project&quot; in project settings.  There is currently also a default
3GB disk quota; you can also use /tmp for more space (for temporary
data).

</pre><blockquote class="blockquote"><pre style="margin: 0em;">* The uploaded data for the researcher should be private
</pre></blockquote><pre style="margin: 0em;">

Even for free projects, data in projects is only visible to
collaborators on that project and nobody else. SMC is not like github,
where free = public by default.  With SMC everything is private by
default, even for free users.  However, people can also explicitly
share any file or directory tree, and that makes it publicly available
(so good way to share data related to a paper or research project).

</pre><blockquote class="blockquote"><pre style="margin: 0em;">* Use relax in the terminal in the server
</pre></blockquote><pre style="margin: 0em;">

Fine for free projects.

</pre><blockquote class="blockquote"><pre style="margin: 0em;">* Download the results to preview
</pre></blockquote><pre style="margin: 0em;">

Yep.

</pre><blockquote class="blockquote"><pre style="margin: 0em;">I hope for a reasonable prizing.

Personally I will probably pay for the first prizing.
So I hope this will be &quot;low&quot;, until we have figured out if this is a good
idea and if it &quot;works&quot;.

If the service gets very popular, and demand for CPU is high, you should of
course
be compensated for this.
</pre></blockquote><pre style="margin: 0em;">

On our free machines, the more the better.  However, as mentioned
above, it will often be quite slow during peak times.

</pre><blockquote class="blockquote"><pre style="margin: 0em;">But then it would be easier to apply for funding in the NMR community, and
argument with the traffic at the page.
</pre></blockquote><pre style="margin: 0em;">

It would be fantastic were this to happen.  Note that SMC runs on in
the cloud on Google Compute Engine, so at least technically it is
trivial to provision arbitrarily large amounts of compute power.

</pre><blockquote class="blockquote"><pre style="margin: 0em;">I would be happy to hear if you have ideas how we could engage in this.

Thank you again for a super great service.
You are breaking down the barriers of &quot;installation&quot; problems.
</pre></blockquote><pre style="margin: 0em;">

Thanks,

William

</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Best
Troels Emtekær Linnet
PhD student
Copenhagen University
SBiNLab, 3-0-41
Ole Maaloes Vej 5
2200 Copenhagen N
Tlf: +45 353-22083
Lync Tlf: +45 353-30195




</pre></blockquote><pre style="margin: 0em;">



--

Best Regards,
William

Found/CEO of SageMath, Inc.

Professor of Mathematics
</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00015" href="msg00015.html">Re: Scientific software &quot;relax&quot; at cloud.sagemath.com ?</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Nov 24 11:20:15 2015</div>  
</body>
</html>
