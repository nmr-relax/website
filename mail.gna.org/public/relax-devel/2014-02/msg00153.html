<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: r22310 &#45; /trunk/specific_analyses/relax_disp/checks.py -->
<!--X-From-R13: Febryf Szgrxæe Zvaarg <gyvaargNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 25 Feb 2014 15:47:38 +0100 -->
<!--X-Message-Id: CA+CBx2N4C6j5yJjfkGF5t6rt2Rnm0jrxdZ+6kiKhcy6esaQfUQ@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1WIId8&#45;0006PT&#45;Bw@subversion.gna.org -->
<!--X-Reference: CAED9pY9__NWY8vS3oM4=NN+cp+7ToOPEFDCoupOz8aeRB=stRQ@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: r22310 - /trunk/specific_analyses/relax_disp/checks.py -- February 25, 2014 - 15:47</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: r22310 - /trunk/specific_analyses/relax_disp/checks.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00153" class="tabs">Index by Date</a> | <a href="threads.html#00153" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00152.html">Date Prev</a>] [<a href="msg00154.html">Date Next</a>] [<a href="msg00152.html">Thread Prev</a>] [<a href="msg00154.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Edward d'Auvergne&quot; &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 25 Feb 2014 15:46:45 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:sender:in-reply-to:references:from:date:message-id	:subject:to:cc:content-type;	bh=+EcV5OpMHJ4KVmWnPCcdm7/uXIWoX0+W6uaB+aLNEkM=;	b=mMfwhpgb71msdWLqq8NrTFuhFeodkebGxvHhTubXRyy4ukqgVAzCCD7dm0wYDA1OP8	PlZ76tCOk3Mc4XdTYYF7McVesh/yObe7sUN0OsKpt11QHHv7Czly2IbeoSG8jtPFZJP9	xihGfCS89CivE5ga1W+gt/VlnwixnJpbkP8YgtKngg/rZ99x2/hc10VhV+ABt1/Jjkzu	6honyFpD8oR8Ngn8AFNWNqljL4AB5Nups6vSWimPZcdbTVlwSUJzMZyvSdjEG9aPEDhE	8r4/vx/+4bHlge9rOic48195IWuzPQg+W3hAJn5HYEmcNKcklo9cnLxkwt1Zvxn28hso	bRIA==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00153.html">CA+CBx2N4C6j5yJjfkGF5t6rt2Rnm0jrxdZ+6kiKhcy6esaQfUQ@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1WIId8-0006PT-Bw@xxxxxxxxxxxxxxxxxx&gt;	&lt;CAED9pY9__NWY8vS3oM4=NN+cp+7ToOPEFDCoupOz8aeRB=stRQ@xxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Troels Emtekær Linnet</strong> on February 25, 2014 - 15:47:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Edward.

I would be very very happy if we could wait until I have squashed bug #21344:
&quot;Handling of in sparse acquired R1rho dataset with missing
combinations of time and spin-lock field strengths.&quot;
<a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/bugs/?21344">https://gna.org/bugs/?21344</a>

I will do the split up of unit testing as you have suggested.

Best
Troels


2014-02-25 15:38 GMT+01:00 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Awesome, it looks like this series of commits has solved the problem
:)  Maybe I'll soon release relax 3.1.6 with these fixes, all the
other recent bug fixes, and the tutorial for using the relaxation
dispersion analysis in the GUI!

Cheers,

Edward


On 25 February 2014 15:05,  &lt;tlinnet@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Author: tlinnet
Date: Tue Feb 25 15:05:06 2014
New Revision: 22310

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=22310&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=22310&amp;view=rev</a>
Log:
Modified check_exp_type_fixed_time to loop over id's and use 
count_relax_times for each id.

Regarding bug #21665, (<a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/bugs/?21665">https://gna.org/bugs/?21665</a>) - Running a CPMG 
analysis with two fields at two delay times.

Modified:
    trunk/specific_analyses/relax_disp/checks.py

Modified: trunk/specific_analyses/relax_disp/checks.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/specific_analyses/relax_disp/checks.py?rev=22310&amp;r1=22309&amp;r2=22310&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/specific_analyses/relax_disp/checks.py?rev=22310&amp;r1=22309&amp;r2=22310&amp;view=diff</a>
==============================================================================
--- trunk/specific_analyses/relax_disp/checks.py (original)
+++ trunk/specific_analyses/relax_disp/checks.py Tue Feb 25 15:05:06 2014
@@ -103,12 +103,13 @@
     @raises RelaxError: If exponential curves are present.
     &quot;&quot;&quot;

-    # Get the times.
-    times = get_times()
-
-    # Loop over all experiment types.
-    for exp_type in times:
-        if len(times[exp_type]) &gt; 1:
+    # Loop over the id's.
+    for id in cdp.exp_type.keys():
+        # Get the exp_type and frq.
+        exp_type = cdp.exp_type[id]
+        frq = cdp.spectrometer_frq[id]
+
+        if 
specific_analyses.relax_disp.disp_data.count_relax_times(exp_type = 
exp_type, frq = frq, ei = cdp.exp_type_list.index(cdp.exp_type[id])) &gt; 1:
             raise RelaxError(&quot;The experiment '%s' is not of the fixed 
relaxation time period data type.&quot; % exp_type)




_______________________________________________
relax (<a  rel="nofollow" href="/">http://www.nmr-relax.com</a>)

This is the relax-commits mailing list
relax-commits@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="/mail.gna.org/listinfo/relax-commits">https://mail.gna.org/listinfo/relax-commits</a>
</pre></blockquote><pre style="margin: 0em;">

_______________________________________________
relax (<a  rel="nofollow" href="/">http://www.nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="/mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00154" href="msg00154.html">Re: r22310 - /trunk/specific_analyses/relax_disp/checks.py</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00152" href="msg00152.html">Re: r22310 - /trunk/specific_analyses/relax_disp/checks.py</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Feb 25 16:00:31 2014</div>  
</body>
</html>
