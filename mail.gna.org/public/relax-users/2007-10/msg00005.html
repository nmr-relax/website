<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: looping the optimization in full_analysis.py -->
<!--X-From-R13: Eronfgvra [beva <fronfgvra.zbeva.1Nhyniny.pn> -->
<!--X-Date: Mon, 22 Oct 2007 22:16:21 +0200 -->
<!--X-Message-Id: 471D04F1.30700@ulaval.ca -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 471D028A.4020602@ulaval.ca -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: looping the optimization in full_analysis.py -- October 22, 2007 - 22:16</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: looping the optimization in full_analysis.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00005" class="tabs">Index by Date</a> | <a href="threads.html#00005" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00004.html">Date Prev</a>] [<a href="msg00006.html">Date Next</a>] [<a href="msg00003.html">Thread Prev</a>] [<a href="msg00006.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Edward d'Auvergne &lt;edward.dauvergne@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Mon, 22 Oct 2007 16:15:45 -0400</li>
<li class="menuitem">
<em>Cc</em>: relax-users@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00005.html">471D04F1.30700@ulaval.ca</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;471D028A.4020602@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Thunderbird 2.0.0.6 (X11/20070802)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Sebastien Morin</strong> on October 22, 2007 - 22:16:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#ffffff" style="background-color: #ffffff; color: #000000; "><font color="#000000">



Hi all !<br>
<br>
First of all, I think that the new feature for automatic looping is
quite interesting..!<br>
<br>
However, I think that something could be done to make the analysis
easier.<br>
<br>
When one starts a relax run, text is sent to the standard output. I
usually redirect this text to a log file so I can analyze if any
trouble arises...<br>
<br>
I think that logging should be automatic.&nbsp; This would not mean that
standard output would be suppress, but rather that standard output
would be, also, saved in a text file along with the results. <br>
<br>
For analysis where some kind of looping is done (like here), the logs
could be separated into different steps. For the full_analysis.py
script, logging could be done independantly for each round and added to
the other directories created...<br>
<br>
aic/&nbsp; m0/&nbsp; m1/&nbsp; m2/&nbsp; m3/&nbsp; m4/&nbsp; m5/&nbsp; m6/&nbsp; m7/&nbsp; m8/&nbsp; m9/&nbsp; opt/&nbsp; log<br>
<br>
You may say that we can manually do that, but when using the automatic
looping options, one would get a huge log...<br>
<br>
Maybe, also, two versions of the log could created, one detailed and
one only logging main topics so one can easily follow the processes.
This could be interesting for people not familiar with the details of
relax and of the approaches used for calculation/optimization...<br>
<br>
Let me know what you think of this and also if I'm being clear or not...<br>
<br>
Cheers<br>
<br>
<br>
S&eacute;b&nbsp; :)<br>
<br>
<br>
<br>
Edward d'Auvergne wrote:
<blockquote cite="" type="cite">
  <pre style="margin: 0em;">Hi,

If you can see the list of bugs, then you are at the main bug tracker
page.  There should be a menu at the top which says 'Bugs'.  Click on
this link and then select 'Submit'.  You should be then able to submit
a report as described in the relax manual.  If you have a Gna! account
already then don't forget to log in prior to submitting the report.
If you don't have a Gna! account, then don't bother setting one up.
This is not important at all!

Cheers,

Edward



On 8/29/07, Douglas Kojetin &lt;douglas.kojetin@xxxxxxxxx&gt; wrote:
  </pre>
  <blockquote class="blockquote">
    <pre style="margin: 0em;">Hi All,

Sorry for the trouble, but I don't see how to create a new bug report
on gna.org.  I followed the link from the nmr-relax.com website, but
all I see is how to browse already reported bugs/items.

Thanks,
Doug

On Aug 29, 2007, at 11:55 AM, Edward d'Auvergne wrote:

  </pre>
    <blockquote class="blockquote">
      <pre style="margin: 0em;">Hi,

This is definitely a bug and will occur whenever there is a spin
system loaded into the system but which has not been used in the
analysis (because of deselection or missing relaxation data).  The
problem is that self.relax.data.res[run][i].model does not exist for
all spin systems in your system.  Would you be able to create a bug
report for this issue?  Thanks.  There are three places in the
'convergence()' function in which this failure will occur, but I'll
fix all of these once the bug report is complete so I can point to the
bug report in the SVN commit messages.

Cheers,

Edward


On 8/29/07, Douglas Kojetin &lt;douglas.kojetin@xxxxxxxxx&gt; wrote:
    </pre>
      <blockquote class="blockquote">
        <pre style="margin: 0em;">Hi Edward,

I am just picking back up on my relaxation analysis, and noticed that
the CONV_LOOP = 1 function is full_analysis.py does not seem to work
properly.  I get the following error:

"""
#####################
# Convergence tests #
#####################


Chi-squared test:
     chi2 (k-1): 164.3021658998544
     chi2 (k):   168.91097779838205
     The chi-squared value has not converged.

Identical model-free models test:
Traceback (most recent call last):
   File "/opt/relax/1.2/relax", line 454, in ?
     Relax()
   File "/opt/relax/1.2/relax", line 166, in __init__
     self.interpreter.run()
   File "/opt/relax/1.2/prompt/interpreter.py", line 213, in run
     run_script(intro=self.relax.intro_string, local=self.local,
script_file=self.relax.script_file, quit=1)
   File "/opt/relax/1.2/prompt/interpreter.py", line 388, in
run_script
     console.interact(intro, local, script_file, quit)
   File "/opt/relax/1.2/prompt/interpreter.py", line 340, in
interact_script
     execfile(script_file, local)
   File "full_analysis.py", line 574, in ?
     Main(self.relax)
   File "full_analysis.py", line 247, in __init__
     converged = self.convergence(run=name)
   File "full_analysis.py", line 368, in convergence
     curr_models = curr_models + self.relax.data.res[run][i].model
AttributeError: Element instance has no attribute 'model'
"""

Thanks,
Doug

On Jun 27, 2007, at 11:22 AM, Edward d'Auvergne wrote:

      </pre>
        <blockquote class="blockquote">
          <pre style="margin: 0em;">Hi,

To commit changes to the repository, you need to become a relax
developer.  There is detailed information in the relax manual about
this long process.  Alternatively if you run the command svn diff to
create a patch file, I can then apply the patch and make the commit
for you.  In this case however I am making the changes to the 1.3
repository line and then back porting to the 1.2 line (this is the
origin of the relax_data_store error you saw before).  Therefore if
you post what the changes are, I will manually apply them to 1.3 and
then back port to 1.2.

Cheers,

Edward


P.S.  The change to line 290 was unnecessary as far as I can see (I
could be wrong though).  And I also replaced the looping over
LOCAL_TM_MODELS and MF_MODELS with a single test within the model-
free
model loop which already exists - just to simplify the code.  The
changes have been committed to the repository.




On 6/27/07, Douglas Kojetin &lt;douglas.kojetin@xxxxxxxxx&gt; wrote:
        </pre>
          <blockquote class="blockquote">
            <pre style="margin: 0em;">Another update.  I had to change a few more lines, but the script
seems to work properly now.

% diff OLD.py NEW.py
229a230,231
          </pre>
            <blockquote class="blockquote">
              <pre style="margin: 0em;">                    if name in self.relax.data.run_names:
                        run.delete(name)
            </pre>
            </blockquote>
            <pre style="margin: 0em;">290a293,294
          </pre>
            <blockquote class="blockquote">
              <pre style="margin: 0em;">            if 'final' in self.relax.data.run_names:
                run.delete('final')
            </pre>
            </blockquote>
            <pre style="margin: 0em;">524a529,531
          </pre>
            <blockquote class="blockquote">
              <pre style="margin: 0em;">            for name_to_remove in LOCAL_TM_MODELS:
                if name_to_remove in self.relax.data.run_names:
                    run.delete(name_to_remove)
            </pre>
            </blockquote>
            <pre style="margin: 0em;">526a534,536
          </pre>
            <blockquote class="blockquote">
              <pre style="margin: 0em;">            for name_to_remove in MF_MODELS:
                if name_to_remove in self.relax.data.run_names:
                    run.delete(name_to_remove)
            </pre>
            </blockquote>
            <pre style="margin: 0em;">If you would like me to commit these changes, just let me know
where
I can find instructions on how to do so.

Thanks,

Doug



On Jun 26, 2007, at 3:58 AM, Edward d'Auvergne wrote:

          </pre>
            <blockquote class="blockquote">
              <pre style="margin: 0em;">Whoops, that should have been 'self.relax.data.run_names'!  It's
            </pre>
            </blockquote>
            <pre style="margin: 0em;">all
          </pre>
            <blockquote class="blockquote">
              <pre style="margin: 0em;">fixed in the repository.

Cheers,

Edward


On 6/25/07, Douglas Kojetin &lt;douglas.kojetin@xxxxxxxxx&gt; wrote:
            </pre>
              <blockquote class="blockquote">
                <pre style="margin: 0em;">Hi Edward,

A new error, that appears before the first round of iteration
              </pre>
              </blockquote>
            </blockquote>
            <pre style="margin: 0em;">starts
          </pre>
            <blockquote class="blockquote">
              <blockquote class="blockquote">
                <pre style="margin: 0em;">after executing the script:


              </pre>
              </blockquote>
            </blockquote>
            <pre style="margin: 0em;">-------------------------------------------------------------------
--
          </pre>
            <blockquote class="blockquote">
              <blockquote class="blockquote">
                <pre style="margin: 0em;">---
----------------------------
Traceback (most recent call last):
   File "/home/dkojetin/bin/relax", line 454, in ?
     Relax()
   File "/home/dkojetin/bin/relax", line 166, in __init__
     self.interpreter.run()
   File "/opt/relax/1.2/prompt/interpreter.py", line 213, in run
     run_script(intro=self.relax.intro_string, local=self.local,
script_file=self.relax.script_file, quit=1)
   File "/opt/relax/1.2/prompt/interpreter.py", line 388, in
run_script
     console.interact(intro, local, script_file, quit)
   File "/opt/relax/1.2/prompt/interpreter.py", line 340, in
interact_script
     execfile(script_file, local)
   File "n3.py", line 578, in ?
     Main(self.relax)
   File "n3.py", line 230, in __init__
     self.load_tensor()
   File "n3.py", line 499, in load_tensor
     if 'previous' in self.relax.data.runs:
AttributeError: Data instance has no attribute 'runs'


Doug



On Jun 25, 2007, at 8:54 AM, Edward d'Auvergne wrote:

              </pre>
                <blockquote class="blockquote">
                  <pre style="margin: 0em;">Hi,

Sorry, that relax_data_store was 1.3 line specific and I
                </pre>
                </blockquote>
              </blockquote>
            </blockquote>
            <pre style="margin: 0em;">forgot to
          </pre>
            <blockquote class="blockquote">
              <blockquote class="blockquote">
                <blockquote class="blockquote">
                  <pre style="margin: 0em;">change that for the 1.2 line.  The repository code should now
                </pre>
                </blockquote>
              </blockquote>
            </blockquote>
            <pre style="margin: 0em;">have
          </pre>
            <blockquote class="blockquote">
              <blockquote class="blockquote">
                <blockquote class="blockquote">
                  <pre style="margin: 0em;">that fixed.

Cheers,

Edward


On 6/25/07, Douglas Kojetin &lt;douglas.kojetin@xxxxxxxxx&gt; wrote:
                </pre>
                  <blockquote class="blockquote">
                    <pre style="margin: 0em;">Hello,

Here is the error reported by the modified full_analysis.py
                  </pre>
                  </blockquote>
                </blockquote>
              </blockquote>
            </blockquote>
            <pre style="margin: 0em;">script
          </pre>
            <blockquote class="blockquote">
              <blockquote class="blockquote">
                <blockquote class="blockquote">
                  <blockquote class="blockquote">
                    <pre style="margin: 0em;">(named n.py in the below Traceback):

#--start

                  </pre>
                  </blockquote>
                </blockquote>
              </blockquote>
            </blockquote>
            <pre style="margin: 0em;">-------------------------------------------------------------------
--
          </pre>
            <blockquote class="blockquote">
              <blockquote class="blockquote">
                <blockquote class="blockquote">
                  <blockquote class="blockquote">
                    <pre style="margin: 0em;">---
----------------------------
Traceback (most recent call last):
   File "/home/dkojetin/bin/relax", line 454, in ?
     Relax()
   File "/home/dkojetin/bin/relax", line 166, in __init__
     self.interpreter.run()
   File "/opt/relax/1.2/prompt/interpreter.py", line 213, in
                  </pre>
                  </blockquote>
                </blockquote>
              </blockquote>
            </blockquote>
            <pre style="margin: 0em;">run
          </pre>
            <blockquote class="blockquote">
              <blockquote class="blockquote">
                <blockquote class="blockquote">
                  <blockquote class="blockquote">
                    <pre style="margin: 0em;">     run_script(intro=self.relax.intro_string,
                  </pre>
                  </blockquote>
                </blockquote>
              </blockquote>
            </blockquote>
            <pre style="margin: 0em;">local=self.local,
          </pre>
            <blockquote class="blockquote">
              <blockquote class="blockquote">
                <blockquote class="blockquote">
                  <blockquote class="blockquote">
                    <pre style="margin: 0em;">script_file=self.relax.script_file, quit=1)
   File "/opt/relax/1.2/prompt/interpreter.py", line 388, in
run_script
     console.interact(intro, local, script_file, quit)
   File "/opt/relax/1.2/prompt/interpreter.py", line 340, in
interact_script
     execfile(script_file, local)
   File "n.py", line 577, in ?
     Main(self.relax)
   File "n.py", line 229, in __init__
     self.load_tensor()
   File "n.py", line 498, in load_tensor
     if relax_data_store.has_key('previous'):
NameError: global name 'relax_data_store' is not defined

#--end

Thanks,
Doug


On Jun 25, 2007, at 4:42 AM, Edward d'Auvergne wrote:
                  </pre>
                    <blockquote class="blockquote">
                      <pre style="margin: 0em;">Hi,

I've just made modifications to the 1.2 and 1.3 repository
                    </pre>
                    </blockquote>
                  </blockquote>
                </blockquote>
                <pre style="margin: 0em;">lines to
              </pre>
                <blockquote class="blockquote">
                  <blockquote class="blockquote">
                    <blockquote class="blockquote">
                      <pre style="margin: 0em;">hopefully fix this problem.  Could you try again to see if
                    </pre>
                    </blockquote>
                  </blockquote>
                </blockquote>
              </blockquote>
            </blockquote>
            <pre style="margin: 0em;">the
          </pre>
            <blockquote class="blockquote">
              <blockquote class="blockquote">
                <blockquote class="blockquote">
                  <blockquote class="blockquote">
                    <pre style="margin: 0em;">script
                  </pre>
                    <blockquote class="blockquote">
                      <pre style="margin: 0em;">works this time?

Cheers,

Edward


On 6/25/07, Douglas Kojetin &lt;douglas.kojetin@xxxxxxxxx&gt;
                    </pre>
                    </blockquote>
                  </blockquote>
                </blockquote>
              </blockquote>
            </blockquote>
            <pre style="margin: 0em;">wrote:
          </pre>
            <blockquote class="blockquote">
              <blockquote class="blockquote">
                <blockquote class="blockquote">
                  <blockquote class="blockquote">
                    <blockquote class="blockquote">
                      <blockquote class="blockquote">
                        <pre style="margin: 0em;">Hi Edward,

I gave the new script a try, setting CONV_LOOP = 1, but it
                      </pre>
                      </blockquote>
                    </blockquote>
                    <pre style="margin: 0em;">reported
                  </pre>
                    <blockquote class="blockquote">
                      <blockquote class="blockquote">
                        <pre style="margin: 0em;">an error after optimizing the first round:

"""
Convergence:
     [ No ]

relax&gt; run.create(run='previous', run_type='mf')
RelaxError: The run 'previous' already exists.
"""

If you have any suggestions for changes to the script, send
                      </pre>
                      </blockquote>
                    </blockquote>
                    <pre style="margin: 0em;">them my
                  </pre>
                    <blockquote class="blockquote">
                      <blockquote class="blockquote">
                        <pre style="margin: 0em;">way and I'll give it a try.

Doug



On Jun 24, 2007, at 11:47 AM, Edward d'Auvergne wrote:

                      </pre>
                        <blockquote class="blockquote">
                          <pre style="margin: 0em;">Hi,

The simplest way to do this would be to use a while loop
                        </pre>
                        </blockquote>
                      </blockquote>
                    </blockquote>
                  </blockquote>
                </blockquote>
                <pre style="margin: 0em;">using a
              </pre>
                <blockquote class="blockquote">
                  <blockquote class="blockquote">
                    <blockquote class="blockquote">
                      <blockquote class="blockquote">
                        <blockquote class="blockquote">
                          <pre style="margin: 0em;">modified version of the convergence() function which
                        </pre>
                        </blockquote>
                      </blockquote>
                    </blockquote>
                  </blockquote>
                </blockquote>
              </blockquote>
            </blockquote>
            <pre style="margin: 0em;">returns
          </pre>
            <blockquote class="blockquote">
              <blockquote class="blockquote">
                <blockquote class="blockquote">
                  <blockquote class="blockquote">
                    <pre style="margin: 0em;">1 or 0
                  </pre>
                    <blockquote class="blockquote">
                      <blockquote class="blockquote">
                        <blockquote class="blockquote">
                          <pre style="margin: 0em;">depending on whether the results have converged
                        </pre>
                        </blockquote>
                      </blockquote>
                    </blockquote>
                  </blockquote>
                </blockquote>
              </blockquote>
            </blockquote>
            <pre style="margin: 0em;">(exactly like
          </pre>
            <blockquote class="blockquote">
              <blockquote class="blockquote">
                <blockquote class="blockquote">
                  <blockquote class="blockquote">
                    <pre style="margin: 0em;">your
                  </pre>
                    <blockquote class="blockquote">
                      <blockquote class="blockquote">
                        <blockquote class="blockquote">
                          <pre style="margin: 0em;">suggestion).  I have added this looping ability to the
full_analysis.py script in the relax repository (to both
                        </pre>
                        </blockquote>
                      </blockquote>
                    </blockquote>
                  </blockquote>
                </blockquote>
                <pre style="margin: 0em;">the 1.2
              </pre>
                <blockquote class="blockquote">
                  <blockquote class="blockquote">
                    <blockquote class="blockquote">
                      <blockquote class="blockquote">
                        <pre style="margin: 0em;">and
                      </pre>
                        <blockquote class="blockquote">
                          <pre style="margin: 0em;">1.3 lines).  This is not activated by default though
                        </pre>
                        </blockquote>
                      </blockquote>
                    </blockquote>
                  </blockquote>
                </blockquote>
              </blockquote>
            </blockquote>
            <pre style="margin: 0em;">and the
          </pre>
            <blockquote class="blockquote">
              <blockquote class="blockquote">
                <blockquote class="blockquote">
                  <blockquote class="blockquote">
                    <blockquote class="blockquote">
                      <blockquote class="blockquote">
                        <pre style="margin: 0em;">scripts
                      </pre>
                        <blockquote class="blockquote">
                          <pre style="margin: 0em;">in the repository are significantly different from that in
                        </pre>
                        </blockquote>
                      </blockquote>
                    </blockquote>
                  </blockquote>
                </blockquote>
                <pre style="margin: 0em;">the
              </pre>
                <blockquote class="blockquote">
                  <blockquote class="blockquote">
                    <blockquote class="blockquote">
                      <blockquote class="blockquote">
                        <pre style="margin: 0em;">relax
                      </pre>
                        <blockquote class="blockquote">
                          <pre style="margin: 0em;">1.2.10 version (all the variables which should be
                        </pre>
                        </blockquote>
                      </blockquote>
                    </blockquote>
                  </blockquote>
                </blockquote>
              </blockquote>
            </blockquote>
            <pre style="margin: 0em;">modified by
          </pre>
            <blockquote class="blockquote">
              <blockquote class="blockquote">
                <blockquote class="blockquote">
                  <blockquote class="blockquote">
                    <blockquote class="blockquote">
                      <blockquote class="blockquote">
                        <pre style="margin: 0em;">the user
                      </pre>
                        <blockquote class="blockquote">
                          <pre style="margin: 0em;">have been shifted to the top of the script).  Would you be
                        </pre>
                        </blockquote>
                      </blockquote>
                    </blockquote>
                    <pre style="margin: 0em;">able to
                  </pre>
                    <blockquote class="blockquote">
                      <blockquote class="blockquote">
                        <blockquote class="blockquote">
                          <pre style="margin: 0em;">test if this automatic looping over all rounds of
                        </pre>
                        </blockquote>
                      </blockquote>
                    </blockquote>
                  </blockquote>
                </blockquote>
                <pre style="margin: 0em;">optimisation
              </pre>
                <blockquote class="blockquote">
                  <blockquote class="blockquote">
                    <blockquote class="blockquote">
                      <blockquote class="blockquote">
                        <pre style="margin: 0em;">until
                      </pre>
                        <blockquote class="blockquote">
                          <pre style="margin: 0em;">convergence actually works?  There could possibly be bugs
                        </pre>
                        </blockquote>
                      </blockquote>
                    </blockquote>
                    <pre style="margin: 0em;">lurking
                  </pre>
                    <blockquote class="blockquote">
                      <blockquote class="blockquote">
                        <blockquote class="blockquote">
                          <pre style="margin: 0em;">there.  Thanks.

The problem that you encountered with the calling of the
                        </pre>
                        </blockquote>
                      </blockquote>
                    </blockquote>
                    <pre style="margin: 0em;">__init__()
                  </pre>
                    <blockquote class="blockquote">
                      <blockquote class="blockquote">
                        <blockquote class="blockquote">
                          <pre style="margin: 0em;">function is because this function should not be called.
                        </pre>
                        </blockquote>
                      </blockquote>
                    </blockquote>
                    <pre style="margin: 0em;">Using that
                  </pre>
                    <blockquote class="blockquote">
                      <blockquote class="blockquote">
                        <blockquote class="blockquote">
                          <pre style="margin: 0em;">type of approach, the looping should have been outside
                        </pre>
                        </blockquote>
                      </blockquote>
                    </blockquote>
                  </blockquote>
                </blockquote>
              </blockquote>
            </blockquote>
            <pre style="margin: 0em;">of the
          </pre>
            <blockquote class="blockquote">
              <blockquote class="blockquote">
                <blockquote class="blockquote">
                  <blockquote class="blockquote">
                    <pre style="margin: 0em;">Main
                  </pre>
                    <blockquote class="blockquote">
                      <blockquote class="blockquote">
                        <blockquote class="blockquote">
                          <pre style="margin: 0em;">class to work.

Cheers,

Edward


On 6/16/07, Douglas Kojetin &lt;douglas.kojetin@xxxxxxxxx&gt;
                        </pre>
                        </blockquote>
                      </blockquote>
                    </blockquote>
                  </blockquote>
                </blockquote>
                <pre style="margin: 0em;">wrote:
              </pre>
                <blockquote class="blockquote">
                  <blockquote class="blockquote">
                    <blockquote class="blockquote">
                      <blockquote class="blockquote">
                        <blockquote class="blockquote">
                          <blockquote class="blockquote">
                            <pre style="margin: 0em;">Hi All,

Is it possible to edit full_analysis.py so the
                          </pre>
                          </blockquote>
                        </blockquote>
                      </blockquote>
                    </blockquote>
                  </blockquote>
                </blockquote>
                <pre style="margin: 0em;">optimization of
              </pre>
                <blockquote class="blockquote">
                  <blockquote class="blockquote">
                    <blockquote class="blockquote">
                      <blockquote class="blockquote">
                        <pre style="margin: 0em;">MII to
                      </pre>
                        <blockquote class="blockquote">
                          <blockquote class="blockquote">
                            <pre style="margin: 0em;">MV (self.round &gt; 0) is done automatically by looping
                          </pre>
                          </blockquote>
                        </blockquote>
                      </blockquote>
                    </blockquote>
                  </blockquote>
                </blockquote>
              </blockquote>
            </blockquote>
            <pre style="margin: 0em;">until
          </pre>
            <blockquote class="blockquote">
              <blockquote class="blockquote">
                <blockquote class="blockquote">
                  <blockquote class="blockquote">
                    <blockquote class="blockquote">
                      <blockquote class="blockquote">
                        <blockquote class="blockquote">
                          <blockquote class="blockquote">
                            <pre style="margin: 0em;">convergence?
                          </pre>
                          </blockquote>
                          <pre style="margin: 0em;">Do you mean that the script will automatically


                        </pre>
                          <blockquote class="blockquote">
                            <pre style="margin: 0em;"> I tried to do this by modifying the following in
convergence() [near the end]:

"""
         # Final print out.
         ##################

         print "\nConvergence:"
         if chi2_converged and models_converged and
                          </pre>
                          </blockquote>
                        </blockquote>
                        <pre style="margin: 0em;">params_converged:
                      </pre>
                        <blockquote class="blockquote">
                          <blockquote class="blockquote">
                            <pre style="margin: 0em;">             print "    [ Yes ]"
             return 1
         else:
             print "    [ No ]"
             return 0
"""

then modifying __init__(), at the end of the "elif
                          </pre>
                          </blockquote>
                        </blockquote>
                      </blockquote>
                    </blockquote>
                    <pre style="margin: 0em;">DIFF_MODEL ==
                  </pre>
                    <blockquote class="blockquote">
                      <blockquote class="blockquote">
                        <blockquote class="blockquote">
                          <blockquote class="blockquote">
                            <pre style="margin: 0em;">'sphere' or DIFF_MODEL == 'prolate' or DIFF_MODEL ==
                          </pre>
                          </blockquote>
                        </blockquote>
                      </blockquote>
                    </blockquote>
                    <pre style="margin: 0em;">'oblate' or
                  </pre>
                    <blockquote class="blockquote">
                      <blockquote class="blockquote">
                        <blockquote class="blockquote">
                          <blockquote class="blockquote">
                            <pre style="margin: 0em;">DIFF_MODEL == 'ellipsoid':" statement:

"""
                 # Test for convergence.
                 test=self.convergence(run=name)

                 if test == 0:
                     __init__(self.relax)
                     #Main(self.relax)
"""

but it did not work properly.  I think the problem has
                          </pre>
                          </blockquote>
                        </blockquote>
                        <pre style="margin: 0em;">something to
                      </pre>
                        <blockquote class="blockquote">
                          <blockquote class="blockquote">
                            <pre style="margin: 0em;">do with the call to __init__() or Main().  I'll see if
                          </pre>
                          </blockquote>
                        </blockquote>
                      </blockquote>
                    </blockquote>
                  </blockquote>
                </blockquote>
              </blockquote>
            </blockquote>
            <pre style="margin: 0em;">I can
          </pre>
            <blockquote class="blockquote">
              <blockquote class="blockquote">
                <blockquote class="blockquote">
                  <blockquote class="blockquote">
                    <blockquote class="blockquote">
                      <blockquote class="blockquote">
                        <pre style="margin: 0em;">dig up
                      </pre>
                        <blockquote class="blockquote">
                          <blockquote class="blockquote">
                            <pre style="margin: 0em;">the error reported by relax.

Thanks,
Doug

_______________________________________________
relax (<a rel="nofollow" moz-do-not-send="true" rel="nofollow"
 href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,tes
visit the list information page at
<a rel="nofollow" moz-do-not-send="true" rel="nofollow"
 href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>

                          </pre>
                          </blockquote>
                        </blockquote>
                        <pre style="margin: 0em;">                      </pre>
                      </blockquote>
                    </blockquote>
                    <pre style="margin: 0em;">                  </pre>
                  </blockquote>
                </blockquote>
                <pre style="margin: 0em;">              </pre>
              </blockquote>
            </blockquote>
            <pre style="margin: 0em;">          </pre>
          </blockquote>
        </blockquote>
        <pre style="margin: 0em;">      </pre>
      </blockquote>
    </blockquote>
    <pre style="margin: 0em;">  </pre>
  </blockquote>
</blockquote>
<br>
<pre class="moz-signature" cols="72">-- 
         ______________________________________    
     _______________________________________________
    |                                               |
   || Sebastien Morin                               ||
  ||| Etudiant au PhD en biochimie                  |||
 |||| Laboratoire de resonance magnetique nucleaire ||||
||||| Dr Stephane Gagne                             |||||
 |||| CREFSIP (Universite Laval, Quebec, CANADA)    ||||
  ||| 1-418-656-2131 #4530                          |||
   ||                                               ||
    |_______________________________________________|
         ______________________________________    
</pre>


</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00006" href="msg00006.html">Re: looping the optimization in full_analysis.py</a></strong>
<ul><li><em>From:</em> Douglas Kojetin</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Oct 25 10:40:38 2007</div>  
</body>
</html>
