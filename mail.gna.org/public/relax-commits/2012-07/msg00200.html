<!-- MHonArc v2.6.16 -->
<!--X-Subject: r17314 &#45; in /branches/frame_order_testing/test_suite/system_tests: ./	scripts/frame_order/cam/ scripts/n_state_model/ -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Wed, 25 Jul 2012 12:41:50 +0200 -->
<!--X-Message-Id: E1Stz2M&#45;0007MJ&#45;LW@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r17314 - in /branches/frame_order_testing/test_suite/system_tests: ./	scripts/frame_order/cam/ scripts/n_state_model/ -- July 25, 2012 - 12:41</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r17314 - in /branches/frame_order_testing/test_suite/system_tests: ./	scripts/frame_order/cam/ scripts/n_state_model/</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00200" class="tabs">Index by Date</a> | <a href="threads.html#00200" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00199.html">Date Prev</a>] [<a href="msg00201.html">Date Next</a>] [<a href="msg00199.html">Thread Prev</a>] [<a href="msg00201.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Wed, 25 Jul 2012 10:41:50 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00200.html">E1Stz2M-0007MJ-LW@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on July 25, 2012 - 12:41:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Wed Jul 25 12:41:50 2012
New Revision: 17314

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=17314&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=17314&amp;view=rev</a>
Log:
Updated the system tests for the align_tensor.init user function changes.


Modified:
    branches/frame_order_testing/test_suite/system_tests/align_tensor.py
    
branches/frame_order_testing/test_suite/system_tests/scripts/frame_order/cam/base_script.py
    
branches/frame_order_testing/test_suite/system_tests/scripts/n_state_model/5_state_xz.py
    
branches/frame_order_testing/test_suite/system_tests/scripts/n_state_model/A_to_chi.py

Modified: branches/frame_order_testing/test_suite/system_tests/align_tensor.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/test_suite/system_tests/align_tensor.py?rev=17314&amp;r1=17313&amp;r2=17314&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/test_suite/system_tests/align_tensor.py?rev=17314&amp;r1=17313&amp;r2=17314&amp;view=diff</a>
==============================================================================
--- branches/frame_order_testing/test_suite/system_tests/align_tensor.py 
(original)
+++ branches/frame_order_testing/test_suite/system_tests/align_tensor.py Wed 
Jul 25 12:41:50 2012
@@ -39,6 +39,9 @@
         # Temp file name.
         ds.tmpfile = mktemp()
 
+        # The alignment.
+        align_id = 'test'
+
         # Tensor name lists.
         self.full_list = ['0 full', '1 full', '2 full', '3 full', '4 full']
         self.red_list = ['0 red', '1 red', '2 red', '3 red', '4 red']
@@ -69,12 +72,12 @@
         # Set up the tensors.
         for i in range(5):
             # Load the tensor.
-            self.interpreter.align_tensor.init(tensor=self.full_list[i], 
params=self.tensors_full[i], param_types=0)
-            self.interpreter.align_tensor.init(tensor=self.red_list[i], 
params=self.tensors_red[i], param_types=0)
+            self.interpreter.align_tensor.init(tensor=self.full_list[i], 
align_id=align_id, params=self.tensors_full[i], param_types=0)
+            self.interpreter.align_tensor.init(tensor=self.red_list[i], 
align_id=align_id, params=self.tensors_red[i], param_types=0)
 
             # Errors.
-            self.interpreter.align_tensor.init(tensor=self.full_list[i], 
params=(error, error, error, error, error), param_types=0, errors=True)
-            self.interpreter.align_tensor.init(tensor=self.red_list[i], 
params=(error, error, error, error, error), param_types=0, errors=True)
+            self.interpreter.align_tensor.init(tensor=self.full_list[i], 
align_id=align_id, params=(error, error, error, error, error), param_types=0, 
errors=True)
+            self.interpreter.align_tensor.init(tensor=self.red_list[i], 
align_id=align_id, params=(error, error, error, error, error), param_types=0, 
errors=True)
 
             # Domain.
             
self.interpreter.align_tensor.set_domain(tensor=self.full_list[i], 
domain='full')

Modified: 
branches/frame_order_testing/test_suite/system_tests/scripts/frame_order/cam/base_script.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/test_suite/system_tests/scripts/frame_order/cam/base_script.py?rev=17314&amp;r1=17313&amp;r2=17314&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/test_suite/system_tests/scripts/frame_order/cam/base_script.py?rev=17314&amp;r1=17313&amp;r2=17314&amp;view=diff</a>
==============================================================================
--- 
branches/frame_order_testing/test_suite/system_tests/scripts/frame_order/cam/base_script.py
 (original)
+++ 
branches/frame_order_testing/test_suite/system_tests/scripts/frame_order/cam/base_script.py
 Wed Jul 25 12:41:50 2012
@@ -207,9 +207,10 @@
         # The tensor domains and reductions.
         full = ['Dy N-dom', 'Tb N-dom', 'Tm N-dom', 'Er N-dom']
         red =  ['Dy C-dom', 'Tb C-dom', 'Tm C-dom', 'Er C-dom']
+        ids =  ['dy', 'tb', 'tm', 'er']
         for i in range(len(full)):
             # Initialise the reduced tensor.
-            self._execute_uf(uf_name='align_tensor.init', tensor=red[i], 
params=(0,0,0,0,0))
+            self._execute_uf(uf_name='align_tensor.init', tensor=red[i], 
align_id=ids[i], params=(0, 0, 0, 0, 0))
 
             # Set the domain info.
             self._execute_uf(uf_name='align_tensor.set_domain', 
tensor=full[i], domain='N')

Modified: 
branches/frame_order_testing/test_suite/system_tests/scripts/n_state_model/5_state_xz.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/test_suite/system_tests/scripts/n_state_model/5_state_xz.py?rev=17314&amp;r1=17313&amp;r2=17314&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/test_suite/system_tests/scripts/n_state_model/5_state_xz.py?rev=17314&amp;r1=17313&amp;r2=17314&amp;view=diff</a>
==============================================================================
--- 
branches/frame_order_testing/test_suite/system_tests/scripts/n_state_model/5_state_xz.py
 (original)
+++ 
branches/frame_order_testing/test_suite/system_tests/scripts/n_state_model/5_state_xz.py
 Wed Jul 25 12:41:50 2012
@@ -21,18 +21,11 @@
 self._execute_uf(uf_name='domain', id='N')
 
 # Load the C-terminal alignment tensors.
-self._execute_uf(uf_name='align_tensor.init', tensor='chi1 C-dom', 
params=(-1/2., -1/2.,  0.,   0.,     0.))
-self._execute_uf(uf_name='align_tensor.init', tensor='chi2 C-dom', 
params=(-1/8., -7/8.,  0.,   0.,     0.))
-self._execute_uf(uf_name='align_tensor.init', tensor='chi3 C-dom', 
params=(-1/8.,  1/16., 0.,   0.,    -15/16.))
-self._execute_uf(uf_name='align_tensor.init', tensor='chi4 C-dom', 
params=(7/16., -7/8.,  0.,   9/16.,  0.))
-self._execute_uf(uf_name='align_tensor.init', tensor='chi5 C-dom', 
params=(-1/2., -1/2.,  3/8., 0.,     0.))
-
-# Set the domain the tensors correspond to.
-self._execute_uf(uf_name='align_tensor.set_domain', tensor='chi1 C-dom', 
domain='C')
-self._execute_uf(uf_name='align_tensor.set_domain', tensor='chi2 C-dom', 
domain='C')
-self._execute_uf(uf_name='align_tensor.set_domain', tensor='chi3 C-dom', 
domain='C')
-self._execute_uf(uf_name='align_tensor.set_domain', tensor='chi4 C-dom', 
domain='C')
-self._execute_uf(uf_name='align_tensor.set_domain', tensor='chi5 C-dom', 
domain='C')
+self._execute_uf(uf_name='align_tensor.init', tensor='chi1 C-dom', 
align_id='1', domain='C', params=(-1/2., -1/2.,  0.,   0.,     0.))
+self._execute_uf(uf_name='align_tensor.init', tensor='chi2 C-dom', 
align_id='2', domain='C', params=(-1/8., -7/8.,  0.,   0.,     0.))
+self._execute_uf(uf_name='align_tensor.init', tensor='chi3 C-dom', 
align_id='3', domain='C', params=(-1/8.,  1/16., 0.,   0.,    -15/16.))
+self._execute_uf(uf_name='align_tensor.init', tensor='chi4 C-dom', 
align_id='4', domain='C', params=(7/16., -7/8.,  0.,   9/16.,  0.))
+self._execute_uf(uf_name='align_tensor.init', tensor='chi5 C-dom', 
align_id='5', domain='C', params=(-1/2., -1/2.,  3/8., 0.,     0.))
 
 # Calculate the singular values.
 self._execute_uf(uf_name='align_tensor.svd', basis_set=0, tensors=['chi1 
C-dom', 'chi2 C-dom', 'chi3 C-dom', 'chi4 C-dom', 'chi5 C-dom'])
@@ -44,18 +37,11 @@
 
 
 # Load the N-terminal alignment tensors.
-self._execute_uf(uf_name='align_tensor.init', tensor='chi1 N-dom', 
params=(1/20.*(2-3*sqrt(2)),   -1/2.,   0.,              0.,   0.))
-self._execute_uf(uf_name='align_tensor.init', tensor='chi2 N-dom', 
params=(1/80.*(26-9*sqrt(2)),  -7/8.,   0.,              0.,  0.))
-self._execute_uf(uf_name='align_tensor.init', tensor='chi3 N-dom', 
params=(-1/160.*(8+3*sqrt(2)),  1/16.,  0.,    0., 
-3/16.*(1+sqrt(2)+2*cos(pi/8.))))
-self._execute_uf(uf_name='align_tensor.init', tensor='chi4 N-dom', 
params=(7/16.,                 -7/8.,   0.,    9/80.*(1+sqrt(2)),     0.))
-self._execute_uf(uf_name='align_tensor.init', tensor='chi5 N-dom', 
params=(1/20.*(2-3*sqrt(2)),   -1/2.,   3/40.*(1+sqrt(2)+2*cos(pi/8.)),   0., 
0.))
-
-# Set the domain the tensors correspond to.
-self._execute_uf(uf_name='align_tensor.set_domain', tensor='chi1 N-dom', 
domain='N')
-self._execute_uf(uf_name='align_tensor.set_domain', tensor='chi2 N-dom', 
domain='N')
-self._execute_uf(uf_name='align_tensor.set_domain', tensor='chi3 N-dom', 
domain='N')
-self._execute_uf(uf_name='align_tensor.set_domain', tensor='chi4 N-dom', 
domain='N')
-self._execute_uf(uf_name='align_tensor.set_domain', tensor='chi5 N-dom', 
domain='N')
+self._execute_uf(uf_name='align_tensor.init', tensor='chi1 N-dom', 
align_id='1', domain='N', params=(1/20.*(2-3*sqrt(2)),   -1/2.,   0.,         
     0.,   0.))
+self._execute_uf(uf_name='align_tensor.init', tensor='chi2 N-dom', 
align_id='2', domain='N', params=(1/80.*(26-9*sqrt(2)),  -7/8.,   0.,         
     0.,  0.))
+self._execute_uf(uf_name='align_tensor.init', tensor='chi3 N-dom', 
align_id='3', domain='N', params=(-1/160.*(8+3*sqrt(2)),  1/16.,  0.,    0., 
-3/16.*(1+sqrt(2)+2*cos(pi/8.))))
+self._execute_uf(uf_name='align_tensor.init', tensor='chi4 N-dom', 
align_id='4', domain='N', params=(7/16.,                 -7/8.,   0.,    
9/80.*(1+sqrt(2)),     0.))
+self._execute_uf(uf_name='align_tensor.init', tensor='chi5 N-dom', 
align_id='5', domain='N', params=(1/20.*(2-3*sqrt(2)),   -1/2.,   
3/40.*(1+sqrt(2)+2*cos(pi/8.)),   0., 0.))
 
 # Specify the tensor reductions.
 self._execute_uf(uf_name='align_tensor.reduction', full_tensor='chi1 C-dom', 
red_tensor='chi1 N-dom')

Modified: 
branches/frame_order_testing/test_suite/system_tests/scripts/n_state_model/A_to_chi.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/test_suite/system_tests/scripts/n_state_model/A_to_chi.py?rev=17314&amp;r1=17313&amp;r2=17314&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/test_suite/system_tests/scripts/n_state_model/A_to_chi.py?rev=17314&amp;r1=17313&amp;r2=17314&amp;view=diff</a>
==============================================================================
--- 
branches/frame_order_testing/test_suite/system_tests/scripts/n_state_model/A_to_chi.py
 (original)
+++ 
branches/frame_order_testing/test_suite/system_tests/scripts/n_state_model/A_to_chi.py
 Wed Jul 25 12:41:50 2012
@@ -10,7 +10,7 @@
 
 # The tensor.
 tensor = 'A'
-self._execute_uf(tensor, (5.090/const,  12.052/const, 0, 0, 0), 
param_types=2, uf_name='align_tensor.init')
+self._execute_uf(align_id=tensor, params=(5.090/const,  12.052/const, 0, 0, 
0), param_types=2, uf_name='align_tensor.init')
 
 # The temperature.
 self._execute_uf(uf_name='temperature', id=tensor, temp=298)



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Jul 25 13:20:02 2012</div>  
</body>
</html>
