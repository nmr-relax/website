<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: r3237 &#45; in /branches/multi_processor: multi/mpi4py_processor.py	relax -->
<!--X-From-R13: "Unel E. Fubzcfba" <tnelgNozo.yrrqf.np.hx> -->
<!--X-Date: Tue, 20 Mar 2007 12:38:38 +0100 -->
<!--X-Message-Id: 45FFC71E.9040102@bmb.leeds.ac.uk -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1HTJY1&#45;0005VF&#45;O1@subversion.gna.org -->
<!--X-Reference: 45FEAC46.8020307@bmb.leeds.ac.uk -->
<!--X-Reference: 7f080ed10703190923s4b09fab1vd958ed6001031b9c@mail.gmail.com -->
<!--X-Reference: 45FF1AF7.2000606@bmb.leeds.ac.uk -->
<!--X-Reference: 7f080ed10703200306q376f2120va9ab5f5fa49ec6d3@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: r3237 - in /branches/multi_processor: multi/mpi4py_processor.py	relax -- March 20, 2007 - 12:38</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: r3237 - in /branches/multi_processor: multi/mpi4py_processor.py	relax</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00101" class="tabs">Index by Date</a> | <a href="threads.html#00101" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00100.html">Date Prev</a>] [<a href="msg00102.html">Date Next</a>] [<a href="msg00098.html">Thread Prev</a>] [<a href="msg00103.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 20 Mar 2007 11:35:58 +0000</li>
<li class="menuitem">
<em>Cc</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00101.html">45FFC71E.9040102@bmb.leeds.ac.uk</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1HTJY1-0005VF-O1@subversion.gna.org&gt;	&lt;<a href="msg00088.html">45FEAC46.8020307@bmb.leeds.ac.uk</a>&gt;	&lt;<a href="msg00091.html">7f080ed10703190923s4b09fab1vd958ed6001031b9c@mail.gmail.com</a>&gt;	&lt;<a href="msg00094.html">45FF1AF7.2000606@bmb.leeds.ac.uk</a>&gt;	&lt;<a href="msg00098.html">7f080ed10703200306q376f2120va9ab5f5fa49ec6d3@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Mozilla Thunderbird 1.0 (X11/20041206)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Gary S. Thompson</strong> on March 20, 2007 - 12:38:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Edward d'Auvergne wrote:</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">On 3/20/07, Gary S. Thompson &lt;garyt@xxxxxxxxxxxxxxx&gt; wrote:</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">Edward d'Auvergne wrote:</pre><br>
<tt>&gt; Hi,<br>
&gt;<br>
&gt; Just a quick point, it would be good to either start a new thread for<br>
&gt; these types of questions or changing the subject field (unless you use<br>
&gt; the Gmail web interface like I am at the moment).  People may miss<br>
&gt; important discussions with such scary subject lines!<br>
&gt;<br>
&gt;<br>
&gt; On 3/20/07, Gary S. Thompson &lt;garyt@xxxxxxxxxxxxxxx&gt; wrote:<br>
&gt;<br>
&gt;&gt; garyt@xxxxxxxxxxxxxxx wrote:<br>
&gt;&gt;<br>
&gt;&gt; Dear Ed<br>
&gt;&gt; d this is a good enough point to tell you how to run things and 
what to<br>
&gt;&gt; install for the mpi version i am testing with<br>
&gt;&gt;<br>
&gt;&gt; I have installed mpipy and lam<br>
&gt;<br>
&gt;<br>
&gt; Are both, together with mpi4py, essential for MPI operation?</tt><br>
<br>
<pre style="margin: 0em;">yes lam is an mpi implementation and mpi4py is the interface code
between the c world of mpi and the python world
</pre></blockquote><pre style="margin: 0em;"><br></pre><br>
<tt>Got it.  I installed lam-runtime and mpi4py but I could not install<br>
mpipy as that didn't exist as a package.  
</tt></blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">sorry typo there is a 4  missing there!</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">I have run the example you
gave in the parent of this thread but I used the command:</pre><br>
<pre style="margin: 0em;">mpirun-lam -np 6 python relax --multi mpi4py test_multi1.py</pre><br>
<tt>The program 'mpirun' doesn't exist on my computer.  
</tt></blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">fine i think it is the same thing by a different name</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">The output was:</pre><br>
<pre style="margin: 0em;"><br>ImportError: relaxation curve fitting is unavailible, try compiling
the C modules.</pre><br>
<pre style="margin: 0em;">ImportError: relaxation curve fitting is unavailible, try compiling
the C modules.</pre><br>
<pre style="margin: 0em;">ImportError: relaxation curve fitting is unavailible, try compiling
the C modules.</pre><br>
<pre style="margin: 0em;">ImportError: relaxation curve fitting is unavailible, try compiling
the C modules.</pre><br>
<pre style="margin: 0em;">ImportError: relaxation curve fitting is unavailible, try compiling
the C modules.</pre><br>
<pre style="margin: 0em;">ImportError: relaxation curve fitting is unavailible, try compiling
the C modules.</pre><br>
<pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">                                    relax repository checkout</pre><br>
<pre style="margin: 0em;">                         Protein dynamics by NMR relaxation data analysis</pre><br>
<pre style="margin: 0em;">                            Copyright (C) 2001-2006 Edward d'Auvergne</pre><br>
<pre style="margin: 0em;">This is free software which you are welcome to modify and redistribute
under the conditions of the
GNU General Public License (GPL).  This program, including all
modules, is licensed under the GPL
and comes with absolutely no warranty.  For details type 'GPL'.
Assistance in using this program
can be accessed by typing 'help'.</pre><br>
<tt>script = 'test_multi1.py'<br>
---------------------------------------------------------------------------------------------------- </tt><br>
<br>
<tt>import multi<br>
cmd  =  multi.mpi4py_processor.Get_name_command()<br>
self.relax.processor.run_command(cmd)<br>
---------------------------------------------------------------------------------------------------- </tt><br>
<br>
<pre style="margin: 0em;">1 pc172-31-2-63.biochem.unimelb.edu.au-29691
2 pc172-31-2-63.biochem.unimelb.edu.au-29692
3 pc172-31-2-63.biochem.unimelb.edu.au-29693
4 pc172-31-2-63.biochem.unimelb.edu.au-29694
5 pc172-31-2-63.biochem.unimelb.edu.au-29695</pre><br>
<pre style="margin: 0em;"><br>Should I have something else installed for the 'mpirun' program?</pre><br>
<br>
</blockquote><pre style="margin: 0em;">no that is all you need the results are correct</pre><br>
<blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">&gt; As MPI
&gt; is solely for those who are very serious and have access to clusters,</pre><br>
<pre style="margin: 0em;">not true! mpi can run over ssh as well. For example lam has an ssh
backend and this is what i am using for testing on my computer!
</pre></blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">MPI can be used for grid computing but that is not what it is designed
for and hence isn't optimal
</pre></blockquote><pre style="margin: 0em;"><br>why?</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">.  If I get the grid computing code working
again then you should be able to run relax on you posix system and
then get all those idle Windows boxes to do all your calculations for
you!  Anyway, I would hope that most people doing a model-free
analysis are very serious ;)
</pre></blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">Of course I am very serious but in a playful way ;-)</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;"><br></pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">&gt; the user should be able handle installing these dependencies (or at
&gt; least be able to get someone to install it for them).
&gt;
&gt;
lam or mpich is often available in a linux distributions software
repository e.g
<a  href="http://rpmfind.net/linux/rpm2html/search.php?query=lam-devel">http://rpmfind.net/linux/rpm2html/search.php?query=lam-devel</a> lists rpms
for mandriva and a variety of other platforms. I chose lam to play with
because it is the best performing library on our cluster, but have also
used mpich. mpi4py has instructions  on building and seetting up a
variety of  configurations
</pre></blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">Do you think the relax MPI implementation will have lam as a
dependency or would mpich work equally as well (i.e. the end user
could install one or the other)?  It would be useful to define the
exact dependencies with links to their webpages.</pre><br>
</blockquote><tt>any of the mpi backends that mpi4py lists should be fine (obviously 
people would have to test it but hey thats what test suites are for ;-)</tt><br>
<br>
<pre style="margin: 0em;">cf <a  href="http://www.cimec.org.ar/python/mpi4py.html">http://www.cimec.org.ar/python/mpi4py.html</a> which lists</pre><br>
<pre style="margin: 0em;">   *</pre><br>
<pre style="margin: 0em;">     /MPICH 2/</pre><br>
<tt>   </tt><br>
<br>
<pre style="margin: 0em;">   *</pre><br>
<pre style="margin: 0em;">     /Open MPI/</pre><br>
<tt>   </tt><br>
<br>
<pre style="margin: 0em;">   *</pre><br>
<pre style="margin: 0em;">     /LAM/</pre><br>
<pre style="margin: 0em;"><br>   *</pre><br>
<pre style="margin: 0em;">     /MPICH 1/</pre><br>
<pre style="margin: 0em;"><br></pre><br>
<blockquote class="blockquote"><br>
<blockquote class="blockquote"><pre style="margin: 0em;">&gt;&gt; lam should  be available in your linux distribution ??? ;-) run
&gt;
&gt;
&gt; I'm using Mandriva so I would assume that it is within it's 'contrib'
&gt; repositories.  You are talking about <a  href="http://www.lam-mpi.org/">http://www.lam-mpi.org/</a> aren't
&gt; you?  As OpenMPI (<a  href="http://www.open-mpi.org/">http://www.open-mpi.org/</a>) seems to be the future of
&gt; that project, wouldn't this be the better option?  It's more likely to
&gt; be supported in future linux distros.
&gt;
see above it shouldn't matter which mpi distribution you choose they all
have almost  identical apis and mpi4py deals with that
</pre></blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">So we could list multiple MPI software packages in the relax manual as
dependencies and let the user choose?
</pre></blockquote><pre style="margin: 0em;"><br>yep</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;"><br></pre><br>
<blockquote class="blockquote"><tt>&gt;&gt; mpi4py came from <a  href="http://www.python.org/pypi/mpi4py">http://www.python.org/pypi/mpi4py</a> (there is an 
mpi4py<br>
&gt;&gt; website but it is out of date, however, mpi4py is under recent<br>
&gt;&gt; development)<br>
&gt;<br>
&gt;<br>
&gt; Do you think mpi4py 0.4 or below will be stable enough?  Are there<br>
&gt; alternatives?</tt><br>
<br>
<pre style="margin: 0em;">I would use mpi4py 0.4.0rc4 from the cheese shop. This is that I have
developed with and it seems to work _well___
&lt;<a  href="http://cheeseshop.python.org/pypi/mpi4py/0.4.0rc4">http://cheeseshop.python.org/pypi/mpi4py/0.4.0rc4</a>&gt;
</pre></blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">That's what I'm using.  There should be a stable version out by the
time the MPI code is operation and incorporated back into the main
line.</pre><br>
<pre style="margin: 0em;">Cheers,</pre><br>
<pre style="margin: 0em;">Edward</pre><br>
<pre style="margin: 0em;"><br>P.S.  I'll get to the rest in another post.</pre><br>
<pre style="margin: 0em;">.</pre><br>
</blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">--
-------------------------------------------------------------------
Dr Gary Thompson
Astbury Centre for Structural Molecular Biology,
University of Leeds, Astbury Building,
Leeds, LS2 9JT, West-Yorkshire, UK             Tel. +44-113-3433024
email: garyt@xxxxxxxxxxxxxxx                   Fax  +44-113-2331407
-------------------------------------------------------------------</pre><br>
<pre style="margin: 0em;"><br></pre><br>
<br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00103" href="msg00103.html">Re: r3237 - in /branches/multi_processor: multi/mpi4py_processor.py	relax</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00088" href="msg00088.html">Re: r3237 - in /branches/multi_processor: multi/mpi4py_processor.py	relax</a></strong>
<ul><li><em>From:</em> Gary S. Thompson</li></ul></li>
<li><strong><a name="00091" href="msg00091.html">Re: r3237 - in /branches/multi_processor: multi/mpi4py_processor.py	relax</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00094" href="msg00094.html">Re: r3237 - in /branches/multi_processor: multi/mpi4py_processor.py	relax</a></strong>
<ul><li><em>From:</em> Gary S. Thompson</li></ul></li>
<li><strong><a name="00098" href="msg00098.html">Re: r3237 - in /branches/multi_processor: multi/mpi4py_processor.py	relax</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Mar 20 14:20:32 2007</div>  
</body>
</html>
