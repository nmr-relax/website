<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: Quick release of relax version 3.3.3, and an idea for automatic bug submission when relax crashes. -->
<!--X-From-R13: "Sqjneq q'Ohiretar" &#60;rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Thu, 20 Nov 2014 12:13:10 +0100 -->
<!--X-Message-Id: CAED9pY9LKXX=GbT=qcX2cmpU=GOtmXGJzpbO69U_J+=b3F04+Q@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CAED9pY8zDy13g48r+w2SZGT4eBLiW+Nw6_h5RcxwDN8v&#45;A7Pdg@mail.gmail.com -->
<!--X-Reference: CA+CBx2O_7K&#45;2SoTa6NdQ4ZJoDquU6Eof+DQ9=9kbx_WTLUEASg@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Quick release of relax version 3.3.3, and an idea for automatic bug submission when relax crashes. -- November 20, 2014 - 12:13</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Quick release of relax version 3.3.3, and an idea for automatic bug submission when relax crashes.</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00028" class="tabs">Index by Date</a> | <a href="threads.html#00028" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00027.html">Date Prev</a>] [<a href="msg00029.html">Date Next</a>] [<a href="msg00027.html">Thread Prev</a>] [<a href="msg00029.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 20 Nov 2014 12:12:39 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:date:message-id:subject :from:to:cc:content-type; bh=UmBw3hr/qBIdwjc7ferieEEL1ur9P4oN/trPh3187CA=; b=gr0j9UfWuNZ9BQuJmmIHjfLjuuJMvY3a4ZhmQzGABnSGqnmIe0IV+tVKex0yI/TRyL QZpDbuRL9PmBsKFrwfDx1IlnV0JD2RrEhpy1062CEUTr6WaTU4mBwMkBlREIgnfo3iJ8 KthPnJKm/brOfFgSz4kMZ3RmlWe9GzwoWgcj2Z5MeaXmRYq9OdxWE5txK/PlWFtdHSjM 2kOVgLeGOLfSs/rbLcx39nl+BjxnLkIQ574fmM/cTtikAh/9dFp8+KjWWPLP6gb1uxMv h3oyKxfgwdo+oN4OJxf+5wAIC5I6UGSpZuUh5AD0ahrcKwEE1gOMrH5ahwwWIxqCvB3h kKvg==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;CAED9pY9LKXX=GbT=qcX2cmpU=GOtmXGJzpbO69U_J+=b3F04+Q@mail.gmail.com&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00026.html">CAED9pY8zDy13g48r+w2SZGT4eBLiW+Nw6_h5RcxwDN8v-A7Pdg@mail.gmail.com</a>&gt; &lt;CA+CBx2O_7K-2SoTa6NdQ4ZJoDquU6Eof+DQ9=9kbx_WTLUEASg@mail.gmail.com&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on November 20, 2014 - 12:13:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

</pre><blockquote class="blockquote"><pre style="margin: 0em;">How much memory would be required to always store the output from the relax
controller ?
</pre></blockquote><pre style="margin: 0em;">

I modified the controller to only store 10000 lines, as otherwise the
GUI would quite often die:

<a  rel="nofollow" href="http://www.nmr-relax.com/api/3.3/gui.controller-pysrc.html#LogCtrl.limit_scrollback">http://www.nmr-relax.com/api/3.3/gui.controller-pysrc.html#LogCtrl.limit_scrollback</a>
<a  rel="nofollow" href="http://www.nmr-relax.com/api/3.3/status-pysrc.html#Status._setup">http://www.nmr-relax.com/api/3.3/status-pysrc.html#Status._setup</a>

There is no way to modify the status.controller_max_entries variable
currently, but this may be added as an option in the future.  Note
that the GUI element limitations on different operating systems is a
far greater constraint than the total available RAM, especially on MS
Windows.  RAM is usually not a consideration for the GUI.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">Then if an error is occured, the controller log could be dumped to a file
with a timestamp, and comprresed?
</pre></blockquote><pre style="margin: 0em;">

Do you mean automatically?  Or we add an option to the popup menu in
the relax controller to save the current text and then ask the user to
create the file manually, if they haven't used the --log or --tee
options?  It might be best to give the user the option and let them
decide.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">In the auto analysises, a call to dump the controller log could also be
done.
</pre></blockquote><pre style="margin: 0em;">

It would be better to do this at the highest level of each UI.  Then
the rest of relax code will not need to know about it and would not
change.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">Just to make sure, that logs are always preserved.
I know, that they can be of severe size, 50 MB?, ?
</pre></blockquote><pre style="margin: 0em;">

This depends on the analysis type, but I have generated log files on
the order of 1-10 Gb.  This occurs for the model-free analysis and
N-state model or ensemble analysis quite often.  And especially if you
create a custom analysis with a lot of repetition.  So a full log file
might be between 1 kb to 10 Gb.

Cheers,

Edward


</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Best
Troels

2014-11-20 11:44 GMT+01:00 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Hi,

Just so you know, due to the fix for bug #22961
(<a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/bugs/?22961">https://gna.org/bugs/?22961</a>), the failure of relaxation data loading
with the message &quot;IndexError: list index out of range&quot;, I plan on soon
release a new relax version with this fix.  I don't know why relax
users have not reported this problem before, as it is likely to have
been encountered a few times.

Maybe the solution would be to catch all errors, skip the RelaxErrors
so they proceed as normal, and then create a system for automatic bug
submission?  This would be a radical and highly disruptive change
though.  A different solution would be required for each UI (prompt,
script, and graphical).

The hard part would be to interface with the Gna! infrastructure.
This may make automation impossible.  Therefore maybe a set of
instructions for bug submission should be presented to the user.  Some
ideas for the text would be:

- &quot;An unidentified error has been encountered.&quot;
- Please create a bug report using the link
<a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/bugs/?func=additem&amp;group=relax">https://gna.org/bugs/?func=additem&amp;group=relax</a>.
- Copy and paste the entirety of the error message.
- Attach the log file if one was created (or copy and paste the relax
output or rerun relax with the --log or --tee option), compressing if
it is a large file.
- Ideally create truncated input data files for 1 or 2 spins, slightly
randomising the data and changing file names for privacy, and attach
those files.
- Attach a script file, if it exists.
- If the attached data and script files are sufficient to reproduce
the bug, a solution can usually be found within 5 to 10 minutes.
- Run 'relax --info --tee relax_info.log' and attach the
relax_info.log file to the report.

These are just some ideas for the future.

Regards,

Edward

_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
</pre></blockquote><pre style="margin: 0em;">


</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00026" href="msg00026.html">Quick release of relax version 3.3.3, and an idea for automatic bug submission when relax crashes.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00027" href="msg00027.html">Re: Quick release of relax version 3.3.3, and an idea for automatic bug submission when relax crashes.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Nov 20 16:00:15 2014</div>  
</body>
</html>
