<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>specific_fns.relax_fit</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://nmr-relax.com">relax</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="specific_fns-module.html">Package&nbsp;specific_fns</a> ::
        Module&nbsp;relax_fit
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="specific_fns.relax_fit-pysrc.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<h1 class="epydoc">Source Code for <a href="specific_fns.relax_fit-module.html">Module specific_fns.relax_fit</a></h1>
<pre class="py-src">
<a name="L1"></a><tt class="py-lineno">   1</tt>  <tt class="py-line"><tt class="py-comment">###############################################################################</tt> </tt>
<a name="L2"></a><tt class="py-lineno">   2</tt>  <tt class="py-line"><tt class="py-comment">#                                                                             #</tt> </tt>
<a name="L3"></a><tt class="py-lineno">   3</tt>  <tt class="py-line"><tt class="py-comment"># Copyright (C) 2004-2009 Edward d'Auvergne                                   #</tt> </tt>
<a name="L4"></a><tt class="py-lineno">   4</tt>  <tt class="py-line"><tt class="py-comment">#                                                                             #</tt> </tt>
<a name="L5"></a><tt class="py-lineno">   5</tt>  <tt class="py-line"><tt class="py-comment"># This file is part of the program relax.                                     #</tt> </tt>
<a name="L6"></a><tt class="py-lineno">   6</tt>  <tt class="py-line"><tt class="py-comment">#                                                                             #</tt> </tt>
<a name="L7"></a><tt class="py-lineno">   7</tt>  <tt class="py-line"><tt class="py-comment"># relax is free software; you can redistribute it and/or modify               #</tt> </tt>
<a name="L8"></a><tt class="py-lineno">   8</tt>  <tt class="py-line"><tt class="py-comment"># it under the terms of the GNU General Public License as published by        #</tt> </tt>
<a name="L9"></a><tt class="py-lineno">   9</tt>  <tt class="py-line"><tt class="py-comment"># the Free Software Foundation; either version 2 of the License, or           #</tt> </tt>
<a name="L10"></a><tt class="py-lineno">  10</tt>  <tt class="py-line"><tt class="py-comment"># (at your option) any later version.                                         #</tt> </tt>
<a name="L11"></a><tt class="py-lineno">  11</tt>  <tt class="py-line"><tt class="py-comment">#                                                                             #</tt> </tt>
<a name="L12"></a><tt class="py-lineno">  12</tt>  <tt class="py-line"><tt class="py-comment"># relax is distributed in the hope that it will be useful,                    #</tt> </tt>
<a name="L13"></a><tt class="py-lineno">  13</tt>  <tt class="py-line"><tt class="py-comment"># but WITHOUT ANY WARRANTY; without even the implied warranty of              #</tt> </tt>
<a name="L14"></a><tt class="py-lineno">  14</tt>  <tt class="py-line"><tt class="py-comment"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the               #</tt> </tt>
<a name="L15"></a><tt class="py-lineno">  15</tt>  <tt class="py-line"><tt class="py-comment"># GNU General Public License for more details.                                #</tt> </tt>
<a name="L16"></a><tt class="py-lineno">  16</tt>  <tt class="py-line"><tt class="py-comment">#                                                                             #</tt> </tt>
<a name="L17"></a><tt class="py-lineno">  17</tt>  <tt class="py-line"><tt class="py-comment"># You should have received a copy of the GNU General Public License           #</tt> </tt>
<a name="L18"></a><tt class="py-lineno">  18</tt>  <tt class="py-line"><tt class="py-comment"># along with relax; if not, write to the Free Software                        #</tt> </tt>
<a name="L19"></a><tt class="py-lineno">  19</tt>  <tt class="py-line"><tt class="py-comment"># Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA   #</tt> </tt>
<a name="L20"></a><tt class="py-lineno">  20</tt>  <tt class="py-line"><tt class="py-comment">#                                                                             #</tt> </tt>
<a name="L21"></a><tt class="py-lineno">  21</tt>  <tt class="py-line"><tt class="py-comment">###############################################################################</tt> </tt>
<a name="L22"></a><tt class="py-lineno">  22</tt>  <tt class="py-line"> </tt>
<a name="L23"></a><tt class="py-lineno">  23</tt>  <tt class="py-line"><tt class="py-comment"># Module docstring.</tt> </tt>
<a name="L24"></a><tt class="py-lineno">  24</tt>  <tt class="py-line"><tt class="py-docstring">"""The relaxation curve fitting specific code."""</tt> </tt>
<a name="L25"></a><tt class="py-lineno">  25</tt>  <tt class="py-line"> </tt>
<a name="L26"></a><tt class="py-lineno">  26</tt>  <tt class="py-line"><tt class="py-comment"># Python module imports.</tt> </tt>
<a name="L27"></a><tt class="py-lineno">  27</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt id="link-0" class="py-name" targets="Package minfx=minfx-module.html"><a title="minfx" class="py-name" href="#" onclick="return doclink('link-0', 'minfx', 'link-0');">minfx</a></tt><tt class="py-op">.</tt><tt id="link-1" class="py-name" targets="Module minfx.generic=minfx.generic-module.html,Module test_suite.system_tests.generic=test_suite.system_tests.generic-module.html"><a title="minfx.generic
test_suite.system_tests.generic" class="py-name" href="#" onclick="return doclink('link-1', 'generic', 'link-1');">generic</a></tt> <tt class="py-keyword">import</tt> <tt id="link-2" class="py-name" targets="Function minfx.generic.generic_minimise()=minfx.generic-module.html#generic_minimise"><a title="minfx.generic.generic_minimise" class="py-name" href="#" onclick="return doclink('link-2', 'generic_minimise', 'link-2');">generic_minimise</a></tt> </tt>
<a name="L28"></a><tt class="py-lineno">  28</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt id="link-3" class="py-name"><a title="minfx" class="py-name" href="#" onclick="return doclink('link-3', 'minfx', 'link-0');">minfx</a></tt><tt class="py-op">.</tt><tt id="link-4" class="py-name" targets="Module minfx.grid=minfx.grid-module.html,Function minfx.grid.grid()=minfx.grid-module.html#grid"><a title="minfx.grid
minfx.grid.grid" class="py-name" href="#" onclick="return doclink('link-4', 'grid', 'link-4');">grid</a></tt> <tt class="py-keyword">import</tt> <tt id="link-5" class="py-name"><a title="minfx.grid
minfx.grid.grid" class="py-name" href="#" onclick="return doclink('link-5', 'grid', 'link-4');">grid</a></tt> </tt>
<a name="L29"></a><tt class="py-lineno">  29</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt class="py-name">numpy</tt> <tt class="py-keyword">import</tt> <tt class="py-name">array</tt><tt class="py-op">,</tt> <tt class="py-name">average</tt><tt class="py-op">,</tt> <tt class="py-name">dot</tt><tt class="py-op">,</tt> <tt class="py-name">float64</tt><tt class="py-op">,</tt> <tt class="py-name">identity</tt><tt class="py-op">,</tt> <tt class="py-name">zeros</tt> </tt>
<a name="L30"></a><tt class="py-lineno">  30</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt class="py-name">numpy</tt><tt class="py-op">.</tt><tt class="py-name">linalg</tt> <tt class="py-keyword">import</tt> <tt class="py-name">inv</tt> </tt>
<a name="L31"></a><tt class="py-lineno">  31</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt class="py-name">re</tt> <tt class="py-keyword">import</tt> <tt class="py-name">match</tt><tt class="py-op">,</tt> <tt id="link-6" class="py-name" targets="Function generic_fns.relax_re.search()=generic_fns.relax_re-module.html#search"><a title="generic_fns.relax_re.search" class="py-name" href="#" onclick="return doclink('link-6', 'search', 'link-6');">search</a></tt> </tt>
<a name="L32"></a><tt class="py-lineno">  32</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt class="py-name">warnings</tt> <tt class="py-keyword">import</tt> <tt class="py-name">warn</tt> </tt>
<a name="L33"></a><tt class="py-lineno">  33</tt>  <tt class="py-line"> </tt>
<a name="L34"></a><tt class="py-lineno">  34</tt>  <tt class="py-line"><tt class="py-comment"># relax module imports.</tt> </tt>
<a name="L35"></a><tt class="py-lineno">  35</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt id="link-7" class="py-name" targets="Module generic_fns.structure.api_base=generic_fns.structure.api_base-module.html,Module specific_fns.api_base=specific_fns.api_base-module.html"><a title="generic_fns.structure.api_base
specific_fns.api_base" class="py-name" href="#" onclick="return doclink('link-7', 'api_base', 'link-7');">api_base</a></tt> <tt class="py-keyword">import</tt> <tt id="link-8" class="py-name" targets="Class specific_fns.api_base.API_base=specific_fns.api_base.API_base-class.html"><a title="specific_fns.api_base.API_base" class="py-name" href="#" onclick="return doclink('link-8', 'API_base', 'link-8');">API_base</a></tt> </tt>
<a name="L36"></a><tt class="py-lineno">  36</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt id="link-9" class="py-name" targets="Module specific_fns.api_common=specific_fns.api_common-module.html"><a title="specific_fns.api_common" class="py-name" href="#" onclick="return doclink('link-9', 'api_common', 'link-9');">api_common</a></tt> <tt class="py-keyword">import</tt> <tt id="link-10" class="py-name" targets="Class specific_fns.api_common.API_common=specific_fns.api_common.API_common-class.html"><a title="specific_fns.api_common.API_common" class="py-name" href="#" onclick="return doclink('link-10', 'API_common', 'link-10');">API_common</a></tt> </tt>
<a name="L37"></a><tt class="py-lineno">  37</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt id="link-11" class="py-name" targets="Module dep_check=dep_check-module.html"><a title="dep_check" class="py-name" href="#" onclick="return doclink('link-11', 'dep_check', 'link-11');">dep_check</a></tt> <tt class="py-keyword">import</tt> <tt id="link-12" class="py-name" targets="Variable dep_check.C_module_exp_fn=dep_check-module.html#C_module_exp_fn"><a title="dep_check.C_module_exp_fn" class="py-name" href="#" onclick="return doclink('link-12', 'C_module_exp_fn', 'link-12');">C_module_exp_fn</a></tt> </tt>
<a name="L38"></a><tt class="py-lineno">  38</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt id="link-13" class="py-name" targets="Package generic_fns=generic_fns-module.html"><a title="generic_fns" class="py-name" href="#" onclick="return doclink('link-13', 'generic_fns', 'link-13');">generic_fns</a></tt> <tt class="py-keyword">import</tt> <tt id="link-14" class="py-name" targets="Module generic_fns.pipes=generic_fns.pipes-module.html,Module gui.user_functions.pipes=gui.user_functions.pipes-module.html,Module test_suite.system_tests.pipes=test_suite.system_tests.pipes-module.html"><a title="generic_fns.pipes
gui.user_functions.pipes
test_suite.system_tests.pipes" class="py-name" href="#" onclick="return doclink('link-14', 'pipes', 'link-14');">pipes</a></tt> </tt>
<a name="L39"></a><tt class="py-lineno">  39</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt id="link-15" class="py-name"><a title="generic_fns" class="py-name" href="#" onclick="return doclink('link-15', 'generic_fns', 'link-13');">generic_fns</a></tt><tt class="py-op">.</tt><tt id="link-16" class="py-name" targets="Module data.mol_res_spin=data.mol_res_spin-module.html,Module generic_fns.mol_res_spin=generic_fns.mol_res_spin-module.html,Module gui.user_functions.mol_res_spin=gui.user_functions.mol_res_spin-module.html"><a title="data.mol_res_spin
generic_fns.mol_res_spin
gui.user_functions.mol_res_spin" class="py-name" href="#" onclick="return doclink('link-16', 'mol_res_spin', 'link-16');">mol_res_spin</a></tt> <tt class="py-keyword">import</tt> <tt id="link-17" class="py-name" targets="Function generic_fns.mol_res_spin.exists_mol_res_spin_data()=generic_fns.mol_res_spin-module.html#exists_mol_res_spin_data"><a title="generic_fns.mol_res_spin.exists_mol_res_spin_data" class="py-name" href="#" onclick="return doclink('link-17', 'exists_mol_res_spin_data', 'link-17');">exists_mol_res_spin_data</a></tt><tt class="py-op">,</tt> <tt id="link-18" class="py-name" targets="Function generic_fns.mol_res_spin.generate_spin_id()=generic_fns.mol_res_spin-module.html#generate_spin_id"><a title="generic_fns.mol_res_spin.generate_spin_id" class="py-name" href="#" onclick="return doclink('link-18', 'generate_spin_id', 'link-18');">generate_spin_id</a></tt><tt class="py-op">,</tt> <tt id="link-19" class="py-name" targets="Function generic_fns.mol_res_spin.return_spin()=generic_fns.mol_res_spin-module.html#return_spin"><a title="generic_fns.mol_res_spin.return_spin" class="py-name" href="#" onclick="return doclink('link-19', 'return_spin', 'link-19');">return_spin</a></tt><tt class="py-op">,</tt> <tt id="link-20" class="py-name" targets="Function generic_fns.mol_res_spin.spin_loop()=generic_fns.mol_res_spin-module.html#spin_loop"><a title="generic_fns.mol_res_spin.spin_loop" class="py-name" href="#" onclick="return doclink('link-20', 'spin_loop', 'link-20');">spin_loop</a></tt> </tt>
<a name="L40"></a><tt class="py-lineno">  40</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt id="link-21" class="py-name" targets="Module relax_errors=relax_errors-module.html"><a title="relax_errors" class="py-name" href="#" onclick="return doclink('link-21', 'relax_errors', 'link-21');">relax_errors</a></tt> <tt class="py-keyword">import</tt> <tt id="link-22" class="py-name" targets="Class relax_errors.RelaxError=relax_errors.RelaxError-class.html"><a title="relax_errors.RelaxError" class="py-name" href="#" onclick="return doclink('link-22', 'RelaxError', 'link-22');">RelaxError</a></tt><tt class="py-op">,</tt> <tt id="link-23" class="py-name" targets="Class relax_errors.RelaxFuncSetupError=relax_errors.RelaxFuncSetupError-class.html"><a title="relax_errors.RelaxFuncSetupError" class="py-name" href="#" onclick="return doclink('link-23', 'RelaxFuncSetupError', 'link-23');">RelaxFuncSetupError</a></tt><tt class="py-op">,</tt> <tt id="link-24" class="py-name" targets="Class relax_errors.RelaxLenError=relax_errors.RelaxLenError-class.html"><a title="relax_errors.RelaxLenError" class="py-name" href="#" onclick="return doclink('link-24', 'RelaxLenError', 'link-24');">RelaxLenError</a></tt><tt class="py-op">,</tt> <tt id="link-25" class="py-name" targets="Class relax_errors.RelaxNoModelError=relax_errors.RelaxNoModelError-class.html"><a title="relax_errors.RelaxNoModelError" class="py-name" href="#" onclick="return doclink('link-25', 'RelaxNoModelError', 'link-25');">RelaxNoModelError</a></tt><tt class="py-op">,</tt> <tt id="link-26" class="py-name" targets="Class relax_errors.RelaxNoSequenceError=relax_errors.RelaxNoSequenceError-class.html"><a title="relax_errors.RelaxNoSequenceError" class="py-name" href="#" onclick="return doclink('link-26', 'RelaxNoSequenceError', 'link-26');">RelaxNoSequenceError</a></tt> </tt>
<a name="L41"></a><tt class="py-lineno">  41</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt id="link-27" class="py-name" targets="Module relax_warnings=relax_warnings-module.html"><a title="relax_warnings" class="py-name" href="#" onclick="return doclink('link-27', 'relax_warnings', 'link-27');">relax_warnings</a></tt> <tt class="py-keyword">import</tt> <tt id="link-28" class="py-name" targets="Class relax_warnings.RelaxDeselectWarning=relax_warnings.RelaxDeselectWarning-class.html"><a title="relax_warnings.RelaxDeselectWarning" class="py-name" href="#" onclick="return doclink('link-28', 'RelaxDeselectWarning', 'link-28');">RelaxDeselectWarning</a></tt> </tt>
<a name="L42"></a><tt class="py-lineno">  42</tt>  <tt class="py-line"> </tt>
<a name="L43"></a><tt class="py-lineno">  43</tt>  <tt class="py-line"><tt class="py-comment"># C modules.</tt> </tt>
<a name="L44"></a><tt class="py-lineno">  44</tt>  <tt class="py-line"><tt class="py-keyword">if</tt> <tt id="link-29" class="py-name"><a title="dep_check.C_module_exp_fn" class="py-name" href="#" onclick="return doclink('link-29', 'C_module_exp_fn', 'link-12');">C_module_exp_fn</a></tt><tt class="py-op">:</tt> </tt>
<a name="L45"></a><tt class="py-lineno">  45</tt>  <tt class="py-line">    <tt class="py-keyword">from</tt> <tt id="link-30" class="py-name" targets="Package maths_fns=maths_fns-module.html"><a title="maths_fns" class="py-name" href="#" onclick="return doclink('link-30', 'maths_fns', 'link-30');">maths_fns</a></tt><tt class="py-op">.</tt><tt id="link-31" class="py-name" targets="Module auto_analyses.relax_fit=auto_analyses.relax_fit-module.html,Module prompt.relax_fit=prompt.relax_fit-module.html,Method script-sconstruct.Main.relax_fit()=script-sconstruct.Main-class.html#relax_fit,Module specific_fns.relax_fit=specific_fns.relax_fit-module.html,Module test_suite.system_tests.relax_fit=test_suite.system_tests.relax_fit-module.html"><a title="auto_analyses.relax_fit
prompt.relax_fit
script-sconstruct.Main.relax_fit
specific_fns.relax_fit
test_suite.system_tests.relax_fit" class="py-name" href="#" onclick="return doclink('link-31', 'relax_fit', 'link-31');">relax_fit</a></tt> <tt class="py-keyword">import</tt> <tt id="link-32" class="py-name" targets="Function generic_fns.monte_carlo.setup()=generic_fns.monte_carlo-module.html#setup,Method gui.user_functions.base.UF_base.setup()=gui.user_functions.base.UF_base-class.html#setup,Method prompt.monte_carlo.Monte_carlo.setup()=prompt.monte_carlo.Monte_carlo-class.html#setup,Function relax_warnings.setup()=relax_warnings-module.html#setup,Module specific_fns.setup=specific_fns.setup-module.html"><a title="generic_fns.monte_carlo.setup
gui.user_functions.base.UF_base.setup
prompt.monte_carlo.Monte_carlo.setup
relax_warnings.setup
specific_fns.setup" class="py-name" href="#" onclick="return doclink('link-32', 'setup', 'link-32');">setup</a></tt><tt class="py-op">,</tt> <tt id="link-33" class="py-name" targets="Method maths_fns.consistency_tests.Consistency.func()=maths_fns.consistency_tests.Consistency-class.html#func,Method maths_fns.jw_mapping.Mapping.func()=maths_fns.jw_mapping.Mapping-class.html#func,Method minfx.constraint_linear.Constraint_linear.func()=minfx.constraint_linear.Constraint_linear-class.html#func"><a title="maths_fns.consistency_tests.Consistency.func
maths_fns.jw_mapping.Mapping.func
minfx.constraint_linear.Constraint_linear.func" class="py-name" href="#" onclick="return doclink('link-33', 'func', 'link-33');">func</a></tt><tt class="py-op">,</tt> <tt id="link-34" class="py-name" targets="Method minfx.constraint_linear.Constraint_linear.dfunc()=minfx.constraint_linear.Constraint_linear-class.html#dfunc"><a title="minfx.constraint_linear.Constraint_linear.dfunc" class="py-name" href="#" onclick="return doclink('link-34', 'dfunc', 'link-34');">dfunc</a></tt><tt class="py-op">,</tt> <tt class="py-name">d2func</tt><tt class="py-op">,</tt> <tt class="py-name">back_calc_I</tt> </tt>
<a name="L46"></a><tt class="py-lineno">  46</tt>  <tt class="py-line"> </tt>
<a name="L47"></a><tt class="py-lineno">  47</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit"></a><div id="Relax_fit-def"><a name="L48"></a><tt class="py-lineno">  48</tt> <a class="py-toggle" href="#" id="Relax_fit-toggle" onclick="return toggle('Relax_fit');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html">Relax_fit</a><tt class="py-op">(</tt><tt class="py-base-class">API_base</tt><tt class="py-op">,</tt> <tt class="py-base-class">API_common</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit-collapsed" style="display:none;" pad="++++" indent="++++"></div><div id="Relax_fit-expanded"><a name="L49"></a><tt class="py-lineno">  49</tt>  <tt class="py-line">    <tt class="py-docstring">"""Class containing functions for relaxation curve fitting."""</tt> </tt>
<a name="L50"></a><tt class="py-lineno">  50</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit.__init__"></a><div id="Relax_fit.__init__-def"><a name="L51"></a><tt class="py-lineno">  51</tt> <a class="py-toggle" href="#" id="Relax_fit.__init__-toggle" onclick="return toggle('Relax_fit.__init__');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#__init__">__init__</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit.__init__-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit.__init__-expanded"><a name="L52"></a><tt class="py-lineno">  52</tt>  <tt class="py-line">        <tt class="py-docstring">"""Initialise the class by placing API_common methods into the API."""</tt> </tt>
<a name="L53"></a><tt class="py-lineno">  53</tt>  <tt class="py-line"> </tt>
<a name="L54"></a><tt class="py-lineno">  54</tt>  <tt class="py-line">        <tt class="py-comment"># Place methods into the API.</tt> </tt>
<a name="L55"></a><tt class="py-lineno">  55</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-35" class="py-name" targets="Method specific_fns.api_base.API_base.base_data_loop()=specific_fns.api_base.API_base-class.html#base_data_loop,Method specific_fns.frame_order.Frame_order.base_data_loop()=specific_fns.frame_order.Frame_order-class.html#base_data_loop,Method specific_fns.n_state_model.N_state_model.base_data_loop()=specific_fns.n_state_model.N_state_model-class.html#base_data_loop"><a title="specific_fns.api_base.API_base.base_data_loop
specific_fns.frame_order.Frame_order.base_data_loop
specific_fns.n_state_model.N_state_model.base_data_loop" class="py-name" href="#" onclick="return doclink('link-35', 'base_data_loop', 'link-35');">base_data_loop</a></tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-36" class="py-name" targets="Method specific_fns.api_common.API_common._base_data_loop_spin()=specific_fns.api_common.API_common-class.html#_base_data_loop_spin"><a title="specific_fns.api_common.API_common._base_data_loop_spin" class="py-name" href="#" onclick="return doclink('link-36', '_base_data_loop_spin', 'link-36');">_base_data_loop_spin</a></tt> </tt>
<a name="L56"></a><tt class="py-lineno">  56</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-37" class="py-name" targets="Method generic_fns.structure.api_base.Base_struct_API.model_loop()=generic_fns.structure.api_base.Base_struct_API-class.html#model_loop,Method specific_fns.api_base.API_base.model_loop()=specific_fns.api_base.API_base-class.html#model_loop,Method specific_fns.frame_order.Frame_order.model_loop()=specific_fns.frame_order.Frame_order-class.html#model_loop,Method specific_fns.hybrid.Hybrid.model_loop()=specific_fns.hybrid.Hybrid-class.html#model_loop,Method specific_fns.model_free.main.Model_free_main.model_loop()=specific_fns.model_free.main.Model_free_main-class.html#model_loop"><a title="generic_fns.structure.api_base.Base_struct_API.model_loop
specific_fns.api_base.API_base.model_loop
specific_fns.frame_order.Frame_order.model_loop
specific_fns.hybrid.Hybrid.model_loop
specific_fns.model_free.main.Model_free_main.model_loop" class="py-name" href="#" onclick="return doclink('link-37', 'model_loop', 'link-37');">model_loop</a></tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-38" class="py-name" targets="Method specific_fns.api_common.API_common._model_loop_spin()=specific_fns.api_common.API_common-class.html#_model_loop_spin"><a title="specific_fns.api_common.API_common._model_loop_spin" class="py-name" href="#" onclick="return doclink('link-38', '_model_loop_spin', 'link-38');">_model_loop_spin</a></tt> </tt>
<a name="L57"></a><tt class="py-lineno">  57</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-39" class="py-name" targets="Function generic_fns.align_tensor.return_conversion_factor()=generic_fns.align_tensor-module.html#return_conversion_factor,Function generic_fns.diffusion_tensor.return_conversion_factor()=generic_fns.diffusion_tensor-module.html#return_conversion_factor,Function generic_fns.minimise.return_conversion_factor()=generic_fns.minimise-module.html#return_conversion_factor,Method specific_fns.api_base.API_base.return_conversion_factor()=specific_fns.api_base.API_base-class.html#return_conversion_factor,Method specific_fns.model_free.main.Model_free_main.return_conversion_factor()=specific_fns.model_free.main.Model_free_main-class.html#return_conversion_factor"><a title="generic_fns.align_tensor.return_conversion_factor
generic_fns.diffusion_tensor.return_conversion_factor
generic_fns.minimise.return_conversion_factor
specific_fns.api_base.API_base.return_conversion_factor
specific_fns.model_free.main.Model_free_main.return_conversion_factor" class="py-name" href="#" onclick="return doclink('link-39', 'return_conversion_factor', 'link-39');">return_conversion_factor</a></tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-40" class="py-name" targets="Method specific_fns.api_common.API_common._return_no_conversion_factor()=specific_fns.api_common.API_common-class.html#_return_no_conversion_factor"><a title="specific_fns.api_common.API_common._return_no_conversion_factor" class="py-name" href="#" onclick="return doclink('link-40', '_return_no_conversion_factor', 'link-40');">_return_no_conversion_factor</a></tt> </tt>
<a name="L58"></a><tt class="py-lineno">  58</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-41" class="py-name" targets="Function generic_fns.minimise.return_value()=generic_fns.minimise-module.html#return_value,Function generic_fns.relax_data.return_value()=generic_fns.relax_data-module.html#return_value,Method specific_fns.api_base.API_base.return_value()=specific_fns.api_base.API_base-class.html#return_value"><a title="generic_fns.minimise.return_value
generic_fns.relax_data.return_value
specific_fns.api_base.API_base.return_value" class="py-name" href="#" onclick="return doclink('link-41', 'return_value', 'link-41');">return_value</a></tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-42" class="py-name" targets="Method specific_fns.api_common.API_common._return_value_general()=specific_fns.api_common.API_common-class.html#_return_value_general"><a title="specific_fns.api_common.API_common._return_value_general" class="py-name" href="#" onclick="return doclink('link-42', '_return_value_general', 'link-42');">_return_value_general</a></tt> </tt>
<a name="L59"></a><tt class="py-lineno">  59</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-43" class="py-name" targets="Method specific_fns.api_base.API_base.set_error()=specific_fns.api_base.API_base-class.html#set_error,Method specific_fns.consistency_tests.Consistency_tests.set_error()=specific_fns.consistency_tests.Consistency_tests-class.html#set_error,Method specific_fns.frame_order.Frame_order.set_error()=specific_fns.frame_order.Frame_order-class.html#set_error,Method specific_fns.jw_mapping.Jw_mapping.set_error()=specific_fns.jw_mapping.Jw_mapping-class.html#set_error,Method specific_fns.model_free.main.Model_free_main.set_error()=specific_fns.model_free.main.Model_free_main-class.html#set_error,Method specific_fns.n_state_model.N_state_model.set_error()=specific_fns.n_state_model.N_state_model-class.html#set_error"><a title="specific_fns.api_base.API_base.set_error
specific_fns.consistency_tests.Consistency_tests.set_error
specific_fns.frame_order.Frame_order.set_error
specific_fns.jw_mapping.Jw_mapping.set_error
specific_fns.model_free.main.Model_free_main.set_error
specific_fns.n_state_model.N_state_model.set_error" class="py-name" href="#" onclick="return doclink('link-43', 'set_error', 'link-43');">set_error</a></tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-44" class="py-name" targets="Method specific_fns.api_common.API_common._set_error_spin()=specific_fns.api_common.API_common-class.html#_set_error_spin"><a title="specific_fns.api_common.API_common._set_error_spin" class="py-name" href="#" onclick="return doclink('link-44', '_set_error_spin', 'link-44');">_set_error_spin</a></tt> </tt>
<a name="L60"></a><tt class="py-lineno">  60</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-45" class="py-name" targets="Method specific_fns.api_base.API_base.set_param_values()=specific_fns.api_base.API_base-class.html#set_param_values,Method specific_fns.model_free.main.Model_free_main.set_param_values()=specific_fns.model_free.main.Model_free_main-class.html#set_param_values,Method specific_fns.n_state_model.N_state_model.set_param_values()=specific_fns.n_state_model.N_state_model-class.html#set_param_values"><a title="specific_fns.api_base.API_base.set_param_values
specific_fns.model_free.main.Model_free_main.set_param_values
specific_fns.n_state_model.N_state_model.set_param_values" class="py-name" href="#" onclick="return doclink('link-45', 'set_param_values', 'link-45');">set_param_values</a></tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-46" class="py-name" targets="Method specific_fns.api_common.API_common._set_param_values_spin()=specific_fns.api_common.API_common-class.html#_set_param_values_spin"><a title="specific_fns.api_common.API_common._set_param_values_spin" class="py-name" href="#" onclick="return doclink('link-46', '_set_param_values_spin', 'link-46');">_set_param_values_spin</a></tt> </tt>
<a name="L61"></a><tt class="py-lineno">  61</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-47" class="py-name" targets="Method specific_fns.api_base.API_base.set_selected_sim()=specific_fns.api_base.API_base-class.html#set_selected_sim,Method specific_fns.frame_order.Frame_order.set_selected_sim()=specific_fns.frame_order.Frame_order-class.html#set_selected_sim,Method specific_fns.model_free.main.Model_free_main.set_selected_sim()=specific_fns.model_free.main.Model_free_main-class.html#set_selected_sim"><a title="specific_fns.api_base.API_base.set_selected_sim
specific_fns.frame_order.Frame_order.set_selected_sim
specific_fns.model_free.main.Model_free_main.set_selected_sim" class="py-name" href="#" onclick="return doclink('link-47', 'set_selected_sim', 'link-47');">set_selected_sim</a></tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-48" class="py-name" targets="Method specific_fns.api_common.API_common._set_selected_sim_spin()=specific_fns.api_common.API_common-class.html#_set_selected_sim_spin"><a title="specific_fns.api_common.API_common._set_selected_sim_spin" class="py-name" href="#" onclick="return doclink('link-48', '_set_selected_sim_spin', 'link-48');">_set_selected_sim_spin</a></tt> </tt>
<a name="L62"></a><tt class="py-lineno">  62</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-49" class="py-name" targets="Method specific_fns.api_base.API_base.sim_init_values()=specific_fns.api_base.API_base-class.html#sim_init_values,Method specific_fns.frame_order.Frame_order.sim_init_values()=specific_fns.frame_order.Frame_order-class.html#sim_init_values,Method specific_fns.model_free.main.Model_free_main.sim_init_values()=specific_fns.model_free.main.Model_free_main-class.html#sim_init_values,Method specific_fns.n_state_model.N_state_model.sim_init_values()=specific_fns.n_state_model.N_state_model-class.html#sim_init_values"><a title="specific_fns.api_base.API_base.sim_init_values
specific_fns.frame_order.Frame_order.sim_init_values
specific_fns.model_free.main.Model_free_main.sim_init_values
specific_fns.n_state_model.N_state_model.sim_init_values" class="py-name" href="#" onclick="return doclink('link-49', 'sim_init_values', 'link-49');">sim_init_values</a></tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-50" class="py-name" targets="Method specific_fns.api_common.API_common._sim_init_values_spin()=specific_fns.api_common.API_common-class.html#_sim_init_values_spin"><a title="specific_fns.api_common.API_common._sim_init_values_spin" class="py-name" href="#" onclick="return doclink('link-50', '_sim_init_values_spin', 'link-50');">_sim_init_values_spin</a></tt> </tt>
<a name="L63"></a><tt class="py-lineno">  63</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-51" class="py-name" targets="Method specific_fns.api_base.API_base.sim_return_param()=specific_fns.api_base.API_base-class.html#sim_return_param,Method specific_fns.consistency_tests.Consistency_tests.sim_return_param()=specific_fns.consistency_tests.Consistency_tests-class.html#sim_return_param,Method specific_fns.frame_order.Frame_order.sim_return_param()=specific_fns.frame_order.Frame_order-class.html#sim_return_param,Method specific_fns.jw_mapping.Jw_mapping.sim_return_param()=specific_fns.jw_mapping.Jw_mapping-class.html#sim_return_param,Method specific_fns.model_free.main.Model_free_main.sim_return_param()=specific_fns.model_free.main.Model_free_main-class.html#sim_return_param,Method specific_fns.n_state_model.N_state_model.sim_return_param()=specific_fns.n_state_model.N_state_model-class.html#sim_return_param"><a title="specific_fns.api_base.API_base.sim_return_param
specific_fns.consistency_tests.Consistency_tests.sim_return_param
specific_fns.frame_order.Frame_order.sim_return_param
specific_fns.jw_mapping.Jw_mapping.sim_return_param
specific_fns.model_free.main.Model_free_main.sim_return_param
specific_fns.n_state_model.N_state_model.sim_return_param" class="py-name" href="#" onclick="return doclink('link-51', 'sim_return_param', 'link-51');">sim_return_param</a></tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-52" class="py-name" targets="Method specific_fns.api_common.API_common._sim_return_param_spin()=specific_fns.api_common.API_common-class.html#_sim_return_param_spin"><a title="specific_fns.api_common.API_common._sim_return_param_spin" class="py-name" href="#" onclick="return doclink('link-52', '_sim_return_param_spin', 'link-52');">_sim_return_param_spin</a></tt> </tt>
<a name="L64"></a><tt class="py-lineno">  64</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-53" class="py-name" targets="Method specific_fns.api_base.API_base.sim_return_selected()=specific_fns.api_base.API_base-class.html#sim_return_selected,Method specific_fns.consistency_tests.Consistency_tests.sim_return_selected()=specific_fns.consistency_tests.Consistency_tests-class.html#sim_return_selected,Method specific_fns.frame_order.Frame_order.sim_return_selected()=specific_fns.frame_order.Frame_order-class.html#sim_return_selected,Method specific_fns.jw_mapping.Jw_mapping.sim_return_selected()=specific_fns.jw_mapping.Jw_mapping-class.html#sim_return_selected,Method specific_fns.model_free.main.Model_free_main.sim_return_selected()=specific_fns.model_free.main.Model_free_main-class.html#sim_return_selected"><a title="specific_fns.api_base.API_base.sim_return_selected
specific_fns.consistency_tests.Consistency_tests.sim_return_selected
specific_fns.frame_order.Frame_order.sim_return_selected
specific_fns.jw_mapping.Jw_mapping.sim_return_selected
specific_fns.model_free.main.Model_free_main.sim_return_selected" class="py-name" href="#" onclick="return doclink('link-53', 'sim_return_selected', 'link-53');">sim_return_selected</a></tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-54" class="py-name" targets="Method specific_fns.api_common.API_common._sim_return_selected_spin()=specific_fns.api_common.API_common-class.html#_sim_return_selected_spin"><a title="specific_fns.api_common.API_common._sim_return_selected_spin" class="py-name" href="#" onclick="return doclink('link-54', '_sim_return_selected_spin', 'link-54');">_sim_return_selected_spin</a></tt> </tt>
</div><a name="L65"></a><tt class="py-lineno">  65</tt>  <tt class="py-line"> </tt>
<a name="L66"></a><tt class="py-lineno">  66</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit._assemble_param_vector"></a><div id="Relax_fit._assemble_param_vector-def"><a name="L67"></a><tt class="py-lineno">  67</tt> <a class="py-toggle" href="#" id="Relax_fit._assemble_param_vector-toggle" onclick="return toggle('Relax_fit._assemble_param_vector');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#_assemble_param_vector">_assemble_param_vector</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">spin</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">,</tt> <tt class="py-param">sim_index</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit._assemble_param_vector-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit._assemble_param_vector-expanded"><a name="L68"></a><tt class="py-lineno">  68</tt>  <tt class="py-line">        <tt class="py-docstring">"""Assemble the exponential curve parameter vector (as a numpy array).</tt> </tt>
<a name="L69"></a><tt class="py-lineno">  69</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L70"></a><tt class="py-lineno">  70</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword spin:          The spin data container.</tt> </tt>
<a name="L71"></a><tt class="py-lineno">  71</tt>  <tt class="py-line"><tt class="py-docstring">        @type spin:             SpinContainer instance</tt> </tt>
<a name="L72"></a><tt class="py-lineno">  72</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword sim_index:     The optional MC simulation index.</tt> </tt>
<a name="L73"></a><tt class="py-lineno">  73</tt>  <tt class="py-line"><tt class="py-docstring">        @type sim_index:        int</tt> </tt>
<a name="L74"></a><tt class="py-lineno">  74</tt>  <tt class="py-line"><tt class="py-docstring">        @return:                An array of the parameter values of the exponential model.</tt> </tt>
<a name="L75"></a><tt class="py-lineno">  75</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:                 numpy array</tt> </tt>
<a name="L76"></a><tt class="py-lineno">  76</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L77"></a><tt class="py-lineno">  77</tt>  <tt class="py-line"> </tt>
<a name="L78"></a><tt class="py-lineno">  78</tt>  <tt class="py-line">        <tt class="py-comment"># Initialise.</tt> </tt>
<a name="L79"></a><tt class="py-lineno">  79</tt>  <tt class="py-line">        <tt class="py-name">param_vector</tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-op">]</tt> </tt>
<a name="L80"></a><tt class="py-lineno">  80</tt>  <tt class="py-line"> </tt>
<a name="L81"></a><tt class="py-lineno">  81</tt>  <tt class="py-line">        <tt class="py-comment"># Loop over the model parameters.</tt> </tt>
<a name="L82"></a><tt class="py-lineno">  82</tt>  <tt class="py-line">        <tt class="py-keyword">for</tt> <tt id="link-55" class="py-name" targets="Variable prompt.minimisation.Minimisation.i=prompt.minimisation.Minimisation-class.html#i"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-55', 'i', 'link-55');">i</a></tt> <tt class="py-keyword">in</tt> <tt class="py-name">xrange</tt><tt class="py-op">(</tt><tt class="py-name">len</tt><tt class="py-op">(</tt><tt id="link-56" class="py-name" targets="Module gui.user_functions.spin=gui.user_functions.spin-module.html,Method prompt.deselect.Deselect.spin()=prompt.deselect.Deselect-class.html#spin,Method prompt.select.Select.spin()=prompt.select.Select-class.html#spin,Module prompt.spin=prompt.spin-module.html,Module test_suite.unit_tests._generic_fns.spin=test_suite.unit_tests._generic_fns.spin-module.html"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-56', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">params</tt><tt class="py-op">)</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L83"></a><tt class="py-lineno">  83</tt>  <tt class="py-line">            <tt class="py-comment"># Relaxation rate.</tt> </tt>
<a name="L84"></a><tt class="py-lineno">  84</tt>  <tt class="py-line">            <tt class="py-keyword">if</tt> <tt id="link-57" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-57', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">params</tt><tt class="py-op">[</tt><tt id="link-58" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-58', 'i', 'link-55');">i</a></tt><tt class="py-op">]</tt> <tt class="py-op">==</tt> <tt class="py-string">'Rx'</tt><tt class="py-op">:</tt> </tt>
<a name="L85"></a><tt class="py-lineno">  85</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">sim_index</tt> <tt class="py-op">!=</tt> <tt class="py-name">None</tt><tt class="py-op">:</tt> </tt>
<a name="L86"></a><tt class="py-lineno">  86</tt>  <tt class="py-line">                    <tt class="py-name">param_vector</tt><tt class="py-op">.</tt><tt id="link-59" class="py-name" targets="Method data.align_tensor.AlignTensorSimList.append()=data.align_tensor.AlignTensorSimList-class.html#append,Method data.diff_tensor.DiffTensorSimList.append()=data.diff_tensor.DiffTensorSimList-class.html#append"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-59', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt id="link-60" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-60', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">rx_sim</tt><tt class="py-op">[</tt><tt class="py-name">sim_index</tt><tt class="py-op">]</tt><tt class="py-op">)</tt> </tt>
<a name="L87"></a><tt class="py-lineno">  87</tt>  <tt class="py-line">                <tt class="py-keyword">elif</tt> <tt id="link-61" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-61', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">rx</tt> <tt class="py-op">==</tt> <tt class="py-name">None</tt><tt class="py-op">:</tt> </tt>
<a name="L88"></a><tt class="py-lineno">  88</tt>  <tt class="py-line">                    <tt class="py-name">param_vector</tt><tt class="py-op">.</tt><tt id="link-62" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-62', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-number">0.0</tt><tt class="py-op">)</tt> </tt>
<a name="L89"></a><tt class="py-lineno">  89</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L90"></a><tt class="py-lineno">  90</tt>  <tt class="py-line">                    <tt class="py-name">param_vector</tt><tt class="py-op">.</tt><tt id="link-63" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-63', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt id="link-64" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-64', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">rx</tt><tt class="py-op">)</tt> </tt>
<a name="L91"></a><tt class="py-lineno">  91</tt>  <tt class="py-line"> </tt>
<a name="L92"></a><tt class="py-lineno">  92</tt>  <tt class="py-line">            <tt class="py-comment"># Initial intensity.</tt> </tt>
<a name="L93"></a><tt class="py-lineno">  93</tt>  <tt class="py-line">            <tt class="py-keyword">elif</tt> <tt id="link-65" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-65', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">params</tt><tt class="py-op">[</tt><tt id="link-66" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-66', 'i', 'link-55');">i</a></tt><tt class="py-op">]</tt> <tt class="py-op">==</tt> <tt class="py-string">'I0'</tt><tt class="py-op">:</tt> </tt>
<a name="L94"></a><tt class="py-lineno">  94</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">sim_index</tt> <tt class="py-op">!=</tt> <tt class="py-name">None</tt><tt class="py-op">:</tt> </tt>
<a name="L95"></a><tt class="py-lineno">  95</tt>  <tt class="py-line">                    <tt class="py-name">param_vector</tt><tt class="py-op">.</tt><tt id="link-67" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-67', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt id="link-68" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-68', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">i0_sim</tt><tt class="py-op">[</tt><tt class="py-name">sim_index</tt><tt class="py-op">]</tt><tt class="py-op">)</tt> </tt>
<a name="L96"></a><tt class="py-lineno">  96</tt>  <tt class="py-line">                <tt class="py-keyword">elif</tt> <tt id="link-69" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-69', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">i0</tt> <tt class="py-op">==</tt> <tt class="py-name">None</tt><tt class="py-op">:</tt> </tt>
<a name="L97"></a><tt class="py-lineno">  97</tt>  <tt class="py-line">                    <tt class="py-name">param_vector</tt><tt class="py-op">.</tt><tt id="link-70" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-70', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-number">0.0</tt><tt class="py-op">)</tt> </tt>
<a name="L98"></a><tt class="py-lineno">  98</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L99"></a><tt class="py-lineno">  99</tt>  <tt class="py-line">                    <tt class="py-name">param_vector</tt><tt class="py-op">.</tt><tt id="link-71" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-71', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt id="link-72" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-72', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">i0</tt><tt class="py-op">)</tt> </tt>
<a name="L100"></a><tt class="py-lineno"> 100</tt>  <tt class="py-line"> </tt>
<a name="L101"></a><tt class="py-lineno"> 101</tt>  <tt class="py-line">            <tt class="py-comment"># Intensity at infinity.</tt> </tt>
<a name="L102"></a><tt class="py-lineno"> 102</tt>  <tt class="py-line">            <tt class="py-keyword">elif</tt> <tt id="link-73" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-73', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">params</tt><tt class="py-op">[</tt><tt id="link-74" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-74', 'i', 'link-55');">i</a></tt><tt class="py-op">]</tt> <tt class="py-op">==</tt> <tt class="py-string">'Iinf'</tt><tt class="py-op">:</tt> </tt>
<a name="L103"></a><tt class="py-lineno"> 103</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">sim_index</tt> <tt class="py-op">!=</tt> <tt class="py-name">None</tt><tt class="py-op">:</tt> </tt>
<a name="L104"></a><tt class="py-lineno"> 104</tt>  <tt class="py-line">                    <tt class="py-name">param_vector</tt><tt class="py-op">.</tt><tt id="link-75" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-75', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt id="link-76" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-76', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">iinf_sim</tt><tt class="py-op">[</tt><tt class="py-name">sim_index</tt><tt class="py-op">]</tt><tt class="py-op">)</tt> </tt>
<a name="L105"></a><tt class="py-lineno"> 105</tt>  <tt class="py-line">                <tt class="py-keyword">elif</tt> <tt id="link-77" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-77', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">iinf</tt> <tt class="py-op">==</tt> <tt class="py-name">None</tt><tt class="py-op">:</tt> </tt>
<a name="L106"></a><tt class="py-lineno"> 106</tt>  <tt class="py-line">                    <tt class="py-name">param_vector</tt><tt class="py-op">.</tt><tt id="link-78" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-78', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-number">0.0</tt><tt class="py-op">)</tt> </tt>
<a name="L107"></a><tt class="py-lineno"> 107</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L108"></a><tt class="py-lineno"> 108</tt>  <tt class="py-line">                    <tt class="py-name">param_vector</tt><tt class="py-op">.</tt><tt id="link-79" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-79', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt id="link-80" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-80', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">iinf</tt><tt class="py-op">)</tt> </tt>
<a name="L109"></a><tt class="py-lineno"> 109</tt>  <tt class="py-line"> </tt>
<a name="L110"></a><tt class="py-lineno"> 110</tt>  <tt class="py-line">        <tt class="py-comment"># Return a numpy array.</tt> </tt>
<a name="L111"></a><tt class="py-lineno"> 111</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt class="py-name">array</tt><tt class="py-op">(</tt><tt class="py-name">param_vector</tt><tt class="py-op">,</tt> <tt class="py-name">float64</tt><tt class="py-op">)</tt> </tt>
</div><a name="L112"></a><tt class="py-lineno"> 112</tt>  <tt class="py-line"> </tt>
<a name="L113"></a><tt class="py-lineno"> 113</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit._assemble_scaling_matrix"></a><div id="Relax_fit._assemble_scaling_matrix-def"><a name="L114"></a><tt class="py-lineno"> 114</tt> <a class="py-toggle" href="#" id="Relax_fit._assemble_scaling_matrix-toggle" onclick="return toggle('Relax_fit._assemble_scaling_matrix');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#_assemble_scaling_matrix">_assemble_scaling_matrix</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">spin</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">,</tt> <tt class="py-param">scaling</tt><tt class="py-op">=</tt><tt class="py-name">True</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit._assemble_scaling_matrix-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit._assemble_scaling_matrix-expanded"><a name="L115"></a><tt class="py-lineno"> 115</tt>  <tt class="py-line">        <tt class="py-docstring">"""Create and return the scaling matrix.</tt> </tt>
<a name="L116"></a><tt class="py-lineno"> 116</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L117"></a><tt class="py-lineno"> 117</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword spin:          The spin data container.</tt> </tt>
<a name="L118"></a><tt class="py-lineno"> 118</tt>  <tt class="py-line"><tt class="py-docstring">        @type spin:             SpinContainer instance</tt> </tt>
<a name="L119"></a><tt class="py-lineno"> 119</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword scaling:       A flag which if false will cause the identity matrix to be returned.</tt> </tt>
<a name="L120"></a><tt class="py-lineno"> 120</tt>  <tt class="py-line"><tt class="py-docstring">        @type scaling:          bool</tt> </tt>
<a name="L121"></a><tt class="py-lineno"> 121</tt>  <tt class="py-line"><tt class="py-docstring">        @return:                The diagonal and square scaling matrix.</tt> </tt>
<a name="L122"></a><tt class="py-lineno"> 122</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:                 numpy diagonal matrix</tt> </tt>
<a name="L123"></a><tt class="py-lineno"> 123</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L124"></a><tt class="py-lineno"> 124</tt>  <tt class="py-line"> </tt>
<a name="L125"></a><tt class="py-lineno"> 125</tt>  <tt class="py-line">        <tt class="py-comment"># Initialise.</tt> </tt>
<a name="L126"></a><tt class="py-lineno"> 126</tt>  <tt class="py-line">        <tt class="py-name">scaling_matrix</tt> <tt class="py-op">=</tt> <tt class="py-name">identity</tt><tt class="py-op">(</tt><tt class="py-name">len</tt><tt class="py-op">(</tt><tt id="link-81" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-81', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">params</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt class="py-name">float64</tt><tt class="py-op">)</tt> </tt>
<a name="L127"></a><tt class="py-lineno"> 127</tt>  <tt class="py-line">        <tt id="link-82" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-82', 'i', 'link-55');">i</a></tt> <tt class="py-op">=</tt> <tt class="py-number">0</tt> </tt>
<a name="L128"></a><tt class="py-lineno"> 128</tt>  <tt class="py-line"> </tt>
<a name="L129"></a><tt class="py-lineno"> 129</tt>  <tt class="py-line">        <tt class="py-comment"># No diagonal scaling.</tt> </tt>
<a name="L130"></a><tt class="py-lineno"> 130</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt class="py-name">scaling</tt><tt class="py-op">:</tt> </tt>
<a name="L131"></a><tt class="py-lineno"> 131</tt>  <tt class="py-line">            <tt class="py-keyword">return</tt> <tt class="py-name">scaling_matrix</tt> </tt>
<a name="L132"></a><tt class="py-lineno"> 132</tt>  <tt class="py-line"> </tt>
<a name="L133"></a><tt class="py-lineno"> 133</tt>  <tt class="py-line">        <tt class="py-comment"># Loop over the parameters.</tt> </tt>
<a name="L134"></a><tt class="py-lineno"> 134</tt>  <tt class="py-line">        <tt class="py-keyword">for</tt> <tt id="link-83" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-83', 'i', 'link-55');">i</a></tt> <tt class="py-keyword">in</tt> <tt class="py-name">xrange</tt><tt class="py-op">(</tt><tt class="py-name">len</tt><tt class="py-op">(</tt><tt id="link-84" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-84', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">params</tt><tt class="py-op">)</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L135"></a><tt class="py-lineno"> 135</tt>  <tt class="py-line">            <tt class="py-comment"># Relaxation rate.</tt> </tt>
<a name="L136"></a><tt class="py-lineno"> 136</tt>  <tt class="py-line">            <tt class="py-keyword">if</tt> <tt id="link-85" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-85', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">params</tt><tt class="py-op">[</tt><tt id="link-86" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-86', 'i', 'link-55');">i</a></tt><tt class="py-op">]</tt> <tt class="py-op">==</tt> <tt class="py-string">'Rx'</tt><tt class="py-op">:</tt> </tt>
<a name="L137"></a><tt class="py-lineno"> 137</tt>  <tt class="py-line">                <tt class="py-keyword">pass</tt> </tt>
<a name="L138"></a><tt class="py-lineno"> 138</tt>  <tt class="py-line"> </tt>
<a name="L139"></a><tt class="py-lineno"> 139</tt>  <tt class="py-line">            <tt class="py-comment"># Intensity scaling.</tt> </tt>
<a name="L140"></a><tt class="py-lineno"> 140</tt>  <tt class="py-line">            <tt class="py-keyword">elif</tt> <tt id="link-87" class="py-name"><a title="generic_fns.relax_re.search" class="py-name" href="#" onclick="return doclink('link-87', 'search', 'link-6');">search</a></tt><tt class="py-op">(</tt><tt class="py-string">'^i'</tt><tt class="py-op">,</tt> <tt id="link-88" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-88', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">params</tt><tt class="py-op">[</tt><tt id="link-89" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-89', 'i', 'link-55');">i</a></tt><tt class="py-op">]</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L141"></a><tt class="py-lineno"> 141</tt>  <tt class="py-line">                <tt class="py-comment"># Find the position of the first time point.</tt> </tt>
<a name="L142"></a><tt class="py-lineno"> 142</tt>  <tt class="py-line">                <tt class="py-name">pos</tt> <tt class="py-op">=</tt> <tt class="py-name">cdp</tt><tt class="py-op">.</tt><tt class="py-name">relax_times</tt><tt class="py-op">.</tt><tt class="py-name">index</tt><tt class="py-op">(</tt><tt class="py-name">min</tt><tt class="py-op">(</tt><tt class="py-name">cdp</tt><tt class="py-op">.</tt><tt class="py-name">relax_times</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L143"></a><tt class="py-lineno"> 143</tt>  <tt class="py-line"> </tt>
<a name="L144"></a><tt class="py-lineno"> 144</tt>  <tt class="py-line">                <tt class="py-comment"># Scaling.</tt> </tt>
<a name="L145"></a><tt class="py-lineno"> 145</tt>  <tt class="py-line">                <tt class="py-name">scaling_matrix</tt><tt class="py-op">[</tt><tt id="link-90" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-90', 'i', 'link-55');">i</a></tt><tt class="py-op">,</tt> <tt id="link-91" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-91', 'i', 'link-55');">i</a></tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt class="py-number">1.0</tt> <tt class="py-op">/</tt> <tt class="py-name">average</tt><tt class="py-op">(</tt><tt id="link-92" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-92', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">intensities</tt><tt class="py-op">[</tt><tt class="py-name">pos</tt><tt class="py-op">]</tt><tt class="py-op">)</tt> </tt>
<a name="L146"></a><tt class="py-lineno"> 146</tt>  <tt class="py-line"> </tt>
<a name="L147"></a><tt class="py-lineno"> 147</tt>  <tt class="py-line">            <tt class="py-comment"># Increment i.</tt> </tt>
<a name="L148"></a><tt class="py-lineno"> 148</tt>  <tt class="py-line">            <tt id="link-93" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-93', 'i', 'link-55');">i</a></tt> <tt class="py-op">=</tt> <tt id="link-94" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-94', 'i', 'link-55');">i</a></tt> <tt class="py-op">+</tt> <tt class="py-number">1</tt> </tt>
<a name="L149"></a><tt class="py-lineno"> 149</tt>  <tt class="py-line"> </tt>
<a name="L150"></a><tt class="py-lineno"> 150</tt>  <tt class="py-line">        <tt class="py-comment"># Return the scaling matrix.</tt> </tt>
<a name="L151"></a><tt class="py-lineno"> 151</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt class="py-name">scaling_matrix</tt> </tt>
</div><a name="L152"></a><tt class="py-lineno"> 152</tt>  <tt class="py-line"> </tt>
<a name="L153"></a><tt class="py-lineno"> 153</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit._back_calc"></a><div id="Relax_fit._back_calc-def"><a name="L154"></a><tt class="py-lineno"> 154</tt> <a class="py-toggle" href="#" id="Relax_fit._back_calc-toggle" onclick="return toggle('Relax_fit._back_calc');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#_back_calc">_back_calc</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">spin</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">,</tt> <tt class="py-param">relax_time_id</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit._back_calc-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit._back_calc-expanded"><a name="L155"></a><tt class="py-lineno"> 155</tt>  <tt class="py-line">        <tt class="py-docstring">"""Back-calculation of peak intensity for the given relaxation time.</tt> </tt>
<a name="L156"></a><tt class="py-lineno"> 156</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L157"></a><tt class="py-lineno"> 157</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword spin:              The spin container.</tt> </tt>
<a name="L158"></a><tt class="py-lineno"> 158</tt>  <tt class="py-line"><tt class="py-docstring">        @type spin:                 SpinContainer instance</tt> </tt>
<a name="L159"></a><tt class="py-lineno"> 159</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword relax_time_id:     The ID string for the desired relaxation time.</tt> </tt>
<a name="L160"></a><tt class="py-lineno"> 160</tt>  <tt class="py-line"><tt class="py-docstring">        @type relax_time_id:        str</tt> </tt>
<a name="L161"></a><tt class="py-lineno"> 161</tt>  <tt class="py-line"><tt class="py-docstring">        @return:                    The peak intensity for the desired relaxation time.</tt> </tt>
<a name="L162"></a><tt class="py-lineno"> 162</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:                     float</tt> </tt>
<a name="L163"></a><tt class="py-lineno"> 163</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L164"></a><tt class="py-lineno"> 164</tt>  <tt class="py-line"> </tt>
<a name="L165"></a><tt class="py-lineno"> 165</tt>  <tt class="py-line">        <tt class="py-comment"># Create the initial parameter vector.</tt> </tt>
<a name="L166"></a><tt class="py-lineno"> 166</tt>  <tt class="py-line">        <tt class="py-name">param_vector</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-95" class="py-name" targets="Method specific_fns.frame_order.Frame_order._assemble_param_vector()=specific_fns.frame_order.Frame_order-class.html#_assemble_param_vector,Method specific_fns.model_free.main.Model_free_main._assemble_param_vector()=specific_fns.model_free.main.Model_free_main-class.html#_assemble_param_vector,Method specific_fns.n_state_model.N_state_model._assemble_param_vector()=specific_fns.n_state_model.N_state_model-class.html#_assemble_param_vector,Method specific_fns.relax_fit.Relax_fit._assemble_param_vector()=specific_fns.relax_fit.Relax_fit-class.html#_assemble_param_vector"><a title="specific_fns.frame_order.Frame_order._assemble_param_vector
specific_fns.model_free.main.Model_free_main._assemble_param_vector
specific_fns.n_state_model.N_state_model._assemble_param_vector
specific_fns.relax_fit.Relax_fit._assemble_param_vector" class="py-name" href="#" onclick="return doclink('link-95', '_assemble_param_vector', 'link-95');">_assemble_param_vector</a></tt><tt class="py-op">(</tt><tt id="link-96" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-96', 'spin', 'link-56');">spin</a></tt><tt class="py-op">=</tt><tt id="link-97" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-97', 'spin', 'link-56');">spin</a></tt><tt class="py-op">)</tt> </tt>
<a name="L167"></a><tt class="py-lineno"> 167</tt>  <tt class="py-line"> </tt>
<a name="L168"></a><tt class="py-lineno"> 168</tt>  <tt class="py-line">        <tt class="py-comment"># Create a scaling matrix.</tt> </tt>
<a name="L169"></a><tt class="py-lineno"> 169</tt>  <tt class="py-line">        <tt class="py-name">scaling_matrix</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-98" class="py-name" targets="Method specific_fns.model_free.main.Model_free_main._assemble_scaling_matrix()=specific_fns.model_free.main.Model_free_main-class.html#_assemble_scaling_matrix,Method specific_fns.n_state_model.N_state_model._assemble_scaling_matrix()=specific_fns.n_state_model.N_state_model-class.html#_assemble_scaling_matrix,Method specific_fns.relax_fit.Relax_fit._assemble_scaling_matrix()=specific_fns.relax_fit.Relax_fit-class.html#_assemble_scaling_matrix"><a title="specific_fns.model_free.main.Model_free_main._assemble_scaling_matrix
specific_fns.n_state_model.N_state_model._assemble_scaling_matrix
specific_fns.relax_fit.Relax_fit._assemble_scaling_matrix" class="py-name" href="#" onclick="return doclink('link-98', '_assemble_scaling_matrix', 'link-98');">_assemble_scaling_matrix</a></tt><tt class="py-op">(</tt><tt id="link-99" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-99', 'spin', 'link-56');">spin</a></tt><tt class="py-op">=</tt><tt id="link-100" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-100', 'spin', 'link-56');">spin</a></tt><tt class="py-op">,</tt> <tt class="py-name">scaling</tt><tt class="py-op">=</tt><tt class="py-name">False</tt><tt class="py-op">)</tt> </tt>
<a name="L170"></a><tt class="py-lineno"> 170</tt>  <tt class="py-line"> </tt>
<a name="L171"></a><tt class="py-lineno"> 171</tt>  <tt class="py-line">        <tt class="py-comment"># The keys.</tt> </tt>
<a name="L172"></a><tt class="py-lineno"> 172</tt>  <tt class="py-line">        <tt class="py-name">keys</tt> <tt class="py-op">=</tt> <tt id="link-101" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-101', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">intensities</tt><tt class="py-op">.</tt><tt class="py-name">keys</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L173"></a><tt class="py-lineno"> 173</tt>  <tt class="py-line"> </tt>
<a name="L174"></a><tt class="py-lineno"> 174</tt>  <tt class="py-line">        <tt class="py-comment"># The peak intensities and times.</tt> </tt>
<a name="L175"></a><tt class="py-lineno"> 175</tt>  <tt class="py-line">        <tt class="py-name">values</tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-op">]</tt> </tt>
<a name="L176"></a><tt class="py-lineno"> 176</tt>  <tt class="py-line">        <tt id="link-102" class="py-name" targets="Module minfx.errors=minfx.errors-module.html"><a title="minfx.errors" class="py-name" href="#" onclick="return doclink('link-102', 'errors', 'link-102');">errors</a></tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-op">]</tt> </tt>
<a name="L177"></a><tt class="py-lineno"> 177</tt>  <tt class="py-line">        <tt class="py-name">times</tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-op">]</tt> </tt>
<a name="L178"></a><tt class="py-lineno"> 178</tt>  <tt class="py-line">        <tt class="py-keyword">for</tt> <tt class="py-name">key</tt> <tt class="py-keyword">in</tt> <tt class="py-name">keys</tt><tt class="py-op">:</tt> </tt>
<a name="L179"></a><tt class="py-lineno"> 179</tt>  <tt class="py-line">            <tt class="py-name">values</tt><tt class="py-op">.</tt><tt id="link-103" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-103', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt id="link-104" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-104', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">intensities</tt><tt class="py-op">[</tt><tt class="py-name">key</tt><tt class="py-op">]</tt><tt class="py-op">)</tt> </tt>
<a name="L180"></a><tt class="py-lineno"> 180</tt>  <tt class="py-line">            <tt id="link-105" class="py-name"><a title="minfx.errors" class="py-name" href="#" onclick="return doclink('link-105', 'errors', 'link-102');">errors</a></tt><tt class="py-op">.</tt><tt id="link-106" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-106', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt id="link-107" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-107', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">intensity_err</tt><tt class="py-op">[</tt><tt class="py-name">key</tt><tt class="py-op">]</tt><tt class="py-op">)</tt> </tt>
<a name="L181"></a><tt class="py-lineno"> 181</tt>  <tt class="py-line">            <tt class="py-name">times</tt><tt class="py-op">.</tt><tt id="link-108" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-108', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-name">cdp</tt><tt class="py-op">.</tt><tt class="py-name">relax_times</tt><tt class="py-op">[</tt><tt class="py-name">key</tt><tt class="py-op">]</tt><tt class="py-op">)</tt> </tt>
<a name="L182"></a><tt class="py-lineno"> 182</tt>  <tt class="py-line"> </tt>
<a name="L183"></a><tt class="py-lineno"> 183</tt>  <tt class="py-line">        <tt class="py-comment"># Initialise the relaxation fit functions.</tt> </tt>
<a name="L184"></a><tt class="py-lineno"> 184</tt>  <tt class="py-line">        <tt id="link-109" class="py-name"><a title="generic_fns.monte_carlo.setup
gui.user_functions.base.UF_base.setup
prompt.monte_carlo.Monte_carlo.setup
relax_warnings.setup
specific_fns.setup" class="py-name" href="#" onclick="return doclink('link-109', 'setup', 'link-32');">setup</a></tt><tt class="py-op">(</tt><tt class="py-name">num_params</tt><tt class="py-op">=</tt><tt class="py-name">len</tt><tt class="py-op">(</tt><tt id="link-110" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-110', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">params</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt class="py-name">num_times</tt><tt class="py-op">=</tt><tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">cdp</tt><tt class="py-op">.</tt><tt class="py-name">relax_times</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt class="py-name">values</tt><tt class="py-op">=</tt><tt class="py-name">values</tt><tt class="py-op">,</tt> <tt class="py-name">sd</tt><tt class="py-op">=</tt><tt id="link-111" class="py-name"><a title="minfx.errors" class="py-name" href="#" onclick="return doclink('link-111', 'errors', 'link-102');">errors</a></tt><tt class="py-op">,</tt> <tt class="py-name">relax_times</tt><tt class="py-op">=</tt><tt class="py-name">times</tt><tt class="py-op">,</tt> <tt class="py-name">scaling_matrix</tt><tt class="py-op">=</tt><tt class="py-name">scaling_matrix</tt><tt class="py-op">)</tt> </tt>
<a name="L185"></a><tt class="py-lineno"> 185</tt>  <tt class="py-line"> </tt>
<a name="L186"></a><tt class="py-lineno"> 186</tt>  <tt class="py-line">        <tt class="py-comment"># Make a single function call.  This will cause back calculation and the data will be stored in the C module.</tt> </tt>
<a name="L187"></a><tt class="py-lineno"> 187</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-112" class="py-name" targets="Method specific_fns.relax_fit.Relax_fit._func()=specific_fns.relax_fit.Relax_fit-class.html#_func"><a title="specific_fns.relax_fit.Relax_fit._func" class="py-name" href="#" onclick="return doclink('link-112', '_func', 'link-112');">_func</a></tt><tt class="py-op">(</tt><tt class="py-name">param_vector</tt><tt class="py-op">)</tt> </tt>
<a name="L188"></a><tt class="py-lineno"> 188</tt>  <tt class="py-line"> </tt>
<a name="L189"></a><tt class="py-lineno"> 189</tt>  <tt class="py-line">        <tt class="py-comment"># Get the data back.</tt> </tt>
<a name="L190"></a><tt class="py-lineno"> 190</tt>  <tt class="py-line">        <tt id="link-113" class="py-name" targets="Module generic_fns.results=generic_fns.results-module.html,Module gui.analyses.results=gui.analyses.results-module.html,Module prompt.results=prompt.results-module.html,Module specific_fns.model_free.results=specific_fns.model_free.results-module.html,Module test_suite.system_tests.results=test_suite.system_tests.results-module.html"><a title="generic_fns.results
gui.analyses.results
prompt.results
specific_fns.model_free.results
test_suite.system_tests.results" class="py-name" href="#" onclick="return doclink('link-113', 'results', 'link-113');">results</a></tt> <tt class="py-op">=</tt> <tt class="py-name">back_calc_I</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L191"></a><tt class="py-lineno"> 191</tt>  <tt class="py-line"> </tt>
<a name="L192"></a><tt class="py-lineno"> 192</tt>  <tt class="py-line">        <tt class="py-comment"># Return the correct peak height.</tt> </tt>
<a name="L193"></a><tt class="py-lineno"> 193</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt id="link-114" class="py-name"><a title="generic_fns.results
gui.analyses.results
prompt.results
specific_fns.model_free.results
test_suite.system_tests.results" class="py-name" href="#" onclick="return doclink('link-114', 'results', 'link-113');">results</a></tt><tt class="py-op">[</tt><tt class="py-name">keys</tt><tt class="py-op">.</tt><tt class="py-name">index</tt><tt class="py-op">(</tt><tt class="py-name">relax_time_id</tt><tt class="py-op">)</tt><tt class="py-op">]</tt> </tt>
</div><a name="L194"></a><tt class="py-lineno"> 194</tt>  <tt class="py-line"> </tt>
<a name="L195"></a><tt class="py-lineno"> 195</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit._disassemble_param_vector"></a><div id="Relax_fit._disassemble_param_vector-def"><a name="L196"></a><tt class="py-lineno"> 196</tt> <a class="py-toggle" href="#" id="Relax_fit._disassemble_param_vector-toggle" onclick="return toggle('Relax_fit._disassemble_param_vector');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#_disassemble_param_vector">_disassemble_param_vector</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">param_vector</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">,</tt> <tt class="py-param">spin</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">,</tt> <tt class="py-param">sim_index</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit._disassemble_param_vector-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit._disassemble_param_vector-expanded"><a name="L197"></a><tt class="py-lineno"> 197</tt>  <tt class="py-line">        <tt class="py-docstring">"""Disassemble the parameter vector.</tt> </tt>
<a name="L198"></a><tt class="py-lineno"> 198</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L199"></a><tt class="py-lineno"> 199</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword param_vector:  The parameter vector.</tt> </tt>
<a name="L200"></a><tt class="py-lineno"> 200</tt>  <tt class="py-line"><tt class="py-docstring">        @type param_vector:     numpy array</tt> </tt>
<a name="L201"></a><tt class="py-lineno"> 201</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword spin:          The spin data container.</tt> </tt>
<a name="L202"></a><tt class="py-lineno"> 202</tt>  <tt class="py-line"><tt class="py-docstring">        @type spin:             SpinContainer instance</tt> </tt>
<a name="L203"></a><tt class="py-lineno"> 203</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword sim_index:     The optional MC simulation index.</tt> </tt>
<a name="L204"></a><tt class="py-lineno"> 204</tt>  <tt class="py-line"><tt class="py-docstring">        @type sim_index:        int</tt> </tt>
<a name="L205"></a><tt class="py-lineno"> 205</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L206"></a><tt class="py-lineno"> 206</tt>  <tt class="py-line"> </tt>
<a name="L207"></a><tt class="py-lineno"> 207</tt>  <tt class="py-line">        <tt class="py-comment"># Monte Carlo simulations.</tt> </tt>
<a name="L208"></a><tt class="py-lineno"> 208</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">sim_index</tt> <tt class="py-op">!=</tt> <tt class="py-name">None</tt><tt class="py-op">:</tt> </tt>
<a name="L209"></a><tt class="py-lineno"> 209</tt>  <tt class="py-line">            <tt class="py-comment"># The relaxation rate.</tt> </tt>
<a name="L210"></a><tt class="py-lineno"> 210</tt>  <tt class="py-line">            <tt id="link-115" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-115', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">rx_sim</tt><tt class="py-op">[</tt><tt class="py-name">sim_index</tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt class="py-name">param_vector</tt><tt class="py-op">[</tt><tt class="py-number">0</tt><tt class="py-op">]</tt> </tt>
<a name="L211"></a><tt class="py-lineno"> 211</tt>  <tt class="py-line"> </tt>
<a name="L212"></a><tt class="py-lineno"> 212</tt>  <tt class="py-line">            <tt class="py-comment"># Initial intensity.</tt> </tt>
<a name="L213"></a><tt class="py-lineno"> 213</tt>  <tt class="py-line">            <tt id="link-116" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-116', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">i0_sim</tt><tt class="py-op">[</tt><tt class="py-name">sim_index</tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt class="py-name">param_vector</tt><tt class="py-op">[</tt><tt class="py-number">1</tt><tt class="py-op">]</tt> </tt>
<a name="L214"></a><tt class="py-lineno"> 214</tt>  <tt class="py-line"> </tt>
<a name="L215"></a><tt class="py-lineno"> 215</tt>  <tt class="py-line">            <tt class="py-comment"># Intensity at infinity.</tt> </tt>
<a name="L216"></a><tt class="py-lineno"> 216</tt>  <tt class="py-line">            <tt class="py-keyword">if</tt> <tt class="py-name">cdp</tt><tt class="py-op">.</tt><tt class="py-name">curve_type</tt> <tt class="py-op">==</tt> <tt class="py-string">'inv'</tt><tt class="py-op">:</tt> </tt>
<a name="L217"></a><tt class="py-lineno"> 217</tt>  <tt class="py-line">                <tt id="link-117" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-117', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">iinf_sim</tt><tt class="py-op">[</tt><tt class="py-name">sim_index</tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt class="py-name">param_vector</tt><tt class="py-op">[</tt><tt class="py-number">2</tt><tt class="py-op">]</tt> </tt>
<a name="L218"></a><tt class="py-lineno"> 218</tt>  <tt class="py-line"> </tt>
<a name="L219"></a><tt class="py-lineno"> 219</tt>  <tt class="py-line">        <tt class="py-comment"># Parameter values.</tt> </tt>
<a name="L220"></a><tt class="py-lineno"> 220</tt>  <tt class="py-line">        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L221"></a><tt class="py-lineno"> 221</tt>  <tt class="py-line">            <tt class="py-comment"># The relaxation rate.</tt> </tt>
<a name="L222"></a><tt class="py-lineno"> 222</tt>  <tt class="py-line">            <tt id="link-118" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-118', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">rx</tt> <tt class="py-op">=</tt> <tt class="py-name">param_vector</tt><tt class="py-op">[</tt><tt class="py-number">0</tt><tt class="py-op">]</tt> </tt>
<a name="L223"></a><tt class="py-lineno"> 223</tt>  <tt class="py-line"> </tt>
<a name="L224"></a><tt class="py-lineno"> 224</tt>  <tt class="py-line">            <tt class="py-comment"># Initial intensity.</tt> </tt>
<a name="L225"></a><tt class="py-lineno"> 225</tt>  <tt class="py-line">            <tt id="link-119" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-119', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">i0</tt> <tt class="py-op">=</tt> <tt class="py-name">param_vector</tt><tt class="py-op">[</tt><tt class="py-number">1</tt><tt class="py-op">]</tt> </tt>
<a name="L226"></a><tt class="py-lineno"> 226</tt>  <tt class="py-line"> </tt>
<a name="L227"></a><tt class="py-lineno"> 227</tt>  <tt class="py-line">            <tt class="py-comment"># Intensity at infinity.</tt> </tt>
<a name="L228"></a><tt class="py-lineno"> 228</tt>  <tt class="py-line">            <tt class="py-keyword">if</tt> <tt class="py-name">cdp</tt><tt class="py-op">.</tt><tt class="py-name">curve_type</tt> <tt class="py-op">==</tt> <tt class="py-string">'inv'</tt><tt class="py-op">:</tt> </tt>
<a name="L229"></a><tt class="py-lineno"> 229</tt>  <tt class="py-line">                <tt id="link-120" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-120', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">iinf</tt> <tt class="py-op">=</tt> <tt class="py-name">param_vector</tt><tt class="py-op">[</tt><tt class="py-number">2</tt><tt class="py-op">]</tt> </tt>
</div><a name="L230"></a><tt class="py-lineno"> 230</tt>  <tt class="py-line"> </tt>
<a name="L231"></a><tt class="py-lineno"> 231</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit._func"></a><div id="Relax_fit._func-def"><a name="L232"></a><tt class="py-lineno"> 232</tt> <a class="py-toggle" href="#" id="Relax_fit._func-toggle" onclick="return toggle('Relax_fit._func');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#_func">_func</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">params</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit._func-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit._func-expanded"><a name="L233"></a><tt class="py-lineno"> 233</tt>  <tt class="py-line">        <tt class="py-docstring">"""Wrapper function for the C module, for converting numpy arrays.</tt> </tt>
<a name="L234"></a><tt class="py-lineno"> 234</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L235"></a><tt class="py-lineno"> 235</tt>  <tt class="py-line"><tt class="py-docstring">        @param params:  The parameter array from the minimisation code.</tt> </tt>
<a name="L236"></a><tt class="py-lineno"> 236</tt>  <tt class="py-line"><tt class="py-docstring">        @type params:   numpy array</tt> </tt>
<a name="L237"></a><tt class="py-lineno"> 237</tt>  <tt class="py-line"><tt class="py-docstring">        @return:        The function value generated by the C module.</tt> </tt>
<a name="L238"></a><tt class="py-lineno"> 238</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:         float</tt> </tt>
<a name="L239"></a><tt class="py-lineno"> 239</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L240"></a><tt class="py-lineno"> 240</tt>  <tt class="py-line"> </tt>
<a name="L241"></a><tt class="py-lineno"> 241</tt>  <tt class="py-line">        <tt class="py-comment"># Call the C code.</tt> </tt>
<a name="L242"></a><tt class="py-lineno"> 242</tt>  <tt class="py-line">        <tt id="link-121" class="py-name" targets="Module maths_fns.chi2=maths_fns.chi2-module.html,Function maths_fns.chi2.chi2()=maths_fns.chi2-module.html#chi2"><a title="maths_fns.chi2
maths_fns.chi2.chi2" class="py-name" href="#" onclick="return doclink('link-121', 'chi2', 'link-121');">chi2</a></tt> <tt class="py-op">=</tt> <tt id="link-122" class="py-name"><a title="maths_fns.consistency_tests.Consistency.func
maths_fns.jw_mapping.Mapping.func
minfx.constraint_linear.Constraint_linear.func" class="py-name" href="#" onclick="return doclink('link-122', 'func', 'link-33');">func</a></tt><tt class="py-op">(</tt><tt class="py-name">params</tt><tt class="py-op">.</tt><tt class="py-name">tolist</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L243"></a><tt class="py-lineno"> 243</tt>  <tt class="py-line"> </tt>
<a name="L244"></a><tt class="py-lineno"> 244</tt>  <tt class="py-line">        <tt class="py-comment"># Return the chi2 value.</tt> </tt>
<a name="L245"></a><tt class="py-lineno"> 245</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt id="link-123" class="py-name"><a title="maths_fns.chi2
maths_fns.chi2.chi2" class="py-name" href="#" onclick="return doclink('link-123', 'chi2', 'link-121');">chi2</a></tt> </tt>
</div><a name="L246"></a><tt class="py-lineno"> 246</tt>  <tt class="py-line"> </tt>
<a name="L247"></a><tt class="py-lineno"> 247</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit._dfunc"></a><div id="Relax_fit._dfunc-def"><a name="L248"></a><tt class="py-lineno"> 248</tt> <a class="py-toggle" href="#" id="Relax_fit._dfunc-toggle" onclick="return toggle('Relax_fit._dfunc');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#_dfunc">_dfunc</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">params</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit._dfunc-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit._dfunc-expanded"><a name="L249"></a><tt class="py-lineno"> 249</tt>  <tt class="py-line">        <tt class="py-docstring">"""Wrapper function for the C module, for converting numpy arrays.</tt> </tt>
<a name="L250"></a><tt class="py-lineno"> 250</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L251"></a><tt class="py-lineno"> 251</tt>  <tt class="py-line"><tt class="py-docstring">        The currently does nothing.</tt> </tt>
<a name="L252"></a><tt class="py-lineno"> 252</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
</div><a name="L253"></a><tt class="py-lineno"> 253</tt>  <tt class="py-line"> </tt>
<a name="L254"></a><tt class="py-lineno"> 254</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit._d2func"></a><div id="Relax_fit._d2func-def"><a name="L255"></a><tt class="py-lineno"> 255</tt> <a class="py-toggle" href="#" id="Relax_fit._d2func-toggle" onclick="return toggle('Relax_fit._d2func');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#_d2func">_d2func</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">params</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit._d2func-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit._d2func-expanded"><a name="L256"></a><tt class="py-lineno"> 256</tt>  <tt class="py-line">        <tt class="py-docstring">"""Wrapper function for the C module, for converting numpy arrays.</tt> </tt>
<a name="L257"></a><tt class="py-lineno"> 257</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L258"></a><tt class="py-lineno"> 258</tt>  <tt class="py-line"><tt class="py-docstring">        The currently does nothing.</tt> </tt>
<a name="L259"></a><tt class="py-lineno"> 259</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
</div><a name="L260"></a><tt class="py-lineno"> 260</tt>  <tt class="py-line"> </tt>
<a name="L261"></a><tt class="py-lineno"> 261</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit._grid_search_setup"></a><div id="Relax_fit._grid_search_setup-def"><a name="L262"></a><tt class="py-lineno"> 262</tt> <a class="py-toggle" href="#" id="Relax_fit._grid_search_setup-toggle" onclick="return toggle('Relax_fit._grid_search_setup');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#_grid_search_setup">_grid_search_setup</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">spin</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">,</tt> <tt class="py-param">param_vector</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">,</tt> <tt class="py-param">lower</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">,</tt> <tt class="py-param">upper</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">,</tt> <tt class="py-param">inc</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">,</tt> <tt class="py-param">scaling_matrix</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit._grid_search_setup-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit._grid_search_setup-expanded"><a name="L263"></a><tt class="py-lineno"> 263</tt>  <tt class="py-line">        <tt class="py-docstring">"""The grid search setup function.</tt> </tt>
<a name="L264"></a><tt class="py-lineno"> 264</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L265"></a><tt class="py-lineno"> 265</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword spin:              The spin data container.</tt> </tt>
<a name="L266"></a><tt class="py-lineno"> 266</tt>  <tt class="py-line"><tt class="py-docstring">        @type spin:                 SpinContainer instance</tt> </tt>
<a name="L267"></a><tt class="py-lineno"> 267</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword param_vector:      The parameter vector.</tt> </tt>
<a name="L268"></a><tt class="py-lineno"> 268</tt>  <tt class="py-line"><tt class="py-docstring">        @type param_vector:         numpy array</tt> </tt>
<a name="L269"></a><tt class="py-lineno"> 269</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword lower:             The lower bounds of the grid search which must be equal to the</tt> </tt>
<a name="L270"></a><tt class="py-lineno"> 270</tt>  <tt class="py-line"><tt class="py-docstring">                                    number of parameters in the model.  This optional argument is</tt> </tt>
<a name="L271"></a><tt class="py-lineno"> 271</tt>  <tt class="py-line"><tt class="py-docstring">                                    only used when doing a grid search.</tt> </tt>
<a name="L272"></a><tt class="py-lineno"> 272</tt>  <tt class="py-line"><tt class="py-docstring">        @type lower:                array of numbers</tt> </tt>
<a name="L273"></a><tt class="py-lineno"> 273</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword upper:             The upper bounds of the grid search which must be equal to the</tt> </tt>
<a name="L274"></a><tt class="py-lineno"> 274</tt>  <tt class="py-line"><tt class="py-docstring">                                    number of parameters in the model.  This optional argument is</tt> </tt>
<a name="L275"></a><tt class="py-lineno"> 275</tt>  <tt class="py-line"><tt class="py-docstring">                                    only used when doing a grid search.</tt> </tt>
<a name="L276"></a><tt class="py-lineno"> 276</tt>  <tt class="py-line"><tt class="py-docstring">        @type upper:                array of numbers</tt> </tt>
<a name="L277"></a><tt class="py-lineno"> 277</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword inc:               The increments for each dimension of the space for the grid</tt> </tt>
<a name="L278"></a><tt class="py-lineno"> 278</tt>  <tt class="py-line"><tt class="py-docstring">                                    search.  The number of elements in the array must equal to the</tt> </tt>
<a name="L279"></a><tt class="py-lineno"> 279</tt>  <tt class="py-line"><tt class="py-docstring">                                    number of parameters in the model.  This argument is only used</tt> </tt>
<a name="L280"></a><tt class="py-lineno"> 280</tt>  <tt class="py-line"><tt class="py-docstring">                                    when doing a grid search.</tt> </tt>
<a name="L281"></a><tt class="py-lineno"> 281</tt>  <tt class="py-line"><tt class="py-docstring">        @type inc:                  array of int</tt> </tt>
<a name="L282"></a><tt class="py-lineno"> 282</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword scaling_matrix:    The scaling matrix.</tt> </tt>
<a name="L283"></a><tt class="py-lineno"> 283</tt>  <tt class="py-line"><tt class="py-docstring">        @type scaling_matrix:       numpy diagonal matrix</tt> </tt>
<a name="L284"></a><tt class="py-lineno"> 284</tt>  <tt class="py-line"><tt class="py-docstring">        @return:                    A tuple of the grid size and the minimisation options.  For the</tt> </tt>
<a name="L285"></a><tt class="py-lineno"> 285</tt>  <tt class="py-line"><tt class="py-docstring">                                    minimisation options, the first dimension corresponds to the</tt> </tt>
<a name="L286"></a><tt class="py-lineno"> 286</tt>  <tt class="py-line"><tt class="py-docstring">                                    model parameter.  The second dimension is a list of the number</tt> </tt>
<a name="L287"></a><tt class="py-lineno"> 287</tt>  <tt class="py-line"><tt class="py-docstring">                                    of increments, the lower bound, and upper bound.</tt> </tt>
<a name="L288"></a><tt class="py-lineno"> 288</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:                     (int, list of lists [int, float, float])</tt> </tt>
<a name="L289"></a><tt class="py-lineno"> 289</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L290"></a><tt class="py-lineno"> 290</tt>  <tt class="py-line"> </tt>
<a name="L291"></a><tt class="py-lineno"> 291</tt>  <tt class="py-line">        <tt class="py-comment"># The length of the parameter array.</tt> </tt>
<a name="L292"></a><tt class="py-lineno"> 292</tt>  <tt class="py-line">        <tt class="py-name">n</tt> <tt class="py-op">=</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">param_vector</tt><tt class="py-op">)</tt> </tt>
<a name="L293"></a><tt class="py-lineno"> 293</tt>  <tt class="py-line"> </tt>
<a name="L294"></a><tt class="py-lineno"> 294</tt>  <tt class="py-line">        <tt class="py-comment"># Make sure that the length of the parameter array is &gt; 0.</tt> </tt>
<a name="L295"></a><tt class="py-lineno"> 295</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">n</tt> <tt class="py-op">==</tt> <tt class="py-number">0</tt><tt class="py-op">:</tt> </tt>
<a name="L296"></a><tt class="py-lineno"> 296</tt>  <tt class="py-line">            <tt class="py-keyword">raise</tt> <tt id="link-124" class="py-name"><a title="relax_errors.RelaxError" class="py-name" href="#" onclick="return doclink('link-124', 'RelaxError', 'link-22');">RelaxError</a></tt><tt class="py-op">(</tt><tt class="py-string">"Cannot run a grid search on a model with zero parameters."</tt><tt class="py-op">)</tt> </tt>
<a name="L297"></a><tt class="py-lineno"> 297</tt>  <tt class="py-line"> </tt>
<a name="L298"></a><tt class="py-lineno"> 298</tt>  <tt class="py-line">        <tt class="py-comment"># Lower bounds.</tt> </tt>
<a name="L299"></a><tt class="py-lineno"> 299</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">lower</tt> <tt class="py-op">!=</tt> <tt class="py-name">None</tt> <tt class="py-keyword">and</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">lower</tt><tt class="py-op">)</tt> <tt class="py-op">!=</tt> <tt class="py-name">n</tt><tt class="py-op">:</tt> </tt>
<a name="L300"></a><tt class="py-lineno"> 300</tt>  <tt class="py-line">            <tt class="py-keyword">raise</tt> <tt id="link-125" class="py-name"><a title="relax_errors.RelaxLenError" class="py-name" href="#" onclick="return doclink('link-125', 'RelaxLenError', 'link-24');">RelaxLenError</a></tt><tt class="py-op">(</tt><tt class="py-string">'lower bounds'</tt><tt class="py-op">,</tt> <tt class="py-name">n</tt><tt class="py-op">)</tt> </tt>
<a name="L301"></a><tt class="py-lineno"> 301</tt>  <tt class="py-line"> </tt>
<a name="L302"></a><tt class="py-lineno"> 302</tt>  <tt class="py-line">        <tt class="py-comment"># Upper bounds.</tt> </tt>
<a name="L303"></a><tt class="py-lineno"> 303</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">upper</tt> <tt class="py-op">!=</tt> <tt class="py-name">None</tt> <tt class="py-keyword">and</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">upper</tt><tt class="py-op">)</tt> <tt class="py-op">!=</tt> <tt class="py-name">n</tt><tt class="py-op">:</tt> </tt>
<a name="L304"></a><tt class="py-lineno"> 304</tt>  <tt class="py-line">            <tt class="py-keyword">raise</tt> <tt id="link-126" class="py-name"><a title="relax_errors.RelaxLenError" class="py-name" href="#" onclick="return doclink('link-126', 'RelaxLenError', 'link-24');">RelaxLenError</a></tt><tt class="py-op">(</tt><tt class="py-string">'upper bounds'</tt><tt class="py-op">,</tt> <tt class="py-name">n</tt><tt class="py-op">)</tt> </tt>
<a name="L305"></a><tt class="py-lineno"> 305</tt>  <tt class="py-line"> </tt>
<a name="L306"></a><tt class="py-lineno"> 306</tt>  <tt class="py-line">        <tt class="py-comment"># Increments.</tt> </tt>
<a name="L307"></a><tt class="py-lineno"> 307</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">isinstance</tt><tt class="py-op">(</tt><tt class="py-name">inc</tt><tt class="py-op">,</tt> <tt class="py-name">list</tt><tt class="py-op">)</tt> <tt class="py-keyword">and</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">inc</tt><tt class="py-op">)</tt> <tt class="py-op">!=</tt> <tt class="py-name">n</tt><tt class="py-op">:</tt> </tt>
<a name="L308"></a><tt class="py-lineno"> 308</tt>  <tt class="py-line">            <tt class="py-keyword">raise</tt> <tt id="link-127" class="py-name"><a title="relax_errors.RelaxLenError" class="py-name" href="#" onclick="return doclink('link-127', 'RelaxLenError', 'link-24');">RelaxLenError</a></tt><tt class="py-op">(</tt><tt class="py-string">'increment'</tt><tt class="py-op">,</tt> <tt class="py-name">n</tt><tt class="py-op">)</tt> </tt>
<a name="L309"></a><tt class="py-lineno"> 309</tt>  <tt class="py-line">        <tt class="py-keyword">elif</tt> <tt class="py-name">isinstance</tt><tt class="py-op">(</tt><tt class="py-name">inc</tt><tt class="py-op">,</tt> <tt class="py-name">int</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L310"></a><tt class="py-lineno"> 310</tt>  <tt class="py-line">            <tt class="py-name">inc</tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-name">inc</tt><tt class="py-op">]</tt><tt class="py-op">*</tt><tt class="py-name">n</tt> </tt>
<a name="L311"></a><tt class="py-lineno"> 311</tt>  <tt class="py-line"> </tt>
<a name="L312"></a><tt class="py-lineno"> 312</tt>  <tt class="py-line">        <tt class="py-comment"># Set up the default bounds.</tt> </tt>
<a name="L313"></a><tt class="py-lineno"> 313</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt class="py-name">lower</tt><tt class="py-op">:</tt> </tt>
<a name="L314"></a><tt class="py-lineno"> 314</tt>  <tt class="py-line">            <tt class="py-comment"># Init.</tt> </tt>
<a name="L315"></a><tt class="py-lineno"> 315</tt>  <tt class="py-line">            <tt class="py-name">lower</tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-op">]</tt> </tt>
<a name="L316"></a><tt class="py-lineno"> 316</tt>  <tt class="py-line">            <tt class="py-name">upper</tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-op">]</tt> </tt>
<a name="L317"></a><tt class="py-lineno"> 317</tt>  <tt class="py-line"> </tt>
<a name="L318"></a><tt class="py-lineno"> 318</tt>  <tt class="py-line">            <tt class="py-comment"># Loop over the parameters.</tt> </tt>
<a name="L319"></a><tt class="py-lineno"> 319</tt>  <tt class="py-line">            <tt class="py-keyword">for</tt> <tt id="link-128" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-128', 'i', 'link-55');">i</a></tt> <tt class="py-keyword">in</tt> <tt class="py-name">range</tt><tt class="py-op">(</tt><tt class="py-name">n</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L320"></a><tt class="py-lineno"> 320</tt>  <tt class="py-line">                <tt class="py-comment"># Relaxation rate (from 0 to 20 s^-1).</tt> </tt>
<a name="L321"></a><tt class="py-lineno"> 321</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt id="link-129" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-129', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">params</tt><tt class="py-op">[</tt><tt id="link-130" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-130', 'i', 'link-55');">i</a></tt><tt class="py-op">]</tt> <tt class="py-op">==</tt> <tt class="py-string">'Rx'</tt><tt class="py-op">:</tt> </tt>
<a name="L322"></a><tt class="py-lineno"> 322</tt>  <tt class="py-line">                    <tt class="py-name">lower</tt><tt class="py-op">.</tt><tt id="link-131" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-131', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-number">0.0</tt><tt class="py-op">)</tt> </tt>
<a name="L323"></a><tt class="py-lineno"> 323</tt>  <tt class="py-line">                    <tt class="py-name">upper</tt><tt class="py-op">.</tt><tt id="link-132" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-132', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-number">20.0</tt><tt class="py-op">)</tt> </tt>
<a name="L324"></a><tt class="py-lineno"> 324</tt>  <tt class="py-line"> </tt>
<a name="L325"></a><tt class="py-lineno"> 325</tt>  <tt class="py-line">                <tt class="py-comment"># Intensity</tt> </tt>
<a name="L326"></a><tt class="py-lineno"> 326</tt>  <tt class="py-line">                <tt class="py-keyword">elif</tt> <tt id="link-133" class="py-name"><a title="generic_fns.relax_re.search" class="py-name" href="#" onclick="return doclink('link-133', 'search', 'link-6');">search</a></tt><tt class="py-op">(</tt><tt class="py-string">'^I'</tt><tt class="py-op">,</tt> <tt id="link-134" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-134', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">params</tt><tt class="py-op">[</tt><tt id="link-135" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-135', 'i', 'link-55');">i</a></tt><tt class="py-op">]</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L327"></a><tt class="py-lineno"> 327</tt>  <tt class="py-line">                    <tt class="py-comment"># Find the ID of the first time point.</tt> </tt>
<a name="L328"></a><tt class="py-lineno"> 328</tt>  <tt class="py-line">                    <tt class="py-name">min_time</tt> <tt class="py-op">=</tt> <tt class="py-name">min</tt><tt class="py-op">(</tt><tt class="py-name">cdp</tt><tt class="py-op">.</tt><tt class="py-name">relax_times</tt><tt class="py-op">.</tt><tt class="py-name">values</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L329"></a><tt class="py-lineno"> 329</tt>  <tt class="py-line">                    <tt class="py-keyword">for</tt> <tt class="py-name">key</tt> <tt class="py-keyword">in</tt> <tt class="py-name">cdp</tt><tt class="py-op">.</tt><tt class="py-name">relax_times</tt><tt class="py-op">.</tt><tt class="py-name">keys</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L330"></a><tt class="py-lineno"> 330</tt>  <tt class="py-line">                        <tt class="py-keyword">if</tt> <tt class="py-name">cdp</tt><tt class="py-op">.</tt><tt class="py-name">relax_times</tt><tt class="py-op">[</tt><tt class="py-name">key</tt><tt class="py-op">]</tt> <tt class="py-op">==</tt> <tt class="py-name">min_time</tt><tt class="py-op">:</tt> </tt>
<a name="L331"></a><tt class="py-lineno"> 331</tt>  <tt class="py-line">                            <tt id="link-136" class="py-name" targets="Variable generic_fns.structure.api_base.Base_struct_API.id=generic_fns.structure.api_base.Base_struct_API-class.html#id,Variable generic_fns.structure.internal.Internal.id=generic_fns.structure.internal.Internal-class.html#id,Variable generic_fns.structure.scientific.Scientific_data.id=generic_fns.structure.scientific.Scientific_data-class.html#id"><a title="generic_fns.structure.api_base.Base_struct_API.id
generic_fns.structure.internal.Internal.id
generic_fns.structure.scientific.Scientific_data.id" class="py-name" href="#" onclick="return doclink('link-136', 'id', 'link-136');">id</a></tt> <tt class="py-op">=</tt> <tt class="py-name">key</tt> </tt>
<a name="L332"></a><tt class="py-lineno"> 332</tt>  <tt class="py-line">                            <tt class="py-keyword">break</tt> </tt>
<a name="L333"></a><tt class="py-lineno"> 333</tt>  <tt class="py-line"> </tt>
<a name="L334"></a><tt class="py-lineno"> 334</tt>  <tt class="py-line">                    <tt class="py-comment"># Defaults.</tt> </tt>
<a name="L335"></a><tt class="py-lineno"> 335</tt>  <tt class="py-line">                    <tt class="py-name">lower</tt><tt class="py-op">.</tt><tt id="link-137" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-137', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-number">0.0</tt><tt class="py-op">)</tt> </tt>
<a name="L336"></a><tt class="py-lineno"> 336</tt>  <tt class="py-line">                    <tt class="py-name">upper</tt><tt class="py-op">.</tt><tt id="link-138" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-138', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-name">average</tt><tt class="py-op">(</tt><tt id="link-139" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-139', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">intensities</tt><tt class="py-op">[</tt><tt id="link-140" class="py-name"><a title="generic_fns.structure.api_base.Base_struct_API.id
generic_fns.structure.internal.Internal.id
generic_fns.structure.scientific.Scientific_data.id" class="py-name" href="#" onclick="return doclink('link-140', 'id', 'link-136');">id</a></tt><tt class="py-op">]</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L337"></a><tt class="py-lineno"> 337</tt>  <tt class="py-line"> </tt>
<a name="L338"></a><tt class="py-lineno"> 338</tt>  <tt class="py-line">        <tt class="py-comment"># Parameter scaling.</tt> </tt>
<a name="L339"></a><tt class="py-lineno"> 339</tt>  <tt class="py-line">        <tt class="py-keyword">for</tt> <tt id="link-141" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-141', 'i', 'link-55');">i</a></tt> <tt class="py-keyword">in</tt> <tt class="py-name">range</tt><tt class="py-op">(</tt><tt class="py-name">n</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L340"></a><tt class="py-lineno"> 340</tt>  <tt class="py-line">            <tt class="py-name">lower</tt><tt class="py-op">[</tt><tt id="link-142" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-142', 'i', 'link-55');">i</a></tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt class="py-name">lower</tt><tt class="py-op">[</tt><tt id="link-143" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-143', 'i', 'link-55');">i</a></tt><tt class="py-op">]</tt> <tt class="py-op">/</tt> <tt class="py-name">scaling_matrix</tt><tt class="py-op">[</tt><tt id="link-144" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-144', 'i', 'link-55');">i</a></tt><tt class="py-op">,</tt> <tt id="link-145" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-145', 'i', 'link-55');">i</a></tt><tt class="py-op">]</tt> </tt>
<a name="L341"></a><tt class="py-lineno"> 341</tt>  <tt class="py-line">            <tt class="py-name">upper</tt><tt class="py-op">[</tt><tt id="link-146" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-146', 'i', 'link-55');">i</a></tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt class="py-name">upper</tt><tt class="py-op">[</tt><tt id="link-147" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-147', 'i', 'link-55');">i</a></tt><tt class="py-op">]</tt> <tt class="py-op">/</tt> <tt class="py-name">scaling_matrix</tt><tt class="py-op">[</tt><tt id="link-148" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-148', 'i', 'link-55');">i</a></tt><tt class="py-op">,</tt> <tt id="link-149" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-149', 'i', 'link-55');">i</a></tt><tt class="py-op">]</tt> </tt>
<a name="L342"></a><tt class="py-lineno"> 342</tt>  <tt class="py-line"> </tt>
<a name="L343"></a><tt class="py-lineno"> 343</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt class="py-name">inc</tt><tt class="py-op">,</tt> <tt class="py-name">lower</tt><tt class="py-op">,</tt> <tt class="py-name">upper</tt> </tt>
</div><a name="L344"></a><tt class="py-lineno"> 344</tt>  <tt class="py-line"> </tt>
<a name="L345"></a><tt class="py-lineno"> 345</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit._linear_constraints"></a><div id="Relax_fit._linear_constraints-def"><a name="L346"></a><tt class="py-lineno"> 346</tt> <a class="py-toggle" href="#" id="Relax_fit._linear_constraints-toggle" onclick="return toggle('Relax_fit._linear_constraints');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#_linear_constraints">_linear_constraints</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">spin</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">,</tt> <tt class="py-param">scaling_matrix</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit._linear_constraints-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit._linear_constraints-expanded"><a name="L347"></a><tt class="py-lineno"> 347</tt>  <tt class="py-line">        <tt class="py-docstring">"""Set up the relaxation curve fitting linear constraint matrices A and b.</tt> </tt>
<a name="L348"></a><tt class="py-lineno"> 348</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L349"></a><tt class="py-lineno"> 349</tt>  <tt class="py-line"><tt class="py-docstring">        Standard notation</tt> </tt>
<a name="L350"></a><tt class="py-lineno"> 350</tt>  <tt class="py-line"><tt class="py-docstring">        =================</tt> </tt>
<a name="L351"></a><tt class="py-lineno"> 351</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L352"></a><tt class="py-lineno"> 352</tt>  <tt class="py-line"><tt class="py-docstring">        The relaxation rate constraints are::</tt> </tt>
<a name="L353"></a><tt class="py-lineno"> 353</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L354"></a><tt class="py-lineno"> 354</tt>  <tt class="py-line"><tt class="py-docstring">            Rx &gt;= 0</tt> </tt>
<a name="L355"></a><tt class="py-lineno"> 355</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L356"></a><tt class="py-lineno"> 356</tt>  <tt class="py-line"><tt class="py-docstring">        The intensity constraints are::</tt> </tt>
<a name="L357"></a><tt class="py-lineno"> 357</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L358"></a><tt class="py-lineno"> 358</tt>  <tt class="py-line"><tt class="py-docstring">            I0 &gt;= 0</tt> </tt>
<a name="L359"></a><tt class="py-lineno"> 359</tt>  <tt class="py-line"><tt class="py-docstring">            Iinf &gt;= 0</tt> </tt>
<a name="L360"></a><tt class="py-lineno"> 360</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L361"></a><tt class="py-lineno"> 361</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L362"></a><tt class="py-lineno"> 362</tt>  <tt class="py-line"><tt class="py-docstring">        Matrix notation</tt> </tt>
<a name="L363"></a><tt class="py-lineno"> 363</tt>  <tt class="py-line"><tt class="py-docstring">        ===============</tt> </tt>
<a name="L364"></a><tt class="py-lineno"> 364</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L365"></a><tt class="py-lineno"> 365</tt>  <tt class="py-line"><tt class="py-docstring">        In the notation A.x &gt;= b, where A is an matrix of coefficients, x is an array of parameter</tt> </tt>
<a name="L366"></a><tt class="py-lineno"> 366</tt>  <tt class="py-line"><tt class="py-docstring">        values, and b is a vector of scalars, these inequality constraints are::</tt> </tt>
<a name="L367"></a><tt class="py-lineno"> 367</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L368"></a><tt class="py-lineno"> 368</tt>  <tt class="py-line"><tt class="py-docstring">            | 1  0  0 |     |  Rx  |      |    0    |</tt> </tt>
<a name="L369"></a><tt class="py-lineno"> 369</tt>  <tt class="py-line"><tt class="py-docstring">            |         |     |      |      |         |</tt> </tt>
<a name="L370"></a><tt class="py-lineno"> 370</tt>  <tt class="py-line"><tt class="py-docstring">            | 1  0  0 |  .  |  I0  |  &gt;=  |    0    |</tt> </tt>
<a name="L371"></a><tt class="py-lineno"> 371</tt>  <tt class="py-line"><tt class="py-docstring">            |         |     |      |      |         |</tt> </tt>
<a name="L372"></a><tt class="py-lineno"> 372</tt>  <tt class="py-line"><tt class="py-docstring">            | 1  0  0 |     | Iinf |      |    0    |</tt> </tt>
<a name="L373"></a><tt class="py-lineno"> 373</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L374"></a><tt class="py-lineno"> 374</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L375"></a><tt class="py-lineno"> 375</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword spin:              The spin data container.</tt> </tt>
<a name="L376"></a><tt class="py-lineno"> 376</tt>  <tt class="py-line"><tt class="py-docstring">        @type spin:                 SpinContainer instance</tt> </tt>
<a name="L377"></a><tt class="py-lineno"> 377</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword scaling_matrix:    The diagonal, square scaling matrix.</tt> </tt>
<a name="L378"></a><tt class="py-lineno"> 378</tt>  <tt class="py-line"><tt class="py-docstring">        @type scaling_matrix:       numpy diagonal matrix</tt> </tt>
<a name="L379"></a><tt class="py-lineno"> 379</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L380"></a><tt class="py-lineno"> 380</tt>  <tt class="py-line"> </tt>
<a name="L381"></a><tt class="py-lineno"> 381</tt>  <tt class="py-line">        <tt class="py-comment"># Initialisation (0..j..m).</tt> </tt>
<a name="L382"></a><tt class="py-lineno"> 382</tt>  <tt class="py-line">        <tt class="py-name">A</tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-op">]</tt> </tt>
<a name="L383"></a><tt class="py-lineno"> 383</tt>  <tt class="py-line">        <tt class="py-name">b</tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-op">]</tt> </tt>
<a name="L384"></a><tt class="py-lineno"> 384</tt>  <tt class="py-line">        <tt class="py-name">n</tt> <tt class="py-op">=</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt id="link-150" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-150', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">params</tt><tt class="py-op">)</tt> </tt>
<a name="L385"></a><tt class="py-lineno"> 385</tt>  <tt class="py-line">        <tt class="py-name">zero_array</tt> <tt class="py-op">=</tt> <tt class="py-name">zeros</tt><tt class="py-op">(</tt><tt class="py-name">n</tt><tt class="py-op">,</tt> <tt class="py-name">float64</tt><tt class="py-op">)</tt> </tt>
<a name="L386"></a><tt class="py-lineno"> 386</tt>  <tt class="py-line">        <tt id="link-151" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-151', 'i', 'link-55');">i</a></tt> <tt class="py-op">=</tt> <tt class="py-number">0</tt> </tt>
<a name="L387"></a><tt class="py-lineno"> 387</tt>  <tt class="py-line">        <tt class="py-name">j</tt> <tt class="py-op">=</tt> <tt class="py-number">0</tt> </tt>
<a name="L388"></a><tt class="py-lineno"> 388</tt>  <tt class="py-line"> </tt>
<a name="L389"></a><tt class="py-lineno"> 389</tt>  <tt class="py-line">        <tt class="py-comment"># Loop over the parameters.</tt> </tt>
<a name="L390"></a><tt class="py-lineno"> 390</tt>  <tt class="py-line">        <tt class="py-keyword">for</tt> <tt class="py-name">k</tt> <tt class="py-keyword">in</tt> <tt class="py-name">xrange</tt><tt class="py-op">(</tt><tt class="py-name">len</tt><tt class="py-op">(</tt><tt id="link-152" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-152', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">params</tt><tt class="py-op">)</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L391"></a><tt class="py-lineno"> 391</tt>  <tt class="py-line">            <tt class="py-comment"># Relaxation rate.</tt> </tt>
<a name="L392"></a><tt class="py-lineno"> 392</tt>  <tt class="py-line">            <tt class="py-keyword">if</tt> <tt id="link-153" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-153', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">params</tt><tt class="py-op">[</tt><tt class="py-name">k</tt><tt class="py-op">]</tt> <tt class="py-op">==</tt> <tt class="py-string">'Rx'</tt><tt class="py-op">:</tt> </tt>
<a name="L393"></a><tt class="py-lineno"> 393</tt>  <tt class="py-line">                <tt class="py-comment"># Rx &gt;= 0.</tt> </tt>
<a name="L394"></a><tt class="py-lineno"> 394</tt>  <tt class="py-line">                <tt class="py-name">A</tt><tt class="py-op">.</tt><tt id="link-154" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-154', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-name">zero_array</tt> <tt class="py-op">*</tt> <tt class="py-number">0.0</tt><tt class="py-op">)</tt> </tt>
<a name="L395"></a><tt class="py-lineno"> 395</tt>  <tt class="py-line">                <tt class="py-name">A</tt><tt class="py-op">[</tt><tt class="py-name">j</tt><tt class="py-op">]</tt><tt class="py-op">[</tt><tt id="link-155" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-155', 'i', 'link-55');">i</a></tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt class="py-number">1.0</tt> </tt>
<a name="L396"></a><tt class="py-lineno"> 396</tt>  <tt class="py-line">                <tt class="py-name">b</tt><tt class="py-op">.</tt><tt id="link-156" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-156', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-number">0.0</tt><tt class="py-op">)</tt> </tt>
<a name="L397"></a><tt class="py-lineno"> 397</tt>  <tt class="py-line">                <tt class="py-name">j</tt> <tt class="py-op">=</tt> <tt class="py-name">j</tt> <tt class="py-op">+</tt> <tt class="py-number">1</tt> </tt>
<a name="L398"></a><tt class="py-lineno"> 398</tt>  <tt class="py-line"> </tt>
<a name="L399"></a><tt class="py-lineno"> 399</tt>  <tt class="py-line">            <tt class="py-comment"># Intensity parameter.</tt> </tt>
<a name="L400"></a><tt class="py-lineno"> 400</tt>  <tt class="py-line">            <tt class="py-keyword">elif</tt> <tt id="link-157" class="py-name"><a title="generic_fns.relax_re.search" class="py-name" href="#" onclick="return doclink('link-157', 'search', 'link-6');">search</a></tt><tt class="py-op">(</tt><tt class="py-string">'^I'</tt><tt class="py-op">,</tt> <tt id="link-158" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-158', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">params</tt><tt class="py-op">[</tt><tt class="py-name">k</tt><tt class="py-op">]</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L401"></a><tt class="py-lineno"> 401</tt>  <tt class="py-line">                <tt class="py-comment"># I0, Iinf &gt;= 0.</tt> </tt>
<a name="L402"></a><tt class="py-lineno"> 402</tt>  <tt class="py-line">                <tt class="py-name">A</tt><tt class="py-op">.</tt><tt id="link-159" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-159', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-name">zero_array</tt> <tt class="py-op">*</tt> <tt class="py-number">0.0</tt><tt class="py-op">)</tt> </tt>
<a name="L403"></a><tt class="py-lineno"> 403</tt>  <tt class="py-line">                <tt class="py-name">A</tt><tt class="py-op">[</tt><tt class="py-name">j</tt><tt class="py-op">]</tt><tt class="py-op">[</tt><tt id="link-160" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-160', 'i', 'link-55');">i</a></tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt class="py-number">1.0</tt> </tt>
<a name="L404"></a><tt class="py-lineno"> 404</tt>  <tt class="py-line">                <tt class="py-name">b</tt><tt class="py-op">.</tt><tt id="link-161" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-161', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-number">0.0</tt><tt class="py-op">)</tt> </tt>
<a name="L405"></a><tt class="py-lineno"> 405</tt>  <tt class="py-line">                <tt class="py-name">j</tt> <tt class="py-op">=</tt> <tt class="py-name">j</tt> <tt class="py-op">+</tt> <tt class="py-number">1</tt> </tt>
<a name="L406"></a><tt class="py-lineno"> 406</tt>  <tt class="py-line"> </tt>
<a name="L407"></a><tt class="py-lineno"> 407</tt>  <tt class="py-line">            <tt class="py-comment"># Increment i.</tt> </tt>
<a name="L408"></a><tt class="py-lineno"> 408</tt>  <tt class="py-line">            <tt id="link-162" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-162', 'i', 'link-55');">i</a></tt> <tt class="py-op">=</tt> <tt id="link-163" class="py-name"><a title="prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-163', 'i', 'link-55');">i</a></tt> <tt class="py-op">+</tt> <tt class="py-number">1</tt> </tt>
<a name="L409"></a><tt class="py-lineno"> 409</tt>  <tt class="py-line"> </tt>
<a name="L410"></a><tt class="py-lineno"> 410</tt>  <tt class="py-line">        <tt class="py-comment"># Convert to numpy data structures.</tt> </tt>
<a name="L411"></a><tt class="py-lineno"> 411</tt>  <tt class="py-line">        <tt class="py-name">A</tt> <tt class="py-op">=</tt> <tt class="py-name">array</tt><tt class="py-op">(</tt><tt class="py-name">A</tt><tt class="py-op">,</tt> <tt class="py-name">float64</tt><tt class="py-op">)</tt> </tt>
<a name="L412"></a><tt class="py-lineno"> 412</tt>  <tt class="py-line">        <tt class="py-name">b</tt> <tt class="py-op">=</tt> <tt class="py-name">array</tt><tt class="py-op">(</tt><tt class="py-name">b</tt><tt class="py-op">,</tt> <tt class="py-name">float64</tt><tt class="py-op">)</tt> </tt>
<a name="L413"></a><tt class="py-lineno"> 413</tt>  <tt class="py-line"> </tt>
<a name="L414"></a><tt class="py-lineno"> 414</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt class="py-name">A</tt><tt class="py-op">,</tt> <tt class="py-name">b</tt> </tt>
</div><a name="L415"></a><tt class="py-lineno"> 415</tt>  <tt class="py-line"> </tt>
<a name="L416"></a><tt class="py-lineno"> 416</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit._model_setup"></a><div id="Relax_fit._model_setup-def"><a name="L417"></a><tt class="py-lineno"> 417</tt> <a class="py-toggle" href="#" id="Relax_fit._model_setup-toggle" onclick="return toggle('Relax_fit._model_setup');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#_model_setup">_model_setup</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">model</tt><tt class="py-op">,</tt> <tt class="py-param">params</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit._model_setup-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit._model_setup-expanded"><a name="L418"></a><tt class="py-lineno"> 418</tt>  <tt class="py-line">        <tt class="py-docstring">"""Update various model specific data structures.</tt> </tt>
<a name="L419"></a><tt class="py-lineno"> 419</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L420"></a><tt class="py-lineno"> 420</tt>  <tt class="py-line"><tt class="py-docstring">        @param model:   The exponential curve type.</tt> </tt>
<a name="L421"></a><tt class="py-lineno"> 421</tt>  <tt class="py-line"><tt class="py-docstring">        @type model:    str</tt> </tt>
<a name="L422"></a><tt class="py-lineno"> 422</tt>  <tt class="py-line"><tt class="py-docstring">        @param params:  A list consisting of the model parameters.</tt> </tt>
<a name="L423"></a><tt class="py-lineno"> 423</tt>  <tt class="py-line"><tt class="py-docstring">        @type params:   list of str</tt> </tt>
<a name="L424"></a><tt class="py-lineno"> 424</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L425"></a><tt class="py-lineno"> 425</tt>  <tt class="py-line"> </tt>
<a name="L426"></a><tt class="py-lineno"> 426</tt>  <tt class="py-line">        <tt class="py-comment"># Set the model.</tt> </tt>
<a name="L427"></a><tt class="py-lineno"> 427</tt>  <tt class="py-line">        <tt class="py-name">cdp</tt><tt class="py-op">.</tt><tt class="py-name">curve_type</tt> <tt class="py-op">=</tt> <tt class="py-name">model</tt> </tt>
<a name="L428"></a><tt class="py-lineno"> 428</tt>  <tt class="py-line"> </tt>
<a name="L429"></a><tt class="py-lineno"> 429</tt>  <tt class="py-line">        <tt class="py-comment"># Loop over the sequence.</tt> </tt>
<a name="L430"></a><tt class="py-lineno"> 430</tt>  <tt class="py-line">        <tt class="py-keyword">for</tt> <tt id="link-164" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-164', 'spin', 'link-56');">spin</a></tt> <tt class="py-keyword">in</tt> <tt id="link-165" class="py-name"><a title="generic_fns.mol_res_spin.spin_loop" class="py-name" href="#" onclick="return doclink('link-165', 'spin_loop', 'link-20');">spin_loop</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L431"></a><tt class="py-lineno"> 431</tt>  <tt class="py-line">            <tt class="py-comment"># Skip deselected spins.</tt> </tt>
<a name="L432"></a><tt class="py-lineno"> 432</tt>  <tt class="py-line">            <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt id="link-166" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-166', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt id="link-167" class="py-name" targets="Function generic_fns.model_selection.select()=generic_fns.model_selection-module.html#select,Method gui.user_functions.base.File_selector.select()=gui.user_functions.base.File_selector-class.html#select,Module prompt.select=prompt.select-module.html"><a title="generic_fns.model_selection.select
gui.user_functions.base.File_selector.select
prompt.select" class="py-name" href="#" onclick="return doclink('link-167', 'select', 'link-167');">select</a></tt><tt class="py-op">:</tt> </tt>
<a name="L433"></a><tt class="py-lineno"> 433</tt>  <tt class="py-line">                <tt class="py-keyword">continue</tt> </tt>
<a name="L434"></a><tt class="py-lineno"> 434</tt>  <tt class="py-line"> </tt>
<a name="L435"></a><tt class="py-lineno"> 435</tt>  <tt class="py-line">            <tt class="py-comment"># Initialise the data structures (if needed).</tt> </tt>
<a name="L436"></a><tt class="py-lineno"> 436</tt>  <tt class="py-line">            <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-168" class="py-name" targets="Method specific_fns.api_base.API_base.data_init()=specific_fns.api_base.API_base-class.html#data_init,Method specific_fns.consistency_tests.Consistency_tests.data_init()=specific_fns.consistency_tests.Consistency_tests-class.html#data_init,Method specific_fns.jw_mapping.Jw_mapping.data_init()=specific_fns.jw_mapping.Jw_mapping-class.html#data_init,Method specific_fns.model_free.main.Model_free_main.data_init()=specific_fns.model_free.main.Model_free_main-class.html#data_init,Method specific_fns.relax_fit.Relax_fit.data_init()=specific_fns.relax_fit.Relax_fit-class.html#data_init"><a title="specific_fns.api_base.API_base.data_init
specific_fns.consistency_tests.Consistency_tests.data_init
specific_fns.jw_mapping.Jw_mapping.data_init
specific_fns.model_free.main.Model_free_main.data_init
specific_fns.relax_fit.Relax_fit.data_init" class="py-name" href="#" onclick="return doclink('link-168', 'data_init', 'link-168');">data_init</a></tt><tt class="py-op">(</tt><tt id="link-169" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-169', 'spin', 'link-56');">spin</a></tt><tt class="py-op">)</tt> </tt>
<a name="L437"></a><tt class="py-lineno"> 437</tt>  <tt class="py-line"> </tt>
<a name="L438"></a><tt class="py-lineno"> 438</tt>  <tt class="py-line">            <tt class="py-comment"># The model and parameter names.</tt> </tt>
<a name="L439"></a><tt class="py-lineno"> 439</tt>  <tt class="py-line">            <tt id="link-170" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-170', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">model</tt> <tt class="py-op">=</tt> <tt class="py-name">model</tt> </tt>
<a name="L440"></a><tt class="py-lineno"> 440</tt>  <tt class="py-line">            <tt id="link-171" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-171', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">params</tt> <tt class="py-op">=</tt> <tt class="py-name">params</tt> </tt>
</div><a name="L441"></a><tt class="py-lineno"> 441</tt>  <tt class="py-line"> </tt>
<a name="L442"></a><tt class="py-lineno"> 442</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit._relax_time"></a><div id="Relax_fit._relax_time-def"><a name="L443"></a><tt class="py-lineno"> 443</tt> <a class="py-toggle" href="#" id="Relax_fit._relax_time-toggle" onclick="return toggle('Relax_fit._relax_time');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#_relax_time">_relax_time</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">time</tt><tt class="py-op">=</tt><tt class="py-number">0.0</tt><tt class="py-op">,</tt> <tt class="py-param">spectrum_id</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit._relax_time-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit._relax_time-expanded"><a name="L444"></a><tt class="py-lineno"> 444</tt>  <tt class="py-line">        <tt class="py-docstring">"""Set the relaxation time period associated with a given spectrum.</tt> </tt>
<a name="L445"></a><tt class="py-lineno"> 445</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L446"></a><tt class="py-lineno"> 446</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword time:          The time, in seconds, of the relaxation period.</tt> </tt>
<a name="L447"></a><tt class="py-lineno"> 447</tt>  <tt class="py-line"><tt class="py-docstring">        @type time:             float</tt> </tt>
<a name="L448"></a><tt class="py-lineno"> 448</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword spectrum_id:   The spectrum identification string.</tt> </tt>
<a name="L449"></a><tt class="py-lineno"> 449</tt>  <tt class="py-line"><tt class="py-docstring">        @type spectrum_id:      str</tt> </tt>
<a name="L450"></a><tt class="py-lineno"> 450</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L451"></a><tt class="py-lineno"> 451</tt>  <tt class="py-line"> </tt>
<a name="L452"></a><tt class="py-lineno"> 452</tt>  <tt class="py-line">        <tt class="py-comment"># Test if the spectrum id exists.</tt> </tt>
<a name="L453"></a><tt class="py-lineno"> 453</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">spectrum_id</tt> <tt class="py-keyword">not</tt> <tt class="py-keyword">in</tt> <tt class="py-name">cdp</tt><tt class="py-op">.</tt><tt class="py-name">spectrum_ids</tt><tt class="py-op">:</tt> </tt>
<a name="L454"></a><tt class="py-lineno"> 454</tt>  <tt class="py-line">            <tt class="py-keyword">raise</tt> <tt id="link-172" class="py-name"><a title="relax_errors.RelaxError" class="py-name" href="#" onclick="return doclink('link-172', 'RelaxError', 'link-22');">RelaxError</a></tt><tt class="py-op">(</tt><tt class="py-string">"The peak heights corresponding to spectrum id '%s' have not been loaded."</tt> <tt class="py-op">%</tt> <tt class="py-name">spectrum_id</tt><tt class="py-op">)</tt> </tt>
<a name="L455"></a><tt class="py-lineno"> 455</tt>  <tt class="py-line"> </tt>
<a name="L456"></a><tt class="py-lineno"> 456</tt>  <tt class="py-line">        <tt class="py-comment"># Initialise the global relaxation time data structure if needed.</tt> </tt>
<a name="L457"></a><tt class="py-lineno"> 457</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt class="py-name">hasattr</tt><tt class="py-op">(</tt><tt class="py-name">cdp</tt><tt class="py-op">,</tt> <tt class="py-string">'relax_times'</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L458"></a><tt class="py-lineno"> 458</tt>  <tt class="py-line">            <tt class="py-name">cdp</tt><tt class="py-op">.</tt><tt class="py-name">relax_times</tt> <tt class="py-op">=</tt> <tt class="py-op">{</tt><tt class="py-op">}</tt> </tt>
<a name="L459"></a><tt class="py-lineno"> 459</tt>  <tt class="py-line"> </tt>
<a name="L460"></a><tt class="py-lineno"> 460</tt>  <tt class="py-line">        <tt class="py-comment"># Add the time at the correct position.</tt> </tt>
<a name="L461"></a><tt class="py-lineno"> 461</tt>  <tt class="py-line">        <tt class="py-name">cdp</tt><tt class="py-op">.</tt><tt class="py-name">relax_times</tt><tt class="py-op">[</tt><tt class="py-name">spectrum_id</tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt class="py-name">time</tt> </tt>
</div><a name="L462"></a><tt class="py-lineno"> 462</tt>  <tt class="py-line"> </tt>
<a name="L463"></a><tt class="py-lineno"> 463</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit._select_model"></a><div id="Relax_fit._select_model-def"><a name="L464"></a><tt class="py-lineno"> 464</tt> <a class="py-toggle" href="#" id="Relax_fit._select_model-toggle" onclick="return toggle('Relax_fit._select_model');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#_select_model">_select_model</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">model</tt><tt class="py-op">=</tt><tt class="py-string">'exp'</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit._select_model-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit._select_model-expanded"><a name="L465"></a><tt class="py-lineno"> 465</tt>  <tt class="py-line">        <tt class="py-docstring">"""Function for selecting the model of the exponential curve.</tt> </tt>
<a name="L466"></a><tt class="py-lineno"> 466</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L467"></a><tt class="py-lineno"> 467</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword model: The exponential curve type.  Can be one of 'exp' or 'inv'.</tt> </tt>
<a name="L468"></a><tt class="py-lineno"> 468</tt>  <tt class="py-line"><tt class="py-docstring">        @type model:    str</tt> </tt>
<a name="L469"></a><tt class="py-lineno"> 469</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L470"></a><tt class="py-lineno"> 470</tt>  <tt class="py-line"> </tt>
<a name="L471"></a><tt class="py-lineno"> 471</tt>  <tt class="py-line">        <tt class="py-comment"># Test if the current pipe exists.</tt> </tt>
<a name="L472"></a><tt class="py-lineno"> 472</tt>  <tt class="py-line">        <tt id="link-173" class="py-name"><a title="generic_fns.pipes
gui.user_functions.pipes
test_suite.system_tests.pipes" class="py-name" href="#" onclick="return doclink('link-173', 'pipes', 'link-14');">pipes</a></tt><tt class="py-op">.</tt><tt id="link-174" class="py-name" targets="Method bmrblib.pystarlib.TextTest.AllChecks.test()=bmrblib.pystarlib.TextTest.AllChecks-class.html#test,Method bmrblib.pystarlib.UtilsTest.AllChecks.test()=bmrblib.pystarlib.UtilsTest.AllChecks-class.html#test,Function generic_fns.pipes.test()=generic_fns.pipes-module.html#test"><a title="bmrblib.pystarlib.TextTest.AllChecks.test
bmrblib.pystarlib.UtilsTest.AllChecks.test
generic_fns.pipes.test" class="py-name" href="#" onclick="return doclink('link-174', 'test', 'link-174');">test</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L473"></a><tt class="py-lineno"> 473</tt>  <tt class="py-line"> </tt>
<a name="L474"></a><tt class="py-lineno"> 474</tt>  <tt class="py-line">        <tt class="py-comment"># Test if the pipe type is set to 'relax_fit'.</tt> </tt>
<a name="L475"></a><tt class="py-lineno"> 475</tt>  <tt class="py-line">        <tt class="py-name">function_type</tt> <tt class="py-op">=</tt> <tt class="py-name">cdp</tt><tt class="py-op">.</tt><tt class="py-name">pipe_type</tt> </tt>
<a name="L476"></a><tt class="py-lineno"> 476</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">function_type</tt> <tt class="py-op">!=</tt> <tt class="py-string">'relax_fit'</tt><tt class="py-op">:</tt> </tt>
<a name="L477"></a><tt class="py-lineno"> 477</tt>  <tt class="py-line">            <tt class="py-keyword">raise</tt> <tt id="link-175" class="py-name"><a title="relax_errors.RelaxFuncSetupError" class="py-name" href="#" onclick="return doclink('link-175', 'RelaxFuncSetupError', 'link-23');">RelaxFuncSetupError</a></tt><tt class="py-op">(</tt><tt class="py-name">specific_setup</tt><tt class="py-op">.</tt><tt id="link-176" class="py-name" targets="Function specific_fns.setup.get_string()=specific_fns.setup-module.html#get_string"><a title="specific_fns.setup.get_string" class="py-name" href="#" onclick="return doclink('link-176', 'get_string', 'link-176');">get_string</a></tt><tt class="py-op">(</tt><tt class="py-name">function_type</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L478"></a><tt class="py-lineno"> 478</tt>  <tt class="py-line"> </tt>
<a name="L479"></a><tt class="py-lineno"> 479</tt>  <tt class="py-line">        <tt class="py-comment"># Test if sequence data is loaded.</tt> </tt>
<a name="L480"></a><tt class="py-lineno"> 480</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt id="link-177" class="py-name"><a title="generic_fns.mol_res_spin.exists_mol_res_spin_data" class="py-name" href="#" onclick="return doclink('link-177', 'exists_mol_res_spin_data', 'link-17');">exists_mol_res_spin_data</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L481"></a><tt class="py-lineno"> 481</tt>  <tt class="py-line">            <tt class="py-keyword">raise</tt> <tt id="link-178" class="py-name"><a title="relax_errors.RelaxNoSequenceError" class="py-name" href="#" onclick="return doclink('link-178', 'RelaxNoSequenceError', 'link-26');">RelaxNoSequenceError</a></tt> </tt>
<a name="L482"></a><tt class="py-lineno"> 482</tt>  <tt class="py-line"> </tt>
<a name="L483"></a><tt class="py-lineno"> 483</tt>  <tt class="py-line">        <tt class="py-comment"># Two parameter exponential fit.</tt> </tt>
<a name="L484"></a><tt class="py-lineno"> 484</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">model</tt> <tt class="py-op">==</tt> <tt class="py-string">'exp'</tt><tt class="py-op">:</tt> </tt>
<a name="L485"></a><tt class="py-lineno"> 485</tt>  <tt class="py-line">            <tt class="py-keyword">print</tt><tt class="py-op">(</tt><tt class="py-string">"Two parameter exponential fit."</tt><tt class="py-op">)</tt> </tt>
<a name="L486"></a><tt class="py-lineno"> 486</tt>  <tt class="py-line">            <tt class="py-name">params</tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-string">'Rx'</tt><tt class="py-op">,</tt> <tt class="py-string">'I0'</tt><tt class="py-op">]</tt> </tt>
<a name="L487"></a><tt class="py-lineno"> 487</tt>  <tt class="py-line"> </tt>
<a name="L488"></a><tt class="py-lineno"> 488</tt>  <tt class="py-line">        <tt class="py-comment"># Three parameter inversion recovery fit.</tt> </tt>
<a name="L489"></a><tt class="py-lineno"> 489</tt>  <tt class="py-line">        <tt class="py-keyword">elif</tt> <tt class="py-name">model</tt> <tt class="py-op">==</tt> <tt class="py-string">'inv'</tt><tt class="py-op">:</tt> </tt>
<a name="L490"></a><tt class="py-lineno"> 490</tt>  <tt class="py-line">            <tt class="py-keyword">print</tt><tt class="py-op">(</tt><tt class="py-string">"Three parameter inversion recovery fit."</tt><tt class="py-op">)</tt> </tt>
<a name="L491"></a><tt class="py-lineno"> 491</tt>  <tt class="py-line">            <tt class="py-name">params</tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-string">'Rx'</tt><tt class="py-op">,</tt> <tt class="py-string">'I0'</tt><tt class="py-op">,</tt> <tt class="py-string">'Iinf'</tt><tt class="py-op">]</tt> </tt>
<a name="L492"></a><tt class="py-lineno"> 492</tt>  <tt class="py-line"> </tt>
<a name="L493"></a><tt class="py-lineno"> 493</tt>  <tt class="py-line">        <tt class="py-comment"># Invalid model.</tt> </tt>
<a name="L494"></a><tt class="py-lineno"> 494</tt>  <tt class="py-line">        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L495"></a><tt class="py-lineno"> 495</tt>  <tt class="py-line">            <tt class="py-keyword">raise</tt> <tt id="link-179" class="py-name"><a title="relax_errors.RelaxError" class="py-name" href="#" onclick="return doclink('link-179', 'RelaxError', 'link-22');">RelaxError</a></tt><tt class="py-op">(</tt><tt class="py-string">"The model '"</tt> <tt class="py-op">+</tt> <tt class="py-name">model</tt> <tt class="py-op">+</tt> <tt class="py-string">"' is invalid."</tt><tt class="py-op">)</tt> </tt>
<a name="L496"></a><tt class="py-lineno"> 496</tt>  <tt class="py-line"> </tt>
<a name="L497"></a><tt class="py-lineno"> 497</tt>  <tt class="py-line">        <tt class="py-comment"># Set up the model.</tt> </tt>
<a name="L498"></a><tt class="py-lineno"> 498</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-180" class="py-name" targets="Method specific_fns.model_free.main.Model_free_main._model_setup()=specific_fns.model_free.main.Model_free_main-class.html#_model_setup,Method specific_fns.relax_fit.Relax_fit._model_setup()=specific_fns.relax_fit.Relax_fit-class.html#_model_setup"><a title="specific_fns.model_free.main.Model_free_main._model_setup
specific_fns.relax_fit.Relax_fit._model_setup" class="py-name" href="#" onclick="return doclink('link-180', '_model_setup', 'link-180');">_model_setup</a></tt><tt class="py-op">(</tt><tt class="py-name">model</tt><tt class="py-op">,</tt> <tt class="py-name">params</tt><tt class="py-op">)</tt> </tt>
</div><a name="L499"></a><tt class="py-lineno"> 499</tt>  <tt class="py-line"> </tt>
<a name="L500"></a><tt class="py-lineno"> 500</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit.create_mc_data"></a><div id="Relax_fit.create_mc_data-def"><a name="L501"></a><tt class="py-lineno"> 501</tt> <a class="py-toggle" href="#" id="Relax_fit.create_mc_data-toggle" onclick="return toggle('Relax_fit.create_mc_data');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#create_mc_data">create_mc_data</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">data_id</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit.create_mc_data-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit.create_mc_data-expanded"><a name="L502"></a><tt class="py-lineno"> 502</tt>  <tt class="py-line">        <tt class="py-docstring">"""Create the Monte Carlo peak intensity data.</tt> </tt>
<a name="L503"></a><tt class="py-lineno"> 503</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L504"></a><tt class="py-lineno"> 504</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword data_id:   The spin identification string, as yielded by the base_data_loop() generator method.</tt> </tt>
<a name="L505"></a><tt class="py-lineno"> 505</tt>  <tt class="py-line"><tt class="py-docstring">        @type data_id:      str</tt> </tt>
<a name="L506"></a><tt class="py-lineno"> 506</tt>  <tt class="py-line"><tt class="py-docstring">        @return:            The Monte Carlo simulation data.</tt> </tt>
<a name="L507"></a><tt class="py-lineno"> 507</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:             list of floats</tt> </tt>
<a name="L508"></a><tt class="py-lineno"> 508</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L509"></a><tt class="py-lineno"> 509</tt>  <tt class="py-line"> </tt>
<a name="L510"></a><tt class="py-lineno"> 510</tt>  <tt class="py-line">        <tt class="py-comment"># Initialise the MC data data structure.</tt> </tt>
<a name="L511"></a><tt class="py-lineno"> 511</tt>  <tt class="py-line">        <tt class="py-name">mc_data</tt> <tt class="py-op">=</tt> <tt class="py-op">{</tt><tt class="py-op">}</tt> </tt>
<a name="L512"></a><tt class="py-lineno"> 512</tt>  <tt class="py-line"> </tt>
<a name="L513"></a><tt class="py-lineno"> 513</tt>  <tt class="py-line">        <tt class="py-comment"># Get the spin container.</tt> </tt>
<a name="L514"></a><tt class="py-lineno"> 514</tt>  <tt class="py-line">        <tt id="link-181" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-181', 'spin', 'link-56');">spin</a></tt> <tt class="py-op">=</tt> <tt id="link-182" class="py-name"><a title="generic_fns.mol_res_spin.return_spin" class="py-name" href="#" onclick="return doclink('link-182', 'return_spin', 'link-19');">return_spin</a></tt><tt class="py-op">(</tt><tt class="py-name">data_id</tt><tt class="py-op">)</tt> </tt>
<a name="L515"></a><tt class="py-lineno"> 515</tt>  <tt class="py-line"> </tt>
<a name="L516"></a><tt class="py-lineno"> 516</tt>  <tt class="py-line">        <tt class="py-comment"># Skip deselected spins.</tt> </tt>
<a name="L517"></a><tt class="py-lineno"> 517</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt id="link-183" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-183', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt id="link-184" class="py-name"><a title="generic_fns.model_selection.select
gui.user_functions.base.File_selector.select
prompt.select" class="py-name" href="#" onclick="return doclink('link-184', 'select', 'link-167');">select</a></tt><tt class="py-op">:</tt> </tt>
<a name="L518"></a><tt class="py-lineno"> 518</tt>  <tt class="py-line">            <tt class="py-keyword">return</tt> </tt>
<a name="L519"></a><tt class="py-lineno"> 519</tt>  <tt class="py-line"> </tt>
<a name="L520"></a><tt class="py-lineno"> 520</tt>  <tt class="py-line">        <tt class="py-comment"># Skip spins which have no data.</tt> </tt>
<a name="L521"></a><tt class="py-lineno"> 521</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt class="py-name">hasattr</tt><tt class="py-op">(</tt><tt id="link-185" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-185', 'spin', 'link-56');">spin</a></tt><tt class="py-op">,</tt> <tt class="py-string">'intensities'</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L522"></a><tt class="py-lineno"> 522</tt>  <tt class="py-line">            <tt class="py-keyword">return</tt> </tt>
<a name="L523"></a><tt class="py-lineno"> 523</tt>  <tt class="py-line"> </tt>
<a name="L524"></a><tt class="py-lineno"> 524</tt>  <tt class="py-line">        <tt class="py-comment"># Test if the model is set.</tt> </tt>
<a name="L525"></a><tt class="py-lineno"> 525</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt class="py-name">hasattr</tt><tt class="py-op">(</tt><tt id="link-186" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-186', 'spin', 'link-56');">spin</a></tt><tt class="py-op">,</tt> <tt class="py-string">'model'</tt><tt class="py-op">)</tt> <tt class="py-keyword">or</tt> <tt class="py-keyword">not</tt> <tt id="link-187" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-187', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">model</tt><tt class="py-op">:</tt> </tt>
<a name="L526"></a><tt class="py-lineno"> 526</tt>  <tt class="py-line">            <tt class="py-keyword">raise</tt> <tt id="link-188" class="py-name"><a title="relax_errors.RelaxNoModelError" class="py-name" href="#" onclick="return doclink('link-188', 'RelaxNoModelError', 'link-25');">RelaxNoModelError</a></tt> </tt>
<a name="L527"></a><tt class="py-lineno"> 527</tt>  <tt class="py-line"> </tt>
<a name="L528"></a><tt class="py-lineno"> 528</tt>  <tt class="py-line">        <tt class="py-comment"># Loop over the spectral time points.</tt> </tt>
<a name="L529"></a><tt class="py-lineno"> 529</tt>  <tt class="py-line">        <tt class="py-keyword">for</tt> <tt id="link-189" class="py-name"><a title="generic_fns.structure.api_base.Base_struct_API.id
generic_fns.structure.internal.Internal.id
generic_fns.structure.scientific.Scientific_data.id" class="py-name" href="#" onclick="return doclink('link-189', 'id', 'link-136');">id</a></tt> <tt class="py-keyword">in</tt> <tt class="py-name">cdp</tt><tt class="py-op">.</tt><tt class="py-name">relax_times</tt><tt class="py-op">.</tt><tt class="py-name">keys</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L530"></a><tt class="py-lineno"> 530</tt>  <tt class="py-line">            <tt class="py-comment"># Back calculate the value.</tt> </tt>
<a name="L531"></a><tt class="py-lineno"> 531</tt>  <tt class="py-line">            <tt id="link-190" class="py-name" targets="Module generic_fns.value=generic_fns.value-module.html,Module gui.user_functions.value=gui.user_functions.value-module.html,Module prompt.value=prompt.value-module.html"><a title="generic_fns.value
gui.user_functions.value
prompt.value" class="py-name" href="#" onclick="return doclink('link-190', 'value', 'link-190');">value</a></tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-191" class="py-name" targets="Method specific_fns.frame_order.Frame_order._back_calc()=specific_fns.frame_order.Frame_order-class.html#_back_calc,Method specific_fns.relax_fit.Relax_fit._back_calc()=specific_fns.relax_fit.Relax_fit-class.html#_back_calc"><a title="specific_fns.frame_order.Frame_order._back_calc
specific_fns.relax_fit.Relax_fit._back_calc" class="py-name" href="#" onclick="return doclink('link-191', '_back_calc', 'link-191');">_back_calc</a></tt><tt class="py-op">(</tt><tt id="link-192" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-192', 'spin', 'link-56');">spin</a></tt><tt class="py-op">=</tt><tt id="link-193" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-193', 'spin', 'link-56');">spin</a></tt><tt class="py-op">,</tt> <tt class="py-name">relax_time_id</tt><tt class="py-op">=</tt><tt id="link-194" class="py-name"><a title="generic_fns.structure.api_base.Base_struct_API.id
generic_fns.structure.internal.Internal.id
generic_fns.structure.scientific.Scientific_data.id" class="py-name" href="#" onclick="return doclink('link-194', 'id', 'link-136');">id</a></tt><tt class="py-op">)</tt> </tt>
<a name="L532"></a><tt class="py-lineno"> 532</tt>  <tt class="py-line"> </tt>
<a name="L533"></a><tt class="py-lineno"> 533</tt>  <tt class="py-line">            <tt class="py-comment"># Append the value.</tt> </tt>
<a name="L534"></a><tt class="py-lineno"> 534</tt>  <tt class="py-line">            <tt class="py-name">mc_data</tt><tt class="py-op">[</tt><tt id="link-195" class="py-name"><a title="generic_fns.structure.api_base.Base_struct_API.id
generic_fns.structure.internal.Internal.id
generic_fns.structure.scientific.Scientific_data.id" class="py-name" href="#" onclick="return doclink('link-195', 'id', 'link-136');">id</a></tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt id="link-196" class="py-name"><a title="generic_fns.value
gui.user_functions.value
prompt.value" class="py-name" href="#" onclick="return doclink('link-196', 'value', 'link-190');">value</a></tt> </tt>
<a name="L535"></a><tt class="py-lineno"> 535</tt>  <tt class="py-line"> </tt>
<a name="L536"></a><tt class="py-lineno"> 536</tt>  <tt class="py-line">        <tt class="py-comment"># Return the MC data.</tt> </tt>
<a name="L537"></a><tt class="py-lineno"> 537</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt class="py-name">mc_data</tt> </tt>
</div><a name="L538"></a><tt class="py-lineno"> 538</tt>  <tt class="py-line"> </tt>
<a name="L539"></a><tt class="py-lineno"> 539</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit.data_init"></a><div id="Relax_fit.data_init-def"><a name="L540"></a><tt class="py-lineno"> 540</tt> <a class="py-toggle" href="#" id="Relax_fit.data_init-toggle" onclick="return toggle('Relax_fit.data_init');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#data_init">data_init</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">data_cont</tt><tt class="py-op">,</tt> <tt class="py-param">sim</tt><tt class="py-op">=</tt><tt class="py-name">False</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit.data_init-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit.data_init-expanded"><a name="L541"></a><tt class="py-lineno"> 541</tt>  <tt class="py-line">        <tt class="py-docstring">"""Initialise the spin specific data structures.</tt> </tt>
<a name="L542"></a><tt class="py-lineno"> 542</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L543"></a><tt class="py-lineno"> 543</tt>  <tt class="py-line"><tt class="py-docstring">        @param data_cont:   The spin container.</tt> </tt>
<a name="L544"></a><tt class="py-lineno"> 544</tt>  <tt class="py-line"><tt class="py-docstring">        @type data_cont:    SpinContainer instance</tt> </tt>
<a name="L545"></a><tt class="py-lineno"> 545</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword sim:       The Monte Carlo simulation flag, which if true will initialise the simulation data structure.</tt> </tt>
<a name="L546"></a><tt class="py-lineno"> 546</tt>  <tt class="py-line"><tt class="py-docstring">        @type sim:          bool</tt> </tt>
<a name="L547"></a><tt class="py-lineno"> 547</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L548"></a><tt class="py-lineno"> 548</tt>  <tt class="py-line"> </tt>
<a name="L549"></a><tt class="py-lineno"> 549</tt>  <tt class="py-line">        <tt class="py-comment"># Loop over the data structure names.</tt> </tt>
<a name="L550"></a><tt class="py-lineno"> 550</tt>  <tt class="py-line">        <tt class="py-keyword">for</tt> <tt id="link-197" class="py-name" targets="Variable bmrblib.kinetics.auto_relaxation.AutoRelaxationSaveframe.name=bmrblib.kinetics.auto_relaxation.AutoRelaxationSaveframe-class.html#name,Variable bmrblib.kinetics.auto_relaxation_v3_1.AutoRelaxationSaveframe_v3_1.name=bmrblib.kinetics.auto_relaxation_v3_1.AutoRelaxationSaveframe_v3_1-class.html#name,Variable bmrblib.kinetics.heteronucl_NOEs_v2_1.HeteronuclNOESaveframe_v2_1.name=bmrblib.kinetics.heteronucl_NOEs_v2_1.HeteronuclNOESaveframe_v2_1-class.html#name,Variable bmrblib.kinetics.heteronucl_T1_relaxation_v2_1.HeteronuclT1Saveframe_v2_1.name=bmrblib.kinetics.heteronucl_T1_relaxation_v2_1.HeteronuclT1Saveframe_v2_1-class.html#name,Variable bmrblib.kinetics.heteronucl_T1_relaxation_v3_1.HeteronuclT1Saveframe_v3_1.name=bmrblib.kinetics.heteronucl_T1_relaxation_v3_1.HeteronuclT1Saveframe_v3_1-class.html#name,Variable bmrblib.kinetics.heteronucl_T2_relaxation_v2_1.HeteronuclT2Saveframe_v2_1.name=bmrblib.kinetics.heteronucl_T2_relaxation_v2_1.HeteronuclT2Saveframe_v2_1-class.html#name,Variable bmrblib.kinetics.heteronucl_T2_relaxation_v3_1.HeteronuclT2Saveframe_v3_1.name=bmrblib.kinetics.heteronucl_T2_relaxation_v3_1.HeteronuclT2Saveframe_v3_1-class.html#name,Method prompt.molecule.Molecule.name()=prompt.molecule.Molecule-class.html#name,Method prompt.residue.Residue.name()=prompt.residue.Residue-class.html#name,Method prompt.spin.Spin.name()=prompt.spin.Spin-class.html#name"><a title="bmrblib.kinetics.auto_relaxation.AutoRelaxationSaveframe.name
bmrblib.kinetics.auto_relaxation_v3_1.AutoRelaxationSaveframe_v3_1.name
bmrblib.kinetics.heteronucl_NOEs_v2_1.HeteronuclNOESaveframe_v2_1.name
bmrblib.kinetics.heteronucl_T1_relaxation_v2_1.HeteronuclT1Saveframe_v2_1.name
bmrblib.kinetics.heteronucl_T1_relaxation_v3_1.HeteronuclT1Saveframe_v3_1.name
bmrblib.kinetics.heteronucl_T2_relaxation_v2_1.HeteronuclT2Saveframe_v2_1.name
bmrblib.kinetics.heteronucl_T2_relaxation_v3_1.HeteronuclT2Saveframe_v3_1.name
prompt.molecule.Molecule.name
prompt.residue.Residue.name
prompt.spin.Spin.name" class="py-name" href="#" onclick="return doclink('link-197', 'name', 'link-197');">name</a></tt> <tt class="py-keyword">in</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-198" class="py-name" targets="Function generic_fns.align_tensor.data_names()=generic_fns.align_tensor-module.html#data_names,Function generic_fns.diffusion_tensor.data_names()=generic_fns.diffusion_tensor-module.html#data_names,Method specific_fns.api_base.API_base.data_names()=specific_fns.api_base.API_base-class.html#data_names,Method specific_fns.consistency_tests.Consistency_tests.data_names()=specific_fns.consistency_tests.Consistency_tests-class.html#data_names,Method specific_fns.frame_order.Frame_order.data_names()=specific_fns.frame_order.Frame_order-class.html#data_names,Method specific_fns.jw_mapping.Jw_mapping.data_names()=specific_fns.jw_mapping.Jw_mapping-class.html#data_names,Method specific_fns.model_free.main.Model_free_main.data_names()=specific_fns.model_free.main.Model_free_main-class.html#data_names,Method specific_fns.n_state_model.N_state_model.data_names()=specific_fns.n_state_model.N_state_model-class.html#data_names,Method specific_fns.relax_fit.Relax_fit.data_names()=specific_fns.relax_fit.Relax_fit-class.html#data_names"><a title="generic_fns.align_tensor.data_names
generic_fns.diffusion_tensor.data_names
specific_fns.api_base.API_base.data_names
specific_fns.consistency_tests.Consistency_tests.data_names
specific_fns.frame_order.Frame_order.data_names
specific_fns.jw_mapping.Jw_mapping.data_names
specific_fns.model_free.main.Model_free_main.data_names
specific_fns.n_state_model.N_state_model.data_names
specific_fns.relax_fit.Relax_fit.data_names" class="py-name" href="#" onclick="return doclink('link-198', 'data_names', 'link-198');">data_names</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L551"></a><tt class="py-lineno"> 551</tt>  <tt class="py-line">            <tt class="py-comment"># Data structures which are initially empty arrays.</tt> </tt>
<a name="L552"></a><tt class="py-lineno"> 552</tt>  <tt class="py-line">            <tt class="py-name">list_data</tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt> <tt class="py-string">'params'</tt> <tt class="py-op">]</tt> </tt>
<a name="L553"></a><tt class="py-lineno"> 553</tt>  <tt class="py-line">            <tt class="py-keyword">if</tt> <tt id="link-199" class="py-name"><a title="bmrblib.kinetics.auto_relaxation.AutoRelaxationSaveframe.name
bmrblib.kinetics.auto_relaxation_v3_1.AutoRelaxationSaveframe_v3_1.name
bmrblib.kinetics.heteronucl_NOEs_v2_1.HeteronuclNOESaveframe_v2_1.name
bmrblib.kinetics.heteronucl_T1_relaxation_v2_1.HeteronuclT1Saveframe_v2_1.name
bmrblib.kinetics.heteronucl_T1_relaxation_v3_1.HeteronuclT1Saveframe_v3_1.name
bmrblib.kinetics.heteronucl_T2_relaxation_v2_1.HeteronuclT2Saveframe_v2_1.name
bmrblib.kinetics.heteronucl_T2_relaxation_v3_1.HeteronuclT2Saveframe_v3_1.name
prompt.molecule.Molecule.name
prompt.residue.Residue.name
prompt.spin.Spin.name" class="py-name" href="#" onclick="return doclink('link-199', 'name', 'link-197');">name</a></tt> <tt class="py-keyword">in</tt> <tt class="py-name">list_data</tt><tt class="py-op">:</tt> </tt>
<a name="L554"></a><tt class="py-lineno"> 554</tt>  <tt class="py-line">                <tt id="link-200" class="py-name" targets="Method gui.relax_gui.Main.init_data()=gui.relax_gui.Main-class.html#init_data"><a title="gui.relax_gui.Main.init_data" class="py-name" href="#" onclick="return doclink('link-200', 'init_data', 'link-200');">init_data</a></tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-op">]</tt> </tt>
<a name="L555"></a><tt class="py-lineno"> 555</tt>  <tt class="py-line"> </tt>
<a name="L556"></a><tt class="py-lineno"> 556</tt>  <tt class="py-line">            <tt class="py-comment"># Otherwise initialise the data structure to None.</tt> </tt>
<a name="L557"></a><tt class="py-lineno"> 557</tt>  <tt class="py-line">            <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L558"></a><tt class="py-lineno"> 558</tt>  <tt class="py-line">                <tt id="link-201" class="py-name"><a title="gui.relax_gui.Main.init_data" class="py-name" href="#" onclick="return doclink('link-201', 'init_data', 'link-200');">init_data</a></tt> <tt class="py-op">=</tt> <tt class="py-name">None</tt> </tt>
<a name="L559"></a><tt class="py-lineno"> 559</tt>  <tt class="py-line"> </tt>
<a name="L560"></a><tt class="py-lineno"> 560</tt>  <tt class="py-line">            <tt class="py-comment"># If the name is not in 'data_cont', add it.</tt> </tt>
<a name="L561"></a><tt class="py-lineno"> 561</tt>  <tt class="py-line">            <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt class="py-name">hasattr</tt><tt class="py-op">(</tt><tt class="py-name">data_cont</tt><tt class="py-op">,</tt> <tt id="link-202" class="py-name"><a title="bmrblib.kinetics.auto_relaxation.AutoRelaxationSaveframe.name
bmrblib.kinetics.auto_relaxation_v3_1.AutoRelaxationSaveframe_v3_1.name
bmrblib.kinetics.heteronucl_NOEs_v2_1.HeteronuclNOESaveframe_v2_1.name
bmrblib.kinetics.heteronucl_T1_relaxation_v2_1.HeteronuclT1Saveframe_v2_1.name
bmrblib.kinetics.heteronucl_T1_relaxation_v3_1.HeteronuclT1Saveframe_v3_1.name
bmrblib.kinetics.heteronucl_T2_relaxation_v2_1.HeteronuclT2Saveframe_v2_1.name
bmrblib.kinetics.heteronucl_T2_relaxation_v3_1.HeteronuclT2Saveframe_v3_1.name
prompt.molecule.Molecule.name
prompt.residue.Residue.name
prompt.spin.Spin.name" class="py-name" href="#" onclick="return doclink('link-202', 'name', 'link-197');">name</a></tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L562"></a><tt class="py-lineno"> 562</tt>  <tt class="py-line">                <tt class="py-name">setattr</tt><tt class="py-op">(</tt><tt class="py-name">data_cont</tt><tt class="py-op">,</tt> <tt id="link-203" class="py-name"><a title="bmrblib.kinetics.auto_relaxation.AutoRelaxationSaveframe.name
bmrblib.kinetics.auto_relaxation_v3_1.AutoRelaxationSaveframe_v3_1.name
bmrblib.kinetics.heteronucl_NOEs_v2_1.HeteronuclNOESaveframe_v2_1.name
bmrblib.kinetics.heteronucl_T1_relaxation_v2_1.HeteronuclT1Saveframe_v2_1.name
bmrblib.kinetics.heteronucl_T1_relaxation_v3_1.HeteronuclT1Saveframe_v3_1.name
bmrblib.kinetics.heteronucl_T2_relaxation_v2_1.HeteronuclT2Saveframe_v2_1.name
bmrblib.kinetics.heteronucl_T2_relaxation_v3_1.HeteronuclT2Saveframe_v3_1.name
prompt.molecule.Molecule.name
prompt.residue.Residue.name
prompt.spin.Spin.name" class="py-name" href="#" onclick="return doclink('link-203', 'name', 'link-197');">name</a></tt><tt class="py-op">,</tt> <tt id="link-204" class="py-name"><a title="gui.relax_gui.Main.init_data" class="py-name" href="#" onclick="return doclink('link-204', 'init_data', 'link-200');">init_data</a></tt><tt class="py-op">)</tt> </tt>
</div><a name="L563"></a><tt class="py-lineno"> 563</tt>  <tt class="py-line"> </tt>
<a name="L564"></a><tt class="py-lineno"> 564</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit.data_names"></a><div id="Relax_fit.data_names-def"><a name="L565"></a><tt class="py-lineno"> 565</tt> <a class="py-toggle" href="#" id="Relax_fit.data_names-toggle" onclick="return toggle('Relax_fit.data_names');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#data_names">data_names</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">set</tt><tt class="py-op">=</tt><tt class="py-string">'all'</tt><tt class="py-op">,</tt> <tt class="py-param">error_names</tt><tt class="py-op">=</tt><tt class="py-name">False</tt><tt class="py-op">,</tt> <tt class="py-param">sim_names</tt><tt class="py-op">=</tt><tt class="py-name">False</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit.data_names-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit.data_names-expanded"><a name="L566"></a><tt class="py-lineno"> 566</tt>  <tt class="py-line">        <tt class="py-docstring">"""Return a list of names of data structures.</tt> </tt>
<a name="L567"></a><tt class="py-lineno"> 567</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L568"></a><tt class="py-lineno"> 568</tt>  <tt class="py-line"><tt class="py-docstring">        Description</tt> </tt>
<a name="L569"></a><tt class="py-lineno"> 569</tt>  <tt class="py-line"><tt class="py-docstring">        ===========</tt> </tt>
<a name="L570"></a><tt class="py-lineno"> 570</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L571"></a><tt class="py-lineno"> 571</tt>  <tt class="py-line"><tt class="py-docstring">        The names are as follows:</tt> </tt>
<a name="L572"></a><tt class="py-lineno"> 572</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L573"></a><tt class="py-lineno"> 573</tt>  <tt class="py-line"><tt class="py-docstring">            - 'params', an array of the parameter names associated with the model.</tt> </tt>
<a name="L574"></a><tt class="py-lineno"> 574</tt>  <tt class="py-line"><tt class="py-docstring">            - 'rx', either the R1 or R2 relaxation rate.</tt> </tt>
<a name="L575"></a><tt class="py-lineno"> 575</tt>  <tt class="py-line"><tt class="py-docstring">            - 'i0', the initial intensity.</tt> </tt>
<a name="L576"></a><tt class="py-lineno"> 576</tt>  <tt class="py-line"><tt class="py-docstring">            - 'iinf', the intensity at infinity.</tt> </tt>
<a name="L577"></a><tt class="py-lineno"> 577</tt>  <tt class="py-line"><tt class="py-docstring">            - 'chi2', chi-squared value.</tt> </tt>
<a name="L578"></a><tt class="py-lineno"> 578</tt>  <tt class="py-line"><tt class="py-docstring">            - 'iter', iterations.</tt> </tt>
<a name="L579"></a><tt class="py-lineno"> 579</tt>  <tt class="py-line"><tt class="py-docstring">            - 'f_count', function count.</tt> </tt>
<a name="L580"></a><tt class="py-lineno"> 580</tt>  <tt class="py-line"><tt class="py-docstring">            - 'g_count', gradient count.</tt> </tt>
<a name="L581"></a><tt class="py-lineno"> 581</tt>  <tt class="py-line"><tt class="py-docstring">            - 'h_count', hessian count.</tt> </tt>
<a name="L582"></a><tt class="py-lineno"> 582</tt>  <tt class="py-line"><tt class="py-docstring">            - 'warning', minimisation warning.</tt> </tt>
<a name="L583"></a><tt class="py-lineno"> 583</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L584"></a><tt class="py-lineno"> 584</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L585"></a><tt class="py-lineno"> 585</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword set:           The set of object names to return.  This can be set to 'all' for all names, to 'generic' for generic object names, 'params' for analysis specific parameter names, or to 'min' for minimisation specific object names.</tt> </tt>
<a name="L586"></a><tt class="py-lineno"> 586</tt>  <tt class="py-line"><tt class="py-docstring">        @type set:              str</tt> </tt>
<a name="L587"></a><tt class="py-lineno"> 587</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword error_names:   A flag which if True will add the error object names as well.</tt> </tt>
<a name="L588"></a><tt class="py-lineno"> 588</tt>  <tt class="py-line"><tt class="py-docstring">        @type error_names:      bool</tt> </tt>
<a name="L589"></a><tt class="py-lineno"> 589</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword sim_names:     A flag which if True will add the Monte Carlo simulation object names as well.</tt> </tt>
<a name="L590"></a><tt class="py-lineno"> 590</tt>  <tt class="py-line"><tt class="py-docstring">        @type sim_names:        bool</tt> </tt>
<a name="L591"></a><tt class="py-lineno"> 591</tt>  <tt class="py-line"><tt class="py-docstring">        @return:                The list of object names.</tt> </tt>
<a name="L592"></a><tt class="py-lineno"> 592</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:                 list of str</tt> </tt>
<a name="L593"></a><tt class="py-lineno"> 593</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L594"></a><tt class="py-lineno"> 594</tt>  <tt class="py-line"> </tt>
<a name="L595"></a><tt class="py-lineno"> 595</tt>  <tt class="py-line">        <tt class="py-comment"># Initialise.</tt> </tt>
<a name="L596"></a><tt class="py-lineno"> 596</tt>  <tt class="py-line">        <tt id="link-205" class="py-name" targets="Method data.align_tensor.AlignTensorList.names()=data.align_tensor.AlignTensorList-class.html#names"><a title="data.align_tensor.AlignTensorList.names" class="py-name" href="#" onclick="return doclink('link-205', 'names', 'link-205');">names</a></tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-op">]</tt> </tt>
<a name="L597"></a><tt class="py-lineno"> 597</tt>  <tt class="py-line"> </tt>
<a name="L598"></a><tt class="py-lineno"> 598</tt>  <tt class="py-line">        <tt class="py-comment"># Generic.</tt> </tt>
<a name="L599"></a><tt class="py-lineno"> 599</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt id="link-206" class="py-name" targets="Function generic_fns.align_tensor.set()=generic_fns.align_tensor-module.html#set,Function generic_fns.diffusion_tensor.set()=generic_fns.diffusion_tensor-module.html#set,Function generic_fns.frq.set()=generic_fns.frq-module.html#set,Function generic_fns.minimise.set()=generic_fns.minimise-module.html#set,Function generic_fns.temperature.set()=generic_fns.temperature-module.html#set,Function generic_fns.value.set()=generic_fns.value-module.html#set,Method gui.user_functions.value.Value.set()=gui.user_functions.value.Value-class.html#set,Method prompt.frq.Frq.set()=prompt.frq.Frq-class.html#set,Method prompt.temperature.Temp.set()=prompt.temperature.Temp-class.html#set,Method prompt.value.Value.set()=prompt.value.Value-class.html#set"><a title="generic_fns.align_tensor.set
generic_fns.diffusion_tensor.set
generic_fns.frq.set
generic_fns.minimise.set
generic_fns.temperature.set
generic_fns.value.set
gui.user_functions.value.Value.set
prompt.frq.Frq.set
prompt.temperature.Temp.set
prompt.value.Value.set" class="py-name" href="#" onclick="return doclink('link-206', 'set', 'link-206');">set</a></tt> <tt class="py-op">==</tt> <tt class="py-string">'all'</tt> <tt class="py-keyword">or</tt> <tt id="link-207" class="py-name"><a title="generic_fns.align_tensor.set
generic_fns.diffusion_tensor.set
generic_fns.frq.set
generic_fns.minimise.set
generic_fns.temperature.set
generic_fns.value.set
gui.user_functions.value.Value.set
prompt.frq.Frq.set
prompt.temperature.Temp.set
prompt.value.Value.set" class="py-name" href="#" onclick="return doclink('link-207', 'set', 'link-206');">set</a></tt> <tt class="py-op">==</tt> <tt class="py-string">'generic'</tt><tt class="py-op">:</tt> </tt>
<a name="L600"></a><tt class="py-lineno"> 600</tt>  <tt class="py-line">            <tt id="link-208" class="py-name"><a title="data.align_tensor.AlignTensorList.names" class="py-name" href="#" onclick="return doclink('link-208', 'names', 'link-205');">names</a></tt><tt class="py-op">.</tt><tt id="link-209" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-209', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-string">'params'</tt><tt class="py-op">)</tt> </tt>
<a name="L601"></a><tt class="py-lineno"> 601</tt>  <tt class="py-line"> </tt>
<a name="L602"></a><tt class="py-lineno"> 602</tt>  <tt class="py-line">        <tt class="py-comment"># Parameters.</tt> </tt>
<a name="L603"></a><tt class="py-lineno"> 603</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt id="link-210" class="py-name"><a title="generic_fns.align_tensor.set
generic_fns.diffusion_tensor.set
generic_fns.frq.set
generic_fns.minimise.set
generic_fns.temperature.set
generic_fns.value.set
gui.user_functions.value.Value.set
prompt.frq.Frq.set
prompt.temperature.Temp.set
prompt.value.Value.set" class="py-name" href="#" onclick="return doclink('link-210', 'set', 'link-206');">set</a></tt> <tt class="py-op">==</tt> <tt class="py-string">'all'</tt> <tt class="py-keyword">or</tt> <tt id="link-211" class="py-name"><a title="generic_fns.align_tensor.set
generic_fns.diffusion_tensor.set
generic_fns.frq.set
generic_fns.minimise.set
generic_fns.temperature.set
generic_fns.value.set
gui.user_functions.value.Value.set
prompt.frq.Frq.set
prompt.temperature.Temp.set
prompt.value.Value.set" class="py-name" href="#" onclick="return doclink('link-211', 'set', 'link-206');">set</a></tt> <tt class="py-op">==</tt> <tt class="py-string">'params'</tt><tt class="py-op">:</tt> </tt>
<a name="L604"></a><tt class="py-lineno"> 604</tt>  <tt class="py-line">            <tt id="link-212" class="py-name"><a title="data.align_tensor.AlignTensorList.names" class="py-name" href="#" onclick="return doclink('link-212', 'names', 'link-205');">names</a></tt><tt class="py-op">.</tt><tt id="link-213" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-213', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-string">'rx'</tt><tt class="py-op">)</tt> </tt>
<a name="L605"></a><tt class="py-lineno"> 605</tt>  <tt class="py-line">            <tt id="link-214" class="py-name"><a title="data.align_tensor.AlignTensorList.names" class="py-name" href="#" onclick="return doclink('link-214', 'names', 'link-205');">names</a></tt><tt class="py-op">.</tt><tt id="link-215" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-215', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-string">'i0'</tt><tt class="py-op">)</tt> </tt>
<a name="L606"></a><tt class="py-lineno"> 606</tt>  <tt class="py-line">            <tt id="link-216" class="py-name"><a title="data.align_tensor.AlignTensorList.names" class="py-name" href="#" onclick="return doclink('link-216', 'names', 'link-205');">names</a></tt><tt class="py-op">.</tt><tt id="link-217" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-217', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-string">'iinf'</tt><tt class="py-op">)</tt> </tt>
<a name="L607"></a><tt class="py-lineno"> 607</tt>  <tt class="py-line"> </tt>
<a name="L608"></a><tt class="py-lineno"> 608</tt>  <tt class="py-line">        <tt class="py-comment"># Minimisation statistics.</tt> </tt>
<a name="L609"></a><tt class="py-lineno"> 609</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt id="link-218" class="py-name"><a title="generic_fns.align_tensor.set
generic_fns.diffusion_tensor.set
generic_fns.frq.set
generic_fns.minimise.set
generic_fns.temperature.set
generic_fns.value.set
gui.user_functions.value.Value.set
prompt.frq.Frq.set
prompt.temperature.Temp.set
prompt.value.Value.set" class="py-name" href="#" onclick="return doclink('link-218', 'set', 'link-206');">set</a></tt> <tt class="py-op">==</tt> <tt class="py-string">'all'</tt> <tt class="py-keyword">or</tt> <tt id="link-219" class="py-name"><a title="generic_fns.align_tensor.set
generic_fns.diffusion_tensor.set
generic_fns.frq.set
generic_fns.minimise.set
generic_fns.temperature.set
generic_fns.value.set
gui.user_functions.value.Value.set
prompt.frq.Frq.set
prompt.temperature.Temp.set
prompt.value.Value.set" class="py-name" href="#" onclick="return doclink('link-219', 'set', 'link-206');">set</a></tt> <tt class="py-op">==</tt> <tt class="py-string">'min'</tt><tt class="py-op">:</tt> </tt>
<a name="L610"></a><tt class="py-lineno"> 610</tt>  <tt class="py-line">            <tt id="link-220" class="py-name"><a title="data.align_tensor.AlignTensorList.names" class="py-name" href="#" onclick="return doclink('link-220', 'names', 'link-205');">names</a></tt><tt class="py-op">.</tt><tt id="link-221" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-221', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-string">'chi2'</tt><tt class="py-op">)</tt> </tt>
<a name="L611"></a><tt class="py-lineno"> 611</tt>  <tt class="py-line">            <tt id="link-222" class="py-name"><a title="data.align_tensor.AlignTensorList.names" class="py-name" href="#" onclick="return doclink('link-222', 'names', 'link-205');">names</a></tt><tt class="py-op">.</tt><tt id="link-223" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-223', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-string">'iter'</tt><tt class="py-op">)</tt> </tt>
<a name="L612"></a><tt class="py-lineno"> 612</tt>  <tt class="py-line">            <tt id="link-224" class="py-name"><a title="data.align_tensor.AlignTensorList.names" class="py-name" href="#" onclick="return doclink('link-224', 'names', 'link-205');">names</a></tt><tt class="py-op">.</tt><tt id="link-225" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-225', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-string">'f_count'</tt><tt class="py-op">)</tt> </tt>
<a name="L613"></a><tt class="py-lineno"> 613</tt>  <tt class="py-line">            <tt id="link-226" class="py-name"><a title="data.align_tensor.AlignTensorList.names" class="py-name" href="#" onclick="return doclink('link-226', 'names', 'link-205');">names</a></tt><tt class="py-op">.</tt><tt id="link-227" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-227', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-string">'g_count'</tt><tt class="py-op">)</tt> </tt>
<a name="L614"></a><tt class="py-lineno"> 614</tt>  <tt class="py-line">            <tt id="link-228" class="py-name"><a title="data.align_tensor.AlignTensorList.names" class="py-name" href="#" onclick="return doclink('link-228', 'names', 'link-205');">names</a></tt><tt class="py-op">.</tt><tt id="link-229" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-229', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-string">'h_count'</tt><tt class="py-op">)</tt> </tt>
<a name="L615"></a><tt class="py-lineno"> 615</tt>  <tt class="py-line">            <tt id="link-230" class="py-name"><a title="data.align_tensor.AlignTensorList.names" class="py-name" href="#" onclick="return doclink('link-230', 'names', 'link-205');">names</a></tt><tt class="py-op">.</tt><tt id="link-231" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-231', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-string">'warning'</tt><tt class="py-op">)</tt> </tt>
<a name="L616"></a><tt class="py-lineno"> 616</tt>  <tt class="py-line"> </tt>
<a name="L617"></a><tt class="py-lineno"> 617</tt>  <tt class="py-line">        <tt class="py-comment"># Parameter errors.</tt> </tt>
<a name="L618"></a><tt class="py-lineno"> 618</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">error_names</tt> <tt class="py-keyword">and</tt> <tt class="py-op">(</tt><tt id="link-232" class="py-name"><a title="generic_fns.align_tensor.set
generic_fns.diffusion_tensor.set
generic_fns.frq.set
generic_fns.minimise.set
generic_fns.temperature.set
generic_fns.value.set
gui.user_functions.value.Value.set
prompt.frq.Frq.set
prompt.temperature.Temp.set
prompt.value.Value.set" class="py-name" href="#" onclick="return doclink('link-232', 'set', 'link-206');">set</a></tt> <tt class="py-op">==</tt> <tt class="py-string">'all'</tt> <tt class="py-keyword">or</tt> <tt id="link-233" class="py-name"><a title="generic_fns.align_tensor.set
generic_fns.diffusion_tensor.set
generic_fns.frq.set
generic_fns.minimise.set
generic_fns.temperature.set
generic_fns.value.set
gui.user_functions.value.Value.set
prompt.frq.Frq.set
prompt.temperature.Temp.set
prompt.value.Value.set" class="py-name" href="#" onclick="return doclink('link-233', 'set', 'link-206');">set</a></tt> <tt class="py-op">==</tt> <tt class="py-string">'params'</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L619"></a><tt class="py-lineno"> 619</tt>  <tt class="py-line">            <tt id="link-234" class="py-name"><a title="data.align_tensor.AlignTensorList.names" class="py-name" href="#" onclick="return doclink('link-234', 'names', 'link-205');">names</a></tt><tt class="py-op">.</tt><tt id="link-235" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-235', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-string">'rx_err'</tt><tt class="py-op">)</tt> </tt>
<a name="L620"></a><tt class="py-lineno"> 620</tt>  <tt class="py-line">            <tt id="link-236" class="py-name"><a title="data.align_tensor.AlignTensorList.names" class="py-name" href="#" onclick="return doclink('link-236', 'names', 'link-205');">names</a></tt><tt class="py-op">.</tt><tt id="link-237" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-237', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-string">'i0_err'</tt><tt class="py-op">)</tt> </tt>
<a name="L621"></a><tt class="py-lineno"> 621</tt>  <tt class="py-line">            <tt id="link-238" class="py-name"><a title="data.align_tensor.AlignTensorList.names" class="py-name" href="#" onclick="return doclink('link-238', 'names', 'link-205');">names</a></tt><tt class="py-op">.</tt><tt id="link-239" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-239', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-string">'iinf_err'</tt><tt class="py-op">)</tt> </tt>
<a name="L622"></a><tt class="py-lineno"> 622</tt>  <tt class="py-line"> </tt>
<a name="L623"></a><tt class="py-lineno"> 623</tt>  <tt class="py-line">        <tt class="py-comment"># Parameter simulation values.</tt> </tt>
<a name="L624"></a><tt class="py-lineno"> 624</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">sim_names</tt> <tt class="py-keyword">and</tt> <tt class="py-op">(</tt><tt id="link-240" class="py-name"><a title="generic_fns.align_tensor.set
generic_fns.diffusion_tensor.set
generic_fns.frq.set
generic_fns.minimise.set
generic_fns.temperature.set
generic_fns.value.set
gui.user_functions.value.Value.set
prompt.frq.Frq.set
prompt.temperature.Temp.set
prompt.value.Value.set" class="py-name" href="#" onclick="return doclink('link-240', 'set', 'link-206');">set</a></tt> <tt class="py-op">==</tt> <tt class="py-string">'all'</tt> <tt class="py-keyword">or</tt> <tt id="link-241" class="py-name"><a title="generic_fns.align_tensor.set
generic_fns.diffusion_tensor.set
generic_fns.frq.set
generic_fns.minimise.set
generic_fns.temperature.set
generic_fns.value.set
gui.user_functions.value.Value.set
prompt.frq.Frq.set
prompt.temperature.Temp.set
prompt.value.Value.set" class="py-name" href="#" onclick="return doclink('link-241', 'set', 'link-206');">set</a></tt> <tt class="py-op">==</tt> <tt class="py-string">'params'</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L625"></a><tt class="py-lineno"> 625</tt>  <tt class="py-line">            <tt id="link-242" class="py-name"><a title="data.align_tensor.AlignTensorList.names" class="py-name" href="#" onclick="return doclink('link-242', 'names', 'link-205');">names</a></tt><tt class="py-op">.</tt><tt id="link-243" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-243', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-string">'rx_sim'</tt><tt class="py-op">)</tt> </tt>
<a name="L626"></a><tt class="py-lineno"> 626</tt>  <tt class="py-line">            <tt id="link-244" class="py-name"><a title="data.align_tensor.AlignTensorList.names" class="py-name" href="#" onclick="return doclink('link-244', 'names', 'link-205');">names</a></tt><tt class="py-op">.</tt><tt id="link-245" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-245', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-string">'i0_sim'</tt><tt class="py-op">)</tt> </tt>
<a name="L627"></a><tt class="py-lineno"> 627</tt>  <tt class="py-line">            <tt id="link-246" class="py-name"><a title="data.align_tensor.AlignTensorList.names" class="py-name" href="#" onclick="return doclink('link-246', 'names', 'link-205');">names</a></tt><tt class="py-op">.</tt><tt id="link-247" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-247', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-string">'iinf_sim'</tt><tt class="py-op">)</tt> </tt>
<a name="L628"></a><tt class="py-lineno"> 628</tt>  <tt class="py-line"> </tt>
<a name="L629"></a><tt class="py-lineno"> 629</tt>  <tt class="py-line">        <tt class="py-comment"># Return the names.</tt> </tt>
<a name="L630"></a><tt class="py-lineno"> 630</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt id="link-248" class="py-name"><a title="data.align_tensor.AlignTensorList.names" class="py-name" href="#" onclick="return doclink('link-248', 'names', 'link-205');">names</a></tt> </tt>
</div><a name="L631"></a><tt class="py-lineno"> 631</tt>  <tt class="py-line"> </tt>
<a name="L632"></a><tt class="py-lineno"> 632</tt>  <tt class="py-line"> </tt>
<a name="L633"></a><tt class="py-lineno"> 633</tt>  <tt class="py-line">    <tt id="link-249" class="py-name" targets="Variable specific_fns.api_base.API_base.default_value_doc=specific_fns.api_base.API_base-class.html#default_value_doc,Variable specific_fns.consistency_tests.Consistency_tests.default_value_doc=specific_fns.consistency_tests.Consistency_tests-class.html#default_value_doc,Variable specific_fns.jw_mapping.Jw_mapping.default_value_doc=specific_fns.jw_mapping.Jw_mapping-class.html#default_value_doc,Variable specific_fns.model_free.main.Model_free_main.default_value_doc=specific_fns.model_free.main.Model_free_main-class.html#default_value_doc,Variable specific_fns.n_state_model.N_state_model.default_value_doc=specific_fns.n_state_model.N_state_model-class.html#default_value_doc,Variable specific_fns.relax_fit.Relax_fit.default_value_doc=specific_fns.relax_fit.Relax_fit-class.html#default_value_doc"><a title="specific_fns.api_base.API_base.default_value_doc
specific_fns.consistency_tests.Consistency_tests.default_value_doc
specific_fns.jw_mapping.Jw_mapping.default_value_doc
specific_fns.model_free.main.Model_free_main.default_value_doc
specific_fns.n_state_model.N_state_model.default_value_doc
specific_fns.relax_fit.Relax_fit.default_value_doc" class="py-name" href="#" onclick="return doclink('link-249', 'default_value_doc', 'link-249');">default_value_doc</a></tt> <tt class="py-op">=</tt> <tt class="py-string">"""</tt> </tt>
<a name="L634"></a><tt class="py-lineno"> 634</tt>  <tt class="py-line"><tt class="py-string">        Relaxation curve fitting default values</tt> </tt>
<a name="L635"></a><tt class="py-lineno"> 635</tt>  <tt class="py-line"><tt class="py-string">        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</tt> </tt>
<a name="L636"></a><tt class="py-lineno"> 636</tt>  <tt class="py-line"><tt class="py-string"></tt> </tt>
<a name="L637"></a><tt class="py-lineno"> 637</tt>  <tt class="py-line"><tt class="py-string">        These values are completely arbitrary as peak heights (or volumes) are extremely variable</tt> </tt>
<a name="L638"></a><tt class="py-lineno"> 638</tt>  <tt class="py-line"><tt class="py-string">        and the Rx value is a compensation for both the R1 and R2 values.</tt> </tt>
<a name="L639"></a><tt class="py-lineno"> 639</tt>  <tt class="py-line"><tt class="py-string">        ___________________________________________________________________</tt> </tt>
<a name="L640"></a><tt class="py-lineno"> 640</tt>  <tt class="py-line"><tt class="py-string">        |                        |               |                        |</tt> </tt>
<a name="L641"></a><tt class="py-lineno"> 641</tt>  <tt class="py-line"><tt class="py-string">        | Data type              | Object name   | Value                  |</tt> </tt>
<a name="L642"></a><tt class="py-lineno"> 642</tt>  <tt class="py-line"><tt class="py-string">        |________________________|_______________|________________________|</tt> </tt>
<a name="L643"></a><tt class="py-lineno"> 643</tt>  <tt class="py-line"><tt class="py-string">        |                        |               |                        |</tt> </tt>
<a name="L644"></a><tt class="py-lineno"> 644</tt>  <tt class="py-line"><tt class="py-string">        | Relaxation rate        | 'rx'          | 8.0                    |</tt> </tt>
<a name="L645"></a><tt class="py-lineno"> 645</tt>  <tt class="py-line"><tt class="py-string">        |                        |               |                        |</tt> </tt>
<a name="L646"></a><tt class="py-lineno"> 646</tt>  <tt class="py-line"><tt class="py-string">        | Initial intensity      | 'i0'          | 10000.0                |</tt> </tt>
<a name="L647"></a><tt class="py-lineno"> 647</tt>  <tt class="py-line"><tt class="py-string">        |                        |               |                        |</tt> </tt>
<a name="L648"></a><tt class="py-lineno"> 648</tt>  <tt class="py-line"><tt class="py-string">        | Intensity at infinity  | 'iinf'        | 0.0                    |</tt> </tt>
<a name="L649"></a><tt class="py-lineno"> 649</tt>  <tt class="py-line"><tt class="py-string">        |                        |               |                        |</tt> </tt>
<a name="L650"></a><tt class="py-lineno"> 650</tt>  <tt class="py-line"><tt class="py-string">        |________________________|_______________|________________________|</tt> </tt>
<a name="L651"></a><tt class="py-lineno"> 651</tt>  <tt class="py-line"><tt class="py-string"></tt> </tt>
<a name="L652"></a><tt class="py-lineno"> 652</tt>  <tt class="py-line"><tt class="py-string">        """</tt> </tt>
<a name="L653"></a><tt class="py-lineno"> 653</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit.default_value"></a><div id="Relax_fit.default_value-def"><a name="L654"></a><tt class="py-lineno"> 654</tt> <a class="py-toggle" href="#" id="Relax_fit.default_value-toggle" onclick="return toggle('Relax_fit.default_value');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#default_value">default_value</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">param</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit.default_value-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit.default_value-expanded"><a name="L655"></a><tt class="py-lineno"> 655</tt>  <tt class="py-line">        <tt class="py-docstring">"""Return the default relaxation curve-fitting parameter values.</tt> </tt>
<a name="L656"></a><tt class="py-lineno"> 656</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L657"></a><tt class="py-lineno"> 657</tt>  <tt class="py-line"><tt class="py-docstring">        @param param:   The relaxation curve-fitting parameter.</tt> </tt>
<a name="L658"></a><tt class="py-lineno"> 658</tt>  <tt class="py-line"><tt class="py-docstring">        @type param:    str</tt> </tt>
<a name="L659"></a><tt class="py-lineno"> 659</tt>  <tt class="py-line"><tt class="py-docstring">        @return:        The default value.</tt> </tt>
<a name="L660"></a><tt class="py-lineno"> 660</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:         float</tt> </tt>
<a name="L661"></a><tt class="py-lineno"> 661</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L662"></a><tt class="py-lineno"> 662</tt>  <tt class="py-line"> </tt>
<a name="L663"></a><tt class="py-lineno"> 663</tt>  <tt class="py-line">        <tt class="py-comment"># Relaxation rate.</tt> </tt>
<a name="L664"></a><tt class="py-lineno"> 664</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">param</tt> <tt class="py-op">==</tt> <tt class="py-string">'rx'</tt><tt class="py-op">:</tt> </tt>
<a name="L665"></a><tt class="py-lineno"> 665</tt>  <tt class="py-line">            <tt class="py-keyword">return</tt> <tt class="py-number">8.0</tt> </tt>
<a name="L666"></a><tt class="py-lineno"> 666</tt>  <tt class="py-line"> </tt>
<a name="L667"></a><tt class="py-lineno"> 667</tt>  <tt class="py-line">        <tt class="py-comment"># Initial intensity.</tt> </tt>
<a name="L668"></a><tt class="py-lineno"> 668</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">param</tt> <tt class="py-op">==</tt> <tt class="py-string">'i0'</tt><tt class="py-op">:</tt> </tt>
<a name="L669"></a><tt class="py-lineno"> 669</tt>  <tt class="py-line">            <tt class="py-keyword">return</tt> <tt class="py-number">10000.0</tt> </tt>
<a name="L670"></a><tt class="py-lineno"> 670</tt>  <tt class="py-line"> </tt>
<a name="L671"></a><tt class="py-lineno"> 671</tt>  <tt class="py-line">        <tt class="py-comment"># Intensity at infinity.</tt> </tt>
<a name="L672"></a><tt class="py-lineno"> 672</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">param</tt> <tt class="py-op">==</tt> <tt class="py-string">'iinf'</tt><tt class="py-op">:</tt> </tt>
<a name="L673"></a><tt class="py-lineno"> 673</tt>  <tt class="py-line">            <tt class="py-keyword">return</tt> <tt class="py-number">0.0</tt> </tt>
</div><a name="L674"></a><tt class="py-lineno"> 674</tt>  <tt class="py-line"> </tt>
<a name="L675"></a><tt class="py-lineno"> 675</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit.grid_search"></a><div id="Relax_fit.grid_search-def"><a name="L676"></a><tt class="py-lineno"> 676</tt> <a class="py-toggle" href="#" id="Relax_fit.grid_search-toggle" onclick="return toggle('Relax_fit.grid_search');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#grid_search">grid_search</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">lower</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">,</tt> <tt class="py-param">upper</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">,</tt> <tt class="py-param">inc</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">,</tt> <tt class="py-param">constraints</tt><tt class="py-op">=</tt><tt class="py-name">True</tt><tt class="py-op">,</tt> <tt class="py-param">verbosity</tt><tt class="py-op">=</tt><tt class="py-number">1</tt><tt class="py-op">,</tt> <tt class="py-param">sim_index</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit.grid_search-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit.grid_search-expanded"><a name="L677"></a><tt class="py-lineno"> 677</tt>  <tt class="py-line">        <tt class="py-docstring">"""The exponential curve fitting grid search method.</tt> </tt>
<a name="L678"></a><tt class="py-lineno"> 678</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L679"></a><tt class="py-lineno"> 679</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword lower:         The lower bounds of the grid search which must be equal to the number of parameters in the model.</tt> </tt>
<a name="L680"></a><tt class="py-lineno"> 680</tt>  <tt class="py-line"><tt class="py-docstring">        @type lower:            array of numbers</tt> </tt>
<a name="L681"></a><tt class="py-lineno"> 681</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword upper:         The upper bounds of the grid search which must be equal to the number of parameters in the model.</tt> </tt>
<a name="L682"></a><tt class="py-lineno"> 682</tt>  <tt class="py-line"><tt class="py-docstring">        @type upper:            array of numbers</tt> </tt>
<a name="L683"></a><tt class="py-lineno"> 683</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword inc:           The increments for each dimension of the space for the grid search.  The number of elements in the array must equal to the number of parameters in the model.</tt> </tt>
<a name="L684"></a><tt class="py-lineno"> 684</tt>  <tt class="py-line"><tt class="py-docstring">        @type inc:              array of int</tt> </tt>
<a name="L685"></a><tt class="py-lineno"> 685</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword constraints:   If True, constraints are applied during the grid search (eliminating parts of the grid).  If False, no constraints are used.</tt> </tt>
<a name="L686"></a><tt class="py-lineno"> 686</tt>  <tt class="py-line"><tt class="py-docstring">        @type constraints:      bool</tt> </tt>
<a name="L687"></a><tt class="py-lineno"> 687</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword verbosity:     A flag specifying the amount of information to print.  The higher the value, the greater the verbosity.</tt> </tt>
<a name="L688"></a><tt class="py-lineno"> 688</tt>  <tt class="py-line"><tt class="py-docstring">        @type verbosity:        int</tt> </tt>
<a name="L689"></a><tt class="py-lineno"> 689</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword sim_index:     The index of the simulation to apply the grid search to.  If None, the normal model is optimised.</tt> </tt>
<a name="L690"></a><tt class="py-lineno"> 690</tt>  <tt class="py-line"><tt class="py-docstring">        @type sim_index:        int</tt> </tt>
<a name="L691"></a><tt class="py-lineno"> 691</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L692"></a><tt class="py-lineno"> 692</tt>  <tt class="py-line"> </tt>
<a name="L693"></a><tt class="py-lineno"> 693</tt>  <tt class="py-line">        <tt class="py-comment"># Minimisation.</tt> </tt>
<a name="L694"></a><tt class="py-lineno"> 694</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-250" class="py-name" targets="Module generic_fns.minimise=generic_fns.minimise-module.html,Function generic_fns.minimise.minimise()=generic_fns.minimise-module.html#minimise,Method minfx.base_classes.Min.minimise()=minfx.base_classes.Min-class.html#minimise,Method minfx.method_of_multipliers.Method_of_multipliers.minimise()=minfx.method_of_multipliers.Method_of_multipliers-class.html#minimise,Method prompt.minimisation.Minimisation.minimise()=prompt.minimisation.Minimisation-class.html#minimise,Method specific_fns.api_base.API_base.minimise()=specific_fns.api_base.API_base-class.html#minimise,Method specific_fns.frame_order.Frame_order.minimise()=specific_fns.frame_order.Frame_order-class.html#minimise,Method specific_fns.model_free.mf_minimise.Mf_minimise.minimise()=specific_fns.model_free.mf_minimise.Mf_minimise-class.html#minimise,Method specific_fns.n_state_model.N_state_model.minimise()=specific_fns.n_state_model.N_state_model-class.html#minimise,Method specific_fns.relax_fit.Relax_fit.minimise()=specific_fns.relax_fit.Relax_fit-class.html#minimise"><a title="generic_fns.minimise
generic_fns.minimise.minimise
minfx.base_classes.Min.minimise
minfx.method_of_multipliers.Method_of_multipliers.minimise
prompt.minimisation.Minimisation.minimise
specific_fns.api_base.API_base.minimise
specific_fns.frame_order.Frame_order.minimise
specific_fns.model_free.mf_minimise.Mf_minimise.minimise
specific_fns.n_state_model.N_state_model.minimise
specific_fns.relax_fit.Relax_fit.minimise" class="py-name" href="#" onclick="return doclink('link-250', 'minimise', 'link-250');">minimise</a></tt><tt class="py-op">(</tt><tt class="py-name">min_algor</tt><tt class="py-op">=</tt><tt class="py-string">'grid'</tt><tt class="py-op">,</tt> <tt class="py-name">lower</tt><tt class="py-op">=</tt><tt class="py-name">lower</tt><tt class="py-op">,</tt> <tt class="py-name">upper</tt><tt class="py-op">=</tt><tt class="py-name">upper</tt><tt class="py-op">,</tt> <tt class="py-name">inc</tt><tt class="py-op">=</tt><tt class="py-name">inc</tt><tt class="py-op">,</tt> <tt class="py-name">constraints</tt><tt class="py-op">=</tt><tt class="py-name">constraints</tt><tt class="py-op">,</tt> <tt id="link-251" class="py-name" targets="Variable bmrblib.pystarlib.Text.verbosity=bmrblib.pystarlib.Text-module.html#verbosity,Variable bmrblib.pystarlib.verbosity=bmrblib.pystarlib-module.html#verbosity"><a title="bmrblib.pystarlib.Text.verbosity
bmrblib.pystarlib.verbosity" class="py-name" href="#" onclick="return doclink('link-251', 'verbosity', 'link-251');">verbosity</a></tt><tt class="py-op">=</tt><tt id="link-252" class="py-name"><a title="bmrblib.pystarlib.Text.verbosity
bmrblib.pystarlib.verbosity" class="py-name" href="#" onclick="return doclink('link-252', 'verbosity', 'link-251');">verbosity</a></tt><tt class="py-op">,</tt> <tt class="py-name">sim_index</tt><tt class="py-op">=</tt><tt class="py-name">sim_index</tt><tt class="py-op">)</tt> </tt>
</div><a name="L695"></a><tt class="py-lineno"> 695</tt>  <tt class="py-line"> </tt>
<a name="L696"></a><tt class="py-lineno"> 696</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit.minimise"></a><div id="Relax_fit.minimise-def"><a name="L697"></a><tt class="py-lineno"> 697</tt> <a class="py-toggle" href="#" id="Relax_fit.minimise-toggle" onclick="return toggle('Relax_fit.minimise');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#minimise">minimise</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">min_algor</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">,</tt> <tt class="py-param">min_options</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">,</tt> <tt class="py-param">func_tol</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">,</tt> <tt class="py-param">grad_tol</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">,</tt> <tt class="py-param">max_iterations</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">,</tt> <tt class="py-param">constraints</tt><tt class="py-op">=</tt><tt class="py-name">False</tt><tt class="py-op">,</tt> <tt class="py-param">scaling</tt><tt class="py-op">=</tt><tt class="py-name">True</tt><tt class="py-op">,</tt> <tt class="py-param">verbosity</tt><tt class="py-op">=</tt><tt class="py-number">0</tt><tt class="py-op">,</tt> <tt class="py-param">sim_index</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">,</tt> <tt class="py-param">lower</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">,</tt> <tt class="py-param">upper</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">,</tt> <tt class="py-param">inc</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit.minimise-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit.minimise-expanded"><a name="L698"></a><tt class="py-lineno"> 698</tt>  <tt class="py-line">        <tt class="py-docstring">"""Relaxation curve fitting minimisation method.</tt> </tt>
<a name="L699"></a><tt class="py-lineno"> 699</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L700"></a><tt class="py-lineno"> 700</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword min_algor:         The minimisation algorithm to use.</tt> </tt>
<a name="L701"></a><tt class="py-lineno"> 701</tt>  <tt class="py-line"><tt class="py-docstring">        @type min_algor:            str</tt> </tt>
<a name="L702"></a><tt class="py-lineno"> 702</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword min_options:       An array of options to be used by the minimisation algorithm.</tt> </tt>
<a name="L703"></a><tt class="py-lineno"> 703</tt>  <tt class="py-line"><tt class="py-docstring">        @type min_options:          array of str</tt> </tt>
<a name="L704"></a><tt class="py-lineno"> 704</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword func_tol:          The function tolerance which, when reached, terminates optimisation.  Setting this to None turns of the check.</tt> </tt>
<a name="L705"></a><tt class="py-lineno"> 705</tt>  <tt class="py-line"><tt class="py-docstring">        @type func_tol:             None or float</tt> </tt>
<a name="L706"></a><tt class="py-lineno"> 706</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword grad_tol:          The gradient tolerance which, when reached, terminates optimisation.  Setting this to None turns of the check.</tt> </tt>
<a name="L707"></a><tt class="py-lineno"> 707</tt>  <tt class="py-line"><tt class="py-docstring">        @type grad_tol:             None or float</tt> </tt>
<a name="L708"></a><tt class="py-lineno"> 708</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword max_iterations:    The maximum number of iterations for the algorithm.</tt> </tt>
<a name="L709"></a><tt class="py-lineno"> 709</tt>  <tt class="py-line"><tt class="py-docstring">        @type max_iterations:       int</tt> </tt>
<a name="L710"></a><tt class="py-lineno"> 710</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword constraints:       If True, constraints are used during optimisation.</tt> </tt>
<a name="L711"></a><tt class="py-lineno"> 711</tt>  <tt class="py-line"><tt class="py-docstring">        @type constraints:          bool</tt> </tt>
<a name="L712"></a><tt class="py-lineno"> 712</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword scaling:           If True, diagonal scaling is enabled during optimisation to allow the problem to be better conditioned.</tt> </tt>
<a name="L713"></a><tt class="py-lineno"> 713</tt>  <tt class="py-line"><tt class="py-docstring">        @type scaling:              bool</tt> </tt>
<a name="L714"></a><tt class="py-lineno"> 714</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword verbosity:         The amount of information to print.  The higher the value, the greater the verbosity.</tt> </tt>
<a name="L715"></a><tt class="py-lineno"> 715</tt>  <tt class="py-line"><tt class="py-docstring">        @type verbosity:            int</tt> </tt>
<a name="L716"></a><tt class="py-lineno"> 716</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword sim_index:         The index of the simulation to optimise.  This should be None if normal optimisation is desired.</tt> </tt>
<a name="L717"></a><tt class="py-lineno"> 717</tt>  <tt class="py-line"><tt class="py-docstring">        @type sim_index:            None or int</tt> </tt>
<a name="L718"></a><tt class="py-lineno"> 718</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword lower:             The lower bounds of the grid search which must be equal to the number of parameters in the model.  This optional argument is only used when doing a grid search.</tt> </tt>
<a name="L719"></a><tt class="py-lineno"> 719</tt>  <tt class="py-line"><tt class="py-docstring">        @type lower:                array of numbers</tt> </tt>
<a name="L720"></a><tt class="py-lineno"> 720</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword upper:             The upper bounds of the grid search which must be equal to the number of parameters in the model.  This optional argument is only used when doing a grid search.</tt> </tt>
<a name="L721"></a><tt class="py-lineno"> 721</tt>  <tt class="py-line"><tt class="py-docstring">        @type upper:                array of numbers</tt> </tt>
<a name="L722"></a><tt class="py-lineno"> 722</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword inc:               The increments for each dimension of the space for the grid search.  The number of elements in the array must equal to the number of parameters in the model.  This argument is only used when doing a grid search.</tt> </tt>
<a name="L723"></a><tt class="py-lineno"> 723</tt>  <tt class="py-line"><tt class="py-docstring">        @type inc:                  array of int</tt> </tt>
<a name="L724"></a><tt class="py-lineno"> 724</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L725"></a><tt class="py-lineno"> 725</tt>  <tt class="py-line"> </tt>
<a name="L726"></a><tt class="py-lineno"> 726</tt>  <tt class="py-line">        <tt class="py-comment"># Test if sequence data is loaded.</tt> </tt>
<a name="L727"></a><tt class="py-lineno"> 727</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt id="link-253" class="py-name"><a title="generic_fns.mol_res_spin.exists_mol_res_spin_data" class="py-name" href="#" onclick="return doclink('link-253', 'exists_mol_res_spin_data', 'link-17');">exists_mol_res_spin_data</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L728"></a><tt class="py-lineno"> 728</tt>  <tt class="py-line">            <tt class="py-keyword">raise</tt> <tt id="link-254" class="py-name"><a title="relax_errors.RelaxNoSequenceError" class="py-name" href="#" onclick="return doclink('link-254', 'RelaxNoSequenceError', 'link-26');">RelaxNoSequenceError</a></tt> </tt>
<a name="L729"></a><tt class="py-lineno"> 729</tt>  <tt class="py-line"> </tt>
<a name="L730"></a><tt class="py-lineno"> 730</tt>  <tt class="py-line">        <tt class="py-comment"># Loop over the sequence.</tt> </tt>
<a name="L731"></a><tt class="py-lineno"> 731</tt>  <tt class="py-line">        <tt class="py-keyword">for</tt> <tt id="link-255" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-255', 'spin', 'link-56');">spin</a></tt><tt class="py-op">,</tt> <tt class="py-name">mol_name</tt><tt class="py-op">,</tt> <tt class="py-name">res_num</tt><tt class="py-op">,</tt> <tt class="py-name">res_name</tt> <tt class="py-keyword">in</tt> <tt id="link-256" class="py-name"><a title="generic_fns.mol_res_spin.spin_loop" class="py-name" href="#" onclick="return doclink('link-256', 'spin_loop', 'link-20');">spin_loop</a></tt><tt class="py-op">(</tt><tt class="py-name">full_info</tt><tt class="py-op">=</tt><tt class="py-name">True</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L732"></a><tt class="py-lineno"> 732</tt>  <tt class="py-line">            <tt class="py-comment"># Skip deselected spins.</tt> </tt>
<a name="L733"></a><tt class="py-lineno"> 733</tt>  <tt class="py-line">            <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt id="link-257" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-257', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt id="link-258" class="py-name"><a title="generic_fns.model_selection.select
gui.user_functions.base.File_selector.select
prompt.select" class="py-name" href="#" onclick="return doclink('link-258', 'select', 'link-167');">select</a></tt><tt class="py-op">:</tt> </tt>
<a name="L734"></a><tt class="py-lineno"> 734</tt>  <tt class="py-line">                <tt class="py-keyword">continue</tt> </tt>
<a name="L735"></a><tt class="py-lineno"> 735</tt>  <tt class="py-line"> </tt>
<a name="L736"></a><tt class="py-lineno"> 736</tt>  <tt class="py-line">            <tt class="py-comment"># Skip spins which have no data.</tt> </tt>
<a name="L737"></a><tt class="py-lineno"> 737</tt>  <tt class="py-line">            <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt class="py-name">hasattr</tt><tt class="py-op">(</tt><tt id="link-259" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-259', 'spin', 'link-56');">spin</a></tt><tt class="py-op">,</tt> <tt class="py-string">'intensities'</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L738"></a><tt class="py-lineno"> 738</tt>  <tt class="py-line">                <tt class="py-keyword">continue</tt> </tt>
<a name="L739"></a><tt class="py-lineno"> 739</tt>  <tt class="py-line"> </tt>
<a name="L740"></a><tt class="py-lineno"> 740</tt>  <tt class="py-line">            <tt class="py-comment"># Create the initial parameter vector.</tt> </tt>
<a name="L741"></a><tt class="py-lineno"> 741</tt>  <tt class="py-line">            <tt class="py-name">param_vector</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-260" class="py-name"><a title="specific_fns.frame_order.Frame_order._assemble_param_vector
specific_fns.model_free.main.Model_free_main._assemble_param_vector
specific_fns.n_state_model.N_state_model._assemble_param_vector
specific_fns.relax_fit.Relax_fit._assemble_param_vector" class="py-name" href="#" onclick="return doclink('link-260', '_assemble_param_vector', 'link-95');">_assemble_param_vector</a></tt><tt class="py-op">(</tt><tt id="link-261" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-261', 'spin', 'link-56');">spin</a></tt><tt class="py-op">=</tt><tt id="link-262" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-262', 'spin', 'link-56');">spin</a></tt><tt class="py-op">)</tt> </tt>
<a name="L742"></a><tt class="py-lineno"> 742</tt>  <tt class="py-line"> </tt>
<a name="L743"></a><tt class="py-lineno"> 743</tt>  <tt class="py-line">            <tt class="py-comment"># Diagonal scaling.</tt> </tt>
<a name="L744"></a><tt class="py-lineno"> 744</tt>  <tt class="py-line">            <tt class="py-name">scaling_matrix</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-263" class="py-name"><a title="specific_fns.model_free.main.Model_free_main._assemble_scaling_matrix
specific_fns.n_state_model.N_state_model._assemble_scaling_matrix
specific_fns.relax_fit.Relax_fit._assemble_scaling_matrix" class="py-name" href="#" onclick="return doclink('link-263', '_assemble_scaling_matrix', 'link-98');">_assemble_scaling_matrix</a></tt><tt class="py-op">(</tt><tt id="link-264" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-264', 'spin', 'link-56');">spin</a></tt><tt class="py-op">=</tt><tt id="link-265" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-265', 'spin', 'link-56');">spin</a></tt><tt class="py-op">,</tt> <tt class="py-name">scaling</tt><tt class="py-op">=</tt><tt class="py-name">scaling</tt><tt class="py-op">)</tt> </tt>
<a name="L745"></a><tt class="py-lineno"> 745</tt>  <tt class="py-line">            <tt class="py-keyword">if</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">scaling_matrix</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L746"></a><tt class="py-lineno"> 746</tt>  <tt class="py-line">                <tt class="py-name">param_vector</tt> <tt class="py-op">=</tt> <tt class="py-name">dot</tt><tt class="py-op">(</tt><tt class="py-name">inv</tt><tt class="py-op">(</tt><tt class="py-name">scaling_matrix</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt class="py-name">param_vector</tt><tt class="py-op">)</tt> </tt>
<a name="L747"></a><tt class="py-lineno"> 747</tt>  <tt class="py-line"> </tt>
<a name="L748"></a><tt class="py-lineno"> 748</tt>  <tt class="py-line">            <tt class="py-comment"># Get the grid search minimisation options.</tt> </tt>
<a name="L749"></a><tt class="py-lineno"> 749</tt>  <tt class="py-line">            <tt class="py-keyword">if</tt> <tt class="py-name">match</tt><tt class="py-op">(</tt><tt class="py-string">'^[Gg]rid'</tt><tt class="py-op">,</tt> <tt class="py-name">min_algor</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L750"></a><tt class="py-lineno"> 750</tt>  <tt class="py-line">                <tt class="py-name">inc</tt><tt class="py-op">,</tt> <tt class="py-name">lower</tt><tt class="py-op">,</tt> <tt class="py-name">upper</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-266" class="py-name" targets="Method specific_fns.relax_fit.Relax_fit._grid_search_setup()=specific_fns.relax_fit.Relax_fit-class.html#_grid_search_setup"><a title="specific_fns.relax_fit.Relax_fit._grid_search_setup" class="py-name" href="#" onclick="return doclink('link-266', '_grid_search_setup', 'link-266');">_grid_search_setup</a></tt><tt class="py-op">(</tt><tt id="link-267" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-267', 'spin', 'link-56');">spin</a></tt><tt class="py-op">=</tt><tt id="link-268" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-268', 'spin', 'link-56');">spin</a></tt><tt class="py-op">,</tt> <tt class="py-name">param_vector</tt><tt class="py-op">=</tt><tt class="py-name">param_vector</tt><tt class="py-op">,</tt> <tt class="py-name">lower</tt><tt class="py-op">=</tt><tt class="py-name">lower</tt><tt class="py-op">,</tt> <tt class="py-name">upper</tt><tt class="py-op">=</tt><tt class="py-name">upper</tt><tt class="py-op">,</tt> <tt class="py-name">inc</tt><tt class="py-op">=</tt><tt class="py-name">inc</tt><tt class="py-op">,</tt> <tt class="py-name">scaling_matrix</tt><tt class="py-op">=</tt><tt class="py-name">scaling_matrix</tt><tt class="py-op">)</tt> </tt>
<a name="L751"></a><tt class="py-lineno"> 751</tt>  <tt class="py-line"> </tt>
<a name="L752"></a><tt class="py-lineno"> 752</tt>  <tt class="py-line">            <tt class="py-comment"># Linear constraints.</tt> </tt>
<a name="L753"></a><tt class="py-lineno"> 753</tt>  <tt class="py-line">            <tt class="py-keyword">if</tt> <tt class="py-name">constraints</tt><tt class="py-op">:</tt> </tt>
<a name="L754"></a><tt class="py-lineno"> 754</tt>  <tt class="py-line">                <tt class="py-name">A</tt><tt class="py-op">,</tt> <tt class="py-name">b</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-269" class="py-name" targets="Method specific_fns.model_free.mf_minimise.Mf_minimise._linear_constraints()=specific_fns.model_free.mf_minimise.Mf_minimise-class.html#_linear_constraints,Method specific_fns.n_state_model.N_state_model._linear_constraints()=specific_fns.n_state_model.N_state_model-class.html#_linear_constraints,Method specific_fns.relax_fit.Relax_fit._linear_constraints()=specific_fns.relax_fit.Relax_fit-class.html#_linear_constraints"><a title="specific_fns.model_free.mf_minimise.Mf_minimise._linear_constraints
specific_fns.n_state_model.N_state_model._linear_constraints
specific_fns.relax_fit.Relax_fit._linear_constraints" class="py-name" href="#" onclick="return doclink('link-269', '_linear_constraints', 'link-269');">_linear_constraints</a></tt><tt class="py-op">(</tt><tt id="link-270" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-270', 'spin', 'link-56');">spin</a></tt><tt class="py-op">=</tt><tt id="link-271" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-271', 'spin', 'link-56');">spin</a></tt><tt class="py-op">,</tt> <tt class="py-name">scaling_matrix</tt><tt class="py-op">=</tt><tt class="py-name">scaling_matrix</tt><tt class="py-op">)</tt> </tt>
<a name="L755"></a><tt class="py-lineno"> 755</tt>  <tt class="py-line">            <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L756"></a><tt class="py-lineno"> 756</tt>  <tt class="py-line">                <tt class="py-name">A</tt><tt class="py-op">,</tt> <tt class="py-name">b</tt> <tt class="py-op">=</tt> <tt class="py-name">None</tt><tt class="py-op">,</tt> <tt class="py-name">None</tt> </tt>
<a name="L757"></a><tt class="py-lineno"> 757</tt>  <tt class="py-line"> </tt>
<a name="L758"></a><tt class="py-lineno"> 758</tt>  <tt class="py-line">            <tt class="py-comment"># Print out.</tt> </tt>
<a name="L759"></a><tt class="py-lineno"> 759</tt>  <tt class="py-line">            <tt class="py-keyword">if</tt> <tt id="link-272" class="py-name"><a title="bmrblib.pystarlib.Text.verbosity
bmrblib.pystarlib.verbosity" class="py-name" href="#" onclick="return doclink('link-272', 'verbosity', 'link-251');">verbosity</a></tt> <tt class="py-op">&gt;=</tt> <tt class="py-number">1</tt><tt class="py-op">:</tt> </tt>
<a name="L760"></a><tt class="py-lineno"> 760</tt>  <tt class="py-line">                <tt class="py-comment"># Get the spin id string.</tt> </tt>
<a name="L761"></a><tt class="py-lineno"> 761</tt>  <tt class="py-line">                <tt class="py-name">spin_id</tt> <tt class="py-op">=</tt> <tt id="link-273" class="py-name"><a title="generic_fns.mol_res_spin.generate_spin_id" class="py-name" href="#" onclick="return doclink('link-273', 'generate_spin_id', 'link-18');">generate_spin_id</a></tt><tt class="py-op">(</tt><tt class="py-name">mol_name</tt><tt class="py-op">,</tt> <tt class="py-name">res_num</tt><tt class="py-op">,</tt> <tt class="py-name">res_name</tt><tt class="py-op">,</tt> <tt id="link-274" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-274', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">num</tt><tt class="py-op">,</tt> <tt id="link-275" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-275', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt id="link-276" class="py-name"><a title="bmrblib.kinetics.auto_relaxation.AutoRelaxationSaveframe.name
bmrblib.kinetics.auto_relaxation_v3_1.AutoRelaxationSaveframe_v3_1.name
bmrblib.kinetics.heteronucl_NOEs_v2_1.HeteronuclNOESaveframe_v2_1.name
bmrblib.kinetics.heteronucl_T1_relaxation_v2_1.HeteronuclT1Saveframe_v2_1.name
bmrblib.kinetics.heteronucl_T1_relaxation_v3_1.HeteronuclT1Saveframe_v3_1.name
bmrblib.kinetics.heteronucl_T2_relaxation_v2_1.HeteronuclT2Saveframe_v2_1.name
bmrblib.kinetics.heteronucl_T2_relaxation_v3_1.HeteronuclT2Saveframe_v3_1.name
prompt.molecule.Molecule.name
prompt.residue.Residue.name
prompt.spin.Spin.name" class="py-name" href="#" onclick="return doclink('link-276', 'name', 'link-197');">name</a></tt><tt class="py-op">)</tt> </tt>
<a name="L762"></a><tt class="py-lineno"> 762</tt>  <tt class="py-line"> </tt>
<a name="L763"></a><tt class="py-lineno"> 763</tt>  <tt class="py-line">                <tt class="py-comment"># Individual spin print out.</tt> </tt>
<a name="L764"></a><tt class="py-lineno"> 764</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt id="link-277" class="py-name"><a title="bmrblib.pystarlib.Text.verbosity
bmrblib.pystarlib.verbosity" class="py-name" href="#" onclick="return doclink('link-277', 'verbosity', 'link-251');">verbosity</a></tt> <tt class="py-op">&gt;=</tt> <tt class="py-number">2</tt><tt class="py-op">:</tt> </tt>
<a name="L765"></a><tt class="py-lineno"> 765</tt>  <tt class="py-line">                    <tt class="py-keyword">print</tt><tt class="py-op">(</tt><tt class="py-string">"\n\n"</tt><tt class="py-op">)</tt> </tt>
<a name="L766"></a><tt class="py-lineno"> 766</tt>  <tt class="py-line"> </tt>
<a name="L767"></a><tt class="py-lineno"> 767</tt>  <tt class="py-line">                <tt id="link-278" class="py-name" targets="Variable generic_fns.mol_res_spin.string=generic_fns.mol_res_spin-module.html#string"><a title="generic_fns.mol_res_spin.string" class="py-name" href="#" onclick="return doclink('link-278', 'string', 'link-278');">string</a></tt> <tt class="py-op">=</tt> <tt class="py-string">"Fitting to spin "</tt> <tt class="py-op">+</tt> <tt class="py-name">repr</tt><tt class="py-op">(</tt><tt class="py-name">spin_id</tt><tt class="py-op">)</tt> </tt>
<a name="L768"></a><tt class="py-lineno"> 768</tt>  <tt class="py-line">                <tt class="py-keyword">print</tt><tt class="py-op">(</tt><tt class="py-op">(</tt><tt class="py-string">"\n\n"</tt> <tt class="py-op">+</tt> <tt id="link-279" class="py-name"><a title="generic_fns.mol_res_spin.string" class="py-name" href="#" onclick="return doclink('link-279', 'string', 'link-278');">string</a></tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L769"></a><tt class="py-lineno"> 769</tt>  <tt class="py-line">                <tt class="py-keyword">print</tt><tt class="py-op">(</tt><tt class="py-op">(</tt><tt class="py-name">len</tt><tt class="py-op">(</tt><tt id="link-280" class="py-name"><a title="generic_fns.mol_res_spin.string" class="py-name" href="#" onclick="return doclink('link-280', 'string', 'link-278');">string</a></tt><tt class="py-op">)</tt> <tt class="py-op">*</tt> <tt class="py-string">'~'</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L770"></a><tt class="py-lineno"> 770</tt>  <tt class="py-line"> </tt>
<a name="L771"></a><tt class="py-lineno"> 771</tt>  <tt class="py-line"> </tt>
<a name="L772"></a><tt class="py-lineno"> 772</tt>  <tt class="py-line">            <tt class="py-comment"># Initialise the function to minimise.</tt> </tt>
<a name="L773"></a><tt class="py-lineno"> 773</tt>  <tt class="py-line">            <tt class="py-comment">######################################</tt> </tt>
<a name="L774"></a><tt class="py-lineno"> 774</tt>  <tt class="py-line"> </tt>
<a name="L775"></a><tt class="py-lineno"> 775</tt>  <tt class="py-line">            <tt class="py-comment"># The keys.</tt> </tt>
<a name="L776"></a><tt class="py-lineno"> 776</tt>  <tt class="py-line">            <tt class="py-name">keys</tt> <tt class="py-op">=</tt> <tt id="link-281" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-281', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">intensities</tt><tt class="py-op">.</tt><tt class="py-name">keys</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L777"></a><tt class="py-lineno"> 777</tt>  <tt class="py-line"> </tt>
<a name="L778"></a><tt class="py-lineno"> 778</tt>  <tt class="py-line">            <tt class="py-comment"># The peak intensities and times.</tt> </tt>
<a name="L779"></a><tt class="py-lineno"> 779</tt>  <tt class="py-line">            <tt class="py-name">values</tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-op">]</tt> </tt>
<a name="L780"></a><tt class="py-lineno"> 780</tt>  <tt class="py-line">            <tt id="link-282" class="py-name"><a title="minfx.errors" class="py-name" href="#" onclick="return doclink('link-282', 'errors', 'link-102');">errors</a></tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-op">]</tt> </tt>
<a name="L781"></a><tt class="py-lineno"> 781</tt>  <tt class="py-line">            <tt class="py-name">times</tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-op">]</tt> </tt>
<a name="L782"></a><tt class="py-lineno"> 782</tt>  <tt class="py-line">            <tt class="py-keyword">for</tt> <tt class="py-name">key</tt> <tt class="py-keyword">in</tt> <tt class="py-name">keys</tt><tt class="py-op">:</tt> </tt>
<a name="L783"></a><tt class="py-lineno"> 783</tt>  <tt class="py-line">                <tt class="py-comment"># The values.</tt> </tt>
<a name="L784"></a><tt class="py-lineno"> 784</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">sim_index</tt> <tt class="py-op">==</tt> <tt class="py-name">None</tt><tt class="py-op">:</tt> </tt>
<a name="L785"></a><tt class="py-lineno"> 785</tt>  <tt class="py-line">                    <tt class="py-name">values</tt><tt class="py-op">.</tt><tt id="link-283" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-283', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt id="link-284" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-284', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">intensities</tt><tt class="py-op">[</tt><tt class="py-name">key</tt><tt class="py-op">]</tt><tt class="py-op">)</tt> </tt>
<a name="L786"></a><tt class="py-lineno"> 786</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L787"></a><tt class="py-lineno"> 787</tt>  <tt class="py-line">                    <tt class="py-name">values</tt><tt class="py-op">.</tt><tt id="link-285" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-285', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt id="link-286" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-286', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">sim_intensities</tt><tt class="py-op">[</tt><tt class="py-name">sim_index</tt><tt class="py-op">]</tt><tt class="py-op">[</tt><tt class="py-name">key</tt><tt class="py-op">]</tt><tt class="py-op">)</tt> </tt>
<a name="L788"></a><tt class="py-lineno"> 788</tt>  <tt class="py-line"> </tt>
<a name="L789"></a><tt class="py-lineno"> 789</tt>  <tt class="py-line">                <tt class="py-comment"># The errors.</tt> </tt>
<a name="L790"></a><tt class="py-lineno"> 790</tt>  <tt class="py-line">                <tt id="link-287" class="py-name"><a title="minfx.errors" class="py-name" href="#" onclick="return doclink('link-287', 'errors', 'link-102');">errors</a></tt><tt class="py-op">.</tt><tt id="link-288" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-288', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt id="link-289" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-289', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">intensity_err</tt><tt class="py-op">[</tt><tt class="py-name">key</tt><tt class="py-op">]</tt><tt class="py-op">)</tt> </tt>
<a name="L791"></a><tt class="py-lineno"> 791</tt>  <tt class="py-line"> </tt>
<a name="L792"></a><tt class="py-lineno"> 792</tt>  <tt class="py-line">                <tt class="py-comment"># The relaxation times.</tt> </tt>
<a name="L793"></a><tt class="py-lineno"> 793</tt>  <tt class="py-line">                <tt class="py-name">times</tt><tt class="py-op">.</tt><tt id="link-290" class="py-name"><a title="data.align_tensor.AlignTensorSimList.append
data.diff_tensor.DiffTensorSimList.append" class="py-name" href="#" onclick="return doclink('link-290', 'append', 'link-59');">append</a></tt><tt class="py-op">(</tt><tt class="py-name">cdp</tt><tt class="py-op">.</tt><tt class="py-name">relax_times</tt><tt class="py-op">[</tt><tt class="py-name">key</tt><tt class="py-op">]</tt><tt class="py-op">)</tt> </tt>
<a name="L794"></a><tt class="py-lineno"> 794</tt>  <tt class="py-line"> </tt>
<a name="L795"></a><tt class="py-lineno"> 795</tt>  <tt class="py-line">            <tt id="link-291" class="py-name"><a title="generic_fns.monte_carlo.setup
gui.user_functions.base.UF_base.setup
prompt.monte_carlo.Monte_carlo.setup
relax_warnings.setup
specific_fns.setup" class="py-name" href="#" onclick="return doclink('link-291', 'setup', 'link-32');">setup</a></tt><tt class="py-op">(</tt><tt class="py-name">num_params</tt><tt class="py-op">=</tt><tt class="py-name">len</tt><tt class="py-op">(</tt><tt id="link-292" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-292', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">params</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt class="py-name">num_times</tt><tt class="py-op">=</tt><tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">cdp</tt><tt class="py-op">.</tt><tt class="py-name">relax_times</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt class="py-name">values</tt><tt class="py-op">=</tt><tt class="py-name">values</tt><tt class="py-op">,</tt> <tt class="py-name">sd</tt><tt class="py-op">=</tt><tt id="link-293" class="py-name"><a title="minfx.errors" class="py-name" href="#" onclick="return doclink('link-293', 'errors', 'link-102');">errors</a></tt><tt class="py-op">,</tt> <tt class="py-name">relax_times</tt><tt class="py-op">=</tt><tt class="py-name">times</tt><tt class="py-op">,</tt> <tt class="py-name">scaling_matrix</tt><tt class="py-op">=</tt><tt class="py-name">scaling_matrix</tt><tt class="py-op">.</tt><tt class="py-name">tolist</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L796"></a><tt class="py-lineno"> 796</tt>  <tt class="py-line"> </tt>
<a name="L797"></a><tt class="py-lineno"> 797</tt>  <tt class="py-line"> </tt>
<a name="L798"></a><tt class="py-lineno"> 798</tt>  <tt class="py-line">            <tt class="py-comment"># Setup the minimisation algorithm when constraints are present.</tt> </tt>
<a name="L799"></a><tt class="py-lineno"> 799</tt>  <tt class="py-line">            <tt class="py-comment">################################################################</tt> </tt>
<a name="L800"></a><tt class="py-lineno"> 800</tt>  <tt class="py-line"> </tt>
<a name="L801"></a><tt class="py-lineno"> 801</tt>  <tt class="py-line">            <tt class="py-keyword">if</tt> <tt class="py-name">constraints</tt> <tt class="py-keyword">and</tt> <tt class="py-keyword">not</tt> <tt class="py-name">match</tt><tt class="py-op">(</tt><tt class="py-string">'^[Gg]rid'</tt><tt class="py-op">,</tt> <tt class="py-name">min_algor</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L802"></a><tt class="py-lineno"> 802</tt>  <tt class="py-line">                <tt class="py-name">algor</tt> <tt class="py-op">=</tt> <tt class="py-name">min_options</tt><tt class="py-op">[</tt><tt class="py-number">0</tt><tt class="py-op">]</tt> </tt>
<a name="L803"></a><tt class="py-lineno"> 803</tt>  <tt class="py-line">            <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L804"></a><tt class="py-lineno"> 804</tt>  <tt class="py-line">                <tt class="py-name">algor</tt> <tt class="py-op">=</tt> <tt class="py-name">min_algor</tt> </tt>
<a name="L805"></a><tt class="py-lineno"> 805</tt>  <tt class="py-line"> </tt>
<a name="L806"></a><tt class="py-lineno"> 806</tt>  <tt class="py-line"> </tt>
<a name="L807"></a><tt class="py-lineno"> 807</tt>  <tt class="py-line">            <tt class="py-comment"># Levenberg-Marquardt minimisation.</tt> </tt>
<a name="L808"></a><tt class="py-lineno"> 808</tt>  <tt class="py-line">            <tt class="py-comment">###################################</tt> </tt>
<a name="L809"></a><tt class="py-lineno"> 809</tt>  <tt class="py-line"> </tt>
<a name="L810"></a><tt class="py-lineno"> 810</tt>  <tt class="py-line">            <tt class="py-keyword">if</tt> <tt class="py-name">match</tt><tt class="py-op">(</tt><tt class="py-string">'[Ll][Mm]$'</tt><tt class="py-op">,</tt> <tt class="py-name">algor</tt><tt class="py-op">)</tt> <tt class="py-keyword">or</tt> <tt class="py-name">match</tt><tt class="py-op">(</tt><tt class="py-string">'[Ll]evenburg-[Mm]arquardt$'</tt><tt class="py-op">,</tt> <tt class="py-name">algor</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L811"></a><tt class="py-lineno"> 811</tt>  <tt class="py-line">                <tt class="py-comment"># Reconstruct the error data structure.</tt> </tt>
<a name="L812"></a><tt class="py-lineno"> 812</tt>  <tt class="py-line">                <tt class="py-name">lm_error</tt> <tt class="py-op">=</tt> <tt class="py-name">zeros</tt><tt class="py-op">(</tt><tt class="py-name">len</tt><tt class="py-op">(</tt><tt id="link-294" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-294', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">relax_times</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt class="py-name">float64</tt><tt class="py-op">)</tt> </tt>
<a name="L813"></a><tt class="py-lineno"> 813</tt>  <tt class="py-line">                <tt class="py-name">index</tt> <tt class="py-op">=</tt> <tt class="py-number">0</tt> </tt>
<a name="L814"></a><tt class="py-lineno"> 814</tt>  <tt class="py-line">                <tt class="py-keyword">for</tt> <tt class="py-name">k</tt> <tt class="py-keyword">in</tt> <tt class="py-name">xrange</tt><tt class="py-op">(</tt><tt class="py-name">len</tt><tt class="py-op">(</tt><tt id="link-295" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-295', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">relax_times</tt><tt class="py-op">)</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L815"></a><tt class="py-lineno"> 815</tt>  <tt class="py-line">                    <tt class="py-name">lm_error</tt><tt class="py-op">[</tt><tt class="py-name">index</tt><tt class="py-op">:</tt><tt class="py-name">index</tt><tt class="py-op">+</tt><tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">relax_error</tt><tt class="py-op">[</tt><tt class="py-name">k</tt><tt class="py-op">]</tt><tt class="py-op">)</tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt class="py-name">relax_error</tt><tt class="py-op">[</tt><tt class="py-name">k</tt><tt class="py-op">]</tt> </tt>
<a name="L816"></a><tt class="py-lineno"> 816</tt>  <tt class="py-line">                    <tt class="py-name">index</tt> <tt class="py-op">=</tt> <tt class="py-name">index</tt> <tt class="py-op">+</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">relax_error</tt><tt class="py-op">[</tt><tt class="py-name">k</tt><tt class="py-op">]</tt><tt class="py-op">)</tt> </tt>
<a name="L817"></a><tt class="py-lineno"> 817</tt>  <tt class="py-line"> </tt>
<a name="L818"></a><tt class="py-lineno"> 818</tt>  <tt class="py-line">                <tt class="py-name">min_options</tt> <tt class="py-op">=</tt> <tt class="py-name">min_options</tt> <tt class="py-op">+</tt> <tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-296" class="py-name"><a title="auto_analyses.relax_fit
prompt.relax_fit
script-sconstruct.Main.relax_fit
specific_fns.relax_fit
test_suite.system_tests.relax_fit" class="py-name" href="#" onclick="return doclink('link-296', 'relax_fit', 'link-31');">relax_fit</a></tt><tt class="py-op">.</tt><tt id="link-297" class="py-name" targets="Method maths_fns.mf.Mf.lm_dri()=maths_fns.mf.Mf-class.html#lm_dri"><a title="maths_fns.mf.Mf.lm_dri" class="py-name" href="#" onclick="return doclink('link-297', 'lm_dri', 'link-297');">lm_dri</a></tt><tt class="py-op">,</tt> <tt class="py-name">lm_error</tt><tt class="py-op">)</tt> </tt>
<a name="L819"></a><tt class="py-lineno"> 819</tt>  <tt class="py-line"> </tt>
<a name="L820"></a><tt class="py-lineno"> 820</tt>  <tt class="py-line"> </tt>
<a name="L821"></a><tt class="py-lineno"> 821</tt>  <tt class="py-line">            <tt class="py-comment"># Minimisation.</tt> </tt>
<a name="L822"></a><tt class="py-lineno"> 822</tt>  <tt class="py-line">            <tt class="py-comment">###############</tt> </tt>
<a name="L823"></a><tt class="py-lineno"> 823</tt>  <tt class="py-line"> </tt>
<a name="L824"></a><tt class="py-lineno"> 824</tt>  <tt class="py-line">            <tt class="py-comment"># Grid search.</tt> </tt>
<a name="L825"></a><tt class="py-lineno"> 825</tt>  <tt class="py-line">            <tt class="py-keyword">if</tt> <tt id="link-298" class="py-name"><a title="generic_fns.relax_re.search" class="py-name" href="#" onclick="return doclink('link-298', 'search', 'link-6');">search</a></tt><tt class="py-op">(</tt><tt class="py-string">'^[Gg]rid'</tt><tt class="py-op">,</tt> <tt class="py-name">min_algor</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L826"></a><tt class="py-lineno"> 826</tt>  <tt class="py-line">                <tt id="link-299" class="py-name"><a title="generic_fns.results
gui.analyses.results
prompt.results
specific_fns.model_free.results
test_suite.system_tests.results" class="py-name" href="#" onclick="return doclink('link-299', 'results', 'link-113');">results</a></tt> <tt class="py-op">=</tt> <tt id="link-300" class="py-name"><a title="minfx.grid
minfx.grid.grid" class="py-name" href="#" onclick="return doclink('link-300', 'grid', 'link-4');">grid</a></tt><tt class="py-op">(</tt><tt id="link-301" class="py-name"><a title="maths_fns.consistency_tests.Consistency.func
maths_fns.jw_mapping.Mapping.func
minfx.constraint_linear.Constraint_linear.func" class="py-name" href="#" onclick="return doclink('link-301', 'func', 'link-33');">func</a></tt><tt class="py-op">=</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-302" class="py-name"><a title="specific_fns.relax_fit.Relax_fit._func" class="py-name" href="#" onclick="return doclink('link-302', '_func', 'link-112');">_func</a></tt><tt class="py-op">,</tt> <tt class="py-name">args</tt><tt class="py-op">=</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt class="py-name">num_incs</tt><tt class="py-op">=</tt><tt class="py-name">inc</tt><tt class="py-op">,</tt> <tt class="py-name">lower</tt><tt class="py-op">=</tt><tt class="py-name">lower</tt><tt class="py-op">,</tt> <tt class="py-name">upper</tt><tt class="py-op">=</tt><tt class="py-name">upper</tt><tt class="py-op">,</tt> <tt class="py-name">A</tt><tt class="py-op">=</tt><tt class="py-name">A</tt><tt class="py-op">,</tt> <tt class="py-name">b</tt><tt class="py-op">=</tt><tt class="py-name">b</tt><tt class="py-op">,</tt> <tt id="link-303" class="py-name"><a title="bmrblib.pystarlib.Text.verbosity
bmrblib.pystarlib.verbosity" class="py-name" href="#" onclick="return doclink('link-303', 'verbosity', 'link-251');">verbosity</a></tt><tt class="py-op">=</tt><tt id="link-304" class="py-name"><a title="bmrblib.pystarlib.Text.verbosity
bmrblib.pystarlib.verbosity" class="py-name" href="#" onclick="return doclink('link-304', 'verbosity', 'link-251');">verbosity</a></tt><tt class="py-op">)</tt> </tt>
<a name="L827"></a><tt class="py-lineno"> 827</tt>  <tt class="py-line"> </tt>
<a name="L828"></a><tt class="py-lineno"> 828</tt>  <tt class="py-line">                <tt class="py-comment"># Unpack the results.</tt> </tt>
<a name="L829"></a><tt class="py-lineno"> 829</tt>  <tt class="py-line">                <tt class="py-name">param_vector</tt><tt class="py-op">,</tt> <tt id="link-305" class="py-name"><a title="maths_fns.chi2
maths_fns.chi2.chi2" class="py-name" href="#" onclick="return doclink('link-305', 'chi2', 'link-121');">chi2</a></tt><tt class="py-op">,</tt> <tt class="py-name">iter_count</tt><tt class="py-op">,</tt> <tt class="py-name">warning</tt> <tt class="py-op">=</tt> <tt id="link-306" class="py-name"><a title="generic_fns.results
gui.analyses.results
prompt.results
specific_fns.model_free.results
test_suite.system_tests.results" class="py-name" href="#" onclick="return doclink('link-306', 'results', 'link-113');">results</a></tt> </tt>
<a name="L830"></a><tt class="py-lineno"> 830</tt>  <tt class="py-line">                <tt class="py-name">f_count</tt> <tt class="py-op">=</tt> <tt class="py-name">iter_count</tt> </tt>
<a name="L831"></a><tt class="py-lineno"> 831</tt>  <tt class="py-line">                <tt class="py-name">g_count</tt> <tt class="py-op">=</tt> <tt class="py-number">0.0</tt> </tt>
<a name="L832"></a><tt class="py-lineno"> 832</tt>  <tt class="py-line">                <tt class="py-name">h_count</tt> <tt class="py-op">=</tt> <tt class="py-number">0.0</tt> </tt>
<a name="L833"></a><tt class="py-lineno"> 833</tt>  <tt class="py-line"> </tt>
<a name="L834"></a><tt class="py-lineno"> 834</tt>  <tt class="py-line">            <tt class="py-comment"># Minimisation.</tt> </tt>
<a name="L835"></a><tt class="py-lineno"> 835</tt>  <tt class="py-line">            <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L836"></a><tt class="py-lineno"> 836</tt>  <tt class="py-line">                <tt id="link-307" class="py-name"><a title="generic_fns.results
gui.analyses.results
prompt.results
specific_fns.model_free.results
test_suite.system_tests.results" class="py-name" href="#" onclick="return doclink('link-307', 'results', 'link-113');">results</a></tt> <tt class="py-op">=</tt> <tt id="link-308" class="py-name"><a title="minfx.generic.generic_minimise" class="py-name" href="#" onclick="return doclink('link-308', 'generic_minimise', 'link-2');">generic_minimise</a></tt><tt class="py-op">(</tt><tt id="link-309" class="py-name"><a title="maths_fns.consistency_tests.Consistency.func
maths_fns.jw_mapping.Mapping.func
minfx.constraint_linear.Constraint_linear.func" class="py-name" href="#" onclick="return doclink('link-309', 'func', 'link-33');">func</a></tt><tt class="py-op">=</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-310" class="py-name"><a title="specific_fns.relax_fit.Relax_fit._func" class="py-name" href="#" onclick="return doclink('link-310', '_func', 'link-112');">_func</a></tt><tt class="py-op">,</tt> <tt id="link-311" class="py-name"><a title="minfx.constraint_linear.Constraint_linear.dfunc" class="py-name" href="#" onclick="return doclink('link-311', 'dfunc', 'link-34');">dfunc</a></tt><tt class="py-op">=</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-312" class="py-name" targets="Method specific_fns.relax_fit.Relax_fit._dfunc()=specific_fns.relax_fit.Relax_fit-class.html#_dfunc"><a title="specific_fns.relax_fit.Relax_fit._dfunc" class="py-name" href="#" onclick="return doclink('link-312', '_dfunc', 'link-312');">_dfunc</a></tt><tt class="py-op">,</tt> <tt class="py-name">d2func</tt><tt class="py-op">=</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-313" class="py-name" targets="Method specific_fns.relax_fit.Relax_fit._d2func()=specific_fns.relax_fit.Relax_fit-class.html#_d2func"><a title="specific_fns.relax_fit.Relax_fit._d2func" class="py-name" href="#" onclick="return doclink('link-313', '_d2func', 'link-313');">_d2func</a></tt><tt class="py-op">,</tt> <tt class="py-name">args</tt><tt class="py-op">=</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt class="py-name">x0</tt><tt class="py-op">=</tt><tt class="py-name">param_vector</tt><tt class="py-op">,</tt> <tt class="py-name">min_algor</tt><tt class="py-op">=</tt><tt class="py-name">min_algor</tt><tt class="py-op">,</tt> <tt class="py-name">min_options</tt><tt class="py-op">=</tt><tt class="py-name">min_options</tt><tt class="py-op">,</tt> <tt class="py-name">func_tol</tt><tt class="py-op">=</tt><tt class="py-name">func_tol</tt><tt class="py-op">,</tt> <tt class="py-name">grad_tol</tt><tt class="py-op">=</tt><tt class="py-name">grad_tol</tt><tt class="py-op">,</tt> <tt class="py-name">maxiter</tt><tt class="py-op">=</tt><tt class="py-name">max_iterations</tt><tt class="py-op">,</tt> <tt class="py-name">A</tt><tt class="py-op">=</tt><tt class="py-name">A</tt><tt class="py-op">,</tt> <tt class="py-name">b</tt><tt class="py-op">=</tt><tt class="py-name">b</tt><tt class="py-op">,</tt> <tt class="py-name">full_output</tt><tt class="py-op">=</tt><tt class="py-name">True</tt><tt class="py-op">,</tt> <tt class="py-name">print_flag</tt><tt class="py-op">=</tt><tt id="link-314" class="py-name"><a title="bmrblib.pystarlib.Text.verbosity
bmrblib.pystarlib.verbosity" class="py-name" href="#" onclick="return doclink('link-314', 'verbosity', 'link-251');">verbosity</a></tt><tt class="py-op">)</tt> </tt>
<a name="L837"></a><tt class="py-lineno"> 837</tt>  <tt class="py-line"> </tt>
<a name="L838"></a><tt class="py-lineno"> 838</tt>  <tt class="py-line">                <tt class="py-comment"># Unpack the results.</tt> </tt>
<a name="L839"></a><tt class="py-lineno"> 839</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt id="link-315" class="py-name"><a title="generic_fns.results
gui.analyses.results
prompt.results
specific_fns.model_free.results
test_suite.system_tests.results" class="py-name" href="#" onclick="return doclink('link-315', 'results', 'link-113');">results</a></tt> <tt class="py-op">==</tt> <tt class="py-name">None</tt><tt class="py-op">:</tt> </tt>
<a name="L840"></a><tt class="py-lineno"> 840</tt>  <tt class="py-line">                    <tt class="py-keyword">return</tt> </tt>
<a name="L841"></a><tt class="py-lineno"> 841</tt>  <tt class="py-line">                <tt class="py-name">param_vector</tt><tt class="py-op">,</tt> <tt id="link-316" class="py-name"><a title="maths_fns.chi2
maths_fns.chi2.chi2" class="py-name" href="#" onclick="return doclink('link-316', 'chi2', 'link-121');">chi2</a></tt><tt class="py-op">,</tt> <tt class="py-name">iter_count</tt><tt class="py-op">,</tt> <tt class="py-name">f_count</tt><tt class="py-op">,</tt> <tt class="py-name">g_count</tt><tt class="py-op">,</tt> <tt class="py-name">h_count</tt><tt class="py-op">,</tt> <tt class="py-name">warning</tt> <tt class="py-op">=</tt> <tt id="link-317" class="py-name"><a title="generic_fns.results
gui.analyses.results
prompt.results
specific_fns.model_free.results
test_suite.system_tests.results" class="py-name" href="#" onclick="return doclink('link-317', 'results', 'link-113');">results</a></tt> </tt>
<a name="L842"></a><tt class="py-lineno"> 842</tt>  <tt class="py-line"> </tt>
<a name="L843"></a><tt class="py-lineno"> 843</tt>  <tt class="py-line">            <tt class="py-comment"># Scaling.</tt> </tt>
<a name="L844"></a><tt class="py-lineno"> 844</tt>  <tt class="py-line">            <tt class="py-keyword">if</tt> <tt class="py-name">scaling</tt><tt class="py-op">:</tt> </tt>
<a name="L845"></a><tt class="py-lineno"> 845</tt>  <tt class="py-line">                <tt class="py-name">param_vector</tt> <tt class="py-op">=</tt> <tt class="py-name">dot</tt><tt class="py-op">(</tt><tt class="py-name">scaling_matrix</tt><tt class="py-op">,</tt> <tt class="py-name">param_vector</tt><tt class="py-op">)</tt> </tt>
<a name="L846"></a><tt class="py-lineno"> 846</tt>  <tt class="py-line"> </tt>
<a name="L847"></a><tt class="py-lineno"> 847</tt>  <tt class="py-line">            <tt class="py-comment"># Disassemble the parameter vector.</tt> </tt>
<a name="L848"></a><tt class="py-lineno"> 848</tt>  <tt class="py-line">            <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-318" class="py-name" targets="Method specific_fns.model_free.mf_minimise.Mf_minimise._disassemble_param_vector()=specific_fns.model_free.mf_minimise.Mf_minimise-class.html#_disassemble_param_vector,Method specific_fns.n_state_model.N_state_model._disassemble_param_vector()=specific_fns.n_state_model.N_state_model-class.html#_disassemble_param_vector,Method specific_fns.relax_fit.Relax_fit._disassemble_param_vector()=specific_fns.relax_fit.Relax_fit-class.html#_disassemble_param_vector"><a title="specific_fns.model_free.mf_minimise.Mf_minimise._disassemble_param_vector
specific_fns.n_state_model.N_state_model._disassemble_param_vector
specific_fns.relax_fit.Relax_fit._disassemble_param_vector" class="py-name" href="#" onclick="return doclink('link-318', '_disassemble_param_vector', 'link-318');">_disassemble_param_vector</a></tt><tt class="py-op">(</tt><tt class="py-name">param_vector</tt><tt class="py-op">=</tt><tt class="py-name">param_vector</tt><tt class="py-op">,</tt> <tt id="link-319" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-319', 'spin', 'link-56');">spin</a></tt><tt class="py-op">=</tt><tt id="link-320" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-320', 'spin', 'link-56');">spin</a></tt><tt class="py-op">,</tt> <tt class="py-name">sim_index</tt><tt class="py-op">=</tt><tt class="py-name">sim_index</tt><tt class="py-op">)</tt> </tt>
<a name="L849"></a><tt class="py-lineno"> 849</tt>  <tt class="py-line"> </tt>
<a name="L850"></a><tt class="py-lineno"> 850</tt>  <tt class="py-line">            <tt class="py-comment"># Monte Carlo minimisation statistics.</tt> </tt>
<a name="L851"></a><tt class="py-lineno"> 851</tt>  <tt class="py-line">            <tt class="py-keyword">if</tt> <tt class="py-name">sim_index</tt> <tt class="py-op">!=</tt> <tt class="py-name">None</tt><tt class="py-op">:</tt> </tt>
<a name="L852"></a><tt class="py-lineno"> 852</tt>  <tt class="py-line">                <tt class="py-comment"># Chi-squared statistic.</tt> </tt>
<a name="L853"></a><tt class="py-lineno"> 853</tt>  <tt class="py-line">                <tt id="link-321" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-321', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">chi2_sim</tt><tt class="py-op">[</tt><tt class="py-name">sim_index</tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt id="link-322" class="py-name"><a title="maths_fns.chi2
maths_fns.chi2.chi2" class="py-name" href="#" onclick="return doclink('link-322', 'chi2', 'link-121');">chi2</a></tt> </tt>
<a name="L854"></a><tt class="py-lineno"> 854</tt>  <tt class="py-line"> </tt>
<a name="L855"></a><tt class="py-lineno"> 855</tt>  <tt class="py-line">                <tt class="py-comment"># Iterations.</tt> </tt>
<a name="L856"></a><tt class="py-lineno"> 856</tt>  <tt class="py-line">                <tt id="link-323" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-323', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">iter_sim</tt><tt class="py-op">[</tt><tt class="py-name">sim_index</tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt class="py-name">iter_count</tt> </tt>
<a name="L857"></a><tt class="py-lineno"> 857</tt>  <tt class="py-line"> </tt>
<a name="L858"></a><tt class="py-lineno"> 858</tt>  <tt class="py-line">                <tt class="py-comment"># Function evaluations.</tt> </tt>
<a name="L859"></a><tt class="py-lineno"> 859</tt>  <tt class="py-line">                <tt id="link-324" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-324', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">f_count_sim</tt><tt class="py-op">[</tt><tt class="py-name">sim_index</tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt class="py-name">f_count</tt> </tt>
<a name="L860"></a><tt class="py-lineno"> 860</tt>  <tt class="py-line"> </tt>
<a name="L861"></a><tt class="py-lineno"> 861</tt>  <tt class="py-line">                <tt class="py-comment"># Gradient evaluations.</tt> </tt>
<a name="L862"></a><tt class="py-lineno"> 862</tt>  <tt class="py-line">                <tt id="link-325" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-325', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">g_count_sim</tt><tt class="py-op">[</tt><tt class="py-name">sim_index</tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt class="py-name">g_count</tt> </tt>
<a name="L863"></a><tt class="py-lineno"> 863</tt>  <tt class="py-line"> </tt>
<a name="L864"></a><tt class="py-lineno"> 864</tt>  <tt class="py-line">                <tt class="py-comment"># Hessian evaluations.</tt> </tt>
<a name="L865"></a><tt class="py-lineno"> 865</tt>  <tt class="py-line">                <tt id="link-326" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-326', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">h_count_sim</tt><tt class="py-op">[</tt><tt class="py-name">sim_index</tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt class="py-name">h_count</tt> </tt>
<a name="L866"></a><tt class="py-lineno"> 866</tt>  <tt class="py-line"> </tt>
<a name="L867"></a><tt class="py-lineno"> 867</tt>  <tt class="py-line">                <tt class="py-comment"># Warning.</tt> </tt>
<a name="L868"></a><tt class="py-lineno"> 868</tt>  <tt class="py-line">                <tt id="link-327" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-327', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">warning_sim</tt><tt class="py-op">[</tt><tt class="py-name">sim_index</tt><tt class="py-op">]</tt> <tt class="py-op">=</tt> <tt class="py-name">warning</tt> </tt>
<a name="L869"></a><tt class="py-lineno"> 869</tt>  <tt class="py-line"> </tt>
<a name="L870"></a><tt class="py-lineno"> 870</tt>  <tt class="py-line"> </tt>
<a name="L871"></a><tt class="py-lineno"> 871</tt>  <tt class="py-line">            <tt class="py-comment"># Normal statistics.</tt> </tt>
<a name="L872"></a><tt class="py-lineno"> 872</tt>  <tt class="py-line">            <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L873"></a><tt class="py-lineno"> 873</tt>  <tt class="py-line">                <tt class="py-comment"># Chi-squared statistic.</tt> </tt>
<a name="L874"></a><tt class="py-lineno"> 874</tt>  <tt class="py-line">                <tt id="link-328" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-328', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt id="link-329" class="py-name"><a title="maths_fns.chi2
maths_fns.chi2.chi2" class="py-name" href="#" onclick="return doclink('link-329', 'chi2', 'link-121');">chi2</a></tt> <tt class="py-op">=</tt> <tt id="link-330" class="py-name"><a title="maths_fns.chi2
maths_fns.chi2.chi2" class="py-name" href="#" onclick="return doclink('link-330', 'chi2', 'link-121');">chi2</a></tt> </tt>
<a name="L875"></a><tt class="py-lineno"> 875</tt>  <tt class="py-line"> </tt>
<a name="L876"></a><tt class="py-lineno"> 876</tt>  <tt class="py-line">                <tt class="py-comment"># Iterations.</tt> </tt>
<a name="L877"></a><tt class="py-lineno"> 877</tt>  <tt class="py-line">                <tt id="link-331" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-331', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">iter</tt> <tt class="py-op">=</tt> <tt class="py-name">iter_count</tt> </tt>
<a name="L878"></a><tt class="py-lineno"> 878</tt>  <tt class="py-line"> </tt>
<a name="L879"></a><tt class="py-lineno"> 879</tt>  <tt class="py-line">                <tt class="py-comment"># Function evaluations.</tt> </tt>
<a name="L880"></a><tt class="py-lineno"> 880</tt>  <tt class="py-line">                <tt id="link-332" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-332', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">f_count</tt> <tt class="py-op">=</tt> <tt class="py-name">f_count</tt> </tt>
<a name="L881"></a><tt class="py-lineno"> 881</tt>  <tt class="py-line"> </tt>
<a name="L882"></a><tt class="py-lineno"> 882</tt>  <tt class="py-line">                <tt class="py-comment"># Gradient evaluations.</tt> </tt>
<a name="L883"></a><tt class="py-lineno"> 883</tt>  <tt class="py-line">                <tt id="link-333" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-333', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">g_count</tt> <tt class="py-op">=</tt> <tt class="py-name">g_count</tt> </tt>
<a name="L884"></a><tt class="py-lineno"> 884</tt>  <tt class="py-line"> </tt>
<a name="L885"></a><tt class="py-lineno"> 885</tt>  <tt class="py-line">                <tt class="py-comment"># Hessian evaluations.</tt> </tt>
<a name="L886"></a><tt class="py-lineno"> 886</tt>  <tt class="py-line">                <tt id="link-334" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-334', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">h_count</tt> <tt class="py-op">=</tt> <tt class="py-name">h_count</tt> </tt>
<a name="L887"></a><tt class="py-lineno"> 887</tt>  <tt class="py-line"> </tt>
<a name="L888"></a><tt class="py-lineno"> 888</tt>  <tt class="py-line">                <tt class="py-comment"># Warning.</tt> </tt>
<a name="L889"></a><tt class="py-lineno"> 889</tt>  <tt class="py-line">                <tt id="link-335" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-335', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">warning</tt> <tt class="py-op">=</tt> <tt class="py-name">warning</tt> </tt>
</div><a name="L890"></a><tt class="py-lineno"> 890</tt>  <tt class="py-line"> </tt>
<a name="L891"></a><tt class="py-lineno"> 891</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit.overfit_deselect"></a><div id="Relax_fit.overfit_deselect-def"><a name="L892"></a><tt class="py-lineno"> 892</tt> <a class="py-toggle" href="#" id="Relax_fit.overfit_deselect-toggle" onclick="return toggle('Relax_fit.overfit_deselect');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#overfit_deselect">overfit_deselect</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit.overfit_deselect-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit.overfit_deselect-expanded"><a name="L893"></a><tt class="py-lineno"> 893</tt>  <tt class="py-line">        <tt class="py-docstring">"""Deselect spins which have insufficient data to support minimisation."""</tt> </tt>
<a name="L894"></a><tt class="py-lineno"> 894</tt>  <tt class="py-line"> </tt>
<a name="L895"></a><tt class="py-lineno"> 895</tt>  <tt class="py-line">        <tt class="py-comment"># Print out.</tt> </tt>
<a name="L896"></a><tt class="py-lineno"> 896</tt>  <tt class="py-line">        <tt class="py-keyword">print</tt><tt class="py-op">(</tt><tt class="py-string">"\n\nOver-fit spin deselection.\n"</tt><tt class="py-op">)</tt> </tt>
<a name="L897"></a><tt class="py-lineno"> 897</tt>  <tt class="py-line"> </tt>
<a name="L898"></a><tt class="py-lineno"> 898</tt>  <tt class="py-line">        <tt class="py-comment"># Test the sequence data exists.</tt> </tt>
<a name="L899"></a><tt class="py-lineno"> 899</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt id="link-336" class="py-name"><a title="generic_fns.mol_res_spin.exists_mol_res_spin_data" class="py-name" href="#" onclick="return doclink('link-336', 'exists_mol_res_spin_data', 'link-17');">exists_mol_res_spin_data</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L900"></a><tt class="py-lineno"> 900</tt>  <tt class="py-line">            <tt class="py-keyword">raise</tt> <tt id="link-337" class="py-name"><a title="relax_errors.RelaxNoSequenceError" class="py-name" href="#" onclick="return doclink('link-337', 'RelaxNoSequenceError', 'link-26');">RelaxNoSequenceError</a></tt> </tt>
<a name="L901"></a><tt class="py-lineno"> 901</tt>  <tt class="py-line"> </tt>
<a name="L902"></a><tt class="py-lineno"> 902</tt>  <tt class="py-line">        <tt class="py-comment"># Loop over spin data.</tt> </tt>
<a name="L903"></a><tt class="py-lineno"> 903</tt>  <tt class="py-line">        <tt class="py-keyword">for</tt> <tt id="link-338" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-338', 'spin', 'link-56');">spin</a></tt><tt class="py-op">,</tt> <tt class="py-name">spin_id</tt> <tt class="py-keyword">in</tt> <tt id="link-339" class="py-name"><a title="generic_fns.mol_res_spin.spin_loop" class="py-name" href="#" onclick="return doclink('link-339', 'spin_loop', 'link-20');">spin_loop</a></tt><tt class="py-op">(</tt><tt class="py-name">return_id</tt><tt class="py-op">=</tt><tt class="py-name">True</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L904"></a><tt class="py-lineno"> 904</tt>  <tt class="py-line">            <tt class="py-comment"># Skip deselected spins.</tt> </tt>
<a name="L905"></a><tt class="py-lineno"> 905</tt>  <tt class="py-line">            <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt id="link-340" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-340', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt id="link-341" class="py-name"><a title="generic_fns.model_selection.select
gui.user_functions.base.File_selector.select
prompt.select" class="py-name" href="#" onclick="return doclink('link-341', 'select', 'link-167');">select</a></tt><tt class="py-op">:</tt> </tt>
<a name="L906"></a><tt class="py-lineno"> 906</tt>  <tt class="py-line">                <tt class="py-keyword">continue</tt> </tt>
<a name="L907"></a><tt class="py-lineno"> 907</tt>  <tt class="py-line"> </tt>
<a name="L908"></a><tt class="py-lineno"> 908</tt>  <tt class="py-line">            <tt class="py-comment"># Check if data exists.</tt> </tt>
<a name="L909"></a><tt class="py-lineno"> 909</tt>  <tt class="py-line">            <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt class="py-name">hasattr</tt><tt class="py-op">(</tt><tt id="link-342" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-342', 'spin', 'link-56');">spin</a></tt><tt class="py-op">,</tt> <tt class="py-string">'intensities'</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L910"></a><tt class="py-lineno"> 910</tt>  <tt class="py-line">                <tt class="py-name">warn</tt><tt class="py-op">(</tt><tt id="link-343" class="py-name"><a title="relax_warnings.RelaxDeselectWarning" class="py-name" href="#" onclick="return doclink('link-343', 'RelaxDeselectWarning', 'link-28');">RelaxDeselectWarning</a></tt><tt class="py-op">(</tt><tt class="py-name">spin_id</tt><tt class="py-op">,</tt> <tt class="py-string">'missing intensity data'</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L911"></a><tt class="py-lineno"> 911</tt>  <tt class="py-line">                <tt id="link-344" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-344', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt id="link-345" class="py-name"><a title="generic_fns.model_selection.select
gui.user_functions.base.File_selector.select
prompt.select" class="py-name" href="#" onclick="return doclink('link-345', 'select', 'link-167');">select</a></tt> <tt class="py-op">=</tt> <tt class="py-name">False</tt> </tt>
<a name="L912"></a><tt class="py-lineno"> 912</tt>  <tt class="py-line"> </tt>
<a name="L913"></a><tt class="py-lineno"> 913</tt>  <tt class="py-line">            <tt class="py-comment"># Require 3 or more data points.</tt> </tt>
<a name="L914"></a><tt class="py-lineno"> 914</tt>  <tt class="py-line">            <tt class="py-keyword">elif</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt id="link-346" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-346', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">intensities</tt><tt class="py-op">)</tt> <tt class="py-op">&lt;</tt> <tt class="py-number">3</tt><tt class="py-op">:</tt> </tt>
<a name="L915"></a><tt class="py-lineno"> 915</tt>  <tt class="py-line">                <tt class="py-name">warn</tt><tt class="py-op">(</tt><tt id="link-347" class="py-name"><a title="relax_warnings.RelaxDeselectWarning" class="py-name" href="#" onclick="return doclink('link-347', 'RelaxDeselectWarning', 'link-28');">RelaxDeselectWarning</a></tt><tt class="py-op">(</tt><tt class="py-name">spin_id</tt><tt class="py-op">,</tt> <tt class="py-string">'insufficient data, 3 or more data points are required'</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L916"></a><tt class="py-lineno"> 916</tt>  <tt class="py-line">                <tt id="link-348" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-348', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt id="link-349" class="py-name"><a title="generic_fns.model_selection.select
gui.user_functions.base.File_selector.select
prompt.select" class="py-name" href="#" onclick="return doclink('link-349', 'select', 'link-167');">select</a></tt> <tt class="py-op">=</tt> <tt class="py-name">False</tt> </tt>
</div><a name="L917"></a><tt class="py-lineno"> 917</tt>  <tt class="py-line"> </tt>
<a name="L918"></a><tt class="py-lineno"> 918</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit.return_data"></a><div id="Relax_fit.return_data-def"><a name="L919"></a><tt class="py-lineno"> 919</tt> <a class="py-toggle" href="#" id="Relax_fit.return_data-toggle" onclick="return toggle('Relax_fit.return_data');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#return_data">return_data</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">spin</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit.return_data-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit.return_data-expanded"><a name="L920"></a><tt class="py-lineno"> 920</tt>  <tt class="py-line">        <tt class="py-docstring">"""Function for returning the peak intensity data structure.</tt> </tt>
<a name="L921"></a><tt class="py-lineno"> 921</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L922"></a><tt class="py-lineno"> 922</tt>  <tt class="py-line"><tt class="py-docstring">        @param spin:    The spin container.</tt> </tt>
<a name="L923"></a><tt class="py-lineno"> 923</tt>  <tt class="py-line"><tt class="py-docstring">        @type spin:     SpinContainer instance</tt> </tt>
<a name="L924"></a><tt class="py-lineno"> 924</tt>  <tt class="py-line"><tt class="py-docstring">        @return:        The peak intensity data structure.</tt> </tt>
<a name="L925"></a><tt class="py-lineno"> 925</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:         list of float</tt> </tt>
<a name="L926"></a><tt class="py-lineno"> 926</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L927"></a><tt class="py-lineno"> 927</tt>  <tt class="py-line"> </tt>
<a name="L928"></a><tt class="py-lineno"> 928</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt id="link-350" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-350', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">intensities</tt> </tt>
</div><a name="L929"></a><tt class="py-lineno"> 929</tt>  <tt class="py-line"> </tt>
<a name="L930"></a><tt class="py-lineno"> 930</tt>  <tt class="py-line"> </tt>
<a name="L931"></a><tt class="py-lineno"> 931</tt>  <tt class="py-line">    <tt id="link-351" class="py-name" targets="Variable generic_fns.minimise.return_data_name_doc=generic_fns.minimise-module.html#return_data_name_doc,Variable specific_fns.api_base.API_base.return_data_name_doc=specific_fns.api_base.API_base-class.html#return_data_name_doc,Variable specific_fns.consistency_tests.Consistency_tests.return_data_name_doc=specific_fns.consistency_tests.Consistency_tests-class.html#return_data_name_doc,Variable specific_fns.jw_mapping.Jw_mapping.return_data_name_doc=specific_fns.jw_mapping.Jw_mapping-class.html#return_data_name_doc,Variable specific_fns.model_free.main.Model_free_main.return_data_name_doc=specific_fns.model_free.main.Model_free_main-class.html#return_data_name_doc,Variable specific_fns.n_state_model.N_state_model.return_data_name_doc=specific_fns.n_state_model.N_state_model-class.html#return_data_name_doc,Variable specific_fns.noe.main.Noe_main.return_data_name_doc=specific_fns.noe.main.Noe_main-class.html#return_data_name_doc,Variable specific_fns.relax_fit.Relax_fit.return_data_name_doc=specific_fns.relax_fit.Relax_fit-class.html#return_data_name_doc"><a title="generic_fns.minimise.return_data_name_doc
specific_fns.api_base.API_base.return_data_name_doc
specific_fns.consistency_tests.Consistency_tests.return_data_name_doc
specific_fns.jw_mapping.Jw_mapping.return_data_name_doc
specific_fns.model_free.main.Model_free_main.return_data_name_doc
specific_fns.n_state_model.N_state_model.return_data_name_doc
specific_fns.noe.main.Noe_main.return_data_name_doc
specific_fns.relax_fit.Relax_fit.return_data_name_doc" class="py-name" href="#" onclick="return doclink('link-351', 'return_data_name_doc', 'link-351');">return_data_name_doc</a></tt> <tt class="py-op">=</tt> <tt class="py-string">"""</tt> </tt>
<a name="L932"></a><tt class="py-lineno"> 932</tt>  <tt class="py-line"><tt class="py-string">        Relaxation curve fitting data type string matching patterns</tt> </tt>
<a name="L933"></a><tt class="py-lineno"> 933</tt>  <tt class="py-line"><tt class="py-string">        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</tt> </tt>
<a name="L934"></a><tt class="py-lineno"> 934</tt>  <tt class="py-line"><tt class="py-string"></tt> </tt>
<a name="L935"></a><tt class="py-lineno"> 935</tt>  <tt class="py-line"><tt class="py-string">        __________________________________________________________________________________________</tt> </tt>
<a name="L936"></a><tt class="py-lineno"> 936</tt>  <tt class="py-line"><tt class="py-string">        |                                   |                      |                             |</tt> </tt>
<a name="L937"></a><tt class="py-lineno"> 937</tt>  <tt class="py-line"><tt class="py-string">        | Data type                         | Object name          | Patterns                    |</tt> </tt>
<a name="L938"></a><tt class="py-lineno"> 938</tt>  <tt class="py-line"><tt class="py-string">        |___________________________________|______________________|_____________________________|</tt> </tt>
<a name="L939"></a><tt class="py-lineno"> 939</tt>  <tt class="py-line"><tt class="py-string">        |                                   |                      |                             |</tt> </tt>
<a name="L940"></a><tt class="py-lineno"> 940</tt>  <tt class="py-line"><tt class="py-string">        | Relaxation rate                   | 'rx'                 | '^[Rr]x$'                   |</tt> </tt>
<a name="L941"></a><tt class="py-lineno"> 941</tt>  <tt class="py-line"><tt class="py-string">        |                                   |                      |                             |</tt> </tt>
<a name="L942"></a><tt class="py-lineno"> 942</tt>  <tt class="py-line"><tt class="py-string">        | Peak intensities (series)         | 'intensities'        | '^[Ii]nt$'                  |</tt> </tt>
<a name="L943"></a><tt class="py-lineno"> 943</tt>  <tt class="py-line"><tt class="py-string">        |                                   |                      |                             |</tt> </tt>
<a name="L944"></a><tt class="py-lineno"> 944</tt>  <tt class="py-line"><tt class="py-string">        | Initial intensity                 | 'i0'                 | '^[Ii]0$'                   |</tt> </tt>
<a name="L945"></a><tt class="py-lineno"> 945</tt>  <tt class="py-line"><tt class="py-string">        |                                   |                      |                             |</tt> </tt>
<a name="L946"></a><tt class="py-lineno"> 946</tt>  <tt class="py-line"><tt class="py-string">        | Intensity at infinity             | 'iinf'               | '^[Ii]inf$'                 |</tt> </tt>
<a name="L947"></a><tt class="py-lineno"> 947</tt>  <tt class="py-line"><tt class="py-string">        |                                   |                      |                             |</tt> </tt>
<a name="L948"></a><tt class="py-lineno"> 948</tt>  <tt class="py-line"><tt class="py-string">        | Relaxation period times (series)  | 'relax_times'        | '^[Rr]elax[ -_][Tt]imes$'   |</tt> </tt>
<a name="L949"></a><tt class="py-lineno"> 949</tt>  <tt class="py-line"><tt class="py-string">        |___________________________________|______________________|_____________________________|</tt> </tt>
<a name="L950"></a><tt class="py-lineno"> 950</tt>  <tt class="py-line"><tt class="py-string"></tt> </tt>
<a name="L951"></a><tt class="py-lineno"> 951</tt>  <tt class="py-line"><tt class="py-string">        """</tt> </tt>
<a name="L952"></a><tt class="py-lineno"> 952</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit.return_data_name"></a><div id="Relax_fit.return_data_name-def"><a name="L953"></a><tt class="py-lineno"> 953</tt> <a class="py-toggle" href="#" id="Relax_fit.return_data_name-toggle" onclick="return toggle('Relax_fit.return_data_name');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#return_data_name">return_data_name</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">param</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit.return_data_name-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit.return_data_name-expanded"><a name="L954"></a><tt class="py-lineno"> 954</tt>  <tt class="py-line">        <tt class="py-docstring">"""Return a unique identifying string for the relaxation curve-fitting parameter.</tt> </tt>
<a name="L955"></a><tt class="py-lineno"> 955</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L956"></a><tt class="py-lineno"> 956</tt>  <tt class="py-line"><tt class="py-docstring">        @param param:   The relaxation curve-fitting parameter.</tt> </tt>
<a name="L957"></a><tt class="py-lineno"> 957</tt>  <tt class="py-line"><tt class="py-docstring">        @type param:    str</tt> </tt>
<a name="L958"></a><tt class="py-lineno"> 958</tt>  <tt class="py-line"><tt class="py-docstring">        @return:        The unique parameter identifying string.</tt> </tt>
<a name="L959"></a><tt class="py-lineno"> 959</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:         str</tt> </tt>
<a name="L960"></a><tt class="py-lineno"> 960</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L961"></a><tt class="py-lineno"> 961</tt>  <tt class="py-line"> </tt>
<a name="L962"></a><tt class="py-lineno"> 962</tt>  <tt class="py-line">        <tt class="py-comment"># Relaxation rate.</tt> </tt>
<a name="L963"></a><tt class="py-lineno"> 963</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">match</tt><tt class="py-op">(</tt><tt class="py-string">'^[Rr]x$'</tt><tt class="py-op">,</tt> <tt class="py-name">param</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L964"></a><tt class="py-lineno"> 964</tt>  <tt class="py-line">            <tt class="py-keyword">return</tt> <tt class="py-string">'rx'</tt> </tt>
<a name="L965"></a><tt class="py-lineno"> 965</tt>  <tt class="py-line"> </tt>
<a name="L966"></a><tt class="py-lineno"> 966</tt>  <tt class="py-line">        <tt class="py-comment"># Peak intensities (series)</tt> </tt>
<a name="L967"></a><tt class="py-lineno"> 967</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">match</tt><tt class="py-op">(</tt><tt class="py-string">'^[Ii]nt$'</tt><tt class="py-op">,</tt> <tt class="py-name">param</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L968"></a><tt class="py-lineno"> 968</tt>  <tt class="py-line">            <tt class="py-keyword">return</tt> <tt class="py-string">'intensities'</tt> </tt>
<a name="L969"></a><tt class="py-lineno"> 969</tt>  <tt class="py-line"> </tt>
<a name="L970"></a><tt class="py-lineno"> 970</tt>  <tt class="py-line">        <tt class="py-comment"># Initial intensity.</tt> </tt>
<a name="L971"></a><tt class="py-lineno"> 971</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">match</tt><tt class="py-op">(</tt><tt class="py-string">'^[Ii]0$'</tt><tt class="py-op">,</tt> <tt class="py-name">param</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L972"></a><tt class="py-lineno"> 972</tt>  <tt class="py-line">            <tt class="py-keyword">return</tt> <tt class="py-string">'i0'</tt> </tt>
<a name="L973"></a><tt class="py-lineno"> 973</tt>  <tt class="py-line"> </tt>
<a name="L974"></a><tt class="py-lineno"> 974</tt>  <tt class="py-line">        <tt class="py-comment"># Intensity at infinity.</tt> </tt>
<a name="L975"></a><tt class="py-lineno"> 975</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">match</tt><tt class="py-op">(</tt><tt class="py-string">'^[Ii]inf$'</tt><tt class="py-op">,</tt> <tt class="py-name">param</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L976"></a><tt class="py-lineno"> 976</tt>  <tt class="py-line">            <tt class="py-keyword">return</tt> <tt class="py-string">'iinf'</tt> </tt>
<a name="L977"></a><tt class="py-lineno"> 977</tt>  <tt class="py-line"> </tt>
<a name="L978"></a><tt class="py-lineno"> 978</tt>  <tt class="py-line">        <tt class="py-comment"># Relaxation period times (series).</tt> </tt>
<a name="L979"></a><tt class="py-lineno"> 979</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">match</tt><tt class="py-op">(</tt><tt class="py-string">'^[Rr]elax[ -_][Tt]imes$'</tt><tt class="py-op">,</tt> <tt class="py-name">param</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L980"></a><tt class="py-lineno"> 980</tt>  <tt class="py-line">            <tt class="py-keyword">return</tt> <tt class="py-string">'relax_times'</tt> </tt>
</div><a name="L981"></a><tt class="py-lineno"> 981</tt>  <tt class="py-line"> </tt>
<a name="L982"></a><tt class="py-lineno"> 982</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit.return_error"></a><div id="Relax_fit.return_error-def"><a name="L983"></a><tt class="py-lineno"> 983</tt> <a class="py-toggle" href="#" id="Relax_fit.return_error-toggle" onclick="return toggle('Relax_fit.return_error');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#return_error">return_error</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">data_id</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit.return_error-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit.return_error-expanded"><a name="L984"></a><tt class="py-lineno"> 984</tt>  <tt class="py-line">        <tt class="py-docstring">"""Return the standard deviation data structure.</tt> </tt>
<a name="L985"></a><tt class="py-lineno"> 985</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L986"></a><tt class="py-lineno"> 986</tt>  <tt class="py-line"><tt class="py-docstring">        @param data_id: The spin identification string, as yielded by the base_data_loop() generator</tt> </tt>
<a name="L987"></a><tt class="py-lineno"> 987</tt>  <tt class="py-line"><tt class="py-docstring">                        method.</tt> </tt>
<a name="L988"></a><tt class="py-lineno"> 988</tt>  <tt class="py-line"><tt class="py-docstring">        @type data_id:  str</tt> </tt>
<a name="L989"></a><tt class="py-lineno"> 989</tt>  <tt class="py-line"><tt class="py-docstring">        @return:        The standard deviation data structure.</tt> </tt>
<a name="L990"></a><tt class="py-lineno"> 990</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:         list of float</tt> </tt>
<a name="L991"></a><tt class="py-lineno"> 991</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L992"></a><tt class="py-lineno"> 992</tt>  <tt class="py-line"> </tt>
<a name="L993"></a><tt class="py-lineno"> 993</tt>  <tt class="py-line">        <tt class="py-comment"># Get the spin container.</tt> </tt>
<a name="L994"></a><tt class="py-lineno"> 994</tt>  <tt class="py-line">        <tt id="link-352" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-352', 'spin', 'link-56');">spin</a></tt> <tt class="py-op">=</tt> <tt id="link-353" class="py-name"><a title="generic_fns.mol_res_spin.return_spin" class="py-name" href="#" onclick="return doclink('link-353', 'return_spin', 'link-19');">return_spin</a></tt><tt class="py-op">(</tt><tt class="py-name">data_id</tt><tt class="py-op">)</tt> </tt>
<a name="L995"></a><tt class="py-lineno"> 995</tt>  <tt class="py-line"> </tt>
<a name="L996"></a><tt class="py-lineno"> 996</tt>  <tt class="py-line">        <tt class="py-comment"># Return the error list.</tt> </tt>
<a name="L997"></a><tt class="py-lineno"> 997</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt id="link-354" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-354', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">intensity_err</tt> </tt>
</div><a name="L998"></a><tt class="py-lineno"> 998</tt>  <tt class="py-line"> </tt>
<a name="L999"></a><tt class="py-lineno"> 999</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit.return_grace_string"></a><div id="Relax_fit.return_grace_string-def"><a name="L1000"></a><tt class="py-lineno">1000</tt> <a class="py-toggle" href="#" id="Relax_fit.return_grace_string-toggle" onclick="return toggle('Relax_fit.return_grace_string');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#return_grace_string">return_grace_string</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">param</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit.return_grace_string-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit.return_grace_string-expanded"><a name="L1001"></a><tt class="py-lineno">1001</tt>  <tt class="py-line">        <tt class="py-docstring">"""Return the Grace string representation of the parameter.</tt> </tt>
<a name="L1002"></a><tt class="py-lineno">1002</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L1003"></a><tt class="py-lineno">1003</tt>  <tt class="py-line"><tt class="py-docstring">        This is used for axis labelling.</tt> </tt>
<a name="L1004"></a><tt class="py-lineno">1004</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L1005"></a><tt class="py-lineno">1005</tt>  <tt class="py-line"><tt class="py-docstring">        @param param:   The relaxation curve-fitting parameter.</tt> </tt>
<a name="L1006"></a><tt class="py-lineno">1006</tt>  <tt class="py-line"><tt class="py-docstring">        @type param:    str</tt> </tt>
<a name="L1007"></a><tt class="py-lineno">1007</tt>  <tt class="py-line"><tt class="py-docstring">        @return:        The Grace string representation of the parameter.</tt> </tt>
<a name="L1008"></a><tt class="py-lineno">1008</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:         str</tt> </tt>
<a name="L1009"></a><tt class="py-lineno">1009</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L1010"></a><tt class="py-lineno">1010</tt>  <tt class="py-line"> </tt>
<a name="L1011"></a><tt class="py-lineno">1011</tt>  <tt class="py-line">        <tt class="py-comment"># Get the object name.</tt> </tt>
<a name="L1012"></a><tt class="py-lineno">1012</tt>  <tt class="py-line">        <tt class="py-name">object_name</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-355" class="py-name" targets="Function generic_fns.align_tensor.return_data_name()=generic_fns.align_tensor-module.html#return_data_name,Function generic_fns.diffusion_tensor.return_data_name()=generic_fns.diffusion_tensor-module.html#return_data_name,Function generic_fns.minimise.return_data_name()=generic_fns.minimise-module.html#return_data_name,Method specific_fns.api_base.API_base.return_data_name()=specific_fns.api_base.API_base-class.html#return_data_name,Method specific_fns.consistency_tests.Consistency_tests.return_data_name()=specific_fns.consistency_tests.Consistency_tests-class.html#return_data_name,Method specific_fns.jw_mapping.Jw_mapping.return_data_name()=specific_fns.jw_mapping.Jw_mapping-class.html#return_data_name,Method specific_fns.model_free.main.Model_free_main.return_data_name()=specific_fns.model_free.main.Model_free_main-class.html#return_data_name,Method specific_fns.n_state_model.N_state_model.return_data_name()=specific_fns.n_state_model.N_state_model-class.html#return_data_name,Method specific_fns.noe.main.Noe_main.return_data_name()=specific_fns.noe.main.Noe_main-class.html#return_data_name,Method specific_fns.relax_fit.Relax_fit.return_data_name()=specific_fns.relax_fit.Relax_fit-class.html#return_data_name"><a title="generic_fns.align_tensor.return_data_name
generic_fns.diffusion_tensor.return_data_name
generic_fns.minimise.return_data_name
specific_fns.api_base.API_base.return_data_name
specific_fns.consistency_tests.Consistency_tests.return_data_name
specific_fns.jw_mapping.Jw_mapping.return_data_name
specific_fns.model_free.main.Model_free_main.return_data_name
specific_fns.n_state_model.N_state_model.return_data_name
specific_fns.noe.main.Noe_main.return_data_name
specific_fns.relax_fit.Relax_fit.return_data_name" class="py-name" href="#" onclick="return doclink('link-355', 'return_data_name', 'link-355');">return_data_name</a></tt><tt class="py-op">(</tt><tt class="py-name">param</tt><tt class="py-op">)</tt> </tt>
<a name="L1013"></a><tt class="py-lineno">1013</tt>  <tt class="py-line"> </tt>
<a name="L1014"></a><tt class="py-lineno">1014</tt>  <tt class="py-line">        <tt class="py-comment"># Relaxation rate.</tt> </tt>
<a name="L1015"></a><tt class="py-lineno">1015</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">object_name</tt> <tt class="py-op">==</tt> <tt class="py-string">'rx'</tt><tt class="py-op">:</tt> </tt>
<a name="L1016"></a><tt class="py-lineno">1016</tt>  <tt class="py-line">            <tt class="py-name">grace_string</tt> <tt class="py-op">=</tt> <tt class="py-string">'\\qR\\sx\\Q'</tt> </tt>
<a name="L1017"></a><tt class="py-lineno">1017</tt>  <tt class="py-line"> </tt>
<a name="L1018"></a><tt class="py-lineno">1018</tt>  <tt class="py-line">        <tt class="py-comment"># Peak intensities.</tt> </tt>
<a name="L1019"></a><tt class="py-lineno">1019</tt>  <tt class="py-line">        <tt class="py-keyword">elif</tt> <tt class="py-name">object_name</tt> <tt class="py-op">==</tt> <tt class="py-string">'intensities'</tt><tt class="py-op">:</tt> </tt>
<a name="L1020"></a><tt class="py-lineno">1020</tt>  <tt class="py-line">            <tt class="py-name">grace_string</tt> <tt class="py-op">=</tt> <tt class="py-string">'\\qPeak intensities\\Q'</tt> </tt>
<a name="L1021"></a><tt class="py-lineno">1021</tt>  <tt class="py-line"> </tt>
<a name="L1022"></a><tt class="py-lineno">1022</tt>  <tt class="py-line">        <tt class="py-comment"># Initial intensity.</tt> </tt>
<a name="L1023"></a><tt class="py-lineno">1023</tt>  <tt class="py-line">        <tt class="py-keyword">elif</tt> <tt class="py-name">object_name</tt> <tt class="py-op">==</tt> <tt class="py-string">'i0'</tt><tt class="py-op">:</tt> </tt>
<a name="L1024"></a><tt class="py-lineno">1024</tt>  <tt class="py-line">            <tt class="py-name">grace_string</tt> <tt class="py-op">=</tt> <tt class="py-string">'\\qI\\s0\\Q'</tt> </tt>
<a name="L1025"></a><tt class="py-lineno">1025</tt>  <tt class="py-line"> </tt>
<a name="L1026"></a><tt class="py-lineno">1026</tt>  <tt class="py-line">        <tt class="py-comment"># Intensity at infinity.</tt> </tt>
<a name="L1027"></a><tt class="py-lineno">1027</tt>  <tt class="py-line">        <tt class="py-keyword">elif</tt> <tt class="py-name">object_name</tt> <tt class="py-op">==</tt> <tt class="py-string">'iinf'</tt><tt class="py-op">:</tt> </tt>
<a name="L1028"></a><tt class="py-lineno">1028</tt>  <tt class="py-line">            <tt class="py-name">grace_string</tt> <tt class="py-op">=</tt> <tt class="py-string">'\\qI\\sinf\\Q'</tt> </tt>
<a name="L1029"></a><tt class="py-lineno">1029</tt>  <tt class="py-line"> </tt>
<a name="L1030"></a><tt class="py-lineno">1030</tt>  <tt class="py-line">        <tt class="py-comment"># Relaxation period times (series).</tt> </tt>
<a name="L1031"></a><tt class="py-lineno">1031</tt>  <tt class="py-line">        <tt class="py-keyword">elif</tt> <tt class="py-name">object_name</tt> <tt class="py-op">==</tt> <tt class="py-string">'relax_times'</tt><tt class="py-op">:</tt> </tt>
<a name="L1032"></a><tt class="py-lineno">1032</tt>  <tt class="py-line">            <tt class="py-name">grace_string</tt> <tt class="py-op">=</tt> <tt class="py-string">'\\qRelaxation time period (s)\\Q'</tt> </tt>
<a name="L1033"></a><tt class="py-lineno">1033</tt>  <tt class="py-line"> </tt>
<a name="L1034"></a><tt class="py-lineno">1034</tt>  <tt class="py-line">        <tt class="py-comment"># Return the Grace string.</tt> </tt>
<a name="L1035"></a><tt class="py-lineno">1035</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt class="py-name">grace_string</tt> </tt>
</div><a name="L1036"></a><tt class="py-lineno">1036</tt>  <tt class="py-line"> </tt>
<a name="L1037"></a><tt class="py-lineno">1037</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit.return_units"></a><div id="Relax_fit.return_units-def"><a name="L1038"></a><tt class="py-lineno">1038</tt> <a class="py-toggle" href="#" id="Relax_fit.return_units-toggle" onclick="return toggle('Relax_fit.return_units');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#return_units">return_units</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">param</tt><tt class="py-op">,</tt> <tt class="py-param">spin</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">,</tt> <tt class="py-param">spin_id</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit.return_units-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit.return_units-expanded"><a name="L1039"></a><tt class="py-lineno">1039</tt>  <tt class="py-line">        <tt class="py-docstring">"""Dummy method which returns None as the stats have no units.</tt> </tt>
<a name="L1040"></a><tt class="py-lineno">1040</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L1041"></a><tt class="py-lineno">1041</tt>  <tt class="py-line"><tt class="py-docstring">        @param param:   The name of the parameter to return the units string for.</tt> </tt>
<a name="L1042"></a><tt class="py-lineno">1042</tt>  <tt class="py-line"><tt class="py-docstring">        @type param:    str</tt> </tt>
<a name="L1043"></a><tt class="py-lineno">1043</tt>  <tt class="py-line"><tt class="py-docstring">        @param spin:    The spin container.</tt> </tt>
<a name="L1044"></a><tt class="py-lineno">1044</tt>  <tt class="py-line"><tt class="py-docstring">        @type spin:     SpinContainer instance</tt> </tt>
<a name="L1045"></a><tt class="py-lineno">1045</tt>  <tt class="py-line"><tt class="py-docstring">        @param spin_id: The spin identification string (ignored if the spin container is supplied).</tt> </tt>
<a name="L1046"></a><tt class="py-lineno">1046</tt>  <tt class="py-line"><tt class="py-docstring">        @type spin_id:  str</tt> </tt>
<a name="L1047"></a><tt class="py-lineno">1047</tt>  <tt class="py-line"><tt class="py-docstring">        @return:        Nothing.</tt> </tt>
<a name="L1048"></a><tt class="py-lineno">1048</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:         None</tt> </tt>
<a name="L1049"></a><tt class="py-lineno">1049</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L1050"></a><tt class="py-lineno">1050</tt>  <tt class="py-line"> </tt>
<a name="L1051"></a><tt class="py-lineno">1051</tt>  <tt class="py-line">        <tt class="py-comment"># Unitless.</tt> </tt>
<a name="L1052"></a><tt class="py-lineno">1052</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt class="py-name">None</tt> </tt>
</div><a name="L1053"></a><tt class="py-lineno">1053</tt>  <tt class="py-line"> </tt>
<a name="L1054"></a><tt class="py-lineno">1054</tt>  <tt class="py-line"> </tt>
<a name="L1055"></a><tt class="py-lineno">1055</tt>  <tt class="py-line">    <tt id="link-356" class="py-name" targets="Variable generic_fns.minimise.set_doc=generic_fns.minimise-module.html#set_doc,Variable specific_fns.api_base.API_base.set_doc=specific_fns.api_base.API_base-class.html#set_doc,Variable specific_fns.consistency_tests.Consistency_tests.set_doc=specific_fns.consistency_tests.Consistency_tests-class.html#set_doc,Variable specific_fns.jw_mapping.Jw_mapping.set_doc=specific_fns.jw_mapping.Jw_mapping-class.html#set_doc,Variable specific_fns.model_free.main.Model_free_main.set_doc=specific_fns.model_free.main.Model_free_main-class.html#set_doc,Variable specific_fns.n_state_model.N_state_model.set_doc=specific_fns.n_state_model.N_state_model-class.html#set_doc,Variable specific_fns.relax_fit.Relax_fit.set_doc=specific_fns.relax_fit.Relax_fit-class.html#set_doc"><a title="generic_fns.minimise.set_doc
specific_fns.api_base.API_base.set_doc
specific_fns.consistency_tests.Consistency_tests.set_doc
specific_fns.jw_mapping.Jw_mapping.set_doc
specific_fns.model_free.main.Model_free_main.set_doc
specific_fns.n_state_model.N_state_model.set_doc
specific_fns.relax_fit.Relax_fit.set_doc" class="py-name" href="#" onclick="return doclink('link-356', 'set_doc', 'link-356');">set_doc</a></tt> <tt class="py-op">=</tt> <tt class="py-string">"""</tt> </tt>
<a name="L1056"></a><tt class="py-lineno">1056</tt>  <tt class="py-line"><tt class="py-string">        Relaxation curve fitting set details</tt> </tt>
<a name="L1057"></a><tt class="py-lineno">1057</tt>  <tt class="py-line"><tt class="py-string">        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</tt> </tt>
<a name="L1058"></a><tt class="py-lineno">1058</tt>  <tt class="py-line"><tt class="py-string"></tt> </tt>
<a name="L1059"></a><tt class="py-lineno">1059</tt>  <tt class="py-line"><tt class="py-string">        Only three parameters can be set, the relaxation rate (Rx), the initial intensity (I0), and</tt> </tt>
<a name="L1060"></a><tt class="py-lineno">1060</tt>  <tt class="py-line"><tt class="py-string">        the intensity at infinity (Iinf).  Setting the parameter Iinf has no effect if the chosen</tt> </tt>
<a name="L1061"></a><tt class="py-lineno">1061</tt>  <tt class="py-line"><tt class="py-string">        model is that of the exponential curve which decays to zero.</tt> </tt>
<a name="L1062"></a><tt class="py-lineno">1062</tt>  <tt class="py-line"><tt class="py-string">        """</tt> </tt>
<a name="L1063"></a><tt class="py-lineno">1063</tt>  <tt class="py-line"> </tt>
<a name="L1064"></a><tt class="py-lineno">1064</tt>  <tt class="py-line"> </tt>
<a name="Relax_fit.sim_pack_data"></a><div id="Relax_fit.sim_pack_data-def"><a name="L1065"></a><tt class="py-lineno">1065</tt> <a class="py-toggle" href="#" id="Relax_fit.sim_pack_data-toggle" onclick="return toggle('Relax_fit.sim_pack_data');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="specific_fns.relax_fit.Relax_fit-class.html#sim_pack_data">sim_pack_data</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">data_id</tt><tt class="py-op">,</tt> <tt class="py-param">sim_data</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Relax_fit.sim_pack_data-collapsed" style="display:none;" pad="++++" indent="++++++++"></div><div id="Relax_fit.sim_pack_data-expanded"><a name="L1066"></a><tt class="py-lineno">1066</tt>  <tt class="py-line">        <tt class="py-docstring">"""Pack the Monte Carlo simulation data.</tt> </tt>
<a name="L1067"></a><tt class="py-lineno">1067</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L1068"></a><tt class="py-lineno">1068</tt>  <tt class="py-line"><tt class="py-docstring">        @param data_id:     The spin identification string, as yielded by the base_data_loop() generator method.</tt> </tt>
<a name="L1069"></a><tt class="py-lineno">1069</tt>  <tt class="py-line"><tt class="py-docstring">        @type data_id:      str</tt> </tt>
<a name="L1070"></a><tt class="py-lineno">1070</tt>  <tt class="py-line"><tt class="py-docstring">        @param sim_data:    The Monte Carlo simulation data.</tt> </tt>
<a name="L1071"></a><tt class="py-lineno">1071</tt>  <tt class="py-line"><tt class="py-docstring">        @type sim_data:     list of float</tt> </tt>
<a name="L1072"></a><tt class="py-lineno">1072</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L1073"></a><tt class="py-lineno">1073</tt>  <tt class="py-line"> </tt>
<a name="L1074"></a><tt class="py-lineno">1074</tt>  <tt class="py-line">        <tt class="py-comment"># Get the spin container.</tt> </tt>
<a name="L1075"></a><tt class="py-lineno">1075</tt>  <tt class="py-line">        <tt id="link-357" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-357', 'spin', 'link-56');">spin</a></tt> <tt class="py-op">=</tt> <tt id="link-358" class="py-name"><a title="generic_fns.mol_res_spin.return_spin" class="py-name" href="#" onclick="return doclink('link-358', 'return_spin', 'link-19');">return_spin</a></tt><tt class="py-op">(</tt><tt class="py-name">data_id</tt><tt class="py-op">)</tt> </tt>
<a name="L1076"></a><tt class="py-lineno">1076</tt>  <tt class="py-line"> </tt>
<a name="L1077"></a><tt class="py-lineno">1077</tt>  <tt class="py-line">        <tt class="py-comment"># Test if the simulation data already exists.</tt> </tt>
<a name="L1078"></a><tt class="py-lineno">1078</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">hasattr</tt><tt class="py-op">(</tt><tt id="link-359" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-359', 'spin', 'link-56');">spin</a></tt><tt class="py-op">,</tt> <tt class="py-string">'sim_intensities'</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L1079"></a><tt class="py-lineno">1079</tt>  <tt class="py-line">            <tt class="py-keyword">raise</tt> <tt id="link-360" class="py-name"><a title="relax_errors.RelaxError" class="py-name" href="#" onclick="return doclink('link-360', 'RelaxError', 'link-22');">RelaxError</a></tt><tt class="py-op">(</tt><tt class="py-string">"Monte Carlo simulation data already exists."</tt><tt class="py-op">)</tt> </tt>
<a name="L1080"></a><tt class="py-lineno">1080</tt>  <tt class="py-line"> </tt>
<a name="L1081"></a><tt class="py-lineno">1081</tt>  <tt class="py-line">        <tt class="py-comment"># Create the data structure.</tt> </tt>
<a name="L1082"></a><tt class="py-lineno">1082</tt>  <tt class="py-line">        <tt id="link-361" class="py-name"><a title="gui.user_functions.spin
prompt.deselect.Deselect.spin
prompt.select.Select.spin
prompt.spin
test_suite.unit_tests._generic_fns.spin" class="py-name" href="#" onclick="return doclink('link-361', 'spin', 'link-56');">spin</a></tt><tt class="py-op">.</tt><tt class="py-name">sim_intensities</tt> <tt class="py-op">=</tt> <tt class="py-name">sim_data</tt> </tt>
</div></div><a name="L1083"></a><tt class="py-lineno">1083</tt>  <tt class="py-line"> </tt><script type="text/javascript">
<!--
expandto(location.href);
// -->
</script>
</pre>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://nmr-relax.com">relax</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Tue Aug 23 16:21:14 2011
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
