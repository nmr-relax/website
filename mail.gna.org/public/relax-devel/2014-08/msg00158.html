<!-- MHonArc v2.6.18 -->
<!--X-Subject: Fwd: r25077 &#45; /trunk/docs/latex/dispersion.tex -->
<!--X-From-R13: Febryf Szgrxæe Zvaarg &#60;gyvaargNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 19 Aug 2014 17:22:47 +0200 -->
<!--X-Message-Id: CA+CBx2Oi3dnRK8JNZ5b5RWZJQH14zD6pF&#45;y5nYbgZhGF1ykxzw@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1XJk4Y&#45;00056v&#45;8F@subversion.gna.org -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Fwd: r25077 - /trunk/docs/latex/dispersion.tex -- August 19, 2014 - 17:22</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Fwd: r25077 - /trunk/docs/latex/dispersion.tex</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00158" class="tabs">Index by Date</a> | <a href="threads.html#00158" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00157.html">Date Prev</a>] [<a href="msg00159.html">Date Next</a>] [<a href="msg00153.html">Thread Prev</a>] [<a href="msg00159.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 19 Aug 2014 17:21:56 +0200</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:from:date:message-id :subject:to:content-type; bh=vxdX6YGN7VyybRfYyyA8O3SGaenKdt9j8s2zf5QndyA=; b=kyyHuggv6PSSFbViR2HYTd/0o/nXbjGILCWmPa0YsTOHuKguFsqcRQVVc2zmrzCZWX HRJXbE+8rKlfapjHGVypWsDMfXFUGsJp+T/Ghb3AOKHOpVy04wUzy3tLRp78Dm4WZDdm Za65j2I4Cw9Rsb/+jTzdcjZZFtlAn9DCQSZzJcxKj0r6b5RZZgJVFtFLPjHVWsfnqGLu xoUaO8LEkLOuvvFdrNL4hXXkiitqx/PNDumfu6bcZQC/O0WqBgOWQeeBNO/Y4X7tfdlr ZlbV76VHMDvXyTh+6MO815YDgVG+YL+fVaNratpXpShIIf6JaxPHm6k8XlZ4mcLLtMS9 hqjg==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00158.html">CA+CBx2Oi3dnRK8JNZ5b5RWZJQH14zD6pF-y5nYbgZhGF1ykxzw@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1XJk4Y-00056v-8F@subversion.gna.org&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Troels Emtekær Linnet</strong> on August 19, 2014 - 17:22:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Edward.


Just to confirm.

If the model is: MODEL_PARAMS_NS_R1RHO_3SITE
And the nested model is: MODEL_PARAMS_NS_R1RHO_2SITE

The possible parameters for conversion are:
        self.assertEqual(par_dic['r2'], 'r2')
        self.assertEqual(par_dic['pA'], 'pA')
        self.assertEqual(par_dic['dw_AB'], None)
        self.assertEqual(par_dic['kex_AB'], None)
        self.assertEqual(par_dic['pB'], None)
        self.assertEqual(par_dic['dw_BC'], None)
        self.assertEqual(par_dic['kex_BC'], None)
        self.assertEqual(par_dic['kex_AC'], None)

This means, that MODEL_PARAMS_NS_R1RHO_3SITE would start to Grid Search:
'dw_AB', 'kex_AB', 'pB', 'dw_BC', 'kex_BC', 'kex_AC'

Do we agree on this?

Best
Troels


---------- Forwarded message ----------
From:  &lt;edward@xxxxxxxxxxxxx&gt;
Date: 2014-08-19 16:07 GMT+02:00
Subject: r25077 - /trunk/docs/latex/dispersion.tex
To: relax-commits@xxxxxxx


Author: bugman
Date: Tue Aug 19 16:07:37 2014
New Revision: 25077

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=25077&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=25077&amp;view=rev</a>
Log:
Added a table for dispersion model nesting in the auto-analysis to the manual.

This adds the ideas discussed in the thread
<a  rel="nofollow" href="http://thread.gmane.org/gmane.science.nmr.relax.devel/6684">http://thread.gmane.org/gmane.science.nmr.relax.devel/6684</a>.


Modified:
    trunk/docs/latex/dispersion.tex

Modified: trunk/docs/latex/dispersion.tex
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/docs/latex/dispersion.tex?rev=25077&amp;r1=25076&amp;r2=25077&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/docs/latex/dispersion.tex?rev=25077&amp;r1=25076&amp;r2=25077&amp;view=diff</a>
==============================================================================
--- trunk/docs/latex/dispersion.tex     (original)
+++ trunk/docs/latex/dispersion.tex     Tue Aug 19 16:07:37 2014
@@ -1689,8 +1689,9 @@
       For the cluster specific parameters, i.e.\ the populations of
the states and the exchange parameters, an average value will be used
as the starting point.
       For all other parameters, the $\Rtwozero$ values for each spin
and magnetic field, as well as the parameters related to the chemical
shift difference $\dw$, the optimised values of the previous run will
be directly copied.
     \item[Model nesting:]  If two models are nested, then the
parameters of the simpler will be used as the starting point for
optimisation of the more complex.
-      The currently supported nested model pairs are `LM63' and `LM63
3-site', `CR72' and `CR72 full', `CR72' and `MMQ CR72', `NS CPMG
2-site 3D' and `NS CPMG 2-site 3D full', and `NS CPMG 2-site star' and
`NS CPMG 2-site star full'.
-      In these cases, the $\RtwozeroA$ and $\RtwozeroB$ parameter
values are set to the simpler model $\Rtwozero$ value and the grid
search is bypassed.
+      The currently supported nested model sets are presented in
Table~\ref{table: dispersion model nesting} on page~\pageref{table:
dispersion model nesting}.
+      The models are optimised in the order presented in that table.
+      In some cases, the $\RtwozeroA$ and $\RtwozeroB$ parameter
values are set to the simpler model $\Rtwozero$ value and the grid
search is bypassed.
     \item[Model equivalence:]  When two models are equivalent, the
optimised parameters of one model can be used as the starting point of
the other rather than performing a grid search.
       This is used in the auto-analysis for avoiding the grid search
in the numeric models.
       The optimised `CR72' model is used for the `NS CPMG 2-site
expanded', `NS CPMG 2-site 3D', and  `NS CPMG 2-site star' models.
@@ -1722,6 +1723,103 @@
 If you are a power user, you are free to use all of the relax user
functions, the relax library, and the relax data store to implement
your own protocol.
 If you wish, the protocol can be converted into a new auto-analysis
and distributed as part of relax.
 The relax test suite will ensure the protocol remains functional for
the lifetime of relax.
+
+\begin{landscape}
+\begin{center}
+\begin{small}
+
+% The longtable environment.
+\begin{longtable}{ll}
+
+% Caption.
+\caption{Model nesting for the relaxation dispersion auto-analysis.}
+
+% Header.
+\\
+\toprule
+Model &amp; Nested models\footnotemark[1] \\
+\midrule
+\endhead
+
+% Footer.
+\bottomrule
+\endfoot
+
+% Label.
+\label{table: dispersion model nesting}
+
+
+% Experiment independent models.
+\\[-5pt]
+Base models \\
+\cline{1-1}
+$\Rtwoeff/\Ronerhoprime$         &amp; - \\
+No Rex                           &amp; - \\
+
+% CPMG-type models.
+\\[-5pt]
+Single quantum (SQ) CPMG-type \\
+\cline{1-1}
+LM63                             &amp; - \\
+LM63 3-site                      &amp; LM63 \\
+CR72                             &amp; NS CPMG 2-site 3D, NS CPMG 2-site
star, NS CPMG 2-site expanded, B14 \\
+CR72 full                        &amp; NS CPMG 2-site 3D full, NS CPMG
2-site star full, B14 full, NS CPMG 2-site 3D, \\
+                                 &amp; NS CPMG 2-site star, NS CPMG
2-site expanded, B14, CR72 \\
+IT99                             &amp; - \\
+TSMFK01                          &amp; - \\
+B14                              &amp; NS CPMG 2-site 3D, NS CPMG 2-site
star, NS CPMG 2-site expanded, CR72 \\
+B14 full                         &amp; NS CPMG 2-site 3D full, NS CPMG
2-site star full, CR72 full, NS CPMG 2-site 3D, \\
+                                 &amp; NS CPMG 2-site star, NS CPMG
2-site expanded, B14, CR72 \\
+NS CPMG 2-site expanded          &amp; NS CPMG 2-site 3D, NS CPMG 2-site
star, B14, CR72 \\
+NS CPMG 2-site 3D                &amp; NS CPMG 2-site star, NS CPMG
2-site expanded, B14, CR72 \\
+NS CPMG 2-site 3D full           &amp; NS CPMG 2-site star full, B14
full, CR72 full, NS CPMG 2-site 3D, NS CPMG 2-site star, \\
+                                 &amp; NS CPMG 2-site expanded, B14, CR72 \\
+NS CPMG 2-site star              &amp; NS CPMG 2-site 3D, NS CPMG 2-site
expanded, B14, CR722 \\
+NS CPMG 2-site star full         &amp; NS CPMG 2-site 3D full, B14 full,
CR72 full, NS CPMG 2-site 3D, NS CPMG 2-site star, \\
+                                 &amp; NS CPMG 2-site expanded, B14, CR72 \\
+
+% SQ, ZQ, DQ and MQ CPMG-type models.
+\\[-5pt]
+MMQ (SQ, ZQ, DQ, \&amp; MQ) CPMG-type \\
+\cline{1-1}
+MMQ CR72                         &amp; NS MMQ 2-site \\
+NS MMQ 2-site                    &amp; MMQ CR72 \\
+NS MMQ 3-site linear             &amp; NS MMQ 2-site, MMQ CR72 \\
+NS MMQ 3-site                    &amp; NS MMQ 3-site linear, NS MMQ
2-site, MMQ CR72 \\
+
+% R1rho-type models.
+\clearpage
+\\[-5pt]
+$\Ronerho$-type \\
+\cline{1-1}
+M61                              &amp; - \\
+M61 skew                         &amp; - \\
+DPL94                            &amp; - \\
+DPL94 $\Rone$ fit                &amp; DPL94 \\
+TP02                             &amp; MP05, TAP03 \\
+TP02 $\Rone$ fit                 &amp; MP05 $\Rone$ fit, TAP03 $\Rone$ fit \\
+TAP03                            &amp; MP05, TP02 \\
+TAP03 $\Rone$ fit                &amp; MP05 $\Rone$ fit, TP02 $\Rone$ fit \\
+MP05                             &amp; TAP03, TP02 \\
+MP05 $\Rone$ fit                 &amp; TAP03 $\Rone$ fit, TP02 $\Rone$ fit \\
+NS $\Ronerho$ 2-site             &amp; MP05, TAP03, TP02 \\
+NS $\Ronerho$ 2-site $\Rone$ fit &amp; MP05 $\Rone$ fit, TAP03 $\Rone$
fit, TP02 $\Rone$ fit \\
+NS $\Ronerho$ 3-site linear      &amp; NS $\Ronerho$ 2-site, MP05, TAP03, TP02 \\
+NS $\Ronerho$ 3-site             &amp; NS $\Ronerho$ 3-site linear, NS
$\Ronerho$ 2-site, MP05, TAP03, TP02 \\
+
+\footnotetext[1]{The nested models are ordered by preference.
+The earliest model in the list which has been optimised in the
auto-analysis will be used as the nested model.
+For example for the 'B14 full' model, the 'CR72 full' model is the
first preference, followed by 'B14', then the final fall back is
'CR72' is neither 'CR72 full' or 'B14' have been optimised.
+If none of the nested models have been optimised, the grid search
will be performed.
+In this example, 'CR72 full' is preferred as it has perfect parameter
nesting -- all parameters of 'B14 full' are found in 'CR72 full'.
+The B14 and CR72 are fallbacks, and for these R20A and R20B are
copied from R20 so they start optimisation as R20A == R20B.
+Hence 'CR72 full' whereby R20A != R20B is a much better starting
point as R20A and R20B have been optimised to different values.
+But because of the large model instability in the 'CR72 full' model,
you may wish to instead start with 'B14'.}
+
+\end{longtable}
+\end{small}
+\end{center}
+\end{landscape}


 % Dispersion curve insignificance.


_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-commits mailing list
relax-commits@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-commits">https://mail.gna.org/listinfo/relax-commits</a>


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00159" href="msg00159.html">Re: r25077 - /trunk/docs/latex/dispersion.tex</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Aug 20 20:00:14 2014</div>  
</body>
</html>
