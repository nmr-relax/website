<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: problems reading Xeasy format -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneq.qnhiretarNtznvy.pbz> -->
<!--X-Date: Fri, 10 Nov 2006 08:43:32 +0100 -->
<!--X-Message-Id: 7f080ed10611092342w2b05da34vb02ce40f355892cf@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 59ADAF5CA6A8FC4C889BD4097D912BB1072D330D@its&#45;xchg4.massey.ac.nz -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: problems reading Xeasy format -- November 10, 2006 - 08:43</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: problems reading Xeasy format</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00006" class="tabs">Index by Date</a> | <a href="threads.html#00006" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00005.html">Date Prev</a>] [<a href="msg00007.html">Date Next</a>] [<a href="msg00005.html">Thread Prev</a>] [<a href="msg00008.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Headey, Stephen&quot; &lt;S.J.Headey@xxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Fri, 10 Nov 2006 18:42:44 +1100</li>
<li class="menuitem">
<em>Cc</em>: relax-users@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00006.html">7f080ed10611092342w2b05da34vb02ce40f355892cf@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00003.html">59ADAF5CA6A8FC4C889BD4097D912BB1072D330D@its-xchg4.massey.ac.nz</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on November 10, 2006 - 08:43:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">I've now fixed the issue.  Steve reported the problem as bug #7676
(<a  href="https://web.archive.org/web/https://gna.org/bugs/index.php?7676">https://gna.org/bugs/index.php?7676</a>), and the fine details of the fix
are available at that link.  The problem was that relax was assuming
that the w1 dimension in the XEasy text file was the proton dimension.
There was also a side issue that the first two lines of the XEasy
file were being ignored.  I have fixed the problems by creating two
new functions: one to determine how many header lines are in the file;
the other to determine which of w1 or w2 is the proton dimension.</pre><br>
<pre style="margin: 0em;">To get the new code there are two options.  The changes are located in
the relax source code repository (<a  href="http://svn.gna.org/viewcvs/relax/">http://svn.gna.org/viewcvs/relax/</a>)
which is a Subversion repository (<a  href="http://subversion.tigris.org/">http://subversion.tigris.org/</a>).  The
exact location of the fixes are the 1.2 and 1.3 repository lines.
Steve, if you have Subversion installed, you can download the 1.2 line
code by typing:</pre><br>
<pre style="margin: 0em;">svn co svn://svn.gna.org/svn/relax/1.2 relax-1.2</pre><br>
<pre style="margin: 0em;">If that doesn't work, you can also use the command:</pre><br>
<pre style="margin: 0em;">svn co <a  href="http://svn.gna.org/svn/relax/1.2">http://svn.gna.org/svn/relax/1.2</a> relax-1.2</pre><br>
<pre style="margin: 0em;">This code is very stable.  The other option is to wait until I make a
new relax release.  As I have just released versions 1.2.8 and 1.2.9
(please don't use 1.2.8 as that version introduced a very important
bug) in the last week, I would prefer to wait a while before releasing
1.2.10 to accumulate a few more bug fixes.</pre><br>
<pre style="margin: 0em;">Cheers,</pre><br>
<pre style="margin: 0em;">Edward</pre><br>
<pre style="margin: 0em;"><br></pre><br>
<tt>On 11/8/06, Headey, Stephen &lt;S.J.Headey@xxxxxxxxxxxx&gt; wrote:
</tt><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward,</pre><br>
<pre style="margin: 0em;">I've just started using relax and I thought I'd try calculating the NOE just 
to try it out. My data is in Xeasy text window format and I specified 
format='xeasy' as instructed by the manual. This is recognised when the 
script is executed but only the first 2 lines of input appear to be read and 
the rest of the data is skipped. No NOE value is calculated for any residue. 
What is the reason for this?</pre><br>
<pre style="margin: 0em;">Cheers,
Steve Headey</pre><br>
<pre style="margin: 0em;">Here is a sample of the relevant input and output.</pre><br>
<pre style="margin: 0em;">INPUT</pre><br>
<pre style="margin: 0em;"><br>   3    1   101.181   8.267    N  51 GLY     HN  51 GLY    9.578e+03  
0.00e+00     m
   5    1   103.383   8.211    N 148 GLY     HN 148 GLY    3.732e+03  
0.00e+00     m
   6    1   103.407   7.805    N 158 GLY     HN 158 GLY    1.425e+04  
0.00e+00     m
   8    1   103.257   8.593    N  88 GLY     HN  88 GLY    1.314e+04  
0.00e+00     m
   9    1   103.280   8.973    N 163 GLY     HN 163 GLY    1.745e+04  
0.00e+00     m</pre><br>
<pre style="margin: 0em;">OUTPUT
relax&gt; noe.read(run='noe', file='ref.list', dir=None, spectrum_type='ref', 
format='xeasy', heteronuc='N', proton='HN', int_col=None)
Reference spectrum.
XEasy formatted data file.</pre><br>
<pre style="margin: 0em;">Opening the file 'ref.list' for reading.
Skipping the data: ['6', '1', '103.407', '7.805', 'N', '158', 'GLY', 'HN', 
'158', 'GLY', '1.425e+04', '0.00e+00', 'm']
Skipping the data: ['8', '1', '103.257', '8.593', 'N', '88', 'GLY', 'HN', 
'88', 'GLY', '1.314e+04', '0.00e+00', 'm']
Skipping the data: ['9', '1', '103.280', '8.973', 'N', '163', 'GLY', 'HN', 
'163', 'GLY', '1.745e+04', '0.00e+00', 'm']</pre><br>
<pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">_______________________________________________
relax (<a  href="http://nmr-relax.com">http://nmr-relax.com</a>)</pre><br>
<pre style="margin: 0em;">This is the relax-users mailing list
relax-users@xxxxxxx</pre><br>
<pre style="margin: 0em;">To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  href="/mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a></pre><br>
<pre style="margin: 0em;"><br></pre><br>
<br>
</blockquote><pre style="margin: 0em;"><br></pre><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00008" href="msg00008.html">RE: problems reading Xeasy format</a></strong>
<ul><li><em>From:</em> Headey, Stephen</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00003" href="msg00003.html">problems reading Xeasy format</a></strong>
<ul><li><em>From:</em> Headey, Stephen</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Mon Nov 13 22:20:26 2006</div>  
</body>
</html>
