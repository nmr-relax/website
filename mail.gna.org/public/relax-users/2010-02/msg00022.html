<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Palmer model selection -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Thu, 25 Feb 2010 08:56:07 +0100 -->
<!--X-Message-Id: 7f080ed11002242355y51d578e5xea3994eaf00a46c5@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: D1DBBF1D3E3030439060EFCDE32927A6C19F664654@UWEXMBX02.uw.lu.se -->
<!--X-Reference: 7f080ed11002120234q76aa9170sea16125b0689f0ad@mail.gmail.com -->
<!--X-Reference: D1DBBF1D3E3030439060EFCDE32927A6C19F664656@UWEXMBX02.uw.lu.se -->
<!--X-Reference: D1DBBF1D3E3030439060EFCDE32927A6C1A38B158E@UWEXMBX02.uw.lu.se -->
<!--X-Reference: 7f080ed11002240707t59916774r5c4bbe18691406b@mail.gmail.com -->
<!--X-Reference: D1DBBF1D3E3030439060EFCDE32927A6C1A38B1591@UWEXMBX02.uw.lu.se -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Palmer model selection -- February 25, 2010 - 08:56</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Palmer model selection</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00022" class="tabs">Index by Date</a> | <a href="threads.html#00022" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00021.html">Date Prev</a>] [<a href="msg00023.html">Date Next</a>] [<a href="msg00026.html">Thread Prev</a>] [<a href="msg00024.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Carl Diehl &lt;Carl.Diehl@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 25 Feb 2010 08:55:20 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00022.html">7f080ed11002242355y51d578e5xea3994eaf00a46c5@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;D1DBBF1D3E3030439060EFCDE32927A6C19F664654@xxxxxxxxxxxxxxxxxx&gt;	&lt;7f080ed11002120234q76aa9170sea16125b0689f0ad@xxxxxxxxxxxxxx&gt;	&lt;D1DBBF1D3E3030439060EFCDE32927A6C19F664656@xxxxxxxxxxxxxxxxxx&gt;	&lt;D1DBBF1D3E3030439060EFCDE32927A6C1A38B158E@xxxxxxxxxxxxxxxxxx&gt;	&lt;7f080ed11002240707t59916774r5c4bbe18691406b@xxxxxxxxxxxxxx&gt;	&lt;D1DBBF1D3E3030439060EFCDE32927A6C1A38B1591@xxxxxxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on February 25, 2010 - 08:56:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

I've answered below:

On 24 February 2010 20:53, Carl Diehl &lt;Carl.Diehl@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi.
Well, the mail server said that it tried sending three times before giving 
up.

Anyway, sofar I've used relax 1.2.XX both for fitting and 
modelfree-selection.
Is there a any major difference in the fitting routines between the 1.2 and 
the 1.3 line?
</pre></blockquote><pre style="margin: 0em;">

No, this should be exactly the same!  If you use the full_analysis.py
script in both lines, you should expect the same.  That should be a
useful test for bugs actually!


</pre><blockquote class="blockquote"><pre style="margin: 0em;">So far I've used a modified full_analysis.py script (in relax 1.2.14) for 
analysis which works well and is able to accurately reproduce older 
modelfree-fits. I haven't made the transition into 1.3.4, since I would 
have to change from runs into pipes.
</pre></blockquote><pre style="margin: 0em;">

If you using just the full_analysis.py script, switching to 1.3.4 (or
the 1.3 line) is very easy.  It will require the modification of ~20
lines of variables at the start of the script.  For implementing this,
I highly recommend using the most up to date copy of the 1.3 line so
that your changes can eventually be useful for others.  If you make
this work for the frozen 1.2 line (no new features will be added
there, it has been in maintenance mode for almost 3 years), there will
be no path to implement it to the 1.3 line.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">My basic idea is to rerun the my analysis script, only this time using the 
Palmer model-selection instead of AIC, which I've been using sofar.
</pre></blockquote><pre style="margin: 0em;">

If you've been using full_analysis.py, this will not be possible.  The
reason is because it implements a new concept - it searches for the
solution within universal set of all combinations of model-free models
and diffusion models (the universal solution).  It uses a very
specific target function for this.  This function is not compatible
with the Mandel et al. model selection.  This concept is described in:

d'Auvergne E. J., Gooley P. R. (2007). Set theory formulation of the
model-free problem and the diffusion seeded model-free paradigm. Mol.
Biosyst., 3(7), 483-494. (<a  rel="nofollow" href="http://dx.doi.org/10.1039/b702202f">http://dx.doi.org/10.1039/b702202f</a>)

The implementation and the new protocol that full_analysis.py
implements is given in:

d'Auvergne, E. J. and Gooley, P. R. (2008). Optimisation of NMR
dynamic models II. A new methodology for the dual optimisation of the
model-free parameters and the Brownian rotational diffusion tensor. J.
Biomol. NMR, 40(2), 121-133.
(<a  rel="nofollow" href="http://dx.doi.org/10.1007/s10858-007-9213-3">http://dx.doi.org/10.1007/s10858-007-9213-3</a>)

This new protocol specifically starts with the local_tm models (the
Mandel et al. model selection cannot handle these!!!).  These are
optimised and the best for each spin selected.  Then the local_tm
parameter is removed and the diffusion tensor optimised on top of the
fixed model-free parameter values.  Then the diffusion tensor is fixed
and the normal model-free models are optimised.  Model elimination is
performed (this is missing from the Mandel et al. protocol so you may
want to remove this?).  Then AIC model selection.  And finally
diffusion tensor optimisation.  This is repeated until convergence (~6
to 15 iterations).

The Mandel et al. protocol starts with a diffusion tensor.  The
model-free models are optimised (my thesis extends the protocol for
models m6-m9, see
<a  rel="nofollow" href="http://eprints.infodiv.unimelb.edu.au/archive/00002799/">http://eprints.infodiv.unimelb.edu.au/archive/00002799/</a> or search on
Amazon).  Model selection is performed.  Then the diffusion tensor is
optimised.  This tensor is taken as a starting point, and the
procedure is repeated ~3 times.  To implement this protocol, you
should look at the mf_multimodel.py and modsel.py scripts.  This will
give you most, but not all of the tools needed to implement the Mandel
et al. protocol.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">From an old fit using Modelfree4 and Fast-MF (1field only), I know that 
there are only small differences in S2 compared to the 2field-data fitted 
using relax.
</pre></blockquote><pre style="margin: 0em;">

For highly mobile systems, the differences are more pronounced.
You'll should see most differences in loops or other mobile regions -
the interesting parts in terms of dynamics and function.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">I can easily redo my 2field fits using Modelfree4 and Fast-MF, although I 
would prefer to use relax. Time-wise, the full_analysis scripts seems to be 
much faster than the Fast-MF way.
</pre></blockquote><pre style="margin: 0em;">

It sounds like you will learn quite a lot about the model-free
protocols if you start digging into these scripts ;)


</pre><blockquote class="blockquote"><pre style="margin: 0em;">I'll take a look at the repository and try to see if I can get it to work.
</pre></blockquote><pre style="margin: 0em;">

Cheers,

Edward


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00002" href="msg00002.html">Palmer model selection</a></strong>
<ul><li><em>From:</em> Carl Diehl</li></ul></li>
<li><strong><a name="00003" href="msg00003.html">Re: Palmer model selection</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00015" href="msg00015.html">SV: Palmer model selection</a></strong>
<ul><li><em>From:</em> Carl Diehl</li></ul></li>
<li><strong><a name="00016" href="msg00016.html">Re: Palmer model selection</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00026" href="msg00026.html">SV: Palmer model selection</a></strong>
<ul><li><em>From:</em> Carl Diehl</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Feb 25 22:00:14 2010</div>  
</body>
</html>
