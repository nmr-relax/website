<!-- MHonArc v2.6.16 -->
<!--X-Subject: r21535 &#45; in /branches/relax_disp/test_suite:	shared_data/dispersion/Hansen/ system_tests/ -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Wed, 20 Nov 2013 09:29:03 +0100 -->
<!--X-Message-Id: E1Vj39j&#45;0007q9&#45;EG@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r21535 - in /branches/relax_disp/test_suite:	shared_data/dispersion/Hansen/ system_tests/ -- November 20, 2013 - 09:29</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r21535 - in /branches/relax_disp/test_suite:	shared_data/dispersion/Hansen/ system_tests/</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00193" class="tabs">Index by Date</a> | <a href="threads.html#00193" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00192.html">Date Prev</a>] [<a href="msg00194.html">Date Next</a>] [<a href="msg00192.html">Thread Prev</a>] [<a href="msg00194.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Wed, 20 Nov 2013 08:29:03 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00193.html">E1Vj39j-0007q9-EG@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on November 20, 2013 - 09:29:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Wed Nov 20 09:29:03 2013
New Revision: 21535

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=21535&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=21535&amp;view=rev</a>
Log:
Updated the truncated CPMG data set from Flemming Hansen to include residue 
:4.

This is deselected in the test suite, but allows the comparison in the 
shared_data directory to use
all four spins (:4, :70, :71).


Modified:
    branches/relax_disp/test_suite/shared_data/dispersion/Hansen/base_pipe.bz2
    
branches/relax_disp/test_suite/shared_data/dispersion/Hansen/r2eff_calc.log
    branches/relax_disp/test_suite/shared_data/dispersion/Hansen/r2eff_calc.py
    
branches/relax_disp/test_suite/shared_data/dispersion/Hansen/r2eff_pipe.bz2
    
branches/relax_disp/test_suite/shared_data/dispersion/Hansen/r2eff_values.bz2
    
branches/relax_disp/test_suite/shared_data/dispersion/Hansen/truncate_data.py
    branches/relax_disp/test_suite/system_tests/relax_disp.py

Modified: 
branches/relax_disp/test_suite/shared_data/dispersion/Hansen/base_pipe.bz2
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/test_suite/shared_data/dispersion/Hansen/base_pipe.bz2?rev=21535&amp;r1=21534&amp;r2=21535&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/relax_disp/test_suite/shared_data/dispersion/Hansen/base_pipe.bz2?rev=21535&amp;r1=21534&amp;r2=21535&amp;view=diff</a>
==============================================================================
Binary files - no diff available.

Modified: 
branches/relax_disp/test_suite/shared_data/dispersion/Hansen/r2eff_calc.log
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/test_suite/shared_data/dispersion/Hansen/r2eff_calc.log?rev=21535&amp;r1=21534&amp;r2=21535&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/relax_disp/test_suite/shared_data/dispersion/Hansen/r2eff_calc.log?rev=21535&amp;r1=21534&amp;r2=21535&amp;view=diff</a>
==============================================================================
--- 
branches/relax_disp/test_suite/shared_data/dispersion/Hansen/r2eff_calc.log 
(original)
+++ 
branches/relax_disp/test_suite/shared_data/dispersion/Hansen/r2eff_calc.log 
Wed Nov 20 09:29:03 2013
@@ -1,7 +1,7 @@
 
 
 
-                                  relax repository checkout r21506
+                                  relax repository checkout r21533
                      
svn+ssh://bugman@xxxxxxxxxxx/svn/relax/branches/relax_disp
 
                               Molecular dynamics by NMR data analysis
@@ -145,9 +145,9 @@
 sequence.display()
 Relax_disp(pipe_name=pipe_name, pipe_bundle=pipe_bundle, 
results_dir=RESULTS_DIR, models=MODELS, grid_inc=GRID_INC, mc_sim_num=MC_NUM)
 
-# Delete all residues but :70 and :71.
+# Delete all residues but :4, :70 and :71.
 for i in range(1, 100):
-    if i in [70, 71]:
+    if i in [4, 70, 71]:
         continue
     residue.delete(&quot;:%s&quot; % i)
 
@@ -157,9 +157,9 @@
 # Switch to the base data pipe.
 pipe.switch('base pipe')
 
-# Delete all residues but :70 and :71.
+# Delete all residues but :4, :70 and :71.
 for i in range(1, 100):
-    if i in [70, 71]:
+    if i in [4, 70, 71]:
         continue
     residue.delete(&quot;:%s&quot; % i)
 
@@ -3769,160 +3769,14 @@
 - The 'R2eff' model -
 ---------------------
 
-
-relax&gt; pipe.copy(pipe_from='base pipe', pipe_to='R2eff', 
bundle_to='relax_disp')
+Detected the presence of results files for the 'R2eff' model - loading these 
instead of performing optimisation for a second time.
+
+relax&gt; pipe.create(pipe_name='R2eff', pipe_type='relax_disp', 
bundle='relax_disp')
 
 relax&gt; pipe.switch(pipe_name='R2eff')
 
-relax&gt; relax_disp.select_model(model='R2eff')
-R2eff/R1rho value and error determination.
-
-relax&gt; calc(verbosity=1)
-Calculating the R2eff/R1rho values for fixed relaxation time period data.
-Spin ':1@N'.
-Spin ':2@N'.
-Spin ':3@N'.
-Spin ':4@N'.
-Spin ':5@N'.
-Spin ':6@N'.
-Spin ':7@N'.
-Spin ':8@N'.
-Spin ':10@N'.
-Spin ':11@N'.
-Spin ':12@N'.
-Spin ':13@N'.
-Spin ':14@N'.
-Spin ':15@N'.
-Spin ':16@N'.
-Spin ':17@N'.
-Spin ':18@N'.
-Spin ':19@N'.
-Spin ':20@N'.
-Spin ':21@N'.
-Spin ':22@N'.
-Spin ':23@N'.
-Spin ':24@N'.
-Spin ':25@N'.
-Spin ':26@N'.
-Spin ':29@N'.
-Spin ':31@N'.
-Spin ':32@N'.
-Spin ':33@N'.
-Spin ':34@N'.
-Spin ':35@N'.
-Spin ':36@N'.
-Spin ':37@N'.
-Spin ':38@N'.
-Spin ':39@N'.
-Spin ':40@N'.
-Spin ':41@N'.
-Spin ':42@N'.
-Spin ':43@N'.
-Spin ':44@N'.
-Spin ':45@N'.
-Spin ':46@N'.
-Spin ':47@N'.
-Spin ':48@N'.
-Spin ':49@N'.
-Spin ':50@N'.
-Spin ':51@N'.
-Spin ':52@N'.
-Spin ':53@N'.
-Spin ':55@N'.
-Spin ':56@N'.
-Spin ':57@N'.
-Spin ':58@N'.
-Spin ':59@N'.
-Spin ':60@N'.
-Spin ':61@N'.
-Spin ':62@N'.
-Spin ':63@N'.
-Spin ':64@N'.
-Spin ':65@N'.
-Spin ':66@N'.
-Spin ':67@N'.
-Spin ':70@N'.
-Spin ':71@N'.
-Spin ':72@N'.
-Spin ':73@N'.
-
-relax&gt; relax_disp.plot_disp_curves(dir='temp/R2eff', force=True)
-Opening the file 'temp/R2eff/disp_1_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_2_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_3_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_4_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_5_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_6_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_7_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_8_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_10_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_11_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_12_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_13_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_14_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_15_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_16_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_17_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_18_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_19_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_20_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_21_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_22_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_23_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_24_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_25_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_26_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_29_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_31_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_32_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_33_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_34_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_35_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_36_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_37_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_38_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_39_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_40_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_41_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_42_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_43_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_44_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_45_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_46_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_47_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_48_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_49_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_50_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_51_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_52_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_53_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_55_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_56_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_57_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_58_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_59_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_60_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_61_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_62_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_63_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_64_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_65_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_66_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_67_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_70_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_71_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_72_N.agr' for writing.
-Opening the file 'temp/R2eff/disp_73_N.agr' for writing.
-Opening the file 'temp/R2eff/grace2images.py' for writing.
-
-relax&gt; value.write(param='r2eff', file='r2eff.out', dir='temp/R2eff', 
scaling=1.0, comment=None, bc=False, force=True)
-Opening the file 'temp/R2eff/r2eff.out' for writing.
-
-relax&gt; grace.write(x_data_type='res_num', y_data_type='r2eff', spin_id=None, 
plot_data='value', file='r2eff.agr', dir='temp/R2eff', force=True, norm=False)
-Opening the file 'temp/R2eff/r2eff.agr' for writing.
-
-relax&gt; results.write(file='results', dir='temp/R2eff', compress_type=1, 
force=True)
-Opening the file 'temp/R2eff/results.bz2' for writing.
+relax&gt; results.read(file='results', dir='temp/R2eff')
+Opening the file 'temp/R2eff/results.bz2' for reading.
 RelaxWarning: Model selection in the dispersion auto-analysis has been 
skipped as only 0 models have been optimised.
 
 relax&gt; state.save(state='final_state', dir='temp', compress_type=1, 
force=True)
@@ -3934,8 +3788,6 @@
 
 relax&gt; residue.delete(res_id=':3')
 
-relax&gt; residue.delete(res_id=':4')
-
 relax&gt; residue.delete(res_id=':5')
 
 relax&gt; residue.delete(res_id=':6')
@@ -4133,8 +3985,6 @@
 
 relax&gt; residue.delete(res_id=':3')
 
-relax&gt; residue.delete(res_id=':4')
-
 relax&gt; residue.delete(res_id=':5')
 
 relax&gt; residue.delete(res_id=':6')

Modified: 
branches/relax_disp/test_suite/shared_data/dispersion/Hansen/r2eff_calc.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/test_suite/shared_data/dispersion/Hansen/r2eff_calc.py?rev=21535&amp;r1=21534&amp;r2=21535&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/relax_disp/test_suite/shared_data/dispersion/Hansen/r2eff_calc.py?rev=21535&amp;r1=21534&amp;r2=21535&amp;view=diff</a>
==============================================================================
--- 
branches/relax_disp/test_suite/shared_data/dispersion/Hansen/r2eff_calc.py 
(original)
+++ 
branches/relax_disp/test_suite/shared_data/dispersion/Hansen/r2eff_calc.py 
Wed Nov 20 09:29:03 2013
@@ -123,9 +123,9 @@
 sequence.display()
 Relax_disp(pipe_name=pipe_name, pipe_bundle=pipe_bundle, 
results_dir=RESULTS_DIR, models=MODELS, grid_inc=GRID_INC, mc_sim_num=MC_NUM)
 
-# Delete all residues but :70 and :71.
+# Delete all residues but :4, :70 and :71.
 for i in range(1, 100):
-    if i in [70, 71]:
+    if i in [4, 70, 71]:
         continue
     residue.delete(&quot;:%s&quot; % i)
 
@@ -135,9 +135,9 @@
 # Switch to the base data pipe.
 pipe.switch('base pipe')
 
-# Delete all residues but :70 and :71.
+# Delete all residues but :4, :70 and :71.
 for i in range(1, 100):
-    if i in [70, 71]:
+    if i in [4, 70, 71]:
         continue
     residue.delete(&quot;:%s&quot; % i)
 

Modified: 
branches/relax_disp/test_suite/shared_data/dispersion/Hansen/r2eff_pipe.bz2
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/test_suite/shared_data/dispersion/Hansen/r2eff_pipe.bz2?rev=21535&amp;r1=21534&amp;r2=21535&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/relax_disp/test_suite/shared_data/dispersion/Hansen/r2eff_pipe.bz2?rev=21535&amp;r1=21534&amp;r2=21535&amp;view=diff</a>
==============================================================================
Binary files - no diff available.

Modified: 
branches/relax_disp/test_suite/shared_data/dispersion/Hansen/r2eff_values.bz2
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/test_suite/shared_data/dispersion/Hansen/r2eff_values.bz2?rev=21535&amp;r1=21534&amp;r2=21535&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/relax_disp/test_suite/shared_data/dispersion/Hansen/r2eff_values.bz2?rev=21535&amp;r1=21534&amp;r2=21535&amp;view=diff</a>
==============================================================================
Binary files - no diff available.

Modified: 
branches/relax_disp/test_suite/shared_data/dispersion/Hansen/truncate_data.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/test_suite/shared_data/dispersion/Hansen/truncate_data.py?rev=21535&amp;r1=21534&amp;r2=21535&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/relax_disp/test_suite/shared_data/dispersion/Hansen/truncate_data.py?rev=21535&amp;r1=21534&amp;r2=21535&amp;view=diff</a>
==============================================================================
--- 
branches/relax_disp/test_suite/shared_data/dispersion/Hansen/truncate_data.py 
(original)
+++ 
branches/relax_disp/test_suite/shared_data/dispersion/Hansen/truncate_data.py 
Wed Nov 20 09:29:03 2013
@@ -27,7 +27,7 @@
                 out.write(line)
                 continue
 
-            # Skip almost all residues (except 70 and 71).
+            # Skip almost all residues (except 4, 70 and 71).
             if not search('^GLY7[01]', line) and not search('^GLY4N', line):
                 continue
 

Modified: branches/relax_disp/test_suite/system_tests/relax_disp.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/test_suite/system_tests/relax_disp.py?rev=21535&amp;r1=21534&amp;r2=21535&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/relax_disp/test_suite/system_tests/relax_disp.py?rev=21535&amp;r1=21534&amp;r2=21535&amp;view=diff</a>
==============================================================================
--- branches/relax_disp/test_suite/system_tests/relax_disp.py (original)
+++ branches/relax_disp/test_suite/system_tests/relax_disp.py Wed Nov 20 
09:29:03 2013
@@ -385,6 +385,7 @@
         # Load the R2eff results file.
         file_name = status.install_path + 
sep+'test_suite'+sep+'shared_data'+sep+'dispersion'+sep+'Hansen'+sep+'r2eff_pipe'
         self.interpreter.results.read(file_name)
+        self.interpreter.deselect.spin(':4')
 
         # The spin isotopes.
         self.interpreter.spin.isotope(&quot;15N&quot;)
@@ -1296,6 +1297,7 @@
         # Load the R2eff results file.
         file_name = status.install_path + 
sep+'test_suite'+sep+'shared_data'+sep+'dispersion'+sep+'Hansen'+sep+'r2eff_pipe'
         self.interpreter.results.read(file_name)
+        self.interpreter.deselect.spin(':4')
 
         # Set up the model.
         self.interpreter.relax_disp.select_model('LM63')



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Nov 20 10:00:02 2013</div>  
</body>
</html>
