<!-- MHonArc v2.6.18 -->
<!--X-Subject: r26503 &#45; in /trunk: auto_analyses/ test_suite/shared_data/dispersion/Kjaergaard_et_al_2013/ test_suite/system_tests/ -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Tue, 11 Nov 2014 09:45:50 +0100 -->
<!--X-Message-Id: E1Xo75C&#45;0003Ml&#45;62@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r26503 - in /trunk: auto_analyses/ test_suite/shared_data/dispersion/Kjaergaard_et_al_2013/ test_suite/system_tests/ -- November 11, 2014 - 09:45</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r26503 - in /trunk: auto_analyses/ test_suite/shared_data/dispersion/Kjaergaard_et_al_2013/ test_suite/system_tests/</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00107" class="tabs">Index by Date</a> | <a href="threads.html#00107" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00106.html">Date Prev</a>] [<a href="msg00108.html">Date Next</a>] [<a href="msg00106.html">Thread Prev</a>] [<a href="msg00108.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Tue, 11 Nov 2014 08:45:49 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00107.html">E1Xo75C-0003Ml-62@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on November 11, 2014 - 09:45:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Tue Nov 11 09:45:48 2014
New Revision: 26503

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=26503&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=26503&amp;view=rev</a>
Log:
Python 3 fixes - eliminated all usage of the dictionary iteritems() calls as 
this no longer exists.


Modified:
    trunk/auto_analyses/relax_disp_repeat_cpmg.py
    trunk/auto_analyses/relax_fit.py
    
trunk/test_suite/shared_data/dispersion/Kjaergaard_et_al_2013/5_clustered_analyses.py
    trunk/test_suite/system_tests/relax_disp.py
    trunk/test_suite/system_tests/relax_fit.py

Modified: trunk/auto_analyses/relax_disp_repeat_cpmg.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/auto_analyses/relax_disp_repeat_cpmg.py?rev=26503&amp;r1=26502&amp;r2=26503&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/auto_analyses/relax_disp_repeat_cpmg.py?rev=26503&amp;r1=26502&amp;r2=26503&amp;view=diff</a>
==============================================================================
--- trunk/auto_analyses/relax_disp_repeat_cpmg.py       (original)
+++ trunk/auto_analyses/relax_disp_repeat_cpmg.py       Tue Nov 11 09:45:48 
2014
@@ -78,8 +78,8 @@
         self.settings = settings
 
         # Unpack settings from dictionary to self.
-        for setting, value in self.settings.iteritems():
-            setattr(self, setting, value)
+        for setting in self.settings:
+            setattr(self, setting, self.settings[setting])
 
         if 'pipe_type' not in self.settings:
             self.set_self(key='pipe_type', value='relax_disp')

Modified: trunk/auto_analyses/relax_fit.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/auto_analyses/relax_fit.py?rev=26503&amp;r1=26502&amp;r2=26503&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/auto_analyses/relax_fit.py?rev=26503&amp;r1=26502&amp;r2=26503&amp;view=diff</a>
==============================================================================
--- trunk/auto_analyses/relax_fit.py    (original)
+++ trunk/auto_analyses/relax_fit.py    Tue Nov 11 09:45:48 2014
@@ -205,12 +205,12 @@
         has_dub = False
 
         if not hasattr(cdp, 'replicates'):
-            # Collect all times, and matching spectrum id.
+            # Collect all times, and matching spectrum ID.
             all_times = []
             all_id = []
-            for s_id, time in cdp.relax_times.iteritems():
-                all_times.append(time)
-                all_id.append(s_id)
+            for spectrum_id in cdp.relax_times:
+                all_times.append(cdp.relax_times[spectrum_id])
+                all_id.append(spectrum_id)
 
             # Get the dublicates.
             dublicates = map(lambda val: (val, [i for i in 
range(len(all_times)) if all_times[i] == val]), all_times)

Modified: 
trunk/test_suite/shared_data/dispersion/Kjaergaard_et_al_2013/5_clustered_analyses.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/test_suite/shared_data/dispersion/Kjaergaard_et_al_2013/5_clustered_analyses.py?rev=26503&amp;r1=26502&amp;r2=26503&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/test_suite/shared_data/dispersion/Kjaergaard_et_al_2013/5_clustered_analyses.py?rev=26503&amp;r1=26502&amp;r2=26503&amp;view=diff</a>
==============================================================================
--- 
trunk/test_suite/shared_data/dispersion/Kjaergaard_et_al_2013/5_clustered_analyses.py
       (original)
+++ 
trunk/test_suite/shared_data/dispersion/Kjaergaard_et_al_2013/5_clustered_analyses.py
       Tue Nov 11 09:45:48 2014
@@ -102,8 +102,8 @@
     relax_disp.cluster('model_cluster', spin_id)
 
 # See the clustering in the current data pipe &quot;cdp&quot;.
-for key, value in cdp.clustering.iteritems():
-    print key, value
+for key in cdp.clustering:
+    print(key, cdp.clustering[key])
 
 # Print parameter kex before copying.
 for cur_spin, mol_name, resi, resn, spin_id in spin_loop(full_info=True, 
return_id=True, skip_desel=True):

Modified: trunk/test_suite/system_tests/relax_disp.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/test_suite/system_tests/relax_disp.py?rev=26503&amp;r1=26502&amp;r2=26503&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/test_suite/system_tests/relax_disp.py?rev=26503&amp;r1=26502&amp;r2=26503&amp;view=diff</a>
==============================================================================
--- trunk/test_suite/system_tests/relax_disp.py (original)
+++ trunk/test_suite/system_tests/relax_disp.py Tue Nov 11 09:45:48 2014
@@ -6172,10 +6172,10 @@
                 self.assertEqual(len(par_dic), len(model_params))
 
                 # Loop over dictionary.
-                for param, param_conv in par_dic.iteritems():
-                        if param != param_conv:
-                            print(&quot;Model:'%s', Nested model:'%s', Copying 
'%s' to '%s'.&quot; % (model_info.model, nested_model, param_conv, param))
-                        self.assertNotEqual(param_conv, None)
+                for param in par_dic:
+                        if param != par_dic[param]:
+                            print(&quot;Model:'%s', Nested model:'%s', Copying 
'%s' to '%s'.&quot; % (model_info.model, nested_model, par_dic[param], param))
+                        self.assertNotEqual(par_dic[param], None)
 
 
     def test_ns_mmq_3site(self):

Modified: trunk/test_suite/system_tests/relax_fit.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/test_suite/system_tests/relax_fit.py?rev=26503&amp;r1=26502&amp;r2=26503&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/test_suite/system_tests/relax_fit.py?rev=26503&amp;r1=26502&amp;r2=26503&amp;view=diff</a>
==============================================================================
--- trunk/test_suite/system_tests/relax_fit.py  (original)
+++ trunk/test_suite/system_tests/relax_fit.py  Tue Nov 11 09:45:48 2014
@@ -296,12 +296,12 @@
         else:
             # Prepare for finding dublictes.
 
-            # Collect all times, and matching spectrum id.
+            # Collect all times, and matching spectrum ID.
             all_times = []
             all_id = []
-            for s_id, time in cdp.relax_times.iteritems():
-                all_times.append(time)
-                all_id.append(s_id)
+            for spectrum_id in cdp.relax_times:
+                all_times.append(cdp.relax_times[spectrum_id])
+                all_id.append(spectrum_id)
     
             # Get the dublicates.
             dublicates = map(lambda val: (val, [i for i in 
range(len(all_times)) if all_times[i] == val]), all_times)



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Nov 11 10:00:02 2014</div>  
</body>
</html>
