<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: export -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Fri, 18 Feb 2011 10:39:23 +0100 -->
<!--X-Message-Id: AANLkTinxyvt=YzXB=2f0oHdE3jiZNudjwV6Y=WgnmCEU@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: C499CEAA2FE47E4F8E5C154780A4767301269353A4@exch8.ads.bruker.de -->
<!--X-Reference: AANLkTi=j05Y_&#45;YWGrqhX_+qVmjtaP6tf_2+FKCN2hkwU@mail.gmail.com -->
<!--X-Reference: 4CE64610.7090706@bruker&#45;biospin.de -->
<!--X-Reference: AANLkTi=JRRcPNOf5B13=OCFT9GjnzNT_ejc8dYrbq5V4@mail.gmail.com -->
<!--X-Reference: 4CECDB61.4020801@bruker&#45;biospin.de -->
<!--X-Reference: AANLkTi=BTyS1W9kY5U63QyE=pemVNz6&#45;kg_=sWpfLqrX@mail.gmail.com -->
<!--X-Reference: 4CF39E0E.10306@bruker&#45;biospin.de -->
<!--X-Reference: AANLkTinyy6EyfLVt8kRjq+PfD3Y5E8fQ8mqe3rrbGfr4@mail.gmail.com -->
<!--X-Reference: C499CEAA2FE47E4F8E5C154780A4767301269353B8@exch8.ads.bruker.de -->
<!--X-Reference: AANLkTi=V_L33mHsaJgXEOxUSYmY4mq=+H_0a1n9XG13o@mail.gmail.com -->
<!--X-Reference: 4CF4FEDD.7050002@bruker&#45;biospin.de -->
<!--X-Reference: AANLkTi=D_s3F&#45;E8J+ZNv+ZnbAA_6HmSRjQCEW+U9yWPO@mail.gmail.com -->
<!--X-Reference: 4D1444B1.3040101@bruker&#45;biospin.de -->
<!--X-Reference: AANLkTi=vtaPLp6yHU=J_HnBWzXQbGSg&#45;ZNm=Rjz=Axer@mail.gmail.com -->
<!--X-Reference: 4D3ED3AC.20107@bruker&#45;biospin.de -->
<!--X-Reference: AANLkTikYYMQfc7Gv3ENCWmKRX7zBwrD&#45;916NKkVfS2wa@mail.gmail.com -->
<!--X-Reference: 4D435894.4040601@nmr&#45;relax.com -->
<!--X-Reference: C499CEAA2FE47E4F8E5C154780A47673068BAB3955@exch8.ads.bruker.de -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: export -- February 18, 2011 - 10:39</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: export</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00049" class="tabs">Index by Date</a> | <a href="threads.html#00049" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00048.html">Date Prev</a>] [<a href="msg00050.html">Date Next</a>] [<a href="msg00047.html">Thread Prev</a>] [<a href="msg00050.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Neidig, Klaus-Peter&quot; &lt;Klaus-Peter.Neidig@xxxxxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Fri, 18 Feb 2011 10:38:52 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;,	Eldon Ulrich &lt;elu@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;	h=domainkey-signature:mime-version:sender:in-reply-to:references:date	:x-google-sender-auth:message-id:subject:from:to:cc:content-type	:content-transfer-encoding;	bh=W+5J7988ks+Mr0J7KcSp0JndYNSDoZG3nCtD4oys7k4=;	b=QrSzfurMMDVwGuVtmZPUMpL3ypTIDpobULVeAHUtDWSgw+NtFQ5SmXXNymWMWEwKPf	Oa+9AJ2sKbtj5W8olqRo1KBiyQ+FybQgWmuW7aSQ8kBLBRuZ+kxHg7uiYHrANrOjst2m	erYe7bFtuuTOAlvD5F6NHJY8Ny38TR0UVCjyo=</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00049.html">AANLkTinxyvt=YzXB=2f0oHdE3jiZNudjwV6Y=WgnmCEU@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;C499CEAA2FE47E4F8E5C154780A4767301269353A4@xxxxxxxxxxxxxxxxxxx&gt;	&lt;AANLkTi=j05Y_-YWGrqhX_+qVmjtaP6tf_2+FKCN2hkwU@xxxxxxxxxxxxxx&gt;	&lt;4CE64610.7090706@xxxxxxxxxxxxxxxxx&gt;	&lt;AANLkTi=JRRcPNOf5B13=OCFT9GjnzNT_ejc8dYrbq5V4@xxxxxxxxxxxxxx&gt;	&lt;4CECDB61.4020801@xxxxxxxxxxxxxxxxx&gt;	&lt;AANLkTi=BTyS1W9kY5U63QyE=pemVNz6-kg_=sWpfLqrX@xxxxxxxxxxxxxx&gt;	&lt;4CF39E0E.10306@xxxxxxxxxxxxxxxxx&gt;	&lt;AANLkTinyy6EyfLVt8kRjq+PfD3Y5E8fQ8mqe3rrbGfr4@xxxxxxxxxxxxxx&gt;	&lt;C499CEAA2FE47E4F8E5C154780A4767301269353B8@xxxxxxxxxxxxxxxxxxx&gt;	&lt;AANLkTi=V_L33mHsaJgXEOxUSYmY4mq=+H_0a1n9XG13o@xxxxxxxxxxxxxx&gt;	&lt;4CF4FEDD.7050002@xxxxxxxxxxxxxxxxx&gt;	&lt;AANLkTi=D_s3F-E8J+ZNv+ZnbAA_6HmSRjQCEW+U9yWPO@xxxxxxxxxxxxxx&gt;	&lt;4D1444B1.3040101@xxxxxxxxxxxxxxxxx&gt;	&lt;AANLkTi=vtaPLp6yHU=J_HnBWzXQbGSg-ZNm=Rjz=Axer@xxxxxxxxxxxxxx&gt;	&lt;4D3ED3AC.20107@xxxxxxxxxxxxxxxxx&gt;	&lt;AANLkTikYYMQfc7Gv3ENCWmKRX7zBwrD-916NKkVfS2wa@xxxxxxxxxxxxxx&gt;	&lt;4D435894.4040601@xxxxxxxxxxxxx&gt;	&lt;C499CEAA2FE47E4F8E5C154780A47673068BAB3955@xxxxxxxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on February 18, 2011 - 10:39:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

I've just about finished implementing the Bruker Protein Dynamic
Centre (PDC) file reading and had a few questions.  The first is for
peak height vs. peak volume.  Am I correct to assume that the 2
entries in the PDC file are:

Used integrals:  peak intensities
Used integrals:  peak volumes

Would you also have a list of default values for the PDC file?  How
can I differentiate between user who has properly entered the
experimental info vs. someone who is slack and has left everything to
the default values?  I would like to read the info for BMRB deposition
only if the user has set it.

As for the spectrum name, this is not needed for relax or the
subsequent BMRB deposition.  Another thing for BMRB deposition is that
I can have the PDC software info added automatically to the NMR-STAR
file.  For this I would need to add some information.  For example for
relax, we have the code:

# relax software.
SOFTWARE['relax'] = Software_store()
SOFTWARE['relax'].name = &quot;relax&quot;
SOFTWARE['relax'].authors = &quot;The relax development team&quot;
SOFTWARE['relax'].url = &quot;<a  rel="nofollow" href="http://nmr-relax.com&quot">http://nmr-relax.com&quot</a>;
SOFTWARE['relax'].tasks = [&quot;data processing&quot;]

Would you have a preference for the name, authors, url, and task name?
 The software can also be associated with a reference which will be
added to the BMRB, if you have one for the PDC.

Cheers,

Edward



On 29 January 2011 06:20, Neidig, Klaus-Peter
&lt;Klaus-Peter.Neidig@xxxxxxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Michael,


good point. Yes, the PDC reads a sequence file if available (needed for 
display purposes)
This, including the sequence itself is contained in the sample section.

The PDC also reads a PDB file that includes protons. It is needed  to 
calculate the diffusion tensor
and it is optionally used for display purposes. I will add the name of the 
pdb file to the sample section

Actually, the spectrum name is also not contained in the output. Should I 
add that as well ?
Alternatively, I could add the name of the PDC project file. This is a xml 
file containing everyting that
is relevant as part of a project. So far, in the header section, I only 
mention the name of a method/project.
However, the project file is only available if the user  stored his work as 
a project which is optional.

Best regards,
Peter

PS: We see on TV that after the big flood in Queensland there now also a 
lot of water in Victoria. I hope
you are not affected.


Dr. Klaus-Peter Neidig
Software Development / Head of Analysis Group

Bruker BioSpin GmbH
Silberstreifen
76287 Rheinstetten, Germany
Phone: +49 721 5161-6447
Fax:     +49 721 5161-6480

                                                              
Peter.Neidig@xxxxxxxxxxxxxxxxx
                                                              www.bruker.com

Bruker BioSpin GmbH: Sitz der Gesellschaft/Registered Office: Rheinstetten, 
HRB 102368 Amtsgericht Mannheim
Geschäftsführer/Managing Directors: Jörg Laukien, Dr. Bernd Gewiese, Dr. 
Gerhard Roth

Diese E-Mail und alle Anlagen können Betriebs- oder Geschäftsgeheimnisse, 
oder sonstige vertrauliche Informationen enthalten. Sollten Sie diese 
E-Mail irrtümlich erhalten haben, ist Ihnen eine Kenntnisnahme des Inhalts, 
eine Vervielfältigung oder Weitergabe der E-Mail und aller Anlagen 
ausdrücklich untersagt. Bitte benachrichtigen Sie den Absender und 
löschen/vernichten Sie die empfangene E-Mail und alle Anlagen. Vielen Dank.

This message and any attachments may contain trade secrets or privileged, 
undisclosed or otherwise confidential information. If you have received 
this e-mail in error, you are hereby notified that any review, copying or 
distribution of it and its attachments is strictly prohibited. Please 
inform the sender immediately and delete/destroy the original message and 
any copies. Thank you.
________________________________________
From: Michael Bieri [michael.bieri@xxxxxxxxxxxxx]
Sent: Saturday, January 29, 2011 1:00 AM
To: Edward d'Auvergne
Cc: Neidig, Klaus-Peter; Neidig, Klaus-Peter; relax-devel@xxxxxxx
Subject: Re: export

Hi

I think there is everything we will need. The important parameters
(x-nucleus, spectrometer frequencies) are given. I also think that the
fact that PDC is for proteins only facilitates the import (as the
assignment is the residue number).

Peter, do you use a structure file for the calculations? If so, it would
be nice to store the PDB identifier and relax can automatically download
it from the net (or find it on the hard drive).

The rest will be straight forward.

Cheers
Michael


Am 26.01.2011 01:41, schrieb Edward d'Auvergne:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

Thanks.  This is looking pretty good, and the version number should
really help with any future changes and automatic parsing of the
files.  Michael, can you see anything missing or that would be useful
to have in the PDC file?

The only thing that still worries me a little is the name of the
peaks.  Is this a free format?  For example, what if a user would like
to use the Trp side chain NH data as well?  Or if a natural abundance
13C relaxation data set is collected?  Or what do RNA/DNA people, or
even small molecule people, do? In relax we will need to match what is
in the PDC file into some 'spin sequence' consisting of hierarchies of
molecules, residues, and spins that the user defines through a
sequence file or PDB file.  So this might be the hardest part to
implement in reading the PDC file.

Cheers,

Edward


P.S. It's better to attach files to the task (<a  rel="nofollow" href="http://gna.org/task/?7180">http://gna.org/task/?7180</a>).


On 25 January 2011 14:44, Dr. Klaus-Peter Neidig
&lt;peter.neidig@xxxxxxxxxxxxxxxxx&gt;  wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

in the mean I have made a few small changes to the PDC export, e.g. I 
added a version ID
which allows you to check it. Below I have made a little document and 
also attached a sample
T1 export file.

Maybe you can have a look at it and comment on it if needed. We can still 
add more changes.
I plan a PDC 1.1.5 within the next 2-3 weeks that should include the 
changes. Form then on it
should stay constant as long as possible.

Best regards,
Peter

On 1/11/2011 4:13 PM, Edward d'Auvergne wrote:

Happy new year!

The reading of the PDC files is not implement yet as we had to work
out which sections and information were required.  Now that most
things are sorted out for the relaxation times with the error scaling,
time to rate conversion, etc., relax will most likely just read this
section.  I.e. walk to the results 'SECTION&quot; and then read that
converting to relaxation rates and removing the scaling.  How is the
peak name defined though?  What about side chain TRP NH peaks?  This
should not take long at all, though Michael and I are quite busy
finishing the relax GUI at the moment.  Additional information would
be parsed from the PDC header and 'sample information' section.  I'll
answer more of your questions below:


On 24 December 2010 07:58, Dr. Klaus-Peter Neidig
&lt;peter.neidig@xxxxxxxxxxxxxxxxx&gt;  wrote:

Dear Edward&amp;  Michael,

I wish you some nice holidays and a good start into the new year.

The last time I had sent you examples of the PDC ouput. I would assume 
that you can easily
read it via Python and that your Python programs are flexible. I will 
make sure that the format
stays in its essential components, i.e. values are tab separated and the 
sections start with
the keywords used so far.

May I ask if you in what detail you read other keywords ?

Example:
The section with the integrals looks like:

SECTION:    used integrals
Mixing time [s]:    0.01    0.03 .........

Would you suffer if I changed Mixing time into Mixing times ? Or do you 
just read a token up to : ?

We wouldn't need to read this section in relax as we know how to
convert the relaxation values and errors to the correct form.  But to
find the relevant data, a fixed tag name would be useful.  relax would
be able to handle changes, as long as the PDC file has version
information in it and the change occurs between different versions.
Then we can search for 'Mixing time [s]' in version 'x' and 'Mixing
times' in version 'y'.


The reason why I'm asking that someone looked through export and report 
and found such minor
differences. Other examples are that in between the tab separated title 
lines of the tables, e.g.
the title line         Peak name          F1[ppm]      F2[ppm] ....  
sometimes additional spaces are contained,
sometimes 2, sometimes 3.

In relax, the amount of spacing does not matter.  It should not matter
- the only case where it does is the retarded PDB format.  Parsers
should be able to handle this if written properly, just split the line
up by whitespace.


Do you evaluate these title lines at all  or just the relevant table that 
follows ?

This title line would be skipped.  Can it be that the user can change
which columns are shown?  For example can they rearrange these
columns, or say not show the F1 and F2 columns?  If these columns are
variable, then we would have to read that line.


Early next year we should write down which parts of the output must no be 
changed by myself
to avoid conflicts.

It would be nice to have these files versioned so that automatic
parsers can handle any future changes.  That would make things much
easier.

Cheers,

Edward
.


--

Dr. Klaus-Peter Neidig
Software Development / Head of Analysis Group

Bruker BioSpin GmbH
Silberstreifen
76287 Rheinstetten, Germany
  Phone: +49 721 5161-6447
  Fax:     +49 721 5161-6480

   Peter.Neidig@xxxxxxxxxxxxxxxxx
   www.bruker.com
________________________________
Bruker BioSpin GmbH: Sitz der Gesellschaft/Registered Office: 
Rheinstetten, HRB 102368 Amtsgericht Mannheim
Geschäftsführer/Managing Directors: Jörg Laukien, Dr. Bernd Gewiese, Dr. 
Gerhard Roth

Diese E-Mail und alle Anlagen können Betriebs- oder Geschäftsgeheimnisse, 
oder sonstige vertrauliche Informationen enthalten. Sollten Sie diese 
E-Mail irrtümlich erhalten haben, ist Ihnen eine Kenntnisnahme des 
Inhalts, eine Vervielfältigung oder Weitergabe der E-Mail und aller 
Anlagen ausdrücklich untersagt. Bitte benachrichtigen Sie den Absender 
und löschen/vernichten Sie die empfangene E-Mail und alle Anlagen. Vielen 
Dank.

This message and any attachments may contain trade secrets or privileged, 
undisclosed or otherwise confidential information. If you have received 
this e-mail in error, you are hereby notified that any review, copying or 
distribution of it and its attachments is strictly prohibited. Please 
inform the sender immediately and delete/destroy the original message and 
any copies. Thank you.
</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00056" href="msg00056.html">Re: export</a></strong>
<ul><li><em>From:</em> Dr. Klaus-Peter Neidig</li></ul></li>
<li><strong><a name="00050" href="msg00050.html">Re: export</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Feb 24 16:00:14 2011</div>  
</body>
</html>
