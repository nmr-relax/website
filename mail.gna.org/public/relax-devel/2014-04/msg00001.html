<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: Specific analysis API redesign and relax 3.2. -->
<!--X-From-R13: "Sqjneq q'Ohiretar" &#60;rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Thu, 03 Apr 2014 19:11:47 +0200 -->
<!--X-Message-Id: CAED9pY9tR4m6mzM7LC&#45;dxxsEbeAA7rgkb5=SW30VHL6TxfrfZw@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CAED9pY&#45;qnTD6N9DbnX2i7mqkAWNukvm_qjg3CuDemAdbq38X&#45;Q@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Specific analysis API redesign and relax 3.2. -- April 03, 2014 - 19:11</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Specific analysis API redesign and relax 3.2.</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00001" class="tabs">Index by Date</a> | <a href="threads.html#00001" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00000.html">Date Prev</a>] [<a href="msg00002.html">Date Next</a>] [<a href="msg00000.html">Thread Prev</a>] [<a href="msg00002.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 3 Apr 2014 19:10:55 +0200</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:date:message-id:subject :from:to:content-type; bh=L4KxMhYEdJmxyJhv019wwqmNllYg7NstnAD2GsKtCEM=; b=vePs3Bsa1lclfxwliWpz74FI/qfqVm11SnVWLKoQ4IH5BziaSOV/o9LwChaYIhQdPg FZpHUsFTLNe4qj3cDGVuJMuAfTnQowA5bXEzwbb1Wqn0U3bC8GH/lJavklHFFNCOB3PL jycS5Kn1keAydZcYGWMy+MxKy+orPo7eGxYiLexc4I3pcoX/lFQcFV37cEwowrm1CWGA Z2k6xt6uHrRyQ3ROwiK2OSgn026IHHTMpq8LBLzBqjVQLSl3JA703h14TGa32g9+0I4F cgdjiLWwzo753w2AaOSKw/QVERIo8BQnOuDEG8OJ9+KnIwYpgywnW0SHzNCcmgcBEhpm fQTw==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;CAED9pY9tR4m6mzM7LC-dxxsEbeAA7rgkb5=SW30VHL6TxfrfZw@mail.gmail.com&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00000.html">CAED9pY-qnTD6N9DbnX2i7mqkAWNukvm_qjg3CuDemAdbq38X-Q@mail.gmail.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on April 03, 2014 - 19:11:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr"><div>As these changes are quite disruptive, I will also merge the double_rotor branch back into trunk.  The differences are becoming too much of a hassle to deal with, as the specific_analyses.frame_order package in the trunk consists of a single __init__.py file while in the branch it has been split up for the API redesign.  And many changes in the branch are general for the frame order analysis and not specific to that branch.<br>
<br></div>Regards,<br><br>Edward<br><br><br></div><div class="gmail_extra"><br><br><div class="gmail_quote">On 3 April 2014 19:07, Edward d&#39;Auvergne <span dir="ltr">&lt;<a rel="nofollow" href="mailto:edward@xxxxxxxxxxxxx" target="_blank">edward@xxxxxxxxxxxxx</a>&gt;</span> wrote:<br>
<blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex"><div dir="ltr"><div><div><div><div>You may have noticed a lot of changes recently to the specific analysis API.  Due to too many circular import headaches with the frame order analysis coding, I decided to finally clean up the specific_analyses directories.  This has been on my mind for a long time.  The relaxation dispersion analysis was the first example of this cleaner design.<br>

<br></div>Previously  the API consisted of one class per analysis.  Public methods implemented the API functionality.  But tonnes of private methods implemented everything else.  This has resulted in classes which were far too big.  Instead, the redesign is as follows:<br>

<br></div>- All analyses were converted from modules into packages.<br></div><br>- The API class has been shifted into the &#39;api&#39; module.<br><br></div>- All private methods have been converted into functions in multiple modules based on their functionality (the method to function conversion was easy as none of the methods were storing information in &#39;self&#39;).  The different modules include:<br>

<div><div><div><div><br></div><div>  - &#39;checks&#39;, all functions for performing checks specific to the analysis.<br></div><div>  - &#39;data&#39;, all functions dealing with the base data of the analysis.<br></div>
<div>
  - &#39;optimisation&#39;, all functions relating to optimisation, calculation, back calculation, etc., i.e. anything working with the target functions.<br></div><div>  - &#39;parameters&#39;, all functions relating to the models and model parameters.<br>

</div><div>  - &#39;uf&#39;, all functions which are the backend of a user function.<br></div><div>  - &#39;variables&#39;, all constants used in the analysis.<br><br></div><div>Other non-standard modules exist, for example for interfacing with different software, backwards compatibility, BMRB interoperability, etc.<br>

<br></div><div>In addition to the package/module layout redesign, the way the specific analysis API is called from the rest of relax is now much simplified.  The function specific_analyses.api.return_api() is now the standard and only way to access the API.  This will simply return the API object corresponding to the desired analysis.  This has allowed the API method naming to be standardised, and has resulted in the removal of a lot of old and ugly code.<br>

</div><div><br></div><div>As the API documentation (<a rel="nofollow" href="http://www.nmr-relax.com/api/" target="_blank">http://www.nmr-relax.com/api/</a>) will now be significantly different, the next release of relax will be version 3.2.0.<br>
<br></div>
<div>Regards,<br><br>Edward<br></div></div></div></div></div>
</blockquote></div><br></div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00000" href="msg00000.html">Specific analysis API redesign and relax 3.2.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Apr 03 21:40:10 2014</div>  
</body>
</html>
