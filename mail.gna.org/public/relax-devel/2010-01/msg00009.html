<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: IO redirection in the multi&#45;processor branch has been fixed (at 	least for the uni&#45;processor). -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Thu, 07 Jan 2010 14:14:51 +0100 -->
<!--X-Message-Id: 7f080ed11001070514i2eed0682w5975091cd4bf4227@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 7f080ed11001070511h48e6aaf0if10666d12d7b371a@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: IO redirection in the multi-processor branch has been fixed (at 	least for the uni-processor). -- January 07, 2010 - 14:14</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: IO redirection in the multi-processor branch has been fixed (at 	least for the uni-processor).</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00009" class="tabs">Index by Date</a> | <a href="threads.html#00009" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00008.html">Date Prev</a>] [<a href="msg00010.html">Date Next</a>] [<a href="msg00008.html">Thread Prev</a>] [Thread Next]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Gary Thompson &lt;garyt@xxxxxxxxxxxxxxx&gt;,	gary thompson &lt;garyt.and.sarahb@xxxxxxxxx&gt;, relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Thu, 7 Jan 2010 14:14:12 +0100</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00009.html">7f080ed11001070514i2eed0682w5975091cd4bf4227@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;7f080ed11001070511h48e6aaf0if10666d12d7b371a@xxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on January 07, 2010 - 14:14:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

For testing I'm running the command:

$ mpirun -np 2 ./relax --multi mpi4py
test_suite/system_tests/scripts/omp_model_free.py

from the base directory of the branch.  This is with openmpi
installed.  This allows the code on a dual core system to be tested
without using any external data or scripts.

Regards,

Edward


2010/1/7 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Dear Gary,

I've finally managed to work out what was happening in the
multi-processor branch with the loss of control of STDOUT and STDERR
when errors occur.  This now allows the test suite and user controlled
IO redirection to function properly.  This was one of the major
hurdles for getting the branch merged.  I've tested this for the
uni-processor and it works.  I'm now testing this out with mpi4py
(using openmpi) on a dual core system to see if the code works.  Would
you be able to test this code by running your script and data from
<a  rel="nofollow" href="/mail.gna.org/public/relax-devel/2007-04/msg00048.html">https://mail.gna.org/public/relax-devel/2007-04/msg00048.html</a>?  Would
it be possible to attach this data to a task at
<a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/task/?group=relax">https://gna.org/task/?group=relax</a> so I can more easily get this code
running again and merged?  Cheers.

Now only two more things remain prior to merging the branch back.  The
first is the breaking up of the model-free grid search within relax
(and not the optimisation code as this is now external in the minfx
package <a  rel="nofollow" href="http://gna.org/projects/minfx/">http://gna.org/projects/minfx/</a>).  This grid search is
currently broken.  The second is a good code clean up.  There is old
code that needs pruning, 44 FIXME comments, 29 TODO comments, 5
CHECKME comments, lots of commented out code, and a requirement to
convert the code to the relax standards.  If you could help a little
with these, it would be much appreciated.  I hope to do this one day,
not too far off in the future.  Do you still have plans of publishing
this?

For reference for those unaware of Gary's multi-processor branch,
please look at the following two key references:

<a  rel="nofollow" href="/mail.gna.org/public/relax-devel/2007-05/msg00000.html">https://mail.gna.org/public/relax-devel/2007-05/msg00000.html</a>
<a  rel="nofollow" href="/mail.gna.org/public/relax-devel/2007-04/msg00048.html">https://mail.gna.org/public/relax-devel/2007-04/msg00048.html</a>

Everything started with this post:

<a  rel="nofollow" href="/mail.gna.org/public/relax-devel/2006-04/msg00023.html">https://mail.gna.org/public/relax-devel/2006-04/msg00023.html</a>

The branch is located at:

svn co svn://svn.gna.org/svn/relax/branches/multi_processor_merge

This is the updated, current code for the 1.3 line.  The original
multi-processor branch using the 1.2 relax designs (branched from
around the relax-1.3.0 stage) is located at:

svn co svn://svn.gna.org/svn/relax/branches/multi_processor

Regards,

Edward

</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00008" href="msg00008.html">IO redirection in the multi-processor branch has been fixed (at least	for the uni-processor).</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Mon Jan 11 15:00:14 2010</div>  
</body>
</html>
