<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Custom Peak intensity reading -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Thu, 06 Jun 2013 11:43:13 +0200 -->
<!--X-Message-Id: CAED9pY&#45;B8REWuf7S8dGr2DwH_8ned9ya7&#45;QjJPcL3WdMg1pU9A@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CA+CBx2OPzU6gGWwDAdTJav2OgM9HmLXGmTaMrnnwR75TPECxvg@mail.gmail.com -->
<!--X-Reference: CAED9pY&#45;5MnF0WHpvSTqC_&#45;HgoXT8dTKLiqEZGsoq6bK2v+EEzQ@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Custom Peak intensity reading -- June 06, 2013 - 11:43</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Custom Peak intensity reading</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00003" class="tabs">Index by Date</a> | <a href="threads.html#00003" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00002.html">Date Prev</a>] [<a href="msg00004.html">Date Next</a>] [<a href="msg00002.html">Thread Prev</a>] [<a href="msg00004.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 6 Jun 2013 11:42:41 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:sender:in-reply-to:references:date	:x-google-sender-auth:message-id:subject:from:to:cc:content-type	:content-transfer-encoding;	bh=4iLrYE5fuo4DY4ONp2qo5/7duVbojeEuyVC2jhoSUjY=;	b=GfdFJ37ZjWa0AV+YLpA5ZWqQD2A4cRdZt4fHAB4KPMtYqEzBfI47NDM1szH+3dvbVp	F0u3Qj0UY6vQoJ5svfyfy+JYKxGkx45HowHJMkTv0CMKApwQo0JhU+CunZWfITNXFMkk	X4NnijEqssP8MLHT5VzMSfq6gWrzrFhhznHL6cHjPD/XVsVzKtCdLTMMD0AqWOR112VT	Ve7Pyfdy9mZJaY5Np3/X71hcfExbHtqzqfkpIykM3pbx80SL/W5FEqj1fY/W765XCxgq	/nd3N4ouW70LzDtr+fTH/L1G9st8XtlJ93asius1k14wAch+uj9VLFmN2wl9pglRy3BM	rLPg==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00003.html">CAED9pY-B8REWuf7S8dGr2DwH_8ned9ya7-QjJPcL3WdMg1pU9A@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;CA+CBx2OPzU6gGWwDAdTJav2OgM9HmLXGmTaMrnnwR75TPECxvg@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY-5MnF0WHpvSTqC_-HgoXT8dTKLiqEZGsoq6bK2v+EEzQ@xxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on June 06, 2013 - 11:43:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

Have you had any luck finding the problem?  I would guess that this
doesn't work as the protein was renamed to something different to that
of the data file, hence you would see messages such as:

relax&gt; spectrum.read_intensities(file='test.seq', dir=None,
spectrum_id=None, heteronuc='N', proton='HN', int_method='height',
int_col=6, spin_id_col=None, mol_name_col=1, res_num_col=2,
res_name_col=3, spin_num_col=4, spin_name_col=5, int_col=6, sep=None,
spin_id=None, ncproc=None)
Opening the file '/data/edau/relax/branches/relax_disp/test.seq' for reading.
Generic formatted data file.

RelaxWarning: Cannot find the spin #protein:10@N within the sequence.
RelaxWarning: Cannot find the spin #protein:6@N within the sequence.
RelaxWarning: Cannot find the spin #protein:63@N within the sequence.
RelaxWarning: Cannot find the spin #protein:4@N within the sequence.
RelaxWarning: Cannot find the spin #protein:67@N within the sequence.
RelaxWarning: Cannot find the spin #protein:5@N within the sequence.
RelaxWarning: Cannot find the spin #protein:65@N within the sequence.
RelaxWarning: Cannot find the spin #protein:38@N within the sequence.
RelaxWarning: Cannot find the spin #protein:7@N within the sequence.
RelaxWarning: Cannot find the spin #protein:75@N within the sequence.
RelaxError: No data could be loaded from the peak list

I tried this by copying the data in your post to a file and following
the instructions.  This is normal as the molecule with the name
'protein' no longer exists in the relax data store.  Or did you see
something different?  The RelaxError text you wrote about is slightly
different.

Regards,

Edward


On 4 June 2013 15:10, Edward d'Auvergne &lt;edward.dauvergne@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">I have to admit, the error message should be made more informative!
However that error statement (line 668 of lib/io.py) cannot be reached
without relax giving many warnings.  The only possibility of reaching
the error without warnings is if the file is empty.  Do you see
warnings which could indicate the problem?  If not, I would suggest
creating a bug report for the problem and attaching a minimal set of
files to be able to reproduce the issue.  It would be best if the
files are truncated to 1-2 spins (and maybe randomised if the data is
to be kept secret).  If it really is a bug, then these files could be
be added to the test suite and turned into a system or GUI test to
catch the problem.

Cheers,

Edward


On 4 June 2013 14:37, Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi.

I have made a custom intensity peak/model file, for easy import in relax.
The form is:

protein 10 L 10 N 3.377659e+05 6.362446e+05
protein 6 V 6 N 1.697771e+06 3.015788e+06
protein 63 Y 63 N 8.673898e+05 1.726064e+06
protein 4 Y 4 N 2.339480e+06 4.039142e+06
protein 67 M 67 N 2.574062e+06 4.313824e+06
protein 5 E 5 N 1.609356e+06 2.927111e+06
protein 65 V 65 N 2.179341e+06 4.067343e+06
protein 38 E 38 N 1.563795e+06 2.921316e+06
protein 7 N 7 N 1.535896e+06 3.005234e+06
protein 75 L 75 N 3.578841e+06 6.352595e+06

This goes fine for model import, with standard settings.

Start new analysis
Relaxation dispersion analysis
Relaxation dispersion experiment type selection
CPMG, fixed time
Data pipe set up
The starting data pipe for the analysis = origin - relax_disp (Mon Jun
3 17:08:30 2013)
The data pipe bundle = relax_disp (Mon Jun 3 17:08:30 2013)

Click: Spin editor
Click: Load spins
Make a test file: test.seq

Click: From a file containing sequence data
The file name = test.seq
The spin ID string = Leave empty
Free format
Molecule name column (mol_name_col) = 1
Residue number column (res_num_col) = 2
Residue name column (res_name_col) = 3
Spin number column (spin_num_col) = 4
Spin name column (spin_name_col) = 5
You can then rename molecule by, right click &quot;Molecule: protein&quot;,
&quot;Name the molecule&quot;, Set &quot;The new molecule name&quot; to for example
&quot;Test&quot;. Apply, then OK.

Add spectra
Click &quot;Add&quot;

The file name = test.seq
The Spectrum ID string: 2,0
The Intensity column: 6,7
rest is default

Error:
No corresponding data could be found within the file.

I can import single wise.

best
Troels


Troels Emtekær Linnet

_______________________________________________
relax (<a  rel="nofollow" href="/">http://www.nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="/mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>
</pre></blockquote></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00004" href="msg00004.html">Re: Custom Peak intensity reading</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00001" href="msg00001.html">Custom Peak intensity reading</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00002" href="msg00002.html">Re: Custom Peak intensity reading</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Jun 06 14:40:06 2013</div>  
</body>
</html>
