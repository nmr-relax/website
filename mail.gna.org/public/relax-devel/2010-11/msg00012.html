<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: BMRB deposition of model&#45;free results. -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 23 Nov 2010 11:04:23 +0100 -->
<!--X-Message-Id: AANLkTimUZFVDTKedmh8756O0EnPc=NpYqXk4mAZxoVmi@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: AANLkTim8YqiQyqG7fQD5RvrDWQkBgDhJKZ&#45;cox+5i&#45;o6@mail.gmail.com -->
<!--X-Reference: AANLkTin97&#45;Xs=ObCthJe&#45;f3tRBPBk2TUD8idCgWeQxU4@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: BMRB deposition of model-free results. -- November 23, 2010 - 11:04</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: BMRB deposition of model-free results.</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00012" class="tabs">Index by Date</a> | <a href="threads.html#00012" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00011.html">Date Prev</a>] [<a href="msg00013.html">Date Next</a>] [<a href="msg00011.html">Thread Prev</a>] [Thread Next]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Eldon Ulrich &lt;elu@xxxxxxxxxxxxx&gt;, relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Tue, 23 Nov 2010 11:04:10 +0100</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;	h=domainkey-signature:mime-version:received:sender:received	:in-reply-to:references:date:x-google-sender-auth:message-id:subject	:from:to:content-type:content-transfer-encoding;	bh=SSUfrehRDZMJrK0u98WZ0sJ0Q94dOnF+LAhusviEIKg=;	b=w+G7PhfUKHa6MXOrO4fYzIC6CnwqiybyaLBA1WWOEvsU82chhzszNsIdllD1TTTrus	DZKGPoPZ/uNlyMIvg+km6Z8CngR3uicvaB/1rPEuBDLiSwCepk+w/xjYnm695Qk/Iawj	+5rGQkx7TiFaOXExpM93+r5l348gPCvPoKtxQ=</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00012.html">AANLkTimUZFVDTKedmh8756O0EnPc=NpYqXk4mAZxoVmi@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;AANLkTim8YqiQyqG7fQD5RvrDWQkBgDhJKZ-cox+5i-o6@xxxxxxxxxxxxxx&gt;	&lt;AANLkTin97-Xs=ObCthJe-f3tRBPBk2TUD8idCgWeQxU4@xxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on November 23, 2010 - 11:04:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

Sorry, I should have put this all in one mail.  I am looking at the
compulsory fields at the moment because I would like to have relax
fill out as many of these as possible so the user will find BMRB
deposition incredibly easy.  For the CSA saveframe, the NMR
experiments section is compulsory.  But in almost 100% of cases, the
CSA values are set to a fixed value for all backbone N and C spins.
These almost never come from experiment.  So how should this be
handled?  Maybe relax could create a 'pseudo' NMR experiment entry and
set the CSA experiment saveframe to point to that?  I.e. I could set
the NMR experiment name to 'Fixed value CSA', the sample label to
'$sample_1', the sample condition labels to '$conditions_1' (the
defaults in the relax output file), the NMR spectrometer label to
'N/A', etc.  Or would it be a good idea to make the CSA saveframe
experiment section non-compulsory in the production ADIT-NMR?

The other compulsory tag that is everywhere and that I cannot get
around is the &quot;Deposited data file name&quot;.  This one is just an
annoying inconvenience to the depositing user which need not exist.  I
would like to be able set this tag to some 'magical' value so that
ADIT-NMR will detect that the entries it is creating comes from the
file it is in the process of processing, so that ADIT-NMR can take
this file name and automatically place it in the &quot;Deposited data file
name&quot; tag.  Does ADIT-NMR have a feature like this?

Cheers,

Edward


On 23 November 2010 00:27, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

Another thing I just noticed is the compulsory
_Heteronucl_NOE_list.NOE_ref_val tag.  From the NMR-STAR dictionary I
cannot work out what this value is or why it is compulsory.  Do you
know what this tag is about, and how relax should handle it?

Cheers,

Edward


On 22 November 2010 19:59, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Dear Eldon,

After a major fight with diffusion tensors, relax is finally able to
produce NMR-STAR v3.1 definition files for BMRB deposition!!  It has
been a long time, but to properly implement the reading and writing of
diffusion tensors, I have had to do a lot of coding and debugging of
an area of relax that was previously unused.  The conversion between
all the different conventions and the required testing was quite
painful.  But now most things are working.  Though, there are a few
issues remaining though that you may be able to help with.  The
testing file produced by relax is called 'temp_bmrb' and can be
created by running the relax command:

$ ./relax test_suite/system_tests/scripts/bmrb_rw.py

This must be run from the base relax directory.  This requires a
checked out copy of relax 1.3 line at revision number r11693 or higher
and bmrblib at r87.  I have attached the resultant file to
<a  rel="nofollow" href="https://gna.org/task/index.php#comment7">https://gna.org/task/index.php#comment7</a> for testing with the ADIT-NMR
system.  The file contains a mixture of different results, values, and
random things for testing.

There are a few problems remaining:

1)  The first issue is that there is a piece of information currently
missing - the XH bond lengths and XH unit vectors.  I think we
discussed how to store this data in the NMR-STAR file, but
unfortunately I have forgotten how to do this.  Would you remember the
saveframes and tags that this goes into?

2)  A few saveframes seem to be ignored by the production ADIT-NMR
system including:

- The method saveframes.
- The auto_relaxation saveframes.
- The model_free saveframes.
- The tensor saveframes.

3)  Some saveframes have problems:

- For the relax software saveframe tag _Software.Version, ADIT-NMR
expects 31 characters or less.  Can this be increased?  The relax
version in this case is a repository checkout, so the version info is
quite detailed.
- The chemical_shift and heteronucl_NOE saveframes are expecting a
&quot;Deposited data file name&quot;, but this is coming from the temp_bmrb
complete file.  Should this be automatically handled so the user has
almost nothing to do in the deposition process?


Other issues might surface later.  But there is not much left to do to
finally have full integration of relax and the BMRB.

Cheers,

Edward

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00010" href="msg00010.html">BMRB deposition of model-free results.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00011" href="msg00011.html">Re: BMRB deposition of model-free results.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Nov 24 13:40:20 2010</div>  
</body>
</html>
