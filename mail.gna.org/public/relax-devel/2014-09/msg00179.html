<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: r26085 &#45; in /trunk/specific_analyses/relax_disp: parameter_object.py parameters.py -->
<!--X-From-R13: Febryf Szgrxæe Zvaarg &#60;gyvaargNaze&#45;erynk.pbz> -->
<!--X-Date: Sat, 27 Sep 2014 16:34:49 +0200 -->
<!--X-Message-Id: CA+CBx2P2JWwxTFR6SwJ+qstL_5dG8JQEke+JRhfMnb=gg1u5Xw@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1XXp7C&#45;0004bt&#45;P4@subversion.gna.org -->
<!--X-Reference: CAED9pY9EhqH+7owjXhawFnAm1s+DQBfVO0E=h5L5vJpXR54idw@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: r26085 - in /trunk/specific_analyses/relax_disp: parameter_object.py parameters.py -- September 27, 2014 - 16:34</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: r26085 - in /trunk/specific_analyses/relax_disp: parameter_object.py parameters.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00179" class="tabs">Index by Date</a> | <a href="threads.html#00179" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00178.html">Date Prev</a>] [<a href="msg00180.html">Date Next</a>] [<a href="msg00178.html">Thread Prev</a>] [<a href="msg00180.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Edward d'Auvergne&quot; &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Sat, 27 Sep 2014 16:33:58 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:from:date:message-id :subject:to:cc:content-type; bh=4V0lUbWemlg+B545PrLSvjA3mk71TFcrIG7QKbxl1tU=; b=n9dyBQ68ts0zMP0JUQITYQeHnEsaPpSxx//wOqLSqM5lzrWAZY+YG/jKc1HGrpe3cM VGvHw0otTtm0aHB43VQ02it1RxiWOhczwyPqRU2+CPsmgrxBGHaoDSSg1wUvdn9nV5aS egxLIZek3oTYVvMvSVU0z1eLXv3WdYfWqt3k2o8FoBhU2Pcc1sCb3ae7b50s08AHIZ5d foBHzXow9ofp+7aCfTBCIKN3aF4mwBC/Jzk//OnpOaMWF1kLPWWT6r9vmEaBIm0b1uCb wKsW1HMbwL+dKhN9Dmqpz7Iigt7LGJPBB65eQtbydsW9cNP6rk7ZQiAk071JcbEtRiQQ gCAQ==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;CA+CBx2P2JWwxTFR6SwJ+qstL_5dG8JQEke+JRhfMnb=gg1u5Xw@mail.gmail.com&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1XXp7C-0004bt-P4@subversion.gna.org&gt; &lt;CAED9pY9EhqH+7owjXhawFnAm1s+DQBfVO0E=h5L5vJpXR54idw@mail.gmail.com&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Troels Emtekær Linnet</strong> on September 27, 2014 - 16:34:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Edward.

I will change it to 20 for grid search.

I will modify the manual within a timeframe of a week.

Best
Troels

2014-09-27 13:04 GMT+02:00 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

If that's the case, then maybe grid searching from 0 to 20 would be
better?  If it's higher than 20, the subsequent optimisation should
send it to the correct value.  Also, what about adding this commit
message description of the limitations of the k_AB parameter to the
TSMFK01 section of the manual at
<a  rel="nofollow" href="http://www.nmr-relax.com/manual/TSMFK01_2_site_CPMG_model.html">http://www.nmr-relax.com/manual/TSMFK01_2_site_CPMG_model.html</a>?  Oh,
all changes in the grid search values also needs to be updated in the
list at
<a  rel="nofollow" href="http://www.nmr-relax.com/manual/Dispersion_parameter_grid_search.html">http://www.nmr-relax.com/manual/Dispersion_parameter_grid_search.html</a>.

Cheers,

Edward



On 27 September 2014 12:20,  &lt;tlinnet@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Author: tlinnet
Date: Sat Sep 27 12:20:33 2014
New Revision: 26085

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=26085&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=26085&amp;view=rev</a>
Log:
For relaxation dispersion, modified that the Grid search and linear
</pre></blockquote><pre style="margin: 0em;">constraints for parameter &quot;k_AB&quot; is between 0-100.
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

The parameter is only used in the TSMFK01 model.

The &quot;k_AB&quot; parameter is only for very slow forward exchange rate.
The extected values should according to the reference paper:

 Tollinger, M., Skrynnikov, N. R., Mulder, F. A. A., Forman-Kay, J. D.,
</pre></blockquote><pre style="margin: 0em;">and Kay, L. E. (2001). Slow dynamics in folded and unfolded states of an
sh3 domain. J. Am. Chem. Soc., 123(46), 11341-11352. (10.1021/ja011300z)
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

The paper conserns values of k_AB in the region 0.1 to 5.0.

If the exchange rate is any higher value of this, then another model
</pre></blockquote><pre style="margin: 0em;">should be used for the analysis.
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Modified:
    trunk/specific_analyses/relax_disp/parameter_object.py
    trunk/specific_analyses/relax_disp/parameters.py

Modified: trunk/specific_analyses/relax_disp/parameter_object.py
URL:
</pre></blockquote><pre style="margin: 0em;"><a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/specific_analyses/relax_disp/parameter_object.py?rev=26085&amp;r1=26084&amp;r2=26085&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/specific_analyses/relax_disp/parameter_object.py?rev=26085&amp;r1=26084&amp;r2=26085&amp;view=diff</a>
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">==============================================================================
</pre><blockquote class="blockquote"><pre style="margin: 0em;">--- trunk/specific_analyses/relax_disp/parameter_object.py
</pre></blockquote><pre style="margin: 0em;">(original)
</pre><blockquote class="blockquote"><pre style="margin: 0em;">+++ trunk/specific_analyses/relax_disp/parameter_object.py      Sat Sep
</pre></blockquote><pre style="margin: 0em;">27 12:20:33 2014
</pre><blockquote class="blockquote"><pre style="margin: 0em;">@@ -568,13 +568,13 @@
         self._add(
             'k_AB',
             scope = 'spin',
-            default = 1000.0,
+            default = 2.0,
             desc = 'The exchange rate from state A to state B',
             py_type = float,
             set = 'params',
-            scaling = 10000,
-            grid_lower = 1.0,
-            grid_upper = 10000.0,
+            scaling = 100,
+            grid_lower = 0.1,
+            grid_upper = 100.0,
             grace_string = '\\qk\\sAB\\N\\Q (rad.s\\S-1\\N)',
             err = True,
             sim = True

Modified: trunk/specific_analyses/relax_disp/parameters.py
URL:
</pre></blockquote><pre style="margin: 0em;"><a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/specific_analyses/relax_disp/parameters.py?rev=26085&amp;r1=26084&amp;r2=26085&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/specific_analyses/relax_disp/parameters.py?rev=26085&amp;r1=26084&amp;r2=26085&amp;view=diff</a>
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">==============================================================================
</pre><blockquote class="blockquote"><pre style="margin: 0em;">--- trunk/specific_analyses/relax_disp/parameters.py    (original)
+++ trunk/specific_analyses/relax_disp/parameters.py    Sat Sep 27
</pre></blockquote><pre style="margin: 0em;">12:20:33 2014
</pre><blockquote class="blockquote"><pre style="margin: 0em;">@@ -446,11 +446,10 @@
         padw2 &gt;= 0
         dw &gt;= 0
         0 &lt;= kex &lt;= 2e6
-        0 &lt;= k_AB &lt;= 2e6
         0 &lt;= kB &lt;= 2e6
         0 &lt;= kC &lt;= 2e6
+        0 &lt;= k_AB &lt;= 100
         tex &gt;= 0
-        k_AB &gt;= 0


     Matrix notation
@@ -504,9 +503,11 @@
         |         |     |          |      |         |
         |-1  0  0 |     |    kC    |      |  -2e6   |
         |         |     |          |      |         |
+        | 1  0  0 |     |   k_AB   |      |    0    |
+        |         |     |          |      |         |
+        |-1  0  0 |     |   k_AB   |      |   100   |
+        |         |     |          |      |         |
         | 1  0  0 |     |   tex    |      |    0    |
-        |         |     |          |      |         |
-        | 1  0  0 |     |   k_AB   |      |    0    |


     @keyword spins:             The list of spin data containers for
</pre></blockquote><pre style="margin: 0em;">the block.
</pre><blockquote class="blockquote"><pre style="margin: 0em;">@@ -621,13 +622,23 @@
                     break

         # Exchange rates and times (0 &lt;= k &lt;= 2e6).
-        elif param_name in ['kex', 'kex_AB', 'kex_AC', 'kex_BC',
</pre></blockquote><pre style="margin: 0em;">'k_AB', 'kB', 'kC']:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">+        elif param_name in ['kex', 'kex_AB', 'kex_AC', 'kex_BC', 'kB',
</pre></blockquote><pre style="margin: 0em;">'kC']:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">             A.append(zero_array * 0.0)
             A.append(zero_array * 0.0)
             A[j][param_index] = 1.0
             A[j+1][param_index] = -1.0
             b.append(0.0)
             b.append(-2e6 / scaling_matrix[param_index, param_index])
+            j += 2
+
+        # Exchange rates and times (0 &lt;= k_AB &lt;= 100).
+        elif param_name in ['k_AB']:
+            A.append(zero_array * 0.0)
+            A.append(zero_array * 0.0)
+            A[j][param_index] = 1.0
+            A[j+1][param_index] = -1.0
+            b.append(0.0)
+            b.append(-100. / scaling_matrix[param_index, param_index])
             j += 2

         # Exchange times (tex &gt;= 0).


_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-commits mailing list
relax-commits@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-commits">https://mail.gna.org/listinfo/relax-commits</a>
</pre></blockquote><pre style="margin: 0em;">

_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>

</pre></blockquote><pre style="margin: 0em;">

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00180" href="msg00180.html">Re: r26085 - in /trunk/specific_analyses/relax_disp: parameter_object.py parameters.py</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00178" href="msg00178.html">Re: r26085 - in /trunk/specific_analyses/relax_disp: parameter_object.py parameters.py</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sat Sep 27 17:20:21 2014</div>  
</body>
</html>
