<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [bug #20174] run mf_multimodel.py in relax -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 18 Sep 2012 10:04:09 +0200 -->
<!--X-Message-Id: CAED9pY9akercBLFWTqD5Ez&#45;Ff8acYy&#45;uZ2xe_AcZHGKpFjJ_GA@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20120917&#45;163017.sv0.97297@gna.org -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [bug #20174] run mf_multimodel.py in relax -- September 18, 2012 - 10:04</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: [bug #20174] run mf_multimodel.py in relax</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00030" class="tabs">Index by Date</a> | <a href="threads.html#00030" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00029.html">Date Prev</a>] [<a href="msg00031.html">Date Next</a>] [<a href="msg00028.html">Thread Prev</a>] [<a href="msg00038.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: mengjun.xue@xxxxxxxxxxxxxxxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Tue, 18 Sep 2012 10:03:39 +0200</li>
<li class="menuitem">
<em>Cc</em>: relax-users@xxxxxxx</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:sender:in-reply-to:references:date	:x-google-sender-auth:message-id:subject:from:to:cc:content-type;	bh=axinuVum/8UNmJnXtO0g+yLMQxvf/e1FDW1nVbh4ihs=;	b=tTgTPGf+2pY3XyMceKRf5IlSMAFYd29d4SqTIkNgtIHeVTAbDXqJGY4Yz/pb/MdG4g	NAvKLtfizLEnmVhwGa7UxrYqkycMbfSl71HqczNTAJoFQF3ejjXlvo41QiCNNQ1w8Bb4	U6AIegFqYgI9ZHh4TW/7Aws0pvJVWwVk3B46r0OHoo/gKwy+eVEAscl+Z2tWOjSBCVLW	4Lz5t/1ZHCHrmVFgAFkypCmQcimd3kISvVbjbc15lhpCpEpcevbFL46ME9MmiMqC7CMi	guZcEW50FbzRy9oGJbd8b3+ccEHI01hea2GwuCWOfOA+AAJ4dwbs0RK9d42e9v0QKV+I	gaaw==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00030.html">CAED9pY9akercBLFWTqD5Ez-Ff8acYy-uZ2xe_AcZHGKpFjJ_GA@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;20120917-163017.sv0.97297@xxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on September 18, 2012 - 10:04:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Mengjun,

It appears that you are running relax incorrectly here.  Maybe I'll
modify the relax user manual a little to better cater for MS Windows
users.  By double clicking on 'relax.py', you will launch relax in the
prompt mode and not in the script mode, and typing the name of a file
within the prompt mode is always give you a NameError.  For the script
mode, you have to have Windows PowerShell installed.  Then from within
the PowerShell, you will need to type:

PS C:\directory with your script&gt; relax mf_multimodel.py

Note that you need to be in the directory where the script is located.
 If you system does not support PowerShell, then you will have to run
the ancient 'cmd' program instead.  If you encounter such problems, I
would recommend first sending a message to the relax-users@xxxxxxx
mailing list and then if the problem is identified as a genuine bug,
then a bug report can be submitted.

Cheers,

Edward


On 17 September 2012 18:30, anonymous &lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt; 
wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">URL:
  &lt;<a  rel="nofollow" href="http://gna.org/bugs/?20174">http://gna.org/bugs/?20174</a>&gt;

                 Summary: run mf_multimodel.py in relax
                 Project: relax
            Submitted by: None
            Submitted on: Mon 17 Sep 2012 04:30:17 PM UTC
                Category: relax sample scripts
                Severity: 3 - Normal
                Priority: 5 - Normal
                  Status: None
                 Privacy: Public
             Assigned to: None
         Originator Name:
        Originator Email: mengjun.xue@xxxxxxxxxxxxxxxxxxxx
             Open/Closed: Open
         Discussion Lock: Any
                 Release: 2.1.0
        Operating System: Microsoft Windows

    _______________________________________________________

Details:

I started relax script mode by clicking the relax.py, and type 
mf_multimodel,
but Relax did not continue to perform calculations, and a error window came
up:



                                  relax 2.1.0

                    Molecular dynamics by NMR data analysis

                   Copyright (C) 2001-2006 Edward d'Auvergne
              Copyright (C) 2006-2012 the relax development team

This is free software which you are welcome to modify and redistribute under
the conditions of the GNU General Public License (GPL).  This program,
including all modules, is licensed under the GPL and comes with absolutely 
no
warranty.  For details type 'GPL' within the relax prompt.

Assistance in using the relax prompt and scripting interface can be accessed
by
typing 'help' within the prompt.

Processor fabric:  Uni-processor.

mf_multimodel.py
Traceback (most recent call last):
  File &quot;&lt;input&gt;&quot;, line 1, in &lt;module&gt;
NameError: name 'mf_multimodel' is not defined



the text version of  mf_multimodel.py is shown in following:

###############################################################################
#
#
# Copyright (C) 2003-2012 Edward d'Auvergne
#
#
#
# This file is part of the program relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>).
#
#
#
# This program is free software: you can redistribute it and/or modify
#
# it under the terms of the GNU General Public License as published by
#
# the Free Software Foundation, either version 3 of the License, or
#
# (at your option) any later version.
#
#
#
# This program is distributed in the hope that it will be useful,
#
# but WITHOUT ANY WARRANTY; without even the implied warranty of
#
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#
# GNU General Public License for more details.
#
#
#
# You should have received a copy of the GNU General Public License
#
# along with this program.  If not, see &lt;<a  rel="nofollow" href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.
#
#
#
###############################################################################

&quot;&quot;&quot;This script performs a model-free analysis for the models 'm0' to 'm9' 
(or
'tm0' to 'tm9').&quot;&quot;&quot;


# Set the data pipe names (also the names of preset model-free models).
#pipes = ['tm0', 'tm1', 'tm2', 'tm3', 'tm4', 'tm5', 'tm6', 'tm7', 'tm8',
'tm9']
pipes = ['m0', 'm1', 'm2', 'm3', 'm4', 'm5', 'm6', 'm7', 'm8', 'm9']

# Loop over the pipes.
for name in pipes:
    # Create the data pipe.
    pipe.create(name, 'mf')

    # Set up the 15N spins.
    sequence.read('noe.500.out', res_num_col=1)
    spin.name('N')
    spin.element(element='N', spin_id='@N')
    spin.isotope('15N', spin_id='@N')

    # Load a PDB file.
    structure.read_pdb(file='C:\\Documents and Settings\\Mengjun
Xue\\Desktop\\Relax bugs\\Relax\\tutorial_pdc\\tutorial_pdc\\1UBQ_H.pdb',
dir=None, read_mol=None, set_mol_name=None, read_model=None,
set_model_num=None, parser='internal')

    # Load the relaxation data.
    bruker.read(ri_id='noe_600', file='C:\\Documents and Settings\\Mengjun
Xue\\Desktop\\Relax bugs\\Relax\\NOE demo.txt', dir=None)
bruker.read(ri_id='r1_600', file='C:\\Documents and Settings\\Mengjun
Xue\\Desktop\\Relax bugs\\Relax\\T1 demo.txt', dir=None)
bruker.read(ri_id='r2_600', file='C:\\Documents and Settings\\Mengjun
Xue\\Desktop\\Relax bugs\\Relax\\T2 demo.txt', dir=None) # Set up the
diffusion tensor.
    diffusion_tensor.init(1e-8, fixed=True)
    #diffusion_tensor.init((1e-8, 1.0, 60, 290), param_types=0,
spheroid_type='oblate', fixed=True)

    # Generate the 1H spins for the magnetic dipole-dipole relaxation
interaction.
    sequence.attach_protons()

    # Define the magnetic dipole-dipole relaxation interaction.
    dipole_pair.define(spin_id1='@N', spin_id2='@H', direct_bond=True)
    dipole_pair.set_dist(spin_id1='@N', spin_id2='@H', ave_dist=1.02 * 
1e-10)
    structure.get_pos('@N')
    structure.get_pos('@H')
    dipole_pair.unit_vectors()

    # Define the chemical shift relaxation interaction.
    value.set(-172 * 1e-6, 'csa', spin_id='@N')

    # Select the model-free model.
    model_free.select_model(model=name)

    # Minimise.
    grid_search(inc=11)
    minimise('newton')

    # Write the results.
    results.write(file='results', force=True)

# Save the program state.
state.save('save', force=True)





    _______________________________________________________

File Attachments:


-------------------------------------------------------
Date: Mon 17 Sep 2012 04:30:17 PM UTC  Name: mf_multimodel.py  Size: 4kB   
By:
None

&lt;<a  rel="nofollow" href="http://gna.org/bugs/download.php?file_id=16587">http://gna.org/bugs/download.php?file_id=16587</a>&gt;

    _______________________________________________________

Reply to this item at:

  &lt;<a  rel="nofollow" href="http://gna.org/bugs/?20174">http://gna.org/bugs/?20174</a>&gt;

_______________________________________________
  Message sent via/by Gna!
  <a  rel="nofollow" href="http://gna.org/">http://gna.org/</a>


_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Sep 21 14:40:11 2012</div>  
</body>
</html>
