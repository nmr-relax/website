<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Pulse miscalibration, R1A and R1B in the fitting_main_kex.py	script. -->
<!--X-From-R13: Bnhy Epunaqn <cnhy.fpunaqnNvof.se> -->
<!--X-Date: Tue, 16 Jul 2013 18:14:05 +0200 -->
<!--X-Message-Id: 51E57130.60309@ibs.fr -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CAED9pY8P5o_fFaCpQnnuZ6zS9vNBtkgOiu&#45;UZmKKVQ7BryDpjQ@mail.gmail.com -->
<!--X-Reference: 51E56212.9030802@ibs.fr -->
<!--X-Reference: CAED9pY&#45;TM_4EX9Mto6P01RPugoQ9Zk9qBLnhn0r_n3u=GDt3XQ@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Pulse miscalibration, R1A and R1B in the fitting_main_kex.py	script. -- July 16, 2013 - 18:14</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Pulse miscalibration, R1A and R1B in the fitting_main_kex.py	script.</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00043" class="tabs">Index by Date</a> | <a href="threads.html#00043" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00042.html">Date Prev</a>] [<a href="msg00044.html">Date Next</a>] [<a href="msg00040.html">Thread Prev</a>] [<a href="msg00045.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 16 Jul 2013 18:13:36 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;Dominique Marion \(IBS\)&quot; &lt;Dominique.Marion@xxxxxx&gt;,	mathilde lescanne &lt;mathilde.lescanne@xxxxxxxxx&gt;,	&quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00043.html">51E57130.60309@ibs.fr</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;CAED9pY8P5o_fFaCpQnnuZ6zS9vNBtkgOiu-UZmKKVQ7BryDpjQ@xxxxxxxxxxxxxx&gt;	&lt;51E56212.9030802@xxxxxx&gt;	&lt;CAED9pY-TM_4EX9Mto6P01RPugoQ9Zk9qBLnhn0r_n3u=GDt3XQ@xxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8;	rv:17.0) Gecko/20130620 Thunderbird/17.0.7</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Paul Schanda</strong> on July 16, 2013 - 18:14:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hi Edward,

Sounds great.
</pre><tt>I will be very interested to see how much speed you gain, and also how 
</tt><tt>the different fitting procedures (2D version, the Maple-derived 
</tt><tt>numerical one, and the 3D version) compare.
</tt><tt>If all your optimizations bring an order of magnitude or so speed-up, it 
</tt><tt>will be a big advantage for the Monte Carlo runs.
</tt><pre style="margin: 0em;">

best -

paul

On 16.07.13 17:40, Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">
Cheers,

I'll leave all the functionality intact then, but just default to
zeros.  As the R2eff calculation and matrix construction is in the
relax library and a clean separation between it and the target
function code (for optimisation), the relaxation dispersion
auto-analysis (to simplify the analysis for users), GUI, and the
specific analysis code, the functions can be directly imported into
simulation scripts and used as is.  I have now simplified and speed up
most of this code.  Most speed ups are due to a large reduction in the
number of multiplications per target function call, simply by
performing the multiplication at the highest loop level and storing
the value as a variable.  As well as by minimisation numpy matrix
creation and destruction.  Additional large speed ups in the analysis
of experimental data are due to a switch from the scipy optimisation
algorithms to those of minfx (<a  rel="nofollow" href="http://gna.org/projects/minfx/">http://gna.org/projects/minfx/</a>).

Regards,

Edward

On 16 July 2013 17:09, Dominique Marion (IBS) &lt;Dominique.Marion@xxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">
Hello,

We have found useful to carry out some simulations with the same equations
to figure out the influence of some parameters.  You are right, the train of
180ยบ pulses can be miscalibrated and the rf coil can be highly
inhomogeneous.  If the CPMG pulses differ from 180ยบ, then the spins spend
some fraction of time along the z-axis. In the case of slow tumbling
proteins, the difference between R1 and R2 may become quite large. Whether
the small oscillations observed for some CPMG profiles originate from
imperfect 180ยบ remains to be demonstrated.

Cheers,

Dominique



On 16/7/13 16:35 , Edward d'Auvergne wrote:

Hello,

I'm now copying in the function returned by MakeFunction when a==1
into relax.  I have noticed that this has the ability to handle
miscalibrated pulses via the R180_3Dx() function, however the pi-pulse
angle is 180 + a degrees, where a is hardcoded to 0.0 degrees.  Is
this a planned future feature?

It is also not clear how the R1 relaxation rates for states G and E
(or A and B) are used.  Is the aim to have R1G (per spin), R1E (per
spin), and the pulse angle (all per magnetic field strength) as
optimisable parameters of the model?  For the current implementation,
I will just set these all to hardcoded values of zero, as neither
relax nor the fitting_main_kex.py script appear to use these.

Cheers,

Edward



_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>

</pre></blockquote></blockquote><pre style="margin: 0em;">


--
Paul Schanda, Ph.D.
Biomolecular NMR group
Institut de Biologie Structurale Jean-Pierre Ebel (IBS)
41, rue Jules Horowitz
F-38027 Grenoble
France
+33 438 78 95 55
paul.schanda@xxxxxx
<a  rel="nofollow" href="http://www.ibs.fr/groups/biomolecular-nmr-spectroscopy?lang=en">http://www.ibs.fr/groups/biomolecular-nmr-spectroscopy?lang=en</a>



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00045" href="msg00045.html">Re: Pulse miscalibration,	R1A and R1B in the fitting_main_kex.py script.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00038" href="msg00038.html">Pulse miscalibration, R1A and R1B in the fitting_main_kex.py script.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00039" href="msg00039.html">Re: Pulse miscalibration, R1A and R1B in the fitting_main_kex.py	script.</a></strong>
<ul><li><em>From:</em> Dominique Marion (IBS)</li></ul></li>
<li><strong><a name="00040" href="msg00040.html">Re: Pulse miscalibration,	R1A and R1B in the fitting_main_kex.py script.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Jul 17 11:40:06 2013</div>  
</body>
</html>
