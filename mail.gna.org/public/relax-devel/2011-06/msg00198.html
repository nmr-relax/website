<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: r13103 &#45; /branches/inversion&#45;recovery/specific_fns/relax_fit.py -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Fri, 17 Jun 2011 16:49:32 +0200 -->
<!--X-Message-Id: BANLkTimkwOrisL+=Mv5SUcWfmFXF9_3v1Q@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1QXYLf&#45;0000Gg&#45;AK@subversion.gna.org -->
<!--X-Reference: BANLkTik5&#45;bkyF4X4GiU73kS2oN92EFeWsg@mail.gmail.com -->
<!--X-Reference: 4DFB66B2.1090805@ulaval.ca -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: r13103 - /branches/inversion-recovery/specific_fns/relax_fit.py -- June 17, 2011 - 16:49</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: r13103 - /branches/inversion-recovery/specific_fns/relax_fit.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00198" class="tabs">Index by Date</a> | <a href="threads.html#00198" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00197.html">Date Prev</a>] [<a href="msg00199.html">Date Next</a>] [<a href="msg00197.html">Thread Prev</a>] [<a href="msg00200.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Sébastien Morin &lt;sebastien.morin.1@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Fri, 17 Jun 2011 16:49:01 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;	h=domainkey-signature:mime-version:sender:in-reply-to:references:date	:x-google-sender-auth:message-id:subject:from:to:cc:content-type	:content-transfer-encoding;	bh=04L2BaxWkwDDFmAtwSSzsWY0WaBHhWY+br3SPj6A9Zc=;	b=EWN2CZC08SaSD/AFNcaLJ8wqBsGu+wqfv2Ovq4Ryur8uSgHv7FpnF2x2EP9jsnokFo	kU8ytWT+XcVvtwhpbM9A4wAWgva4mA6KviDkQRV6L+wR++msF96TWD11myxmGj0xCD4j	nyjZfSTE3QgpU585LcXKDvImkHuPKBuhN815o=</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00198.html">BANLkTimkwOrisL+=Mv5SUcWfmFXF9_3v1Q@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1QXYLf-0000Gg-AK@xxxxxxxxxxxxxxxxxx&gt;	&lt;BANLkTik5-bkyF4X4GiU73kS2oN92EFeWsg@xxxxxxxxxxxxxx&gt;	&lt;4DFB66B2.1090805@xxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on June 17, 2011 - 16:49:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hmmm, that is not normal.  I will have to have a look.

Regards,

Edward



On 17 June 2011 16:37, Sébastien Morin &lt;sebastien.morin.1@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Ed,

I am currently looking into this and just realized that the system tests
suite still passes without failure, although the option 'exp' is not valid
anymore for function 'relax_fit.select_model()'...

Any idea why the test does not fail yet (since I kind of deactivated the
option 'exp' and replaced it with 'exp_2param_neg')..?

Cheers,


Séb  :)


On 11-06-17 4:14 PM, Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Hi Seb,

The changes are looking good.  I would suggest coming up with a simple
system test for the inversion recovery with some fake peak lists where
the intensities are from known exponential functions you create
yourself.  Unless you have some real data in the group.  This would be
very useful to be sure that the code is fully operational and bug
free, and remains that way.

Cheers,

Edward



On 17 June 2011 14:40,&lt;sebastien.morin@xxxxxxxxx&gt;  wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Author: semor
Date: Fri Jun 17 14:40:30 2011
New Revision: 13103

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=13103&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=13103&amp;view=rev</a>
Log:

Modified the specific function 'relax_fit.select_model()' to handle two
of the new exponential names.

The 'exp' function now is named 'exp_2param_neg' and the 'inv' function,
'exp_3param_inv_neg'.


Modified:
   branches/inversion-recovery/specific_fns/relax_fit.py

Modified: branches/inversion-recovery/specific_fns/relax_fit.py
URL:
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/inversion-recovery/specific_fns/relax_fit.py?rev=13103&amp;r1=13102&amp;r2=13103&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/inversion-recovery/specific_fns/relax_fit.py?rev=13103&amp;r1=13102&amp;r2=13103&amp;view=diff</a>

==============================================================================
--- branches/inversion-recovery/specific_fns/relax_fit.py (original)
+++ branches/inversion-recovery/specific_fns/relax_fit.py Fri Jun 17
14:40:30 2011
@@ -1,6 +1,7 @@

 
###############################################################################
 #
      #
 # Copyright (C) 2004-2009 Edward d'Auvergne
      #
+# Copyright (C) 2011 Sebastien Morin
     #
 #
      #
 # This file is part of the program relax.
      #
 #
      #
@@ -461,10 +462,12 @@
        cdp.relax_times[spectrum_id] = time


-    def _select_model(self, model='exp'):
+    def _select_model(self, model='exp_2param_neg'):
        &quot;&quot;&quot;Function for selecting the model of the exponential curve.

-        @keyword model: The exponential curve type.  Can be one of 'exp'
or 'inv'.
+        @keyword model: The exponential curve type.  Can be one of 8
functions: 'exp_2param',
+                        'exp_2param_neg', 'exp_2param_inv_neg',
'exp_3param', 'exp_3param_neg',
+                        'exp_3param_inv', or 'exp_3param_inv_neg'.
        @type model:    str
        &quot;&quot;&quot;

@@ -480,13 +483,13 @@
        if not exists_mol_res_spin_data():
            raise RelaxNoSequenceError

-        # Two parameter exponential fit.
-        if model == 'exp':
-            print(&quot;Two parameter exponential fit.&quot;)
+        # Two parameter exponential decay fit.
+        if model == 'exp_2param_neg':
+            print(&quot;Two parameter exponential decay fit.&quot;)
            params = ['Rx', 'I0']

        # Three parameter inversion recovery fit.
-        elif model == 'inv':
+        elif model == 'exp_3param_inv_neg':
            print(&quot;Three parameter inversion recovery fit.&quot;)
            params = ['Rx', 'I0', 'Iinf']



_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-commits mailing list
relax-commits@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-commits">https://mail.gna.org/listinfo/relax-commits</a>

</pre></blockquote><pre style="margin: 0em;">_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
</pre></blockquote><pre style="margin: 0em;">

--
Sébastien Morin, Ph.D.
Postdoctoral Fellow, S. Grzesiek NMR Laboratory
Department of Structural Biology
Biozentrum, Universität Basel
Klingelbergstrasse 70
4056 Basel
Switzerland


</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00200" href="msg00200.html">Re: r13103 - /branches/inversion-recovery/specific_fns/relax_fit.py</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00194" href="msg00194.html">Re: r13103 - /branches/inversion-recovery/specific_fns/relax_fit.py</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00197" href="msg00197.html">Re: r13103 - /branches/inversion-recovery/specific_fns/relax_fit.py</a></strong>
<ul><li><em>From:</em> Sébastien Morin</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Jun 17 17:20:27 2011</div>  
</body>
</html>
