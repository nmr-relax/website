<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: float.py -->
<!--X-From-R13: "Unel E. Fubzcfba" <tnelgNozo.yrrqf.np.hx> -->
<!--X-Date: Thu, 12 Oct 2006 16:58:50 +0200 -->
<!--X-Message-Id: 452E57F1.6010809@bmb.leeds.ac.uk -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: float.py -- October 12, 2006 - 16:58</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: float.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00078" class="tabs">Index by Date</a> | <a href="threads.html#00078" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00077.html">Date Prev</a>] [<a href="msg00079.html">Date Next</a>] [<a href="msg00077.html">Thread Prev</a>] [<a href="msg00080.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Thu, 12 Oct 2006 15:57:53 +0100</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00078.html">452E57F1.6010809@bmb.leeds.ac.uk</a>&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Mozilla Thunderbird 1.0 (X11/20041206)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Gary S. Thompson</strong> on October 12, 2006 - 16:58:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;"><br>Edward d'Auvergne wrote:</pre><br>
<pre style="margin: 0em;"><br></pre><br>
<br>
<blockquote class="blockquote"><pre style="margin: 0em;">What an awesome effort Gary!!!  That code is brilliant!</pre><br>
<pre style="margin: 0em;">On 10/12/06, Gary S. Thompson &lt;garyt@xxxxxxxxxxxxxxx&gt; wrote:</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">Dear Ed and all</pre><br>
<pre style="margin: 0em;">I have committed a revision which has functions for dealing with
ieee-754 doubles. There are a few points to note:</pre><br>
<pre style="margin: 0em;">1. this does much more than the required task and covers most states of
python floats. This is because having sorted through how a ieee number
works it seemed easier to do all the 'float things' while I had my head
round it
</pre></blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;"><br>The number of floating point functions is unbelievable, these should
come in very handy in the future.  Thank you.  Maybe after a bit of
polish you should consider submitting it for inclusion into Python.
'fpconst' is one day going into Python, but this code is a much more
advanced and complete implementation!</pre><br>
<br>
</blockquote><pre style="margin: 0em;">glad you liked it there are a few more 'goodies to follow'</pre><br>
<blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">2. it is a set of functions rather than a class as there seems to be no
reason to have a class...
</pre></blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;"><br>Do you think it'll be sufficient to import the appropriate functions
by the module requiring the test?
</pre></blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">yep, and that how I have done it!</pre><br>
<blockquote class="blockquote"><br>
<blockquote class="blockquote"><tt>3. as shown in the notes there are some things still to do
</tt></blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;"><br>I've played around with it on both GNU/Linux and MS Windows XP and the
'isInf()' and 'isNaN()' functions return the correct value each time.
Unit tests would be a much more thorough way of testing it though.  I
have been thinking about extending the relax test-suite to be
three-tiered: unit tests, functional or system tests, and regression
tests.  Python has a decent unit test framework (called 'unittest').
These ideas should probably be discussed on another thread though.  If
I was to integrate the unit test framework into relax, would you be
interested in writing unit tests for these new functions?</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">4. I haven't alterered
specific_fns/.svn/text-base/model_free.py.svn-base:            #if
self.relax.float.isnan(self.func):
specific_fns/model_free.py:            #if
self.relax.float.isnan(self.func):</pre><br>
<tt>yet
</tt></blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;"><br>There are a few minor things which need to be sorted out.  The first
thing is that relax no longer starts up.  This is easy to fix though,
just delete the import line, etc. from the file 'relax'. The other
problem is this message:</pre><br>
</blockquote><pre style="margin: 0em;">done this, and know how to run the relax test suite now ;-)</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">DeprecationWarning: Non-ASCII character '\xe2' in file
/mnt/removable/relax/float.py on line 35, but no encoding declared;
see <a  href="http://www.python.org/peps/pep-0263.html">http://www.python.org/peps/pep-0263.html</a> for details</pre><br>
</blockquote><pre style="margin: 0em;">done</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">The easy fix is to use standard ASCII characters to represent the
text.  There are four instances where a Unicode (I'm assuming)
character appear in your new code.  The next thing is import 'isInf'
and 'isNaN' into 'specific_fns/model_free.py' and uncomment the two
lines.</pre><br>
</blockquote><pre style="margin: 0em;">done</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">Gary would you like to make these three easy changes?  I probably
won't have repository access until tomorrow.  Thanks.</pre><br>
</blockquote><pre style="margin: 0em;">...</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">The following paragraph is just about cosmetic changes and the style
of the code.  I hope I don't offend, these are just standard relax
conventions.  One point which would be of benefit for future relax
developers (and possibly if you forget as well) is:  would it be
possible to get a few more comments '# ...' interspersed within the
code of each function describing in plain English what each part of
the code is attempting to do?  The functions jump around a lot calling
each other and a few more comments would make it easier to navigate
the code execution.  I know that the amount of comments in relax is
ridiculous when compared to other code, but these comments do help
those who aren't fully fluent in Python to follow what is happening.
It would be very much appreciated.  Would you mind making a few
cosmetic whitespace fixes to the trailing whitespace, leading
whitespace, number of newlines between functions, etc. for
consistency?  As it is a package which can be imported into the
different parts of relax, it isn't too important that the docstrings,
etc. don't match the relax conventions.  Did you use one of the
standard conventions with the 'obj', 'returns', and 'throws'
descriptions in the docstrings?</pre><br>
<pre style="margin: 0em;">Thank you very much again,</pre><br>
<pre style="margin: 0em;">Edward</pre><br>
<pre style="margin: 0em;">.</pre><br>
</blockquote><tt>Its no problem to do the cosmetic stuff  and I will put the code into 
the epydoc format when i get a chance (thats fairly easy it looks like 
javadoc)<br>
(I will try and find a code prettifier to do the spacing stuff, there is 
a quite alot to do and pydev seems to be being remarkably uncooperative 
on spacing sizes)</tt><br>
<br>
<pre style="margin: 0em;"><br>on another note</pre><br>
<pre style="margin: 0em;">on the page <a  href="http://www.nmr-relax.com/communication.html">http://www.nmr-relax.com/communication.html</a></pre><br>
<pre style="margin: 0em;">there is the text</pre><br>
<pre style="margin: 0em;"><br>  relax-commits</pre><br>
<tt>One last mailing list is the relax commits list. This list is reserved 
for automatically generated posts created by the version control 
software which looks after the relax source code and these web pages. If 
you would like to become a developer, you can subscribe to the list at 
relax-commits information page 
&lt;<a  href="https://mail.gna.org/listinfo/relax-commits/">https://mail.gna.org/listinfo/relax-commits/</a>&gt;. The list can also be 
browsed &lt;<a  href="https://mail.gna.org/public/relax-users/">https://mail.gna.org/public/relax-users/</a>&gt;.</tt><br>
<br>
<tt>browsed has the url <a  href="https://mail.gna.org/public/relax-users/">https://mail.gna.org/public/relax-users/</a>  ;-) so it 
leeds to the user archive page not the commits page</tt><br>
<br>
<pre style="margin: 0em;">regards
gary</pre><br>
<pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">--
-------------------------------------------------------------------
Dr Gary Thompson
Astbury Centre for Structural Molecular Biology,
University of Leeds, Astbury Building,
Leeds, LS2 9JT, West-Yorkshire, UK             Tel. +44-113-3433024
email: garyt@xxxxxxxxxxxxxxx                   Fax  +44-113-2331407
-------------------------------------------------------------------</pre><br>
<pre style="margin: 0em;"><br></pre><br>
<br>
<blockquote><small>---&nbsp;<i>Begin&nbsp;Message</i>&nbsp;---</small>
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Edward d'Auvergne &lt;edward.dauvergne@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 12 Oct 2006 15:27:19 +0100</li>
<li class="menuitem">
<em>Message-id</em>: &lt;452E50C7.4090001@bmb.leeds.ac.uk&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00053.html">1160550133.9523.54.camel@pc172-31-2-63.biochem.unimelb.edu.au</a>&gt;	&lt;<a href="msg00056.html">1160555137.9523.70.camel@pc172-31-2-63.biochem.unimelb.edu.au</a>&gt;	&lt;<a href="msg00060.html">1160562239.14487.98.camel@mrspell</a>&gt;	&lt;<a href="msg00066.html">7f080ed10610110731i57c163m78de780d38ec4de0@mail.gmail.com</a>&gt;	&lt;<a href="msg00069.html">1160582149.14487.193.camel@mrspell</a>&gt;	&lt;<a href="msg00070.html">7f080ed10610110940r50dc3070i9d25f9e7da68fd9e@mail.gmail.com</a>&gt;	&lt;<a href="msg00071.html">1160588340.14487.209.camel@mrspell</a>&gt;	&lt;<a href="msg00072.html">7f080ed10610111050m60ae4b35w53166493f29e0c58@mail.gmail.com</a>&gt;	&lt;<a href="msg00075.html">452E0FBC.90607@bmb.leeds.ac.uk</a>&gt;	&lt;<a href="msg00076.html">7f080ed10610120357x6257ec52of7844250f3bab680@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Mozilla Thunderbird 1.0 (X11/20041206)</li>
</ul>
<pre style="margin: 0em;">Edward d'Auvergne wrote:</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">What an awesome effort Gary!!!  That code is brilliant!</pre><br>
<pre style="margin: 0em;">On 10/12/06, Gary S. Thompson &lt;garyt@xxxxxxxxxxxxxxx&gt; wrote:</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">Dear Ed and all</pre><br>
<pre style="margin: 0em;">I have committed a revision which has functions for dealing with
ieee-754 doubles. There are a few points to note:</pre><br>
<pre style="margin: 0em;">1. this does much more than the required task and covers most states of
python floats. This is because having sorted through how a ieee number
works it seemed easier to do all the 'float things' while I had my head
round it
</pre></blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">The number of floating point functions is unbelievable, these should
come in very handy in the future.  Thank you.  Maybe after a bit of
polish you should consider submitting it for inclusion into Python.
'fpconst' is one day going into Python, but this code is a much more
advanced and complete implementation!</pre><br>
<br>
</blockquote><pre style="margin: 0em;">glad you liked it there are a few more 'goodies to follow'</pre><br>
<blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">2. it is a set of functions rather than a class as there seems to be no
reason to have a class...
</pre></blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">Do you think it'll be sufficient to import the appropriate functions
by the module requiring the test?
</pre></blockquote><pre style="margin: 0em;"><br>yep, and that how I have done it!</pre><br>
<blockquote class="blockquote"><br>
<blockquote class="blockquote"><tt>3. as shown in the notes there are some things still to do
</tt></blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">I've played around with it on both GNU/Linux and MS Windows XP and the
'isInf()' and 'isNaN()' functions return the correct value each time.
Unit tests would be a much more thorough way of testing it though.  I
have been thinking about extending the relax test-suite to be
three-tiered: unit tests, functional or system tests, and regression
tests.  Python has a decent unit test framework (called 'unittest').
These ideas should probably be discussed on another thread though.  If
I was to integrate the unit test framework into relax, would you be
interested in writing unit tests for these new functions?</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">4. I haven't alterered
specific_fns/.svn/text-base/model_free.py.svn-base:            #if
self.relax.float.isnan(self.func):
specific_fns/model_free.py:            #if
self.relax.float.isnan(self.func):</pre><br>
<tt>yet
</tt></blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">There are a few minor things which need to be sorted out.  The first
thing is that relax no longer starts up.  This is easy to fix though,
just delete the import line, etc. from the file 'relax'. The other
problem is this message:</pre><br>
</blockquote><pre style="margin: 0em;">done this, and know how to run the relax test suite now ;-)</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">DeprecationWarning: Non-ASCII character '\xe2' in file
/mnt/removable/relax/float.py on line 35, but no encoding declared;
see <a  href="http://www.python.org/peps/pep-0263.html">http://www.python.org/peps/pep-0263.html</a> for details</pre><br>
</blockquote><pre style="margin: 0em;">done</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">The easy fix is to use standard ASCII characters to represent the
text.  There are four instances where a Unicode (I'm assuming)
character appear in your new code.  The next thing is import 'isInf'
and 'isNaN' into 'specific_fns/model_free.py' and uncomment the two
lines.</pre><br>
</blockquote><pre style="margin: 0em;">done</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">Gary would you like to make these three easy changes?  I probably
won't have repository access until tomorrow.  Thanks.</pre><br>
</blockquote><pre style="margin: 0em;">...</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">The following paragraph is just about cosmetic changes and the style
of the code.  I hope I don't offend, these are just standard relax
conventions.  One point which would be of benefit for future relax
developers (and possibly if you forget as well) is:  would it be
possible to get a few more comments '# ...' interspersed within the
code of each function describing in plain English what each part of
the code is attempting to do?  The functions jump around a lot calling
each other and a few more comments would make it easier to navigate
the code execution.  I know that the amount of comments in relax is
ridiculous when compared to other code, but these comments do help
those who aren't fully fluent in Python to follow what is happening.
It would be very much appreciated.  Would you mind making a few
cosmetic whitespace fixes to the trailing whitespace, leading
whitespace, number of newlines between functions, etc. for
consistency?  As it is a package which can be imported into the
different parts of relax, it isn't too important that the docstrings,
etc. don't match the relax conventions.  Did you use one of the
standard conventions with the 'obj', 'returns', and 'throws'
descriptions in the docstrings?</pre><br>
<pre style="margin: 0em;">Thank you very much again,</pre><br>
<pre style="margin: 0em;">Edward</pre><br>
<pre style="margin: 0em;">.</pre><br>
</blockquote><tt>Its no problem to do the cosmetic stuff  and I will put the code into 
the epydoc format when i get a chance (thats fairly easy it looks like 
javadoc)<br>
(I will try and find a code prettifier to do the spacing stuff, there is 
a quite alot to do and pydev seems to be being remarkably uncooperative 
on spacing sizes)</tt><br>
<br>
<pre style="margin: 0em;"><br>on another note</pre><br>
<pre style="margin: 0em;">on the page <a  href="http://www.nmr-relax.com/communication.html">http://www.nmr-relax.com/communication.html</a></pre><br>
<pre style="margin: 0em;">there is the text</pre><br>
<pre style="margin: 0em;"><br>   relax-commits</pre><br>
<tt>One last mailing list is the relax commits list. This list is reserved 
for automatically generated posts created by the version control 
software which looks after the relax source code and these web pages. If 
you would like to become a developer, you can subscribe to the list at 
relax-commits information page 
&lt;<a  href="https://mail.gna.org/listinfo/relax-commits/">https://mail.gna.org/listinfo/relax-commits/</a>&gt;. The list can also be 
browsed &lt;<a  href="https://mail.gna.org/public/relax-users/">https://mail.gna.org/public/relax-users/</a>&gt;.</tt><br>
<br>
<tt>browsed has the url <a  href="https://mail.gna.org/public/relax-users/">https://mail.gna.org/public/relax-users/</a>  ;-) so it 
leeds to the user archive page not the commits page</tt><br>
<br>
<pre style="margin: 0em;">regards
gary</pre><br>
<pre style="margin: 0em;"><br>--
-------------------------------------------------------------------
Dr Gary Thompson
Astbury Centre for Structural Molecular Biology,
University of Leeds, Astbury Building,
Leeds, LS2 9JT, West-Yorkshire, UK             Tel. +44-113-3433024
email: garyt@xxxxxxxxxxxxxxx                   Fax  +44-113-2331407
-------------------------------------------------------------------</pre><br>
<pre style="margin: 0em;"><br></pre><br>
<br><small>---&nbsp;<i>End Message</i>&nbsp;---</small></blockquote>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00101" href="msg00101.html">Re: float.py</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00080" href="msg00080.html">Re: float.py</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Mon Oct 16 10:20:29 2006</div>  
</body>
</html>
