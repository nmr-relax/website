<!-- MHonArc v2.6.18 -->
<!--X-Subject: r27239 &#45; in /branches/frame_order_cleanup: ./ pipe_control/ specific_analyses/ specific_analyses/relax_disp/ test_suite/shar... -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Tue, 20 Jan 2015 14:07:08 +0100 -->
<!--X-Message-Id: E1YDYWS&#45;0005w1&#45;Ak@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r27239 - in /branches/frame_order_cleanup: ./ pipe_control/ specific_analyses/ specific_analyses/relax_disp/ test_suite/shar... -- January 20, 2015 - 14:07</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r27239 - in /branches/frame_order_cleanup: ./ pipe_control/ specific_analyses/ specific_analyses/relax_disp/ test_suite/shar...</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00085" class="tabs">Index by Date</a> | <a href="threads.html#00085" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00084.html">Date Prev</a>] [<a href="msg00086.html">Date Next</a>] [<a href="msg00084.html">Thread Prev</a>] [<a href="msg00086.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Tue, 20 Jan 2015 13:07:08 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00085.html">E1YDYWS-0005w1-Ak@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on January 20, 2015 - 14:07:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Tue Jan 20 14:07:07 2015
New Revision: 27239

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=27239&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=27239&amp;view=rev</a>
Log:
Merged revisions 27200-27230 via svnmerge from 
svn+ssh://bugman@xxxxxxxxxxx/svn/relax/trunk

........
  r27200 | tlinnet | 2015-01-16 23:19:25 +0100 (Fri, 16 Jan 2015) | 3 lines
  
  Added save state for testing implementation of error analysis.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.
........
  r27201 | tlinnet | 2015-01-16 23:19:44 +0100 (Fri, 16 Jan 2015) | 4 lines
  
  Start of implementation of systemtest 
Relax_disp.test_task_7882_monte_carlo_std_residual, to test doing Monte-Carlo 
simulations with errors drawn from a
  Gauss distribution with a width corresponding to the standard devition of 
the sum of squares of residuals.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.
........
  r27202 | tlinnet | 2015-01-16 23:19:47 +0100 (Fri, 16 Jan 2015) | 3 lines
  
  Implemented target function for relaxation dispersion, which calculate the 
sum of squares of residuals and the standard deviation of these.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.
........
  r27203 | tlinnet | 2015-01-16 23:19:50 +0100 (Fri, 16 Jan 2015) | 3 lines
  
  Implemented storing of sum of squares and the standard deviation of these 
for relaxation dispersion, when doing a point calculation.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.
........
  r27204 | tlinnet | 2015-01-16 23:19:51 +0100 (Fri, 16 Jan 2015) | 3 lines
  
  Stored the sums of squares of the residuals &quot;sos&quot; and standard deviation of 
this &quot;sos_std&quot; per spin after optimisation.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.
........
  r27205 | tlinnet | 2015-01-16 23:19:54 +0100 (Fri, 16 Jan 2015) | 3 lines
  
  Added to systemtest Relax_disp.test_task_7882_monte_carlo_std_residual() 
that spin.sos and spin.sos_std is stored after grid search.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.
........
  r27206 | tlinnet | 2015-01-16 23:19:56 +0100 (Fri, 16 Jan 2015) | 3 lines
  
  Extracted &quot;sos&quot; and &quot;sos_std&quot; after grid search.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.
........
  r27207 | tlinnet | 2015-01-16 23:19:58 +0100 (Fri, 16 Jan 2015) | 3 lines
  
  In systemtest Relax_disp.test_task_7882_monte_carlo_std_residual() inserted 
sanity checks of calculation of degrees of freedom.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.
........
  r27208 | tlinnet | 2015-01-16 23:20:01 +0100 (Fri, 16 Jan 2015) | 5 lines
  
  Speed-up of systemtest Relax_disp.test_task_7882_monte_carlo_std_residual() 
by copying pipe instead of reading results 3 times.
  
  Tested creation of Monte-Carlo data, where errors are generated with width 
of standard deviation or residuals.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.
........
  r27209 | tlinnet | 2015-01-16 23:20:04 +0100 (Fri, 16 Jan 2015) | 3 lines
  
  Extended user function monte_carlo.create_data() to accept 
'method=&quot;sum_squares&quot;', to create Monte-Carlo data.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.
........
  r27210 | tlinnet | 2015-01-16 23:20:06 +0100 (Fri, 16 Jan 2015) | 3 lines
  
  Extended backend in pipe_control.error_analysis.monte_carlo_create_data() 
to return errors as the standard deviation of the sum of squares of the 
residual.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.
........
  r27211 | tlinnet | 2015-01-16 23:20:08 +0100 (Fri, 16 Jan 2015) | 3 lines
  
  Implemented the api_base method of return_error_sum_squares(), as raising 
an error if not defined for the api for the pipe_type.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.
........
  r27212 | tlinnet | 2015-01-16 23:20:11 +0100 (Fri, 16 Jan 2015) | 3 lines
  
  Implemented in the relaxation dispersion API, the function to return errors 
as the standard deviation of sums squared residuals.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.
........
  r27213 | tlinnet | 2015-01-16 23:20:13 +0100 (Fri, 16 Jan 2015) | 3 lines
  
  Added 'sos' and 'sos_std' as parameter object in relaxation dispersion.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.
........
  r27214 | tlinnet | 2015-01-17 14:16:50 +0100 (Sat, 17 Jan 2015) | 17 lines
  
  Reverted range of commits r27213:r27202 as this was a bad implementation.
  
  To get the distribution, one should look at the sum of squares.
  But this should be from the weighted sum of squares, which is stored as 
chi2.
  The API provides a method of model_statistics(), to get:
      k - number of parameters.
      n - number of data points.
      chi2 - the chi-squared value.
  
  Then reduced chi2 can be computed. chi2_red = chi2/(n-k)
  And the error distribution be drawn from this.
  
  The command used was:
  svn merge -r27213:r27201 .
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.
........
  r27215 | tlinnet | 2015-01-17 17:25:12 +0100 (Sat, 17 Jan 2015) | 3 lines
  
  Simplification of systemtest 
Relax_disp.test_task_7882_monte_carlo_std_residual, to just test the creation 
of Monte-Carlo data where errors are drawn from the reduced chi2 distribution.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.): 
Implement Monte-Carlo simulation, where errors are generated with width of 
standard deviation or residuals.
........
  r27216 | tlinnet | 2015-01-17 17:25:15 +0100 (Sat, 17 Jan 2015) | 3 lines
  
  Extension of the userfunction monte_carlo.create_data, to draw errors from 
the reduced chi2 gauss distribution as found by best fit.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.): 
Implement Monte-Carlo simulation, where errors are generated with width of 
standard deviation or residuals.
........
  r27217 | tlinnet | 2015-01-17 17:25:16 +0100 (Sat, 17 Jan 2015) | 3 lines
  
  Adding to back-end of pipe_control.error_analysis(), to modify datapoint as 
error drawn from the reduced chi2 gauss distribution.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.): 
Implement Monte-Carlo simulation, where errors are generated with width of 
standard deviation or residuals.
........
  r27218 | tlinnet | 2015-01-17 17:25:18 +0100 (Sat, 17 Jan 2015) | 3 lines
  
  Adding empty API method to return errors from the reduced chi2 distribution.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.): 
Implement Monte-Carlo simulation, where errors are generated with width of 
standard deviation or residuals.
........
  r27219 | tlinnet | 2015-01-17 17:25:20 +0100 (Sat, 17 Jan 2015) | 3 lines
  
  Added API function in relaxation dispersion to return error structure from 
the reduced chi2 distribution.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.): 
Implement Monte-Carlo simulation, where errors are generated with width of 
standard deviation or residuals.
........
  r27220 | tlinnet | 2015-01-18 17:32:37 +0100 (Sun, 18 Jan 2015) | 8 lines
  
  Temporary test of making a confidence interval as described in fitting 
guide.
  
  This is systemtest Relax_disp.x_test_task_7882_kex_conf, which is not 
activated by default.
  
  Running the test, interestingely shows, there is a possibility for a lower 
global kex.
  But the value only differ from kex=1826 to kex=1813.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.): 
Implement Monte-Carlo simulation, where errors are generated with width of 
standard deviation or residuals.
........
  r27221 | tlinnet | 2015-01-19 13:48:41 +0100 (Mon, 19 Jan 2015) | 8 lines
  
  Change to systemtest Relax_disp.x_test_task_7882_kex_conf()
  
  This is just a temporary systemtest, to check for local minima.
  
  This is method in regression book of Graphpad: 
<a  rel="nofollow" href="http://www.graphpad.com/faq/file/Prism4RegressionBook.pdf">http://www.graphpad.com/faq/file/Prism4RegressionBook.pdf</a>
  Page: 109-111.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.
........
  r27222 | tlinnet | 2015-01-19 13:48:44 +0100 (Mon, 19 Jan 2015) | 3 lines
  
  Raising an error, if the R2eff model is used, and drawing errors from the 
fit.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.
........
  r27223 | tlinnet | 2015-01-19 13:48:46 +0100 (Mon, 19 Jan 2015) | 3 lines
  
  To systemtest Relax_disp.test_task_7882_monte_carlo_std_residual(), adding 
test for raise of errors, if the R2eff model is selected.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.
........
  r27224 | tlinnet | 2015-01-20 12:02:01 +0100 (Tue, 20 Jan 2015) | 5 lines
  
  Added test of argument &quot;distribution&quot; in 
Ãƒpipe_control.error_analysis.monte_carlo_create_data().
  
  This is to make sure that a wrong argument is not passed into the function.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.): 
Implement Monte-Carlo simulation, where errors are generated with width of 
standard deviation or residuals.
........
  r27225 | tlinnet | 2015-01-20 12:02:10 +0100 (Tue, 20 Jan 2015) | 5 lines
  
  Extended the user function 'monte_carlo.create_data', to allow for the 
defition of the STD to use in gauss distribution.
  
  This is for creation of Monte-Carlo simulations, where one has perhaps 
gained information about the expected errors of the datapoints, which is not 
measured.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.): 
Implement Monte-Carlo simulation, where errors are generated with width of 
standard deviation or residuals.
........
  r27226 | tlinnet | 2015-01-20 12:02:12 +0100 (Tue, 20 Jan 2015) | 5 lines
  
  In backend pipe_control.error_analysis.monte_carlo_create_data() added the 
argument 'fixed_error' to allow for fixed input of error to the gauss 
distribution.
  
  Inserted a range of checks, to make sure function behaves as expected.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.): 
Implement Monte-Carlo simulation, where errors are generated with width of 
standard deviation or residuals.
........
  r27227 | tlinnet | 2015-01-20 12:02:14 +0100 (Tue, 20 Jan 2015) | 3 lines
  
  Added to pipe_control.error_analysis.monte_carlo_create_data() the creation 
of datapoints for a fixed distribution.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.): 
Implement Monte-Carlo simulation, where errors are generated with width of 
standard deviation or residuals.
........
  r27228 | tlinnet | 2015-01-20 12:02:16 +0100 (Tue, 20 Jan 2015) | 4 lines
  
  To systemtest Relax_disp.test_task_7882_monte_carlo_std_residual(), added 
tests for creation of Monte-Carlo data
  by different methods.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.): 
Implement Monte-Carlo simulation, where errors are generated with width of 
standard deviation or residuals.
........
  r27229 | tlinnet | 2015-01-20 12:41:21 +0100 (Tue, 20 Jan 2015) | 4 lines
  
  In pipe_control.error_analysis.monte_carlo_create_data(), if data is of 
list type or ndarray, then modify the datapoint according to the fixed error 
if
  the distribution is set to 'fixed'.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.): 
Implement Monte-Carlo simulation, where errors are generated with width of 
standard deviation or residuals.
........
  r27230 | tlinnet | 2015-01-20 12:41:23 +0100 (Tue, 20 Jan 2015) | 5 lines
  
  Expanded the STD acronym, to the meaning of Standard deviation.
  
  This is in the user function 'monte_carlo.create_data'.
  
  Task #7882 (<a  rel="nofollow" href="https://gna.org/task/?7882">https://gna.org/task/?7882</a>): Implement Monte-Carlo simulation, 
where errors are generated with width of standard deviation or residuals.): 
Implement Monte-Carlo simulation, where errors are generated with width of 
standard deviation or residuals.
........

Added:
    
branches/frame_order_cleanup/test_suite/shared_data/dispersion/error_testing/task_7882.bz2
      - copied unchanged from r27230, 
trunk/test_suite/shared_data/dispersion/error_testing/task_7882.bz2
Modified:
    branches/frame_order_cleanup/   (props changed)
    branches/frame_order_cleanup/pipe_control/error_analysis.py
    branches/frame_order_cleanup/specific_analyses/api_base.py
    branches/frame_order_cleanup/specific_analyses/relax_disp/api.py
    branches/frame_order_cleanup/test_suite/system_tests/relax_disp.py
    branches/frame_order_cleanup/user_functions/monte_carlo.py

[This mail would be too long, it was shortened to contain the URLs only.]

Modified: branches/frame_order_cleanup/pipe_control/error_analysis.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/frame_order_cleanup/pipe_control/error_analysis.py?rev=27239&amp;r1=27238&amp;r2=27239&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/frame_order_cleanup/pipe_control/error_analysis.py?rev=27239&amp;r1=27238&amp;r2=27239&amp;view=diff</a>

Modified: branches/frame_order_cleanup/specific_analyses/api_base.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/frame_order_cleanup/specific_analyses/api_base.py?rev=27239&amp;r1=27238&amp;r2=27239&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/frame_order_cleanup/specific_analyses/api_base.py?rev=27239&amp;r1=27238&amp;r2=27239&amp;view=diff</a>

Modified: branches/frame_order_cleanup/specific_analyses/relax_disp/api.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/frame_order_cleanup/specific_analyses/relax_disp/api.py?rev=27239&amp;r1=27238&amp;r2=27239&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/frame_order_cleanup/specific_analyses/relax_disp/api.py?rev=27239&amp;r1=27238&amp;r2=27239&amp;view=diff</a>

Modified: branches/frame_order_cleanup/test_suite/system_tests/relax_disp.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/frame_order_cleanup/test_suite/system_tests/relax_disp.py?rev=27239&amp;r1=27238&amp;r2=27239&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/frame_order_cleanup/test_suite/system_tests/relax_disp.py?rev=27239&amp;r1=27238&amp;r2=27239&amp;view=diff</a>

Modified: branches/frame_order_cleanup/user_functions/monte_carlo.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/frame_order_cleanup/user_functions/monte_carlo.py?rev=27239&amp;r1=27238&amp;r2=27239&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/frame_order_cleanup/user_functions/monte_carlo.py?rev=27239&amp;r1=27238&amp;r2=27239&amp;view=diff</a>



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Jan 20 15:00:02 2015</div>  
</body>
</html>
