<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: relax 1.3.13/14 oddities -->
<!--X-From-R13: Xnpx Vbjnegu <ubjneguNoebzb.zrq.hp.rqh> -->
<!--X-Date: Fri, 06 Apr 2012 01:39:59 +0200 -->
<!--X-Message-Id: 20120405233925.GA27478@bromo.med.uc.edu -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Reference: 20120326161412.GA30924@bromo.med.uc.edu -->
<!--X-Reference: CAED9pY8pV+033UdZqPbLQeehn8_Tr71pxtzFvFToXGS7q5=UNA@mail.gmail.com -->
<!--X-Reference: 20120326175439.GA31913@bromo.med.uc.edu -->
<!--X-Reference: CAED9pY_U4xf5RjC2pAxi324BU7r5i+K9imwEiRCUuxGhZWaePQ@mail.gmail.com -->
<!--X-Reference: 20120402210432.GA1127@bromo.med.uc.edu -->
<!--X-Reference: CAED9pY8H8NJTYm&#45;idN3CKHVgm9MgqrZc1a+isZ_ukdSTxpt3Qg@mail.gmail.com -->
<!--X-Reference: CAED9pY98kYskoZE1oVs0VZqpxpWCmQq6hHHOsPV8sKerN4UGrg@mail.gmail.com -->
<!--X-Reference: CAED9pY9XYKvQkkjOV+cxedkZ&#45;kNCzzZng8yw2HXNrVxzTWNw+w@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: relax 1.3.13/14 oddities -- April 06, 2012 - 01:39</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: relax 1.3.13/14 oddities</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00041" class="tabs">Index by Date</a> | <a href="threads.html#00041" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00040.html">Date Prev</a>] [<a href="msg00042.html">Date Next</a>] [<a href="msg00028.html">Thread Prev</a>] [<a href="msg00042.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Edward d'Auvergne&quot; &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 5 Apr 2012 19:39:25 -0400</li>
<li class="menuitem">
<em>Cc</em>: relax-users@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00041.html">20120405233925.GA27478@bromo.med.uc.edu</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;20120326161412.GA30924@xxxxxxxxxxxxxxxx&gt;	&lt;CAED9pY8pV+033UdZqPbLQeehn8_Tr71pxtzFvFToXGS7q5=UNA@xxxxxxxxxxxxxx&gt;	&lt;20120326175439.GA31913@xxxxxxxxxxxxxxxx&gt;	&lt;CAED9pY_U4xf5RjC2pAxi324BU7r5i+K9imwEiRCUuxGhZWaePQ@xxxxxxxxxxxxxx&gt;	&lt;20120402210432.GA1127@xxxxxxxxxxxxxxxx&gt;	&lt;CAED9pY8H8NJTYm-idN3CKHVgm9MgqrZc1a+isZ_ukdSTxpt3Qg@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY98kYskoZE1oVs0VZqpxpWCmQq6hHHOsPV8sKerN4UGrg@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY9XYKvQkkjOV+cxedkZ-kNCzzZng8yw2HXNrVxzTWNw+w@xxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Mutt/1.5.18 (2008-05-17)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Jack Howarth</strong> on April 06, 2012 - 01:39:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">On Thu, Apr 05, 2012 at 03:22:47PM +0200, Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

Ok, this is bad, the error is clearly here in fink:
<a  rel="nofollow" href="http://fink.cvs.sourceforge.net/fink/dists/10.4/stable/main/finkinfo/languages/wxgtk2.8-py.info?view=markup">http://fink.cvs.sourceforge.net/fink/dists/10.4/stable/main/finkinfo/languages/wxgtk2.8-py.info?view=markup</a>.
 Specifically the lines:

-----
Package: wxgtk2.8-py%type_pkg[python]
Version: 2.8.9.1
-----

and:

-----
     wxgtk2.8 (&gt;=2.8.10-24),
-----

This is wxPython 2.8.9.1 running with wxGTK 2.8.10-24 (or higher) -
that cannot work.  The versions need to match.  Maybe fixing this
wxPython/wxGTK problem within fink will eliminate the problems for the
fink install of relax (but unfortunately not the relax Application in
the DMG image file that others are seeing).

Regards,

Edward
</pre></blockquote><pre style="margin: 0em;">

Edward,
   Try the attached packaging in /sw/fink/10.6/local/main/finkinfo. It updates
wxgtk2.8 to 2.8.12 (the latest 2.8) and wxgtk2.8-py to 2.8.12.1. I've also
required wxgtk2.8-py &gt;= 2.8.12.1 for relax-py-1.3.14-1. I still see the window
viewport being drawn to small initially but I don't get the warnings from 
wxgtk
any more.
        Jack

</pre><blockquote class="blockquote"><pre style="margin: 0em;">




On 5 April 2012 15:09, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Jack,

I am having extreme difficulty in finding what is wrong here.  I
cannot avoid the memory error message!  I can chase it to a wx Timer
element in something called the relax controller, but that's it.  This
really looks like a broken wxPython install in fink.  The starting
message that we both see:

/sw/lib/python2.7/site-packages/wx-2.8-gtk2-unicode/wx/_core.py:14448:
UserWarning: wxPython/wxWidgets release number mismatch
 warnings.warn(&quot;wxPython/wxWidgets release number mismatch&quot;)

might be indicating the failure point.  wxPython and wxWidgets should
both really be at the same version.  I would guess that the
<a  rel="nofollow" href="http://pdb.finkproject.org/pdb/package.php/wxgtk2.8-py27">http://pdb.finkproject.org/pdb/package.php/wxgtk2.8-py27</a> fink package
(the 2.8.9.1-6 version) is broken.  I am completely stuck and cannot
move further with this problem.  How do we get in contact with the
maintainer of this package?

Sorry,

Edward




On 3 April 2012 13:43, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

I think I'll have to do some more testing for this!  Due to my very
limited access to the Mac I am testing this on, progress will be slow.
 I will probably need some time to debug relax using the old Mac gtk+
version of the wx widgets, and will definitely release a new version
(1.3.15) prior to that.  So maybe it's safe to send out the newer
relax versions to fink, as the prompt/scripting UI modes function
perfectly anyway?

Cheers,

Edward




On 2 April 2012 23:04, Jack Howarth &lt;howarth@xxxxxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">On Mon, Apr 02, 2012 at 10:18:15PM +0200, Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Jack,

I've finally placed the relax-py.info and relax-py.patch files into
/sw/fink/10.4/local/main/finkinfo and installed the 1.3.14 relax
version via fink (with 'fink install relax-py27').  I have to be
careful as I have three different relax installs (the fink one, an svn
copy, and the DMG file version) as well as three different Python
installs (2 from fink and a manual install with Mac framework).  When
I test the GUI with the fink version, my message is:

$ /sw/bin/python2.7 /sw/bin/relax --gui
/sw/lib/python2.7/site-packages/wx-2.8-gtk2-unicode/wx/_core.py:14448:
UserWarning: wxPython/wxWidgets release number mismatch
  warnings.warn(&quot;wxPython/wxWidgets release number mismatch&quot;)

***MEMORY-ERROR***: python2.7[878]: GSlice: assertion failed:
aligned_memory == (gpointer) addr
Abort trap
$

This is using the 2.8 version of wxPython which fink automatically
installs and which appears to be fatal!  How do I install wxPython 2.9
into the /sw directory without damaging the fink setup?  For my
testing and included in the DMG file, I has used wxPython 2.9.2.4.

Cheers,

Edward
</pre></blockquote><pre style="margin: 0em;">

Edward,
   I did a build against Xcode 4.2 on x86_64 fink for darwin10 and
it didn't crash. I have...

ii  wxgtk2.8                     2.8.10-30                    
Cross-platform GUI API - unix/gtk version
ii  wxgtk2.8-py27                2.8.9.1-6                    Python 
bindings for the wxGTK library
ii  wxgtk2.8-shlibs              2.8.10-30                    Shared 
libraries for wxgtk2.8-shlibs

Did you do a 'fink selfupdate-cvs' and 'fink update-all' to make sure 
you
are getting the lastest packaging?
                 Jack
ps I get...

 relax --gui
/sw/lib/python2.7/site-packages/wx-2.8-gtk2-unicode/wx/_core.py:14448: 
UserWarning: wxPython/wxWidgets release number mismatch
 warnings.warn(&quot;wxPython/wxWidgets release number mismatch&quot;)


Thank you for citing:


relaxGUI
========

Bieri, M., d'Auvergne, E. J. and Gooley, P. R. (2011). relaxGUI: a new 
software for fast and simple
NMR relaxation data analysis and calculation of ps-ns and micro-s 
motion of proteins J. Biomol. NMR,
(<a  rel="nofollow" href="http://dx.doi.org/10.1007/s10858-011-9509-1">http://dx.doi.org/10.1007/s10858-011-9509-1</a>).



relax
=====

d'Auvergne, E. J. and Gooley, P. R. (2008). Optimisation of NMR dynamic 
models I. Minimisation
algorithms and their performance within the model-free and Brownian 
rotational diffusion spaces. J.
Biomol. NMR, 40(2), 107-119 
(<a  rel="nofollow" href="http://dx.doi.org/10.1007/s10858-007-9214-2">http://dx.doi.org/10.1007/s10858-007-9214-2</a>).

d'Auvergne, E. J. and Gooley, P. R. (2008). Optimisation of NMR dynamic 
models II. A new methodology
for the dual optimisation of the model-free parameters and the Brownian 
rotational diffusion tensor.
J. Biomol. NMR, 40(2), 121-133 
(<a  rel="nofollow" href="http://dx.doi.org/10.1007/s10858-007-9213-3">http://dx.doi.org/10.1007/s10858-007-9213-3</a>).

</pre><blockquote class="blockquote"><pre style="margin: 0em;">


On 26 March 2012 19:54, Jack Howarth &lt;howarth@xxxxxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">On Mon, Mar 26, 2012 at 07:16:31PM +0200, Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Jack,

Thank you for updating this!  From memory, I did see a similar 
problem
when I was using the fink versions of all the software required.
Though I also had many problems with dependency clashes with Python,
wxPython, numpy, and scipy (note this is different to Scientific
Python which is no longer a dependency, see
<a  rel="nofollow" href="http://pdb.finkproject.org/pdb/package.php/scipy-py27">http://pdb.finkproject.org/pdb/package.php/scipy-py27</a>) - I had to 
use
the sources and these different relax dependencies had their own
dependencies which were not compatible with each other.  The 
problem,
I think, was the dependance on different gcc versions, so each was
taking a day or longer to build as fink kept rebuilding the full 
tool
chain.  Anyway, that's not completely related to this problem and
might already be resolved in fink.

The problem looks more like a wxPython issue.  Would you be able to
tell me the fink repository software and versions you used for this 
so
I can try to replicate the problem?  Do you use the binary
distribution archive for the dependencies or have fink compile from
the source archives?  I am using XCode 3.2.2, but I don't think 
using
4.2 will change this problem.  If you had the exact sequence of fink
commnds to set the relax dependencies up, that would be appreciated 
as
I could then be sure that I have close to the same setup as you.  
Then
I could debug and find the exact xwgtk problem, and come up with a
special work around.

Cheers!

Edward
</pre></blockquote><pre style="margin: 0em;">

Edward,
   Try the attached packaging placed in 
/sw/fink/10.4/local/main/finkinfo. I don't
know how old your fink installation is. If it is rather old, you 
might want to consider
a clean bootstrap following the instructions on 
<a  rel="nofollow" href="http://www.finkproject.org/download/srcdist.php">http://www.finkproject.org/download/srcdist.php</a>.
You will want to move aside your current fink installation from /sw 
to /sw.old beforehand.
Also make sure you do 'fink selfupdate-cvs' and 'fink update-all' to 
keep your
trees and installation current. You should be able to just use 'fink 
install relax-py27'
to install relax 1.3.14. I would also consider upgrading your Xcode 
to 3.2.6 which
is the last release of the 3.2.x series. Oh, on darwin10, I used the 
gcc46 compilers
for the build, when prompted, if that makes any difference.
                    Jack
ps I also have built relax 1.3.14 under fink but had to use the 
2.9.3 release of
wxPython because that is the only wxPython they have for python 2.7 
in macports.
Have you tested relax against the wxPython 2.9.3 release on linux or 
any other target?



</pre><blockquote class="blockquote"><pre style="margin: 0em;">




On 26 March 2012 18:14, Jack Howarth &lt;howarth@xxxxxxxxxxxxxxxx&gt; 
wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Edward,
  I am in the process of updating the relax-py and relax packages 
in fink and
macports to the latest release. However I am seeing some oddities 
with the new
gui interface. In both cases, relax 1.3.13 and 1.3.14 exhibits a 
bug when
executed as 'relax --gui'. The gui interface window opens much 
larger than the
displayed contents. Only if I refresh the window does the 
contents properly
expand out to the actual size of the window (by clicking on the 
green zoom
button in the window frame twice). If I move aside the window, I 
also see a small
square with a butterfly icon left on the screen. This square 
can't be closed or
moved. Running 'relax --test-suite' is even more problematic as 
it seems to
be trapped in an endless loop of display the squares with the 
butterfly icon
and segfaults on exiting...

% relax --test-suite
/sw/lib/python2.7/site-packages/wx-2.8-gtk2-unicode/wx/_core.py:14448:
 UserWarning: wxPython/wxWidgets release number mismatch
 warnings.warn(&quot;wxPython/wxWidgets release number mismatch&quot;)
Echoing of user function calls has been enabled.




#############################
# System / functional tests #
#############################


.........................................................................................................................................................................................................................................
----------------------------------------------------------------------
Ran 233 tests in 291.075s

OK




##############
# Unit tests #
##############


................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
----------------------------------------------------------------------
Ran 1232 tests in 11.183s

OK




#############
# GUI tests #
#############



(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type
.
(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type
.
(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type
..
----------------------------------------------------------------------
Ran 4 tests in 70.926s

OK




###################################
# Summary of the relax test suite #
###################################


# Optional packages/modules
###########################

No tests skipped due to missing modules.

# Synopsis
##########

System/functional tests ......................................... 
[ OK ]
Unit tests ...................................................... 
[ OK ]
GUI tests ....................................................... 
[ OK ]
Synopsis ........................................................ 
[ OK ]



Segmentation fault

It is odd that the GUI tests pass but that relax segfaults in the 
process.
                Jack
ps This is on x86_64 fink under darwin10 using Xcode 4.2.

_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">Info2: &lt;&lt;

Package: wxgtk2.8-py%type_pkg[python]
Version: 2.8.12.1
Revision: 1
Type: python (2.6 2.7)
Maintainer: None &lt;fink-devel@xxxxxxxxxxxxxxxxxxxxx&gt;
BuildDepends: &lt;&lt;
        atk1 (&gt;= 1.28.0-1),
        cairo (&gt;= 1.8.8-3),
        fink-package-precedence,
        fontconfig2-dev (&gt;= 2.8.0-4),
        freetype219 (&gt;= 2.3.12-1),
        gettext-bin,
        gettext-tools,
        glib2-dev (&gt;= 2.22.0-1),
        glitz,
        gtk+2-dev (&gt;= 2.18.0-1),
        libgettext8-dev,
        libiconv-dev,
        libpng14,
        pango1-xft2-ft219-dev (&gt;= 1.24.5-4),
        pkgconfig (&gt;= 0.23),
        wxgtk2.8 (&gt;=2.8.12-1),
        x11-dev
&lt;&lt;
Depends: &lt;&lt;
        glib2-shlibs (&gt;= 2.22.0-1),
        gtk+2-shlibs (&gt;= 2.18.0-1),
        python%type_pkg[python],
        wxgtk2.8-shlibs (&gt;= 2.8.12-1),
        opengl-py%type_pkg[python] (&gt;= 3.0.1-1),
        x11
&lt;&lt;
Source: mirror:sourceforge:wxpython/wxPython-src-%v.tar.bz2
Source-MD5: 8c06c5941477beee213b4f2fa78be620
SourceDirectory: wxPython-src-%v/wxPython
GCC: 4.0
SetCPPFLAGS: -MD
CompileScript: &lt;&lt;
#!/bin/sh -ev
        export 
PKG_CONFIG_PATH=&quot;%p/lib/glib-2.0/pkgconfig-strict:%p/lib/fontconfig2/lib/pkgconfig:$PKG_CONFIG_PATH&quot;
        %p/bin/python%type_raw[python] setup.py WXPORT=gtk2 
WX_CONFIG=%p/lib/wx/config/gtk2-unicode-release-2.8 build_ext
        fink-package-precedence --dep='\.d$' .
&lt;&lt;
InstallScript: &lt;&lt;
        %p/bin/python%type_raw[python] setup.py WXPORT=gtk2 
WX_CONFIG=%p/lib/wx/config/gtk2-unicode-release-2.8 install --root=%d
        cd %i/bin; for filename in *; do mv -v $filename 
$filename-py%type_pkg[python]; done;
        mkdir -p %i/share/doc/%n
        cp -R demo %i/share/doc/%n
        cp -R samples %i/share/doc/%n
&lt;&lt;

PostInstScript: &lt;&lt;
    update-alternatives --install %p/bin/editra editra 
%p/bin/editra-py%type_pkg[python] %type_pkg[python]
    update-alternatives --install %p/bin/helpviewer helpviewer 
%p/bin/helpviewer-py%type_pkg[python] %type_pkg[python]
    update-alternatives --install %p/bin/img2png img2png 
%p/bin/img2png-py%type_pkg[python] %type_pkg[python]
    update-alternatives --install %p/bin/img2py img2py 
%p/bin/img2py-py%type_pkg[python] %type_pkg[python]
    update-alternatives --install %p/bin/img2xpm img2xpm 
%p/bin/img2xpm-py%type_pkg[python] %type_pkg[python]
    update-alternatives --install %p/bin/pyalacarte pyalacarte 
%p/bin/pyalacarte-py%type_pkg[python] %type_pkg[python]
    update-alternatives --install %p/bin/pyalamode pyalamode 
%p/bin/pyalamode-py%type_pkg[python] %type_pkg[python]
    update-alternatives --install %p/bin/pycrust pycrust 
%p/bin/pycrust-py%type_pkg[python] %type_pkg[python]
    update-alternatives --install %p/bin/pyshell pyshell 
%p/bin/pyshell-py%type_pkg[python] %type_pkg[python]
    update-alternatives --install %p/bin/pywrap pywrap 
%p/bin/pywrap-py%type_pkg[python] %type_pkg[python]
    update-alternatives --install %p/bin/pywxrc pywxrc 
%p/bin/pywxrc-py%type_pkg[python] %type_pkg[python]
    update-alternatives --install %p/bin/xrced xrced 
%p/bin/xrced-py%type_pkg[python] %type_pkg[python]
&lt;&lt;

PreRmScript: &lt;&lt;
    if [ &quot;$1&quot; != &quot;upgrade&quot; ]
    then
        update-alternatives --remove editra %p/bin/editra-py%type_pkg[python]
        update-alternatives --remove helpviewer 
%p/bin/helpviewer-py%type_pkg[python]
        update-alternatives --remove img2png 
%p/bin/img2png-py%type_pkg[python]
        update-alternatives --remove img2py %p/bin/img2py-py%type_pkg[python]
        update-alternatives --remove img2xpm 
%p/bin/img2xpm-py%type_pkg[python]
        update-alternatives --remove pyalacarte 
%p/bin/pyalacarte-py%type_pkg[python]
        update-alternatives --remove pyalamode 
%p/bin/pyalamode-py%type_pkg[python]
        update-alternatives --remove pycrust 
%p/bin/pycrust-py%type_pkg[python]
        update-alternatives --remove pyshell 
%p/bin/pyshell-py%type_pkg[python]
        update-alternatives --remove pywrap %p/bin/pywrap-py%type_pkg[python]
        update-alternatives --remove pywxrc %p/bin/pywxrc-py%type_pkg[python]
        update-alternatives --remove xrced %p/bin/xrced-py%type_pkg[python]
    fi
&lt;&lt;

Description: Python bindings for the wxGTK library
DescDetail: &lt;&lt;
    In addition to common and advanced GUI facilities such as
    frames, scrolling windows, toolbars, tree controls, icons,
    device contexts, printing, splitter windows and so on, there are
    wrappers for common file operations, and facilities for writing
    TCP/IP applications, thread handling, and more. Where certain
    features are not available on a platform, such as MDI and tree
    controls on Unix, they are emulated.
    
    This package provides a Python binding to the wxGTK library and
    the wxPython runtime support libraries.
&lt;&lt;
DescPackaging: &lt;&lt;
Previous version by Jed Frechette &lt;jdfrech@xxxxxxx&gt;.
&lt;&lt;
DocFiles: ../docs/preamble.txt ../docs/gpl.txt ../docs/licence.txt 
../docs/lgpl.txt docs/*.txt
License: GPL
Homepage: <a  rel="nofollow" href="http://www.wxpython.org/">http://www.wxpython.org/</a>

SplitOff: &lt;&lt;
        Package: wxgtk2.8-py%type_pkg[python]-dev
        Conflicts: wxpython-py23-dev, wxpython-py24-dev, wxpython-py25-dev, 
wxpython-py26-dev, wxpython-py27-dev
        Replaces: wxpython-py23-dev, wxpython-py24-dev, wxpython-py25-dev, 
wxpython-py26-dev, wxpython-py27-dev
        Depends: wxgtk2.8-py%type_pkg[python] (= %v-%r)
        Files: include
        DocFiles: ../docs/preamble.txt ../docs/gpl.txt ../docs/licence.txt 
../docs/lgpl.txt docs/*.txt
&lt;&lt;

&lt;&lt;
</pre><pre style="margin: 0em;">Package: wxgtk2.8
Version: 2.8.12
Revision: 1
Source-MD5: b12c78d947d89e1120443761f1b7693b
Source: mirror:sourceforge:wxwindows/wxGTK-%v.tar.gz
PatchFile: %n.patch
PatchFile-MD5: 0336f49945aff8857d0d9d59bb16e174
License: GPL
Maintainer: Pierre-Henri Lavigne &lt;yakesonchihiro@xxxxxxx&gt;
Homepage: <a  rel="nofollow" href="http://www.wxwidgets.org/">http://www.wxwidgets.org/</a>
Description: Cross-platform GUI API - unix/gtk version
DescDetail: &lt;&lt;
 In addition to common and advanced GUI facilities such as
 frames, scrolling windows, toolbars, tree controls, icons,
 device contexts, printing, splitter windows and so on, there are
 wrappers for common file operations, and facilities for writing
 TCP/IP applications, thread handling, and more. Where certain
 features are not available on a platform, such as MDI and tree
 controls on Unix, they are emulated.
&lt;&lt;
DocFiles: BuildCVS.txt install-gtk.txt docs readme-gtk.txt
BuildDepends: &lt;&lt;
        atk1 (&gt;= 1.28.0-1),
        cairo (&gt;= 1.8.8-3),
        expat1,
        fink (&gt;= 0.28.6-1),
        fink-package-precedence,
        fontconfig2-dev (&gt;= 2.8.0-4),
        freetype219 (&gt;= 2.3.12-1),
        gconf2-dev (&gt;= 2.28.0-1),
        glib2-dev (&gt;= 2.22.0-1),
        glitz,
        gnome-vfs2-unified-dev (&gt;= 1:2.24.2-1),
        gst-plugins-base-0.10-dev (&gt;= 0.10.26-1),
        gstreamer-0.10-dev (&gt;= 0.10.26-1),
        gtk+2-dev (&gt;= 2.18.0-1),
        libart2,
        libgettext8-dev,
        libgnomecanvas2-dev (&gt;= 2.26.0-3),
        libgnomeprint2.2-dev (&gt;= 2.18.6-5),
        libgnomeprintui2.2-dev (&gt;= 2.18.4-5),
        libiconv-dev,
        libjpeg8,
        libpng14,
        libtiff,
        libxml2 (&gt;= 2.6.32-1),
        pango1-xft2-ft219-dev (&gt;= 1.24.5-4),
        pixman (&gt;= 0.16.0-1),
        pkgconfig (&gt;= 0.23-1),
        sdl,
        x11-dev
&lt;&lt;
Depends: &lt;&lt;
        %N-shlibs (&gt;= %v-%r),
        expat1-shlibs,
        glib2-shlibs (&gt;= 2.22.0-1),
        gtk+2-shlibs (&gt;= 2.18.0-1),
        libiconv,
        x11
&lt;&lt;
Conflicts: wxgtk, wxcocoa, wxmac, wxgtk2.8, wxmac28, wxmac28-unicode, 
wxcocoa29, wxcocoa292, wxcocoa293
Replaces: wxgtk, wxcocoa, wxmac, wxgtk2.8, wxmac28, wxmac28-unicode, 
wxcocoa29, wxcocoa292, wxcocoa293
GCC: 4.0
BuildDependsOnly:true
PatchScript: &lt;&lt;
#!/bin/sh -ev
  %{default_script}
  perl -pi -e 's/hardcode_direct=yes/hardcode_direct=no/g' configure
  perl -pi -e 's/single_module/$&amp; -Wl,-x -dead_strip/' 
build/aclocal/bakefile.m4 configure
  perl -pi -e 's,^extern,#undef BOOL\n$&amp;,' src/unix/displayx11.cpp
  perl -pi -e 's,^\@COND_SHARED_1_USE_XRC_1\@.*\(__WXLIB_BASE_p\).*$,$&amp; 
-lwx_gtk2u_adv-2.8 -lwx_gtk2u_html-2.8,' contrib/src/gizmos/Makefile.in
  perl -pi -e 's,\@LIBS\@,$&amp; \@CAIRO_LIBS\@,' Makefile.in
  perl -pi -e 's,\$GUI_TK_LIBRARY -lXinerama,\$GUI_TK_LIBRARY -lXinerama 
-lX11 -lGL,g' configure
  if [ %m = &quot;x86_64&quot; ]; then
  perl -pi -e &quot;s,\(unsigned int\) iter-&gt;user_data \)\;$,\(unsigned long\) 
iter-&gt;user_data \)\;,&quot; src/gtk/dataview.cpp
  perl -pi -e &quot;s,unsigned int model_row = \(unsigned int\) 
iter-&gt;user_data\;$,unsigned long model_row = \(unsigned long\) 
iter-&gt;user_data\;,&quot; src/gtk/dataview.cpp
  fi
 # add missing libraries to avoid undefined symbol errors when using wx-config
 perl -pi -e 's|ApplicationServices|ApplicationServices -lgdk-x11-2.0 
-lgobject-2.0 -lX11|g' configure

 # configure tests for libpng by looking for a certain symbol in it
 # that was changed as of libpng14
 perl -pi -e 's/png_check_sig/png_sig_cmp/g' configure
&lt;&lt;
SetCPPFLAGS: -I%p/include/SDL -MD
SetLDFLAGS: -L%p/lib/fontconfig2/lib
ConfigureParams: &lt;&lt;
  --with-extra-includes=%p/include --with-extra-libs=%p/lib --disable-debug 
--disable-debug_flag \
  --disable-debug_info --disable-monolithic --disable-precomp-headers 
--enable-objc_uniquifying --enable-optimise --enable-threads \
  --without-mac --without-cocoa --without-macosx-sdk 
--without-macosx-version-min --disable-universal_binary --enable-apple_ieee \
  --enable-gtk2 --with-gtk --with-gtk-prefix=%p --with-gnomeprint 
--with-gnomevfs --with-opengl --enable-nanox --enable-webkit \
  --disable-no_rtti --disable-no_exceptions --with-x 
--x-includes=/usr/X11R6/include --x-libraries=/usr/X11R6/lib \
  --enable-unicode --enable-intl --enable-display --enable-geometry 
--enable-controls --enable-gpe --enable-iff --without-odbc \
  --disable-graphics_ctx --enable-mediactrl --enable-dataviewctrl 
--enable-tabdialog --enable-docview --enable-sound \
  --with-sdl --disable-sdltest --with-sdl-exec-prefix=%p 
--with-libiconv-prefix=%p --with-expat \
  --with-regex --with-zlib --with-libxpm --with-libtiff --with-libjpeg 
--with-libpng --enable-std_iostreams --enable-std_string
&lt;&lt;
#  --enable-stl --with-odbc --enable-plugins  ??
CompileScript: &lt;&lt;
  #!/bin/sh -ev
  export PKG_CONFIG_PATH=&quot;%p/lib/fontconfig2/lib/pkgconfig:$PKG_CONFIG_PATH&quot;
  cd build
  if [ %m = &quot;x86_64&quot; ]; then
  ../configure %c --build=%m-apple-darwin`uname -r|cut -f1 -d.` 
--host=%m-apple-darwin`uname -r|cut -f1 -d.`
  else
  ../configure %c --with-sdl --disable-sdltest --with-sdl-exec-prefix=%p
  fi
  make
  make -C contrib/src/fl
  make -C contrib/src/foldbar
  make -C contrib/src/gizmos
  make -C contrib/src/net
  make -C contrib/src/ogl
  make -C contrib/src/plot
  make -C contrib/src/stc
  make -C contrib/src/svg
  fink-package-precedence --depfile-ext='\.d' --prohibit-bdep %n .
&lt;&lt;
InstallScript: &lt;&lt;
  #!/bin/sh -ev
  cd ./build
  make install prefix=%i
  make -C contrib/src/fl        prefix=%i install
  make -C contrib/src/foldbar   prefix=%i install
  make -C contrib/src/gizmos    prefix=%i install
  make -C contrib/src/net       prefix=%i install
  make -C contrib/src/ogl       prefix=%i install
  make -C contrib/src/plot      prefix=%i install
  make -C contrib/src/stc       prefix=%i install
  make -C contrib/src/svg       prefix=%i install
  ln -fs ../lib/wx/config/gtk2-unicode-release-2.8 %i/bin/wx-config
&lt;&lt;
SplitOff: &lt;&lt;
  Package: %N-shlibs
  Description: Shared libraries for %n
  DocFiles: docs/readme.txt docs/licence.txt docs/changes.txt docs/lgpl.txt 
docs/gpl.txt
  Depends: &lt;&lt;
        atk1-shlibs (&gt;= 1.28.0-1),
        cairo-shlibs (&gt;= 1.8.8-3),
        expat1-shlibs,
        fontconfig2-shlibs (&gt;= 2.8.0-4),
        freetype219-shlibs (&gt;= 2.3.12-1),
        gconf2-shlibs (&gt;= 2.28.0-1),
        glib2-shlibs (&gt;= 2.22.0-1),
        gst-plugins-base-0.10-shlibs (&gt;= 0.10.26-1),
        gstreamer-0.10-shlibs (&gt;= 0.10.26-1),
        gtk+2-shlibs (&gt;= 2.18.0-1),
        libgettext8-shlibs,
        libiconv,
        libjpeg8-shlibs,
        libpng14-shlibs,
        libtiff-shlibs,
        libxml2-shlibs (&gt;= 2.6.32-1),
        pango1-xft2-ft219-shlibs (&gt;= 1.24.5-4),
        sdl-shlibs,
        x11-shlibs
  &lt;&lt;
  Files: lib/libwx_*-*.*.*.dylib
  Shlibs: &lt;&lt;
        %p/lib/libwx_baseu-2.8.0.dylib          9.0.0   %n      (&gt;= 2.8.7-4)
        %p/lib/libwx_baseu_net-2.8.0.dylib      9.0.0   %n      (&gt;= 2.8.7-4)
        %p/lib/libwx_baseu_xml-2.8.0.dylib      9.0.0   %n      (&gt;= 2.8.7-4)
        %p/lib/libwx_gtk2u_adv-2.8.0.dylib      9.0.0   %n      (&gt;= 2.8.7-4)
        %p/lib/libwx_gtk2u_aui-2.8.0.dylib      9.0.0   %n      (&gt;= 2.8.7-4)
        %p/lib/libwx_gtk2u_core-2.8.0.dylib     9.0.0   %n      (&gt;= 2.8.7-4)
        %p/lib/libwx_gtk2u_gl-2.8.0.dylib       9.0.0   %n      (&gt;= 2.8.7-4)
        %p/lib/libwx_gtk2u_html-2.8.0.dylib     9.0.0   %n      (&gt;= 2.8.7-4)
        %p/lib/libwx_gtk2u_media-2.8.0.dylib    9.0.0   %n      (&gt;= 2.8.7-4)
        %p/lib/libwx_gtk2u_qa-2.8.0.dylib       9.0.0   %n      (&gt;= 2.8.7-4)
        %p/lib/libwx_gtk2u_richtext-2.8.0.dylib 9.0.0   %n      (&gt;= 2.8.7-4)
        %p/lib/libwx_gtk2u_xrc-2.8.0.dylib      9.0.0   %n      (&gt;= 2.8.7-4)
        %p/lib/libwx_gtk2u_fl-2.8.0.dylib       9.0.0   %n      (&gt;= 2.8.7-4)
        %p/lib/libwx_gtk2u_foldbar-2.8.0.dylib  9.0.0   %n      (&gt;= 2.8.7-4)
        %p/lib/libwx_gtk2u_netutils-2.8.0.dylib 9.0.0   %n      (&gt;= 2.8.7-4)
        %p/lib/libwx_gtk2u_ogl-2.8.0.dylib      9.0.0   %n      (&gt;= 2.8.7-4)
        %p/lib/libwx_gtk2u_plot-2.8.0.dylib     9.0.0   %n      (&gt;= 2.8.7-4)
        %p/lib/libwx_gtk2u_stc-2.8.0.dylib      9.0.0   %n      (&gt;= 2.8.7-4)
        %p/lib/libwx_gtk2u_svg-2.8.0.dylib      9.0.0   %n      (&gt;= 2.8.7-4)
        %p/lib/libwx_gtk2u_gizmos-2.8.0.dylib   9.0.0   %n      (&gt;= 2.8.7-4)
        %p/lib/libwx_gtk2u_gizmos_xrc-2.8.0.dylib       9.0.0   %n      (&gt;= 
2.8.7-4)
  &lt;&lt;
&lt;&lt;
DescPackaging: &lt;&lt;
        dmacks: added fink-package-precedence for lib-use sanity. And
        --enable-dependency-tracking doesn't, so need to -MD instead.
        jhowarth: wxgtk 2.8.10 and later are incompatible with 
--enable-graphics_ctx.
&lt;&lt;
DescPort: &lt;&lt;
        dmacks: dispalyx11.cpp (among others) uses x11 directly if
        wxUSE_DISPLAY, so needs to link directly to libX11
        akh:  apply patch from <a  rel="nofollow" href="http://trac.wxwidgets.org/changeset/61009">http://trac.wxwidgets.org/changeset/61009</a>
        to fix builds against newer glib.
&lt;&lt;
</pre><pre style="margin: 0em;">--- wxGTK-2.8.12/configure.orig 2012-04-05 10:45:21.000000000 -0400
+++ wxGTK-2.8.12/configure      2012-04-05 10:45:46.000000000 -0400
@@ -33191,7 +33191,7 @@
     elif test &quot;$wxUSE_MSW&quot; = 1; then
         OPENGL_LIBS=&quot;-lopengl32 -lglu32&quot;
     elif test &quot;$USE_DARWIN&quot; = 1; then
-        OPENGL_LIBS=&quot;&quot;
+        OPENGL_LIBS=&quot;-lGL -lGLU&quot;
     else
                         echo &quot;$as_me:$LINENO: checking for OpenGL headers&quot; 
</pre><blockquote class="blockquote"><pre style="margin: 0em;">&amp;5
</pre></blockquote><pre style="margin: 0em;"> echo $ECHO_N &quot;checking for OpenGL headers... $ECHO_C&quot; &gt;&amp;6
--- wxGTK-2.8.12/Makefile.in.orig       2011-03-22 08:18:19.000000000 -0400
+++ wxGTK-2.8.12/Makefile.in    2012-04-05 10:41:54.000000000 -0400
@@ -38,7 +38,7 @@
 includedir = @includedir@
 DLLPREFIX = @DLLPREFIX@
 DLLPREFIX_MODULE = @DLLPREFIX_MODULE@
-LIBS = @LIBS@
+LIBS = @LIBS@ @CAIRO_LIBS@
 AR = @AR@
 AROPTIONS = @AROPTIONS@
 RANLIB = @RANLIB@
@@ -5033,8 +5033,8 @@
 @COND_PLATFORM_MACOSX_1@__HTML_SRC_PLATFORM_OBJECTS = monodll_chm.o
 @COND_PLATFORM_UNIX_1@__HTML_SRC_PLATFORM_OBJECTS = monodll_chm.o
 @COND_TOOLKIT_MSW@__HTML_SRC_PLATFORM_OBJECTS = monodll_helpbest.o
-@COND_PLATFORM_UNIX_1_USE_PLUGINS_0@__PLUGIN_ADV_SRC_OBJECTS \
-@COND_PLATFORM_UNIX_1_USE_PLUGINS_0@   = monodll_sound_sdl.o
+@COND_USE_PLUGINS_0@__PLUGIN_ADV_SRC_OBJECTS \
+@COND_USE_PLUGINS_0@   = monodll_sound_sdl.o
 COND_MONOLITHIC_1_SHARED_0___monolib___depname = \
        
$(LIBDIRNAME)/$(LIBPREFIX)wx_$(PORTNAME)$(WXUNIVNAME)$(WXUNICODEFLAG)$(WXDEBUGFLAG)$(WX_LIB_FLAVOUR)-$(WX_RELEASE)$(HOST_SUFFIX)$(LIBEXT)
 @COND_MONOLITHIC_1_SHARED_0@__monolib___depname = 
$(COND_MONOLITHIC_1_SHARED_0___monolib___depname)
@@ -6830,8 +6830,8 @@
 @COND_PLATFORM_MACOSX_1@__HTML_SRC_PLATFORM_OBJECTS_1 = monolib_chm.o
 @COND_PLATFORM_UNIX_1@__HTML_SRC_PLATFORM_OBJECTS_1 = monolib_chm.o
 @COND_TOOLKIT_MSW@__HTML_SRC_PLATFORM_OBJECTS_1 = monolib_helpbest.o
-@COND_PLATFORM_UNIX_1_USE_PLUGINS_0@__PLUGIN_ADV_SRC_OBJECTS_1 \
-@COND_PLATFORM_UNIX_1_USE_PLUGINS_0@   = monolib_sound_sdl.o
+@COND_USE_PLUGINS_0@__PLUGIN_ADV_SRC_OBJECTS_1 \
+@COND_USE_PLUGINS_0@   = monolib_sound_sdl.o
 COND_MONOLITHIC_0_SHARED_1___basedll___depname = \
        
$(LIBDIRNAME)/$(DLLPREFIX)$(WXDLLNAMEPREFIX)$(WXUNICODEFLAG)$(WXDEBUGFLAG)$(WX_LIB_FLAVOUR)$(WXCOMPILER)$(VENDORTAG)$(WXDLLVERSIONTAG)$(dll___targetsuf3)
 @COND_MONOLITHIC_0_SHARED_1@__basedll___depname = 
$(COND_MONOLITHIC_0_SHARED_1___basedll___depname)
@@ -10405,8 +10405,8 @@
 @COND_TOOLKIT_MSW@     = advdll_datectrl.o
 @COND_TOOLKIT_WINCE@__ADVANCED_PLATFORM_NATIVE_SRC_OBJECTS_2 \
 @COND_TOOLKIT_WINCE@   = advdll_datectrl.o
-@COND_PLATFORM_UNIX_1_USE_PLUGINS_0@__PLUGIN_ADV_SRC_OBJECTS_2 \
-@COND_PLATFORM_UNIX_1_USE_PLUGINS_0@   = advdll_sound_sdl.o
+@COND_USE_PLUGINS_0@__PLUGIN_ADV_SRC_OBJECTS_2 \
+@COND_USE_PLUGINS_0@   = advdll_sound_sdl.o
 COND_MONOLITHIC_0_SHARED_0_USE_GUI_1___advlib___depname = \
        
$(LIBDIRNAME)/$(LIBPREFIX)wx_$(PORTNAME)$(WXUNIVNAME)$(WXUNICODEFLAG)$(WXDEBUGFLAG)$(WX_LIB_FLAVOUR)_adv-$(WX_RELEASE)$(HOST_SUFFIX)$(LIBEXT)
 @COND_MONOLITHIC_0_SHARED_0_USE_GUI_1@__advlib___depname = 
$(COND_MONOLITHIC_0_SHARED_0_USE_GUI_1___advlib___depname)
@@ -10470,8 +10470,8 @@
 @COND_TOOLKIT_MSW@     = advlib_datectrl.o
 @COND_TOOLKIT_WINCE@__ADVANCED_PLATFORM_NATIVE_SRC_OBJECTS_3 \
 @COND_TOOLKIT_WINCE@   = advlib_datectrl.o
-@COND_PLATFORM_UNIX_1_USE_PLUGINS_0@__PLUGIN_ADV_SRC_OBJECTS_3 \
-@COND_PLATFORM_UNIX_1_USE_PLUGINS_0@   = advlib_sound_sdl.o
+@USE_PLUGINS_0@__PLUGIN_ADV_SRC_OBJECTS_3 \
+@USE_PLUGINS_0@        = advlib_sound_sdl.o
 COND_MONOLITHIC_0_SHARED_1_USE_GUI_1_USE_MEDIA_1___mediadll___depname = \
        
$(LIBDIRNAME)/$(DLLPREFIX)$(WXDLLNAMEPREFIXGUI)$(WXUNICODEFLAG)$(WXDEBUGFLAG)$(WX_LIB_FLAVOUR)_media$(WXCOMPILER)$(VENDORTAG)$(WXDLLVERSIONTAG)$(dll___targetsuf3)
 @COND_MONOLITHIC_0_SHARED_1_USE_GUI_1_USE_MEDIA_1@__mediadll___depname = 
$(COND_MONOLITHIC_0_SHARED_1_USE_GUI_1_USE_MEDIA_1___mediadll___depname)
</pre><pre style="margin: 0em;">Info2: &lt;&lt;
Package: relax-py%type_pkg[python]
Version: 1.3.14
Revision: 1
Type: python (2.6 2.7)
Source: <a  rel="nofollow" href="http://download.gna.org/relax/relax-%v.src.tar.bz2">http://download.gna.org/relax/relax-%v.src.tar.bz2</a>
Source-MD5: d8bb7eebfa4112f95ade4e22c99899a7
SourceDirectory: relax-%v
Depends: python%type_pkg[python], numpy-py%type_pkg[python], 
scipy-py%type_pkg[python], scientificpython-py%type_pkg[python] (&gt;= 2.9.0), 
wxgtk2.8-py%type_pkg[python] (&gt;= 2.8.12)
BuildDepends: python%type_pkg[python], scons, numpy-py%type_pkg[python], 
scipy-py%type_pkg[python], scientificpython-py%type_pkg[python] (&gt;= 2.9.0), 
wxgtk2.8-py%type_pkg[python] (&gt;= 2.8.12), fink (&gt;= 0.24.12)
Conflicts: relax-py24, relax-py25, relax-py26, relax-py27
Replaces: relax-py24, relax-py25, relax-py26, relax-py27
#SetCC: llvm-gcc-4.2
PatchFile: relax-py.patch
PatchFile-MD5: f41bb7a09906f0c30233dbba107780fd
PatchScript: &lt;&lt;
#!/bin/sh -ev
sed 's|python2.X|python%type_raw[python]|g' &lt; %{PatchFile} |sed 
's|FINK_PREFIX|%p|g' | sed 's|FINK_INSTALL_DIR|%i|g' | sed 
's|relax-py2X|relax-py%type_pkg[python]|g' | patch -p1
perl -pi -e &quot;s|'i386', 'x86_64', 'ppc', 'ppc64'|'%m'|g&quot; ./sconstruct
if [ &quot;%m&quot; == &quot;x86_64&quot; ] ; then
perl -pi -e &quot;s|cflags = '-I'|cflags = '-O3 -ffast-math -funroll-loops -I'|g&quot; 
./sconstruct
perl -pi -e &quot;s|'-bundle',|'-m64', '-bundle',|g&quot; ./sconstruct
else
perl -pi -e &quot;s|cflags = '-I'|cflags = '-O3 -ffast-math -funroll-loops -I'|g&quot; 
./sconstruct
perl -pi -e &quot;s|'-bundle',|'-m32', '-bundle',|g&quot; ./sconstruct
fi
&lt;&lt;
# running relax compiles the scripts
InfoTest: TestScript: ./relax --test-suite; /usr/bin/find 
%i/lib/relax-py%type_pkg[python] -name '*.pyc' -delete; /usr/bin/find 
%i/lib/relax-py%type_pkg[python] -name '*.pyo' -delete; exit 0 :
CompileScript: &lt;&lt;
%p/bin/python%type_raw[python] %p/bin/scons 
&lt;&lt;
InstallScript: &lt;&lt;
mkdir -p %i/lib
mkdir -p %i/bin
%p/bin/python%type_raw[python] %p/bin/scons install
/usr/bin/find %i/lib/relax-py%type_pkg[python] -name '*.pyc' -delete
/usr/bin/find %i/lib/relax-py%type_pkg[python] -name '*.pyo' -delete
rm %i/bin/relax
&lt;&lt;
PostInstScript: &lt;&lt;
update-alternatives --install %p/bin/relax relax 
%p/lib/relax-py%type_pkg[python]/relax %type_pkg[python]
%p/bin/python%type_raw[python] -O 
%p/lib/python%type_raw[python]/compileall.py -q 
%p/lib/relax-py%type_pkg[python]
cd %p/lib/relax-py%type_pkg[python]
perl -pi -e 's|%i|%p|g' ./sconstruct
relax --test
&lt;&lt;
PreRmScript: &lt;&lt;
if [ $1 != &quot;upgrade&quot; ]; then
  update-alternatives --remove relax %p/lib/relax-py%type_pkg[python]/relax
fi
/usr/bin/find %p/lib/relax-py%type_pkg[python] -name '*.pyc' -delete
/usr/bin/find %p/lib/relax-py%type_pkg[python] -name '*.pyo' -delete
&lt;&lt;
Description: Protein dynamics by NMR relax. data analysis
License: GPL
Homepage: <a  rel="nofollow" href="http://www.nmr-relax.com/">http://www.nmr-relax.com/</a>
Maintainer: None &lt;fink-devel@xxxxxxxxxxxxxxxxxxxxx&gt;
&lt;&lt;
</pre><pre style="margin: 0em;">diff -uNr relax-1.3.5/relax relax-1.3.5.new/relax
--- relax-1.3.5/relax   2010-05-21 11:00:31.000000000 -0400
+++ relax-1.3.5.new/relax       2010-06-24 15:27:29.000000000 -0400
@@ -1,4 +1,4 @@
-#! /usr/bin/env python
+#! /usr/bin/env python2.X
 
 
###############################################################################
 #                                                                            
 #
diff -uNr relax-1.3.5/scons/install.py relax-1.3.5.new/scons/install.py
--- relax-1.3.5/scons/install.py        2010-05-21 11:00:21.000000000 -0400
+++ relax-1.3.5.new/scons/install.py    2010-06-24 15:28:06.000000000 -0400
@@ -112,8 +112,8 @@
     ###############
 
     # Run relax to create the *.pyc files.
-    print(&quot;\nRunning relax to create the byte-compiled *.pyc files.&quot;)
-    system(env['SYMLINK'] + &quot; --test&quot;)
+    # print(&quot;\nRunning relax to create the byte-compiled *.pyc files.&quot;)
+    # system(env['SYMLINK'] + &quot; --test&quot;)
 
     # Final print out.
     print(&quot;\n\n\n&quot;)
diff -uNr relax-1.3.5/sconstruct relax-1.3.5.new/sconstruct
--- relax-1.3.5/sconstruct      2010-05-21 11:00:31.000000000 -0400
+++ relax-1.3.5.new/sconstruct  2010-06-24 15:44:24.000000000 -0400
@@ -98,7 +98,7 @@
     SYS = SYSTEM
 
     # Mac OS X installation path.
-    INSTALL_PATH = sys.prefix + sep + 'local'
+    INSTALL_PATH = 'FINK_INSTALL_DIR' + sep + 'lib'
 
 
 # All other operating systems.
@@ -115,10 +115,10 @@
 ###############
 
 # Relax installation directory.
-RELAX_PATH = INSTALL_PATH + sep + 'relax'
+RELAX_PATH = INSTALL_PATH + sep + 'relax-py2X'
 
 # Installation path for binaries.
-BIN_PATH = INSTALL_PATH + sep + 'bin'
+BIN_PATH = 'FINK_INSTALL_DIR' + sep + 'bin'
 
 # Symbolic link installation path.
 SYMLINK = BIN_PATH + sep + 'relax'
@@ -475,11 +475,11 @@
                  'relax_fit.c']
 
         # Construct the python include path (for Python.h).
-        py_include_minpath = sys.prefix + path.sep + 'include'
+        py_include_minpath = 'FINK_PREFIX' + path.sep + 'include'
         py_include_fullpath = py_include_minpath + path.sep + 'python' + 
`sys.version_info[0]` + '.' + `sys.version_info[1]`
 
         # Construct the python bin path.
-        py_bin_minpath = sys.prefix + path.sep + 'bin'
+        py_bin_minpath = 'FINK_PREFIX' + path.sep + 'bin'
         py_bin_fullpath = py_bin_minpath + path.sep + 'python' + 
`sys.version_info[0]` + '.' + `sys.version_info[1]`
 
         # Get the numpy include path (for numpy/arrayobject.h).
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00042" href="msg00042.html">Re: relax 1.3.13/14 oddities</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00005" href="msg00005.html">Re: relax 1.3.13/14 oddities</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00006" href="msg00006.html">Re: relax 1.3.13/14 oddities</a></strong>
<ul><li><em>From:</em> Jack Howarth</li></ul></li>
<li><strong><a name="00009" href="msg00009.html">Re: relax 1.3.13/14 oddities</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00027" href="msg00027.html">Re: relax 1.3.13/14 oddities</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00028" href="msg00028.html">Re: relax 1.3.13/14 oddities</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Apr 10 18:00:09 2012</div>  
</body>
</html>
