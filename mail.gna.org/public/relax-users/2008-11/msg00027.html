<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: latex script on final results -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Mon, 10 Nov 2008 22:23:05 +0100 -->
<!--X-Message-Id: 7f080ed10811101323v7012ebfwbf33f6e84f29c407@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20081109085554.2v4uwkcxrl9cc00s@my5.dal.ca -->
<!--X-Reference: 34C93AFA&#45;96D4&#45;4365&#45;AC60&#45;485A6D5C7C3E@gmail.com -->
<!--X-Reference: 20081109184553.d9xu3cr711hucckg@my2.dal.ca -->
<!--X-Reference: 687E0B73&#45;15C0&#45;43FA&#45;B6EE&#45;319E98FCCAB7@gmail.com -->
<!--X-Reference: 20081109224732.qtbrwupmdfs5cc40@my2.dal.ca -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: latex script on final results -- November 10, 2008 - 22:23</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: latex script on final results</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00027" class="tabs">Index by Date</a> | <a href="threads.html#00027" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00026.html">Date Prev</a>] [<a href="msg00028.html">Date Next</a>] [<a href="msg00023.html">Thread Prev</a>] [<a href="msg00029.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Tyler Reddy&quot; &lt;TREDDY@xxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Mon, 10 Nov 2008 22:23:00 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00027.html">7f080ed10811101323v7012ebfwbf33f6e84f29c407@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;20081109085554.2v4uwkcxrl9cc00s@xxxxxxxxxx&gt;	&lt;34C93AFA-96D4-4365-AC60-485A6D5C7C3E@xxxxxxxxx&gt;	&lt;20081109184553.d9xu3cr711hucckg@xxxxxxxxxx&gt;	&lt;687E0B73-15C0-43FA-B6EE-319E98FCCAB7@xxxxxxxxx&gt;	&lt;20081109224732.qtbrwupmdfs5cc40@xxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on November 10, 2008 - 22:23:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

Tyler, would you know what fixed the first traceback issue?  I'd like
to try to fix that in relax as any traceback message in relax is
considered a bug.  The only errors that don't count as bugs are the
RelaxError messages.  This one seems like a directory issue within the
structure section of the results file.  Could you possibly cut and
paste the results files lines corresponding to the loaded structure?
I would suggest submitting a bug report as well - and I think I might
be able to reproduce it with all the mol, res, and spin entries
deleted.  If I can get the test suite to reproduce this, I should be
able to easily fix this.

As for the .tex file, this is a LaTeX formatted table.  You can simply
use an \input{} command in your LaTeX document and the table will be
included.  You'll need the 2 packages as described in the script in
the preamble of your document.  If you haven't used LaTeX before, you
can create a very simple PDF document from this file by adding the
lines:

\documentclass[a4paper, 11pt, twoside, openright]{book}
\usepackage{longtable}
\usepackage{booktabs}
\begin{document}

to the start of the file, and the line:

\end{document}

to the end.  Then compile using latex by typing something like:

$ latex results.tex
$ latex results.tex
$ latex results.tex
$ dvips -o results.ps results.dvi
$ ps2pdf results.ps

You'll then have the results.pdf file to play with.

Regards,

Edward


On Mon, Nov 10, 2008 at 3:47 AM, Tyler Reddy &lt;TREDDY@xxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Right, it's opening the file now and procuding a .tex file as well, but
there is
still this output:

RelaxWarning: The structure file 'PDB_file.pdb' cannot be found in the 
current
directory or the directory of the results file.

Which seems odd because I have a copy of this PDB file in the same
directory as
the script and in the directory with the results.bz2 file, just in case. 
Also,
what is the normal way to view a .tex file like this one?

Tyler


Quoting Douglas Kojetin &lt;douglas.kojetin@xxxxxxxxx&gt;:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Are you certain your RESULTS variable points towards 'final/
results.bz2'?  The output from your job below differs vs. mine, in
particular these lines in the output:

relax&gt; results.read(file='final/results.bz2', dir=None)
Opening the file 'final/results.bz2' for reading.

Perhaps you should attach the input script text as well as the output  
text?

Doug


On Nov 9, 2008, at 5:45 PM, Tyler Reddy wrote:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">It looks like both problems were already fixed in my script, so it  must 
be
something else?


Quoting Douglas Kojetin &lt;douglas.kojetin@xxxxxxxxx&gt;:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">I made the following changes to the distributed latex_mf_table.py
file, and it seemed to work OK.

% diff updated_latex_mf_table.py old_latex_mf_table.py
42c42
&lt; RESULTS_FILE = 'final/results.bz2'
---
</pre><blockquote class="blockquote"><pre style="margin: 0em;">RESULTS_FILE = 'final'
</pre></blockquote><pre style="margin: 0em;">171c171
&lt;         for spin, spin_id in spin_loop(return_id=True):
---
</pre><blockquote class="blockquote"><pre style="margin: 0em;">        for spin, spin_id in spin_loop(return_id=True)
</pre></blockquote><pre style="margin: 0em;">

I think your error might be caused by the change on line 42, but
an  error will popup for the change on line 171 (the for statement
is  missing a semi-colon ).

Doug



On Nov 9, 2008, at 7:55 AM, Tyler Reddy wrote:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

My model-free results from the full analysis python script have
converged and
the 'final' run is complete. I moved the latex table script into
the  'final'
directory, but when I execute the script I get the output below.
I  think Edward
mentioned this script might need some work. Has anyone used it
successfully?

Tyler

Output:

Latex()
----------------------------------------------------------------------------------------------------

relax&gt; pipe.create(pipe_name='results', pipe_type='mf')

relax&gt; results.read(file='results', dir=None)
Opening the file 'results' for reading.
Traceback (most recent call last):
File &quot;/Applications/relax-1.3.1/relax-1.3/relax&quot;, line 422, in   
&lt;module&gt;
  Relax()
File &quot;/Applications/relax-1.3.1/relax-1.3/relax&quot;, line 131, in   
__init__
  self.interpreter.run(self.script_file)
File &quot;/Applications/relax-1.3.1/relax-1.3/prompt/interpreter.py&quot;,
 line 270, in
run
  return run_script(intro=self.__intro_string, local=self.local,
script_file=script_file, quit=self.__quit_flag,
show_script=self.__show_script,
raise_relax_error=self.__raise_relax_error)
File &quot;/Applications/relax-1.3.1/relax-1.3/prompt/interpreter.py&quot;,
 line 531, in
run_script
  return console.interact(intro, local, script_file, quit,
show_script=show_script, raise_relax_error=raise_relax_error)
File &quot;/Applications/relax-1.3.1/relax-1.3/prompt/interpreter.py&quot;,
 line 427, in
interact_script
  execfile(script_file, local)
File &quot;latex_mf_table.py&quot;, line 220, in &lt;module&gt;
  Latex()
File &quot;latex_mf_table.py&quot;, line 53, in __init__
  results.read(RESULTS_FILE, dir=None)
File &quot;/Applications/relax-1.3.1/relax-1.3/prompt/results.py&quot;,
line  99, in read
  results.read(file=file, directory=dir)
File &quot;/Applications/relax-1.3.1/relax-1.3/generic_fns/
results.py&quot;,  line 98, in
read
  read_function = ds.from_xml(file, dir=directory)
File &quot;/Applications/relax-1.3.1/relax-1.3/data/__init__.py&quot;, line
 185, in
from_xml
  self[self.instance.current_pipe].from_xml(relax_node, dir=dir)
File &quot;/Applications/relax-1.3.1/relax-1.3/data/
pipe_container.py&quot;,  line 164,
in from_xml
  self.structure.from_xml(str_nodes[0], dir=dir)
File &quot;/Applications/relax-1.3.1/relax-1.3/generic_fns/structure/
api_base.py&quot;,
line 276, in from_xml
  loaded = self.load_pdb(file_path=dir + sep + self.file[i],   
model=None,
struct_index=i)
TypeError: unsupported operand type(s) for +: 'NoneType' and 'str'



_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>
</pre></blockquote><pre style="margin: 0em;">


</pre></blockquote><pre style="margin: 0em;">



</pre></blockquote><pre style="margin: 0em;">


</pre></blockquote><pre style="margin: 0em;">




_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>

</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00029" href="msg00029.html">Re: latex script on final results</a></strong>
<ul><li><em>From:</em> Tyler Reddy</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00019" href="msg00019.html">latex script on final results</a></strong>
<ul><li><em>From:</em> Tyler Reddy</li></ul></li>
<li><strong><a name="00020" href="msg00020.html">Re: latex script on final results</a></strong>
<ul><li><em>From:</em> Douglas Kojetin</li></ul></li>
<li><strong><a name="00021" href="msg00021.html">Re: latex script on final results</a></strong>
<ul><li><em>From:</em> Tyler Reddy</li></ul></li>
<li><strong><a name="00022" href="msg00022.html">Re: latex script on final results</a></strong>
<ul><li><em>From:</em> Douglas Kojetin</li></ul></li>
<li><strong><a name="00023" href="msg00023.html">Re: latex script on final results</a></strong>
<ul><li><em>From:</em> Tyler Reddy</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Nov 11 12:20:26 2008</div>  
</body>
</html>
