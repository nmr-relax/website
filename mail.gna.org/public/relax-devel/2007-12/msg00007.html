<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Integration of the consistency_tests branch (and becoming a relax	committer). -->
<!--X-From-R13: Eronfgvra [beva <fronfgvra.zbeva.1Nhyniny.pn> -->
<!--X-Date: Fri, 14 Dec 2007 20:57:20 +0100 -->
<!--X-Message-Id: 4762E015.3030000@ulaval.ca -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 20071114183215.lesgk0kgwc004cgs@agora.ulaval.ca -->
<!--X-Reference: 1195297554.12091.23.camel@localhost -->
<!--X-Reference: 4742C446.2030509@ulaval.ca -->
<!--X-Reference: 4761A39B.3050900@ulaval.ca -->
<!--X-Reference: 7f080ed10712131504xb879212y9fd03fa74212a4f5@mail.gmail.com -->
<!--X-Reference: 4762A0C3.3070307@ulaval.ca -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Integration of the consistency_tests branch (and becoming a relax	committer). -- December 14, 2007 - 20:57</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Integration of the consistency_tests branch (and becoming a relax	committer).</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00007" class="tabs">Index by Date</a> | <a href="threads.html#00007" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00006.html">Date Prev</a>] [<a href="msg00008.html">Date Next</a>] [<a href="msg00006.html">Thread Prev</a>] [<a href="msg00008.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Sebastien Morin &lt;sebastien.morin.1@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Fri, 14 Dec 2007 14:57:09 -0500</li>
<li class="menuitem">
<em>Cc</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00007.html">4762E015.3030000@ulaval.ca</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;20071114183215.lesgk0kgwc004cgs@xxxxxxxxxxxxxxx&gt;		&lt;1195297554.12091.23.camel@localhost&gt;	&lt;4742C446.2030509@xxxxxxxxx&gt;		&lt;4761A39B.3050900@xxxxxxxxx&gt;	&lt;7f080ed10712131504xb879212y9fd03fa74212a4f5@xxxxxxxxxxxxxx&gt;	&lt;4762A0C3.3070307@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Thunderbird 2.0.0.9 (X11/20071119)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Sebastien Morin</strong> on December 14, 2007 - 20:57:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#ffffff" style="background-color: #ffffff; color: #000000; "><font color="#000000">



Hi again<br>
<br>
I forgot to specify my svn version and system so that my problem with
the 'svn ci -F svnmerge-commit-message.txt' command may be tracked more
easily...<br>
<br>
subversion-1.4.5<br>
<br>
under Gentoo Linux.<br>
<br>
My svnmerge.py script was downloaded this morning from :
<a rel="nofollow" class="moz-txt-link-freetext" href="http://subversion.tigris.org/tools_contrib.html#svnmerge_py">http://subversion.tigris.org/tools_contrib.html#svnmerge_py</a><br>
<br>
Cheers<br>
<br>
<br>
S&eacute;b&nbsp; :)<br>
<br>
<br>
<br>
<br>
<br>
Sebastien Morin wrote:
<blockquote cite="" type="cite">
  
  
  <big><tt>Hi Ed,<br>
  <br>
Ok, this svnmerge.py tool seems great !<br>
  <br>
  <br>
Here's what I tried :<br>
  <br>
1. Move to the consistency-tests branch (line 1.2) directory (on my
laptop).<br>
  <br>
2. svnmerge.py avail<br>
  <br>
3. svnmerge.py merge
-r3343,3347-3349,3353-3354,3356-3358,3362,3368,3373-3374,3525-3527,3530,3534,4142-4143<br>
  <br>
4. svn ci -F svnmerge-commit-message.txt<br>
  <br>
  <br>
And now I'm stopped there...&nbsp; The last command (step 4) outputs the
following error message :<br>
  <br>
  </tt></big><big><tt>=========================</tt></big><br>
  <big><tt>svn: Commit failed (details follow):<br>
svn: Can't create directory
'/var/svn/relax/db/transactions/4196-1.txn': Permission denied<br>
=========================<br>
  <big><br>
  </big></tt><tt>I tried to run the command as root so the permissions
would be fine, but didn't succeed... I also tried creating the
directories and set the permissions so I can write, but didn't get any
good result... Is that commit step to be done on my laptop or should I
modify the command and add some URL..? This error message is strange
since I wouldn't think that committing changes into a checked out
program as a normal user would need to write into system directories
owned by root...<br>
  <br>
I understand that steps 1-2-3 are for integrating the modifications of
the 1.2 main line into my branch. Then, step 4 is to confirm these
changes and modify my branch so it is now the most up-to-date version.
Steps 5 and 6 (see below) are to make these changes to the repository
and delete the old branch.<br>
  <br>
5. svn ci -F ~/LOG_FILE_commit_the_merge
  <a rel="nofollow" moz-do-not-send="true" class="moz-txt-link-abbreviated"
 href="mailto:svn+ssh://semor@xxxxxxxxxxx/svn/relax/1.2">svn+ssh://semor@xxxxxxxxxxx/svn/relax/1.2</a><br>
  <br>
6. svn rm -F ~/LOG_FILE_delete
  <a rel="nofollow" moz-do-not-send="true" class="moz-txt-link-abbreviated"
 href="mailto:svn+ssh://semor@xxxxxxxxxxx/svn/relax/branches/consistency_tests_1.2">svn+ssh://semor@xxxxxxxxxxx/svn/relax/branches/consistency_tests_1.2</a><br>
  <br>
  <br>
What's wrong with the step 4 ?<br>
  <br>
Are steps 5 and 6 right ?<br>
  <br>
Sorry for asking many questions, but I wouldn't like to mess up the
repository...<br>
  <br>
Cheers<br>
  <br>
  <br>
S&eacute;b&nbsp; :)<br>
  <br>
  <br>
  <br>
  <br>
  </tt></big><br>
Edward d'Auvergne wrote:
  <blockquote
 cite=""
 type="cite">
    <pre wrap="">Hi,

Welcome to the relax development team!  Because of the quality of your
contributions, and the quantity of comments in that code, the decision
was easy.  For the issue of merging and keeping branches up to date,
the documentation is a little out of date.  Please look at the
svnmerge script/program which is distributed with SVN.  This makes
life very easy.  I have already initialised svnmerge in your branch
from 1.2.  To see which revisions from the 1.2 are left to be merged,
type:

$ svnmerge avail

or for more details:

$ svnmerge avail -l | less

To merge these changes just type:

$ svnmerge merge -rxxx

replacing the xxx with the numbers (dashes, etc. included) which is
output from 'svnmerge avail'.  To commit these changes, type:

$ svn ci -F svnmerge-commit-message.txt

The file 'svnmerge-commit-message.txt' will be created automatically
by the 'svnmerge merge' command.  This svnmerge approach is useful as
the commands you used applied a number of revisions twice to the
branch whereas this never happens when using svnmerge.

As for the merging back into the 1.2 line and deletion of the branch,
these are correct.  You'll need a commit message for the delete as
well.

Regards,

Edward


On Dec 13, 2007 10:26 PM, Sebastien Morin <a rel="nofollow" moz-do-not-send="true"
 class="moz-txt-link-rfc2396E" href="mailto:sebastien.morin.1@xxxxxxxxx">&lt;sebastien.morin.1@xxxxxxxxx&gt;</a> wrote:
  </pre>
    <blockquote type="cite">
      <pre wrap=""> Hi,

 First of all, thanks for accepting me as a contributor in the relax group !

 I've checked the relax manual for what concerns merging of a branch (here
the consistency tests branch) and tried it on my laptop using the following
command :

 svn merge -r3320:3531 ./relax-1.2--branches-consistency-tests/ ./relax-1.2

 It worked well with changes for the files :

 U    prompt/__init__.py
 U    prompt/value.py
 U    prompt/molmol.py
 U    prompt/interpreter.py
 U    prompt/run.py
 U    prompt/grace.py
 A    prompt/consistency_tests.py
 A    maths_fns/consistency_tests.py
 U    generic_fns/runs.py
 A    sample_scripts/consistency_tests.py
 U    test_suite/test_suite.py
 U    test_suite/__init__.py
 A    test_suite/consistency_tests.py
 U    specific_fns/__init__.py
 A    specific_fns/consistency_tests.py
 U    specific_fns/main.py
 U    specific_fns/specific_setup.py
  C   .

 After this, the test-suite works fine and the consistency tests are now
available.

 Now, I would like to really merge this branch in the main 1.2 line. The
command I would use (from my updated directory of the 1.2 main line) is :

 svn ci -F ~/LOG_FILE <a rel="nofollow" moz-do-not-send="true"
 class="moz-txt-link-abbreviated"
 href="mailto:svn+ssh://semor@xxxxxxxxxxx/svn/relax/1.2">svn+ssh://semor@xxxxxxxxxxx/svn/relax/1.2</a>

 with a log file (LOG_FILE) like :

 ==============
 Merging of the 'consistency-tests' branch in the main 1.2 line.

 The command used was:
 svn merge -r3320:3531
<a rel="nofollow" moz-do-not-send="true" class="moz-txt-link-abbreviated"
 href="mailto:svn+ssh://semor@xxxxxxxxxxx/svn/relax/branches/consistency_tests_1.2">svn+ssh://semor@xxxxxxxxxxx/svn/relax/branches/consistency_tests_1.2</a>

 These topics were first discussed in the thread starting at
 <a rel="nofollow" moz-do-not-send="true" class="moz-txt-link-freetext"
 href="https://mail.gna.org/public/relax-devel/2007-06/msg00008.html">https://mail.gna.org/public/relax-devel/2007-06/msg00008.html</a> (Message-id:
 <a rel="nofollow" moz-do-not-send="true" class="moz-txt-link-rfc2396E"
 href="mailto:4672D803.4060009@xxxxxxxxx">&lt;4672D803.4060009@xxxxxxxxx&gt;</a>).

 These additions will allow a user to check consistency for datasets
recorded at different magnetic
 fields by calculating values for consistency functions J(0), Feta and FR2.

 ==============


 Then, I would delete the branch with :

 svn rm <a rel="nofollow" moz-do-not-send="true" class="moz-txt-link-abbreviated"
 href="mailto:svn+ssh://semor@xxxxxxxxxxx/svn/relax/branches/consistency_tests_1.2">svn+ssh://semor@xxxxxxxxxxx/svn/relax/branches/consistency_tests_1.2</a>


 Is that what I should do, do I miss some steps or am I completely wrong..?

 Thanks !


 S&eacute;bastien  :)






 Sebastien Morin wrote:
 Hi Ed !

 I think the consistency tests code is ready for integration into the main
1.2 line.

 I am now in England (Portsmouth) for 3-4 weeks. I am there both for work
(weekdays) and tourism (weekends). However, my internet access is, at the
moment, quite bad (well, very bad !) and I am not able to do things as in
the lab in Quebec City. Thus, I really appreciate your proposal for me to
apply to become a relax developer with commit access, but I won't be able to
do it until I'm back in Canada at mid-December... Anyway, that'll give me
time to read all the documentation for Subversion and relax development.

 That said, if you want to merge the consistency tests branch before my
return to my home lab, feel free to do so, I think the code is now fine,
even if there will be things to add to facilitate use...

 Have a nice day !
 Cheers


 S&eacute;b  :)




 Edward d'Auvergne wrote:
 On Wed, 2007-11-14 at 18:32 -0500, S&eacute;bastien Morin wrote:


 Hi Ed,

I'm not sure of what exactly you want me to do, but here is a patch for
correcting this bug in the consistency_tests code.


patch_l1.2_r3530_bug_10323_consistency_tests


That gets me to two questions I want to ask you...

1.
When do you plan to integrate the consistency_tests code into the main
stream ?
I think it's quite ready now for the 1.2 branch. Maybe some errors could be
found, but more likely by new users... Also, for the things I would like to
add
(like 'multiple fields at once' or 'automatic report including graphs and
scores') it will be better in the 1.3 branch.


If you think this code is ready (to me it looks fine to integrate now),
then we can merge the branch now. The way to do this would be to first
use svnmerge to apply all of the changes which have occurred in the 1.2
line to the branch. Svnmerge needs to be initialised on your branch,
and then all revisions merged. Once the branch and the 1.2 line are in
sync, then the branch can be merged back into the 1.2 line. This
svnmerge program makes things much simpler than that described in the
development chapter of the relax manual. Oh, before the merger I would
like to release relax 1.2.12 with the fixes to bugs #10320 and #10323
(<a rel="nofollow" moz-do-not-send="true" class="moz-txt-link-freetext"
 href="https://web.archive.org/web/https://gna.org/bugs/?10320">https://gna.org/bugs/?10320</a> and <a rel="nofollow"
 moz-do-not-send="true" class="moz-txt-link-freetext"
 href="https://web.archive.org/web/https://gna.org/bugs/?10323">https://gna.org/bugs/?10323</a>).

If you like, I would suggest for you to apply to become a relax
developer with commit access to the SVN repositories. This will allow
you to commit your changes yourself and to have full access to modify
relax, the web pages, the bug tracker, the task tracker, etc. If you
would like to become a committer, I will then put it to vote on the
relax-devel mailing list. Please make sure to read all the relax
development chapter to be familiar with the processes involved. With
this access you'll be able to merge the branch yourself (it's a very
simple task).





 2.
If I would like to work on the 1.3 branch for the consistency_tests code,
would
it be better to first sync the files so they are all up to date (when
compared
with the main stream of the 1.3 line). I have not touched the 1.3
consistency
tests branch since you copied it from the 1.3 line, so now a lot of
differences
exists...

 The svnmerge program is the way to get this branch back into sync. It
really makes life much easier, I use it to back-port bug fixes from the
1.3 line to the 1.2 line. For branches, all of the changes which
occurred to the line the branch originates from must be merged.

Regards,

Edward





 --
Sebastien Morin
Etudiant au PhD en biochimie
Laboratoire de resonance magnetique nucleaire
Dr Stephane Gagne
CREFSIP (Universite Laval, Quebec, CANADA)
1-418-656-2131 #4530


 --
Sebastien Morin
Etudiant au PhD en biochimie
Laboratoire de resonance magnetique nucleaire
Dr Stephane Gagne
CREFSIP (Universite Laval, Quebec, CANADA)
1-418-656-2131 #4530


    </pre>
    </blockquote>
    <pre wrap=""><!---->
  </pre>
  </blockquote>
  <br>
  <pre class="moz-signature" cols="72">-- 
Sebastien Morin
Etudiant au PhD en biochimie
Laboratoire de resonance magnetique nucleaire
Dr Stephane Gagne
CREFSIP (Universite Laval, Quebec, CANADA)
1-418-656-2131 #4530
  </pre>
  <pre wrap="">
<hr size="4" width="90%">
_______________________________________________
relax (<a rel="nofollow" class="moz-txt-link-freetext" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-devel mailing list
<a rel="nofollow" class="moz-txt-link-abbreviated" href="mailto:relax-devel@xxxxxxx">relax-devel@xxxxxxx</a>

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a rel="nofollow" class="moz-txt-link-freetext" href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
  </pre>
</blockquote>
<br>
<pre class="moz-signature" cols="72">-- 
Sebastien Morin
Etudiant au PhD en biochimie
Laboratoire de resonance magnetique nucleaire
Dr Stephane Gagne
CREFSIP (Universite Laval, Quebec, CANADA)
1-418-656-2131 #4530
</pre>


</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00008" href="msg00008.html">Re: Integration of the consistency_tests branch (and becoming a relax	committer).</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00004" href="msg00004.html">Re: Integration of the consistency_tests branch (and becoming a relax	committer).</a></strong>
<ul><li><em>From:</em> Sebastien Morin</li></ul></li>
<li><strong><a name="00005" href="msg00005.html">Re: Integration of the consistency_tests branch (and becoming a relax	committer).</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00006" href="msg00006.html">Re: Integration of the consistency_tests branch (and becoming a relax	committer).</a></strong>
<ul><li><em>From:</em> Sebastien Morin</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Mon Dec 17 14:21:35 2007</div>  
</body>
</html>
