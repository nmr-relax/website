<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Discrepancy for the cluster ID's saved in state an available in	GUI. -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Wed, 23 Oct 2013 19:13:07 +0200 -->
<!--X-Message-Id: CAED9pY&#45;8=KQm=Ra4yWYun0EHbSXMsY8nkGxok3e8RxaS2fMCpw@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CA+CBx2M3C_op33s=X7PWfASN8&#45;vp=_DSPHJ5oGSiS824LpUo9g@mail.gmail.com -->
<!--X-Reference: CAED9pY9VdnNRNkj1Ph3aF2FqKTrQ8cSHz=0urDkU0QU96ErxKw@mail.gmail.com -->
<!--X-Reference: CA+CBx2Ph+Y8HEQh==Z5u=DhjHe3w50R39ggViJxz+WsHzZyEig@mail.gmail.com -->
<!--X-Reference: CAED9pY8cts7vVuDanekxOeg4Xo3brn6KHy8SahteLb1Gev7cgA@mail.gmail.com -->
<!--X-Reference: CA+CBx2NNp7=xmAY0id0a&#45;Sd5Z4Uj&#45;CrqSvbxJAVQjZWsOY&#45;DMw@mail.gmail.com -->
<!--X-Reference: CAED9pY8tGkw3PRPGVODkwNhN8&#45;3oLP4qf9QKwS5XBXQCJAAw+w@mail.gmail.com -->
<!--X-Reference: CA+CBx2Njh9i+&#45;oJPk6vg0JG45&#45;r5Ax1112OFkpGLnUtzgj1NVA@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Discrepancy for the cluster ID's saved in state an available in	GUI. -- October 23, 2013 - 19:13</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Discrepancy for the cluster ID's saved in state an available in	GUI.</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00091" class="tabs">Index by Date</a> | <a href="threads.html#00091" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00090.html">Date Prev</a>] [<a href="msg00092.html">Date Next</a>] [<a href="msg00088.html">Thread Prev</a>] [<a href="msg00094.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Wed, 23 Oct 2013 19:12:36 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:sender:in-reply-to:references:date:message-id:subject	:from:to:cc:content-type:content-transfer-encoding;	bh=uI7T7kdE8KrmnBK548r7XKK7f5esFpQ7DggjMjqBzNc=;	b=X4AF495ssZDsko3evSJ4l6K6HSPKyLbVpLIK3mL8zexlG+p1rk8jqTdEFafMIDUpUA	qlx19HXL+nd3QxI3LY007OM/tj1ljBux07KN3m0nYSiRlQeRMOnqZOd/AHndMhmmYOks	Hoo0NA4KPH8p5OA/mDzc14LghIUD+DyqcG3Pwhx2arYlKMk4T4dZxscchODr7xO9ofs5	2Q5kvuWABxBaHPETP9jbejzECHoD+DFuGLST3MH2j19iggmmsCVrzTbF5ieE688GQJ9v	sAgRgjPVrcIQhFTgzsMvKgMbnep8FguS1RwxJ9GIBHILMo4dki6dbIMs5e4l734QIx0y	KBjA==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00091.html">CAED9pY-8=KQm=Ra4yWYun0EHbSXMsY8nkGxok3e8RxaS2fMCpw@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;CA+CBx2M3C_op33s=X7PWfASN8-vp=_DSPHJ5oGSiS824LpUo9g@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY9VdnNRNkj1Ph3aF2FqKTrQ8cSHz=0urDkU0QU96ErxKw@xxxxxxxxxxxxxx&gt;	&lt;CA+CBx2Ph+Y8HEQh==Z5u=DhjHe3w50R39ggViJxz+WsHzZyEig@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY8cts7vVuDanekxOeg4Xo3brn6KHy8SahteLb1Gev7cgA@xxxxxxxxxxxxxx&gt;	&lt;CA+CBx2NNp7=xmAY0id0a-Sd5Z4Uj-CrqSvbxJAVQjZWsOY-DMw@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY8tGkw3PRPGVODkwNhN8-3oLP4qf9QKwS5XBXQCJAAw+w@xxxxxxxxxxxxxx&gt;	&lt;CA+CBx2Njh9i+-oJPk6vg0JG45-r5Ax1112OFkpGLnUtzgj1NVA@xxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on October 23, 2013 - 19:13:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Ok, I'm pretty sure there is a problem on your side.  I tested this on
Windows Vista, Windows 7, Mac OS X 10.7, and two different Linux
systems.  On one Linux system I tested it with Python 2.5, 2.6, and
2.7, using different wxPython 2.8 or 2.9 combinations.  In all cases,
the 'model_cluster' entry was present in the drop-down menu.  So I
selected that and the spin &quot;:4@N&quot; in the second element and clicked on
ok.  Then in the prompt GUI window, I saw:

relax&gt; cdp.clustering
{'free spins': [':5@N', ':6@N'], 'model_cluster': [':2@N', ':3@N', ':4@N']}
relax&gt;

I could see this on all systems.  Before the commit:

------------------------------------------------------------------------
r21219 | bugman | 2013-10-23 16:08:26 +0200 (Wed, 23 Oct 2013) | 7 lines
Changed paths:
   M /branches/relax_disp/specific_analyses/relax_disp/api.py

Fix for the relaxation dispersion specific private _cluster_ids() method.

This was identified at
<a  rel="nofollow" href="http://thread.gmane.org/gmane.science.nmr.relax.devel/4716">http://thread.gmane.org/gmane.science.nmr.relax.devel/4716</a>.

The cluster data structure was not being referenced correctly.
------------------------------------------------------------------------

I could also not see 'model_cluster' in the drop-down menu, only 'free
spins', but after the change on all systems I can see both.  So I
really cannot for the life of me work out why you cannot see
'model_cluster' in the drop-down menu :S

Regards,

Edward


On 23 October 2013 18:23, Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">I am on redhat linux.

uname -a
Linux haddock 2.6.32-358.18.1.el6.x86_64 #1 SMP Fri Aug 2 17:04:38 EDT 2013
x86_64 x86_64 x86_64 GNU/Linux

in relax:
import wx
wx.__version__
'2.8.12.0'

------------
Hardware information:
    Machine:                 x86_64
    Processor:               x86_64
    Endianness:              little
    Total RAM size:          24013 Mb
    Total swap size:         26191 Mb

Operating system information:
    System:                  Linux
    Release:                 2.6.32-358.18.1.el6.x86_64
    Version:                 #1 SMP Fri Aug 2 17:04:38 EDT 2013
    GNU/Linux version:       Red Hat Enterprise Linux Server 6.4 Santiago
    Distribution:            redhat 6.4 Santiago
    Full platform string:
Linux-2.6.32-358.18.1.el6.x86_64-x86_64-with-redhat-6.4-Santiago

Python information:
    Architecture:            64bit ELF
    Python version:          2.6.6
    Python branch:           tags/r266
    Python build:            r266:84292, May 27 2013 05:35:12
    Python compiler:         GCC 4.4.7 20120313 (Red Hat 4.4.7-3)
    Libc version:            glibc 2.2.5
    Python implementation:   CPython
    Python revision:         84292
    Python executable:       /usr/bin/python
    Python flags:            sys.flags(debug=0, py3k_warning=0,
division_warning=0, division_new=0, inspect=0, interactive=0, optimize=0,
dont_write_bytecode=0, no_user_site=0, no_site=0, ignore_environment=0,
tabcheck=0, verbose=0, unicode=0, bytes_warning=0, hash_randomization=0)
    Python float info:       sys.floatinfo(max=1.7976931348623157e+308,
max_exp=1024, max_10_exp=308, min=2.2250738585072014e-308, min_exp=-1021,
min_10_exp=-307, dig=15, mant_dig=53, epsilon=2.2204460492503131e-16,
radix=2, rounds=1)
    Python module path:      ['/sbinlab2/software/NMR-relax/relax_disp',
'/sbinlab2/software/CCP4-Linux_6.3.0/ccp4-6.3.0/share/python',
'/net/tomat/home/tlinnet/kte/t1rho_NCBD/Original_data/relax',
'/sbinlab2/software/x64/haddock2.1',
'/sbinlab2/software/x64/lib64/python2.6/site-packages',
'/sbinlab2/software/x64/ccpnmr/ccpnmr2.3/python', '/usr/lib64/python26.zip',
'/usr/lib64/python2.6', '/usr/lib64/python2.6/plat-linux2',
'/usr/lib64/python2.6/lib-tk', '/usr/lib64/python2.6/lib-old',
'/usr/lib64/python2.6/lib-dynload', '/usr/lib64/python2.6/site-packages',
'/usr/lib64/python2.6/site-packages/gst-0.10',
'/usr/lib64/python2.6/site-packages/gtk-2.0',
'/usr/lib64/python2.6/site-packages/webkit-1.0',
'/usr/lib64/python2.6/site-packages/wx-2.8-gtk2-unicode',
'/usr/lib/python2.6/site-packages',
'/usr/lib/python2.6/site-packages/setuptools-0.6c11-py2.6.egg-info']

Python packages and modules (most are optional):

Name               Installed    Version                    Path
minfx              True         1.0.5
/usr/lib/python2.6/site-packages/minfx
bmrblib            True         1.0.3
/usr/lib/python2.6/site-packages/bmrblib
numpy              True         1.4.1
/usr/lib64/python2.6/site-packages/numpy
scipy              True         0.7.2
/usr/lib64/python2.6/site-packages/scipy
wxPython           True         2.8.12.0 (gtk2-unicode)
/usr/lib64/python2.6/site-packages/wx-2.8-gtk2-unicode/wx
mpi4py             True         1.3.1
/usr/lib64/python2.6/site-packages/mpi4py
epydoc             False
optparse           True         1.5.3
/usr/lib64/python2.6/optparse.pyc
readline           True
/usr/lib64/python2.6/lib-dynload/readline.so
profile            True
/usr/lib64/python2.6/profile.pyc
bz2                True
/usr/lib64/python2.6/lib-dynload/bz2.so
gzip               True
/usr/lib64/python2.6/gzip.pyc
io                 True
/usr/lib64/python2.6/io.pyc
xml                True         0.8.4 (PyXML)
/usr/lib64/python2.6/site-packages/_xmlplus/__init__.pyc
xml.dom.minidom    True
/usr/lib64/python2.6/site-packages/_xmlplus/dom/minidom.pyc

relax information:
    Version:                 repository checkout
    Processor fabric:        Uni-processor.

relax C modules:

Module                        Compiled    File type
Path
target_functions.relax_fit    True        ELF 64-bit LSB shared object,
x86-64, version 1 (SYSV), dynamically linked, not stripped
/sbinlab2/software/NMR-relax/relax_disp/target_functions/relax_fit.so




2013/10/23 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Hmmm, very strange.  I just repeated your steps and managed to add the
spin &quot;:4&quot; to 'model_cluster'.  I cannot see the problem on my system.
Which OS are you on and which wxPython version are you using?  I might
have to test this on a different OS!

Cheers,

Edward



On 23 October 2013 18:04, Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt;
wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward.

Version is:
21219

If I do this in the prompt:
--------
pipe.create(pipe_name='test', bundle='test', pipe_type='relax_disp')

spin.create(spin_name='N', spin_num=1, res_name='V', res_num=2,
mol_name=None)
spin.create(spin_name='N', spin_num=2, res_name='F', res_num=3,
mol_name=None)
spin.create(spin_name='N', spin_num=3, res_name='G', res_num=4,
mol_name=None)
spin.create(spin_name='N', spin_num=4, res_name='R', res_num=5,
mol_name=None)
spin.create(spin_name='N', spin_num=5, res_name='C', res_num=6,
mol_name=None)

relax_disp.cluster('model_cluster', ':2@N')
relax_disp.cluster('model_cluster', ':3@N')
---------

cdp.clustering
{'free spins': [':4@N', ':5@N', ':6@N'], 'model_cluster': [':2@N',
':3@N']}

Open Data Pipe Editor (Ctrl+d)
Right click the pipe, and click &quot;Associate with new auto-analysis&quot;.

The &quot;free spins, model_cluster&quot; is in the line.

But if I Click &quot;Cluster button&quot;, I cannot assign new spin ids to
'model_cluster'
since that label is not available in the dropdown.


2013/10/23 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

This is strange.  In the relax_disp branch I started the GUI with:

$ relax -g

Then started a new dispersion analysis, opened the prompt window and
typed:

relax&gt; cdp.clustering = {
'free spins': [':5@N', ':9@N', ':11@N', ':12@N', ':13@N', ':14@N',
':25@N', ':31@N', ':33@N', ':39@N', ':42@N', ':80@N', ':87@N',
':89@N', ':90@N', ':111@N', ':121@N'],
'model_cluster': [':2@N', ':3@N', ':4@N', ':6@N', ':7@N', ':8@N',
':10@N', ':15@N', ':16@N', ':17@N', ':18@N', ':19@N', ':20@N',
':21@N', ':22@N', ':23@N', ':26@N', ':27@N', ':28@N', ':29@N',
':30@N', ':32@N', ':34@N', ':35@N', ':36@N', ':37@N', ':38@N',
':40@N', ':41@N', ':43@N', ':44@N', ':45@N', ':46@N', ':48@N',
':49@N', ':50@N', ':51@N', ':52@N', ':54@N', ':55@N', ':56@N',
':57@N', ':58@N', ':59@N', ':60@N', ':61@N', ':62@N', ':63@N',
':64@N', ':65@N', ':66@N', ':67@N', ':68@N', ':72@N', ':73@N',
':74@N', ':75@N', ':76@N', ':77@N', ':78@N', ':81@N', ':82@N',
':83@N', ':84@N', ':85@N', ':91@N', ':92@N', ':93@N', ':94@N',
':95@N', ':96@N', ':97@N', ':98@N', ':99@N', ':100@N', ':101@N',
':104@N', ':105@N', ':106@N', ':107@N', ':109@N', ':110@N', ':112@N',
':113@N', ':114@N', ':115@N', ':116@N', ':118@N', ':120@N', ':122@N',
':123@N', ':124@N', ':125@N', ':127@N', ':129@N']
}

Then when I click on the 'Cluster' button in the GUI, I can select
both the 'free spins' and 'model_cluster'.  Maybe I was a bit fast
with the email.  Could you update your code again, check that you have
r21219, and then see if the problem is still there?

Cheers,

Edward





On 23 October 2013 17:24, Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt;
wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward.

I still see the same behavior.

Best
Troels


2013/10/23 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Hi Troels,

This does look like it is an issue.  I think I have located the
problem to the _cluster_ids() method in
specific_analyses/relax_disp/api.py.  At least I fixed a bug in that
method.  Could you check again to see if it is fixed?

Cheers,

Edward



On 22 October 2013 19:34, Troels Emtekær Linnet
&lt;tlinnet@xxxxxxxxxxxxx&gt;
wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward.

Before I do a clustering analysis, I often prepare the data in
scripts,
save
the state, and then
inspect the setup in the GUI.

I open the relax saved state.
Open the Data Pipe Editor (Ctrl+d)
Right click the pipe, and click &quot;Associate with new
auto-analysis&quot;.

If I open the prompt (Ctrl+p), and write
cdp.clustering

I get
{
'free spins': [':5@N', ':9@N', ':11@N', ':12@N', ':13@N', ':14@N',
':25@N',
':31@N', ':33@N', ':39@N', ':42@N', ':80@N', ':87@N', ':89@N',
':90@N',
':111@N', ':121@N'],
'model_cluster': [':2@N', ':3@N', ':4@N', ':6@N', ':7@N', ':8@N',
':10@N',
':15@N', ':16@N', ':17@N', ':18@N', ':19@N', ':20@N', ':21@N',
':22@N',
':23@N', ':26@N', ':27@N', ':28@N', ':29@N', ':30@N', ':32@N',
':34@N',
':35@N', ':36@N', ':37@N', ':38@N', ':40@N', ':41@N', ':43@N',
':44@N',
':45@N', ':46@N', ':48@N', ':49@N', ':50@N', ':51@N', ':52@N',
':54@N',
':55@N', ':56@N', ':57@N', ':58@N', ':59@N', ':60@N', ':61@N',
':62@N',
':63@N', ':64@N', ':65@N', ':66@N', ':67@N', ':68@N', ':72@N',
':73@N',
':74@N', ':75@N', ':76@N', ':77@N', ':78@N', ':81@N', ':82@N',
':83@N',
':84@N', ':85@N', ':91@N', ':92@N', ':93@N', ':94@N', ':95@N',
':96@N',
':97@N', ':98@N', ':99@N', ':100@N', ':101@N', ':104@N', ':105@N',
':106@N',
':107@N', ':109@N', ':110@N', ':112@N', ':113@N', ':114@N',
':115@N',
':116@N', ':118@N', ':120@N', ':122@N', ':123@N', ':124@N',
':125@N',
':127@N', ':129@N']
}

But if I click the &quot;Cluster&quot; button, The cluster ID
&quot;model_cluster'&quot;,
is
not
available from the drop-down list.

Should this be fixed?

Best
Troels

_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>

</pre></blockquote></blockquote><pre style="margin: 0em;">


</pre></blockquote></blockquote><pre style="margin: 0em;">


</pre></blockquote></blockquote><pre style="margin: 0em;">


</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00094" href="msg00094.html">Re: Discrepancy for the cluster ID's saved in state an available in	GUI.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00077" href="msg00077.html">Discrepancy for the cluster ID's saved in state an available in GUI.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00083" href="msg00083.html">Re: Discrepancy for the cluster ID's saved in state an available in	GUI.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00084" href="msg00084.html">Re: Discrepancy for the cluster ID's saved in state an available in	GUI.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00085" href="msg00085.html">Re: Discrepancy for the cluster ID's saved in state an available in	GUI.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00086" href="msg00086.html">Re: Discrepancy for the cluster ID's saved in state an available in	GUI.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00087" href="msg00087.html">Re: Discrepancy for the cluster ID's saved in state an available in	GUI.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00088" href="msg00088.html">Re: Discrepancy for the cluster ID's saved in state an available in	GUI.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Oct 24 23:20:13 2013</div>  
</body>
</html>
