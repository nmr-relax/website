<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Missing Rex data from the bmr6838.str data file? -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 01 Feb 2011 19:23:55 +0100 -->
<!--X-Message-Id: AANLkTi=fEYaka8HC_1G4+NoS7SvbVRPGD9Nrd6W3Sbr9@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: AANLkTik_MBiFXzM2kuL&#45;Dhgci&#45;4CFB8FPtSV6D147RXs@mail.gmail.com -->
<!--X-Reference: 4D4841D0.1040602@bmrb.wisc.edu -->
<!--X-Reference: 4D484485.5090806@ulaval.ca -->
<!--X-Reference: 4D4845A5.2090505@bmrb.wisc.edu -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Missing Rex data from the bmr6838.str data file? -- February 01, 2011 - 19:23</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Missing Rex data from the bmr6838.str data file?</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00008" class="tabs">Index by Date</a> | <a href="threads.html#00008" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00007.html">Date Prev</a>] [<a href="msg00009.html">Date Next</a>] [<a href="msg00007.html">Thread Prev</a>] [<a href="msg00009.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Eldon Ulrich &lt;elu@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 1 Feb 2011 19:23:22 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;,	Sébastien M &lt;sebastien@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;	h=domainkey-signature:mime-version:sender:in-reply-to:references:date	:x-google-sender-auth:message-id:subject:from:to:cc:content-type	:content-transfer-encoding;	bh=eTqeDfDppyXWCt6lbOZoPX0woxBFnVh4QCQfKjthFfc=;	b=URVyovzloeD/QKLofzxHWxFjzc+fjeiQ5QscVHGm6TDDzdUfdLfCszxIOtIsRFbjsu	iSl3No6drIchJ0DrQdYNAu/9cx9csYaJWIQH7RvmA8ar0diIGR4C5W9Oos8HKUoXP/zf	Hea+ylZB08Z2Kb9JZFSYJQ1Pey/x+Ydr9049g=</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00008.html">AANLkTi=fEYaka8HC_1G4+NoS7SvbVRPGD9Nrd6W3Sbr9@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;AANLkTik_MBiFXzM2kuL-Dhgci-4CFB8FPtSV6D147RXs@xxxxxxxxxxxxxx&gt;	&lt;4D4841D0.1040602@xxxxxxxxxxxxx&gt; &lt;4D484485.5090806@xxxxxxxxx&gt;	&lt;4D4845A5.2090505@xxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on February 01, 2011 - 19:23:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

There are a number of problems - my automatic parsing is pulling out a
lot of mess :S  Unfortunately every second file appears to be
triggering a failure (maybe half of these are bugs in bmrblib
(<a  rel="nofollow" href="http://gna.org/projects/bmrblib/">http://gna.org/projects/bmrblib/</a>)).  For example the file
bmr15097.str in the v3.1 format is so corrupted pystarlib cannot even
handle it:

-----------------------------------
bmr3.1_files/bmr15097.str

relax&gt; pipe.create(pipe_name='bmr15097.str', pipe_type='mf')

relax&gt; bmrb.read(file='bmr3.1_files/bmr15097.str', dir=None, version='3.1')
ERROR in semicolon_block_collapse for text starting at: [; 15097 1

   stop_

   loop_
      _Task.Task
      _Task.Entry_ID
      _Task.Software_ID

      ]
Traceback (most recent call last):
  File &quot;/media/disk/relax/branches/bmrb/relax&quot;, line 381, in &lt;module&gt;
    Relax()
  File &quot;/media/disk/relax/branches/bmrb/relax&quot;, line 117, in __init__
    self.interpreter.run(self.script_file)
  File &quot;/media/disk/relax/branches/bmrb/prompt/interpreter.py&quot;, line 294, in 
run
    return run_script(intro=self.__intro_string, local=locals(),
script_file=script_file, quit=self.__quit_flag,
show_script=self.__show_script,
raise_relax_error=self.__raise_relax_error)
  File &quot;/media/disk/relax/branches/bmrb/prompt/interpreter.py&quot;, line
597, in run_script
    return console.interact(intro, local, script_file, quit,
show_script=show_script, raise_relax_error=raise_relax_error)
  File &quot;/media/disk/relax/branches/bmrb/prompt/interpreter.py&quot;, line
483, in interact_script
    exec_script(script_file, local)
  File &quot;/media/disk/relax/branches/bmrb/prompt/interpreter.py&quot;, line
376, in exec_script
    runpy.run_module(module, globals)
  File &quot;/usr/lib64/python2.6/runpy.py&quot;, line 140, in run_module
    fname, loader, pkg_name)
  File &quot;/usr/lib64/python2.6/runpy.py&quot;, line 34, in _run_code
    exec code in run_globals
  File &quot;/data/edau/bmrb/data_mining/read.py&quot;, line 44, in &lt;module&gt;
    bmrb.read(path, version=version)
  File &quot;/media/disk/relax/branches/bmrb/prompt/bmrb.py&quot;, line 209, in read
    bmrb.read(file=file, directory=dir, version=version)
  File &quot;/media/disk/relax/branches/bmrb/generic_fns/bmrb.py&quot;, line 144, in 
read
    read_function(file_path, version=version)
  File &quot;/media/disk/relax/branches/bmrb/specific_fns/model_free/bmrb.py&quot;,
line 295, in bmrb_read
    star.read()
  File &quot;/media/disk/relax/branches/bmrb/bmrblib/nmr_star_dict.py&quot;,
line 98, in read
    self.data.read()
  File &quot;/media/disk/relax/branches/bmrb/bmrblib/pystarlib/File.py&quot;,
line 89, in read
    if self.parse(text=text, nmrView_type = nmrView_type):
  File &quot;/media/disk/relax/branches/bmrb/bmrblib/pystarlib/File.py&quot;,
line 117, in parse
    text = semicolon_block_collapse(text)
  File &quot;/media/disk/relax/branches/bmrb/bmrblib/pystarlib/Text.py&quot;,
line 361, in semicolon_block_collapse
    endpos = startpos + 1 + semicolon_end.end() -
len(semicolon_end.group(1)) + 1
AttributeError: 'NoneType' object has no attribute 'end'

-----------------------------------

This one is difficult to work out, it might require a check by hand.
Most of the others were incorrect residue numbering, weird residues
appearing out of nowhere, or the tags were in the wrong order, etc.
As I said, I will post a diff of these files to the originals once I
can handle them all.  I have been modifying the files to fix them as I
go.

Regards,

Edward



On 1 February 2011 18:40, Eldon Ulrich &lt;elu@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

I have found the data so there is no need to resend. We will look at how
best to get it into the entry.

Thanks,
Eldon

On 2/1/11 11:36 AM, Sébastien Morin wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Hi guys,

I am currently looking up in my archives and I can't figure out what
happened...

I remember sending a lot of data to Hongyang Yao (hongyang at bmrb dot
wisc dot edu). I think these data were to be incorporated manually into
the entry since there was a change of version at the time which impeded
me to include the new data through the website.

The data included R1, R2, NOE (at 500, 600, and 800 MHz), order
parameters (S2), local correlation times (tau), amide exchange rates and
protection factors. These were all included in the entry.

The data also included Rex values and errors (scaled for 600 MHz), as
well as reduced spectral density values (J0, JwN, JwH at 500, 600 and
800 MHz). These seem all to be absent from the entry... Why I did not
notice at the time, I don't know... I was sure everything was in
place... but that's a long time ago...

If you need, Eldon, I could resend the files which contained the data
and were sent to Hongyang Yao...

Thanks a lot for help solving this issue, both for relax and for the
completeness of this BMRB entry...

Cheers,


Séb :)


On 11-02-01 6:24 PM, Eldon Ulrich wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Hi,

The Rex data was deposited, but did not get incorporated into the entry.
I am looking into this. I do not believe we had a separate save frame
for Rex data and this may be why it is not in the entry. I will be very
interested in the results of your parsing.

Eldon

On 2/1/11 10:29 AM, Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Hi Seb,

I was just wondering if you had noticed that your 6838 BMRB deposition
was missing the Rex values and errors from the model-free saveframe?
Is it supposed to be like this? I'm not parsing the whole of the BMRB
model-free depositions from the BMRB-relax integration paper and
finding a lot of peculiarities/breakages. Eldon, I'll post some diffs
and explanations later, once I can parse it all.

Cheers,

Edward
</pre></blockquote></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00011" href="msg00011.html">Re: Missing Rex data from the bmr6838.str data file?</a></strong>
<ul><li><em>From:</em> Eldon Ulrich</li></ul></li>
<li><strong><a name="00009" href="msg00009.html">Re: Missing Rex data from the bmr6838.str data file?</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00004" href="msg00004.html">Missing Rex data from the bmr6838.str data file?</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00005" href="msg00005.html">Re: Missing Rex data from the bmr6838.str data file?</a></strong>
<ul><li><em>From:</em> Eldon Ulrich</li></ul></li>
<li><strong><a name="00006" href="msg00006.html">Re: Missing Rex data from the bmr6838.str data file?</a></strong>
<ul><li><em>From:</em> Sébastien Morin</li></ul></li>
<li><strong><a name="00007" href="msg00007.html">Re: Missing Rex data from the bmr6838.str data file?</a></strong>
<ul><li><em>From:</em> Eldon Ulrich</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Feb 01 21:00:09 2011</div>  
</body>
</html>
