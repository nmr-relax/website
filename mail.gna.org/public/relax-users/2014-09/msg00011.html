<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: Relaxation dispersion clustering calculation time -->
<!--X-From-R13: Febryf Szgrxæe Zvaarg &#60;gyvaargNaze&#45;erynk.pbz> -->
<!--X-Date: Wed, 10 Sep 2014 17:41:02 +0200 -->
<!--X-Message-Id: CA+CBx2Mhe8mJU23_N=My58=yaRytRivZyxDzphhRo_Ao5hrShA@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1410211972.2015.YahooMailNeo@web120004.mail.ne1.yahoo.com -->
<!--X-Reference: 1FB1296D&#45;09F0&#45;4AEB&#45;81A7&#45;909E56E6ED11@ibms.sinica.edu.tw -->
<!--X-Reference: CAED9pY9J_HmN+rMyPkfGZYXZNTN=5HZ&#45;Y2dguZyELkEGJXSobw@mail.gmail.com -->
<!--X-Reference: CA+CBx2PuE=P5EaL9rqYpgr9RuztabsB=7HQFAK=AD4yVZCJeAw@mail.gmail.com -->
<!--X-Reference: 1A526BD7&#45;677F&#45;4598&#45;9729&#45;0A18F690D105@ibms.sinica.edu.tw -->
<!--X-Reference: CAED9pY_BZD4viWvt_v6mpy3kSEkALHX94zzn+ASq_tE1+6q+wg@mail.gmail.com -->
<!--X-Reference: 443E53B1&#45;5E24&#45;4129&#45;A237&#45;74154AED4B98@ibms.sinica.edu.tw -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Relaxation dispersion clustering calculation time -- September 10, 2014 - 17:41</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Relaxation dispersion clustering calculation time</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00011" class="tabs">Index by Date</a> | <a href="threads.html#00011" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00010.html">Date Prev</a>] [<a href="msg00012.html">Date Next</a>] [<a href="msg00015.html">Thread Prev</a>] [<a href="msg00005.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Chung-ke Chang &lt;chungke@xxxxxxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Wed, 10 Sep 2014 17:40:11 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:from:date:message-id :subject:to:cc:content-type:content-transfer-encoding; bh=N7IB7rkxuy0OnUR3k/pAfxgaitD/wTxXvf7qEsUsQBA=; b=N/uUspd8ODfV12rnHXg2Ncb1dwrWz6zHdD/0zvDSwvW4P20kLCuL04V0pDsXxKgSjI atAKw14ZSK2/YqvarB7ui5j7MIjbf+/IKArG4LeTJ1f+X8O8Jpe2gmqzc06p4JAvc/H0 yT1uN12kmDAOmLwjOs+Be6Ppqwm9GTkAPabZVvI5Ken4PhAWatYN/AWN7RA3w/qL7ZJh kOmmxsuzMiKGCzXzsE+r54hciO+i1w1Z7t28pNf3OH9DmsYiEaodI9JKID8oERH57js3 XHDgAsO7RoFkHrz+Hiw4mxbvnlMRoPVVvNvCKugPHZbyVBJxHIvcoQWVOJBMMszCPaS4 xrew==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;CA+CBx2Mhe8mJU23_N=My58=yaRytRivZyxDzphhRo_Ao5hrShA@mail.gmail.com&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00000.html">1410211972.2015.YahooMailNeo@web120004.mail.ne1.yahoo.com</a>&gt; &lt;<a href="msg00001.html">1FB1296D-09F0-4AEB-81A7-909E56E6ED11@ibms.sinica.edu.tw</a>&gt; &lt;CAED9pY9J_HmN+rMyPkfGZYXZNTN=5HZ-Y2dguZyELkEGJXSobw@mail.gmail.com&gt; &lt;CA+CBx2PuE=P5EaL9rqYpgr9RuztabsB=7HQFAK=AD4yVZCJeAw@mail.gmail.com&gt; &lt;<a href="msg00004.html">1A526BD7-677F-4598-9729-0A18F690D105@ibms.sinica.edu.tw</a>&gt; &lt;<a href="msg00007.html">CAED9pY_BZD4viWvt_v6mpy3kSEkALHX94zzn+ASq_tE1+6q+wg@mail.gmail.com</a>&gt; &lt;<a href="msg00008.html">443E53B1-5E24-4129-A237-74154AED4B98@ibms.sinica.edu.tw</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Troels Emtekær Linnet</strong> on September 10, 2014 - 17:41:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Dear Chung-ke.

I maybe have a solution for your python problems.

I ran into the same problem, that our Linux server with software was a
little outdated.
Red-Hat version 5.

That gave library of python version 2.5, and so on.

I was not readily able to convince our system administrator to upgrade 
anything.

But I found a solution.

If you have displace for about a 300-500 MB, you can have your own
python installation.

I made a little tutorial for this
<a  rel="nofollow" href="http://wiki.nmr-relax.com/Epd_canopy">http://wiki.nmr-relax.com/Epd_canopy</a>

If you figured this out, it should be easy to follow this.
<a  rel="nofollow" href="http://wiki.nmr-relax.com/Installation_linux">http://wiki.nmr-relax.com/Installation_linux</a>

Best
Troels


2014-09-10 15:27 GMT+02:00 Chung-ke Chang &lt;chungke@xxxxxxxxxxxxxxxxxx&gt;:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Dear Edward and Troels,

Thank you all for the help! We are currently testing the new version of 
relax (yes, we are using the “normal” release), and making sure it plays 
along nicely with other software - we have a plethora of different python 
versions, which the system manager is doing his best to avoid interfering 
with each other. I am curious about one thing though: If the ‘CR72 full’ 
model has not been used in any published studies, then is there any reason 
to include it when trying to fit “real-world” data? It seems that Troels is 
implying that “real-world” data is too noisy to obtain meaningful fitting 
parameters from the model. Or am I misunderstanding something?

Cheers,

Chung-ke

On Sep 9, 2014, at 8:56 PM, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Chung-ke,

The only way to find out about new relax releases is the
relax-announce mailing list
(<a  rel="nofollow" href="http://news.gmane.org/gmane.science.nmr.relax.announce">http://news.gmane.org/gmane.science.nmr.relax.announce</a>).  Some relax
users were signed up for the freecode announcements
(<a  rel="nofollow" href="http://freecode.com/projects/nmr-relax">http://freecode.com/projects/nmr-relax</a>), but freecode has
unfortunately shut down (<a  rel="nofollow" href="http://freecode.com/about">http://freecode.com/about</a>).

For the version you are currently using, note that this is the
repository version of relax installed by the superuser.  You should
make sure you use the normal releases, as the repository version can
sometimes be in a broken or buggy state as development occurs.  You
can also have a copy in your home directory by typing:

$ svn co <a  rel="nofollow" href="http://svn.gna.org/svn/relax/trunk">http://svn.gna.org/svn/relax/trunk</a> ./relax-trunk
$ cd relax-trunk
$ scons

If you already have a repository version on your system, these
commands should just work.  But you should only use the repository
version if you would like a bug fix and cannot wait until the next
relax release.

Regards,

Edward



On 9 September 2014 10:37, Chung-ke Chang &lt;chungke@xxxxxxxxxxxxxxxxxx&gt; 
wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Dear Troels and Edward,

Thank you for the pointers. I was not aware that a new version was out 
last
week, so I’ve asked the IT people to install it on our cluster. Below is 
the
output from ‘relax -i’:

[chungke@nmrc10 onc_dAUGA_MES_310K]$ relax -i



                                 relax repository checkout r24533
                                svn://svn.gna.org/svn/relax/trunk

                             Molecular dynamics by NMR data analysis

                            Copyright (C) 2001-2006 Edward d'Auvergne
                        Copyright (C) 2006-2014 the relax development team

This is free software which you are welcome to modify and redistribute 
under
the conditions of the
GNU General Public License (GPL).  This program, including all modules, is
licensed under the GPL
and comes with absolutely no warranty.  For details type 'GPL' within the
relax prompt.

Assistance in using the relax prompt and scripting interface can be 
accessed
by typing 'help' within
the prompt.

Processor fabric:  Uni-processor.


Hardware information:
   Machine:                 x86_64
   Processor:               x86_64
   Processor name:          Intel(R) Xeon(R) CPU           E5430  @ 
2.66GHz
   Endianness:              little
   Total RAM size:          7983 Mb
   Total swap size:         8189 Mb

Operating system information:
   System:                  Linux
   Release:                 2.6.18-164.el5
   Version:                 #1 SMP Thu Sep 3 03:28:30 EDT 2009
   Distribution:            redhat 5.3 Final
   Full platform string:
Linux-2.6.18-164.el5-x86_64-with-redhat-5.3-Final

Python information:
   Architecture:            64bit ELF
   Python version:          2.5.1
   Python build:            r251:54863, Jul 23 2008 17:35:20
   Python compiler:         GCC Intel(R) C++ gcc 4.1 mode
   Libc version:            glibc 2.3
   Python executable:       /program/nmr/bin/python
   Python module path:      ['/program/nmr/relax',
'/program/nmr/lib/python2.5/site-packages/setuptools-0.6c9-py2.5.egg',
'/program/nmr/lib/python25.zip', '/program/nmr/lib/python2.5',
'/program/nmr/lib/python2.5/plat-linux2',
'/program/nmr/lib/python2.5/lib-tk',
'/program/nmr/lib/python2.5/lib-dynload',
'/program/nmr/lib/python2.5/site-packages',
'/program/nmr/lib/python2.5/site-packages/Scientific/linux2']

Python packages and modules (most are optional):

Name               Installed    Version             Path
minfx              True         1.0.8
/program/nmr/lib/python2.5/site-packages/minfx
bmrblib            True         1.0.3
/program/nmr/lib/python2.5/site-packages/bmrblib
numpy              True         1.6.2
/program/nmr/lib/python2.5/site-packages/numpy
scipy              False
wxPython           False
matplotlib         True         0.98.3
/program/nmr/lib/python2.5/site-packages/matplotlib
mpi4py             True         1.3.1
/program/nmr/lib/python2.5/mpi4py
epydoc             False
optparse           True         1.5.3
/program/nmr/lib/python2.5/optparse.pyc
readline           True
/program/nmr/lib/python2.5/lib-dynload/readline.so
profile            True
/program/nmr/lib/python2.5/profile.pyc
bz2                True
/program/nmr/lib/python2.5/lib-dynload/bz2.so
gzip               True
/program/nmr/lib/python2.5/gzip.pyc
io                 False
xml                True         0.8.4 (internal)
/program/nmr/lib/python2.5/xml/__init__.pyc
xml.dom.minidom    True
/program/nmr/lib/python2.5/xml/dom/minidom.pyc

relax information:
   Version:                 repository checkout r24533
svn://svn.gna.org/svn/relax/trunk
   Processor fabric:        Uni-processor.

relax C modules:

Module                        Compiled    File type
Path
target_functions.relax_fit    True        ELF 64-bit LSB shared object, 
AMD
x86-64, version 1 (SYSV), not stripped
/program/nmr/relax/target_functions/relax_fit.so

As for the data itself, I am using data obtained on two fields and use 
both
from the start.

Upon closer look at the R20 parameters, I think both of you are right: the
R20a and R20b numbers are really funky. I shall follow your suggestions 
and
run the calculations with the CR72 and B14 models instead.

Cheers,

Chung-ke

On Sep 9, 2014, at 4:25 PM, Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt;
wrote:

Hi Chung-ke.

Can you put the information about which version of relax you use?

You can in terminal do:
relax -i

and write it here.

And then there is the question if you used data from one field or two
spectrometer fields.

Fitting to one field, can give problems.
This is described here:

&quot;&quot;&quot;Faithful estimation of dynamics parameters from CPMG relaxation
dispersion measurements.&quot;&quot;&quot;
Kovrigin, Evgenii L; Kempf, James G; Grey, Michael J; Loria, J Patrick
Journal of magnetic resonance, 2006, Vol 180, p 93-104.
<a  rel="nofollow" href="http://www.ncbi.nlm.nih.gov/pubmed/16458551">http://www.ncbi.nlm.nih.gov/pubmed/16458551</a>
DOI: 10.1016/j.jmr.2006.01.010

Figure 9 and 10 shows these &quot;rotten bananas&quot;.

Clustering data, in some way overcome this problem.
Since you now starts to add more data, compared to number of fitting
parameters.

The problem though, is that if you start from &quot;single fitted&quot; data,
and go to &quot;Clustering of data&quot;, that
an average of the global parameter will be taken for the single fitted 
data.

In previous version of relax (a version or two ago), we changed from
taking the average to take the median of the parameters.
This was to prevent taking the average of an outliers, if one of the
single fitted spins have been fitted &quot;crazy&quot;.
You don't want to start with a global kex at 10000.

I have discussed the CR72 Full model with my supervisor.
He have actually never seen it in use in any paper.
Always the assumption R20A=R20B is used.

If you only have one field, I would not even try this model.
If you still would like to try it, please consider using the B14 full
model as well, to compare.
<a  rel="nofollow" href="http://wiki.nmr-relax.com/B14_full">http://wiki.nmr-relax.com/B14_full</a>

Abstract: &quot;Faithful estimation of dynamics parameters from CPMG
relaxation dispersion measurements.&quot;
This work examines the robustness of fitting of parameters describing
conformational exchange (k(ex), p(a/b), and Deltaomega) processes from
CPMG relaxation dispersion data. We have analyzed the equations
describing conformational exchange processes for the intrinsic
inter-dependence of their parameters that leads to the existence of
multiple equivalent solutions, which equally satisfy the experimental
data. We have used Monte-Carlo simulations and fitting to the
synthetic data sets as well as the direct 3-D mapping of the parameter
space of k(ex), p(a/b), and Deltaomega to quantitatively assess the
degree of the parameter inter-dependence. The demonstrated high
correlation between parameters can preclude accurate dynamics
parameter estimation from NMR spin-relaxation data obtained at a
single static magnetic field. The strong parameter inter-dependence
can readily be overcome through acquisition of spin-relaxation data at
more than one static magnetic field thereby allowing accurate
assessment of conformational exchange properties.


Troels Emtekær Linnet
PhD student
Copenhagen University
SBiNLab, 3-0-41

2014-09-09 9:48 GMT+02:00 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;:

Hi Chung-ke,

Welcome to the relax mailing lists!  Thanks to the hard work of one of
the relax developers - Troels Linnet - this long calculation time
should now be much, much shorter.  Have a look at the following
release announcement:

<a  rel="nofollow" href="http://wiki.nmr-relax.com/Relax_3.3.0">http://wiki.nmr-relax.com/Relax_3.3.0</a>

For the 'CR72 full' model (<a  rel="nofollow" href="http://wiki.nmr-relax.com/CR72_full">http://wiki.nmr-relax.com/CR72_full</a>), the
clustering example here gives a ~22x speed up so your calculation time
would then drop from ~20,000 min to ~1000 min.  If you would like to
receive announcements about new relax versions, please subscribe to
the relax-announce mailing list
(<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-announce/">https://mail.gna.org/listinfo/relax-announce/</a>).  This list only
receives ~10 emails per year.  See
<a  rel="nofollow" href="http://news.gmane.org/gmane.science.nmr.relax.announce">http://news.gmane.org/gmane.science.nmr.relax.announce</a>.

I have a few questions about how you performed the analysis.  Did you
use a non-clustered set of results to seed the clustered analysis?  In
the dispersion auto-analysis protocol exposed via the GUI, the results
from the non-clustered analysis will be taken as the starting point
for optimisation of the clustered analysis, as described in Morin et
al., 2014 (<a  rel="nofollow" href="http://dx.doi.org/10.1093/bioinformatics/btu166">http://dx.doi.org/10.1093/bioinformatics/btu166</a>).  If you
wish, and are capable with scripting, you can also create your own
analysis protocol via a relax script and not use the auto-analysis.
The relax software is very flexible and you can create quite complex
analysis protocols - the auto-analyses are just large relax scripts.

Also, did you look at the results from the non-clustered analysis to
see if the kinetics of all 13 residues are similar?  Or if the
dispersion curves look reasonable?  Some data might be of low quality
and causing difficulties with the optimisation.  You should also note
that most dispersion data is not good enough to differentiate R20A
from R20B.  Do the final results (non-clustered and clustered) look
reasonable for these two parameters?  It could be that differentiating
R20A from R20B in your system is difficult and causing optimisation to
take much longer than normal.  Do you see the same optimisation times
with the clustered CR72 model where R20A=R20B=R20
(<a  rel="nofollow" href="http://wiki.nmr-relax.com/CR72">http://wiki.nmr-relax.com/CR72</a>)?  Also, have a look at the log file
from the analysis and see if the total number of minimisation
iterations is much longer for the 'CR72 full' model compared to the
CR72 model.  This will tell you if the optimisation problem is much
more complicated for the 'full' model.

Regards,

Edward


On 9 September 2014 09:19, Chung-ke Chang &lt;chungke@xxxxxxxxxxxxxxxxxx&gt;
wrote:

Dear all,

This is my first post here, and I have a question regarding the time it
takes for a relaxation dispersion clustering process to finish. I have one
clustering calculation that has been running for ~ 20,000 min on a single
Xeon 2.66 GHz core. The cluster consists of 13 residues being fit to the
‘CR72 full’ model. I wonder if the long time it is taking is normal? Would
it be possible that relax has been stuck in an infinite loop of some sort,
without showing up in the log file? Any input would be greatly 
appreciated.
By the way, using a cluster of only 11 residues out of the 13 did finish 
in
~13,000 min.

Chung-ke Chang
Biomacromolecular NMR Lab
Institute of Biomedical Science
Academia Sinica, Taiwan
_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>


_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>


</pre></blockquote></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00000" href="msg00000.html">Regarding Relax-3.3.0 NMR installation</a></strong>
<ul><li><em>From:</em> Arun Gupta</li></ul></li>
<li><strong><a name="00001" href="msg00001.html">Relaxation dispersion clustering calculation time</a></strong>
<ul><li><em>From:</em> Chung-ke Chang</li></ul></li>
<li><strong><a name="00002" href="msg00002.html">Re: Relaxation dispersion clustering calculation time</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00003" href="msg00003.html">Re: Relaxation dispersion clustering calculation time</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00004" href="msg00004.html">Re: Relaxation dispersion clustering calculation time</a></strong>
<ul><li><em>From:</em> Chung-ke Chang</li></ul></li>
<li><strong><a name="00007" href="msg00007.html">Re: Relaxation dispersion clustering calculation time</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00008" href="msg00008.html">Re: Relaxation dispersion clustering calculation time</a></strong>
<ul><li><em>From:</em> Chung-ke Chang</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Sep 11 17:20:10 2014</div>  
</body>
</html>
