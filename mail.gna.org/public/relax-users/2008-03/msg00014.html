<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Spectral Density Mapping Problem -->
<!--X-From-R13: Eéonfgvra [beva <fronfgvra.zbeva.1Nhyniny.pn> -->
<!--X-Date: Tue, 25 Mar 2008 18:47:23 +0100 -->
<!--X-Message-Id: 47E93A9C.2090301@ulaval.ca -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 1F521166&#45;FE20&#45;4527&#45;B81E&#45;566A4224EC16@gmail.com -->
<!--X-Reference: 47E92B03.3020206@ulaval.ca -->
<!--X-Reference: 40EDA633&#45;E1C0&#45;4E16&#45;B4F6&#45;EDBA78731CCC@gmail.com -->
<!--X-Reference: 47E933D6.6050708@ulaval.ca -->
<!--X-Reference: 843C584A&#45;AD55&#45;49C2&#45;8C50&#45;5BAA1ECFD357@gmail.com -->
<!--X-Reference: 47E93564.5000701@ulaval.ca -->
<!--X-Reference: 7f080ed10803251043g3fa0d1ep4dbf0bacaa121316@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Spectral Density Mapping Problem -- March 25, 2008 - 18:47</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Spectral Density Mapping Problem</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00014" class="tabs">Index by Date</a> | <a href="threads.html#00014" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00013.html">Date Prev</a>] [<a href="msg00017.html">Date Next</a>] [<a href="msg00013.html">Thread Prev</a>] [<a href="msg00015.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 25 Mar 2008 13:47:08 -0400</li>
<li class="menuitem">
<em>Cc</em>: relax-users@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00014.html">47E93A9C.2090301@ulaval.ca</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;1F521166-FE20-4527-B81E-566A4224EC16@xxxxxxxxx&gt;	&lt;47E92B03.3020206@xxxxxxxxx&gt;	&lt;40EDA633-E1C0-4E16-B4F6-EDBA78731CCC@xxxxxxxxx&gt;	&lt;47E933D6.6050708@xxxxxxxxx&gt;	&lt;843C584A-AD55-49C2-8C50-5BAA1ECFD357@xxxxxxxxx&gt;	&lt;47E93564.5000701@xxxxxxxxx&gt;	&lt;7f080ed10803251043g3fa0d1ep4dbf0bacaa121316@xxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Thunderbird 2.0.0.12 (X11/20080228)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Sébastien Morin</strong> on March 25, 2008 - 18:47:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#ffffff" style="background-color: #ffffff; color: #000000; "><font color="#000000">



Hi all !<br>
<br>
I ran the script with relax 1.2.11 and it works also fine for me.<br>
<br>
Did you run the test-suite (relax --test-suite) ? Are there any errors ?<br>
<br>
I would also point the end of lines or the character encoding...<br>
<br>
On your Red Hat system, what happens if you type :<br>
<br>
file Pot1pN_free_seq.txt R1_f_500_5percent.txt R2_f_500_5percent.txt
NOE_f_5percent.txt<br>
<br>
Is the output as follows :<br>
<br>
Pot1pN_free_seq.txt:&nbsp;&nbsp; ASCII text<br>
R1_f_500_5percent.txt: ASCII text<br>
R2_f_500_5percent.txt: ASCII text<br>
NOE_f_5percent.txt:&nbsp;&nbsp;&nbsp; ASCII text<br>
<br>
Good luck !<br>
<br>
<br>
S&eacute;b<br>
<br>
<br>
<br>
<br>
<br>
Edward d'Auvergne wrote:
<blockquote
 cite=""
 type="cite">
  <pre wrap="">Hi,

I've also cut and pasted the numbers into files, and run the script
using various versions of relax (1.2.10, 1.2.11, 1.2 repository line,
1.3.0), and all works fine for me too.  I get Grace plots with all
points shown.  I'm not sure what is happening, but we should be able
to get to the bottom of the problem.  Johnny, were the data files
generated in MS Windows?  Or on a Mac?  Maybe it is the end of line
character being different on these platforms compared to Linux.
However python shouldn't have a problem with this.  Which version of
Python are you using?

Regards,

Edward


On Tue, Mar 25, 2008 at 6:24 PM, S&eacute;bastien Morin
<a rel="nofollow" class="moz-txt-link-rfc2396E" href="mailto:sebastien.morin.1@xxxxxxxxx">&lt;sebastien.morin.1@xxxxxxxxx&gt;</a> wrote:
  </pre>
  <blockquote type="cite">
    <pre wrap=""> Hi Johnny !

 I put all you data in the correct files on my laptop (names as in the
script) and everything seems to work fine...

 I am using the 1.2 line, revision 5232 (subversion repository)...

 Please try to run the script with the attached files. Does it run well ?
Are there differences with your own files ?

 Let me know if it works now...

 Cheers !


 S&eacute;bastien  :)







 Johnny Croy wrote:
 Duh...my bad.
On Mar 25, 2008, at 11:18 AM, S&eacute;bastien Morin wrote:



 Hi Johnny

This is a private message (out of the mailing list).

To get everything saved in the mailing list archive, please re-send
this e-mail by replying all (me and the mailing list).

Then, I'll send you my answer... :p

Cheers,


S&eacute;b :)



Johnny Croy wrote:


 Seb,

No problem...I didn't want to make an extremely long post on the
first try. Here is the requested information.

R1.dat file

31 Glu 1.145443882 0.057272194
32 Tyr 1.164796586 0.058239829
33 Lys 1.286855543 0.067178838
34 Ile 1.269676816 0.063483841
35 Gly 1.295773188 0.064788659
36 Glu 1.258616805 0.06293084
37 Leu 1.112491837 0.055624592
38 Thr 1.160197791 0.095182518
39 Phe 1.206707848 0.060335392
40 Gln 1.19092846 0.063554498
41 Ser 1.273809084 0.076303898
42 Ile 1.252180359 0.109824318
43 Arg 1.499938503 0.074996925
44 Ser 1.191667858 0.059583393
45 Ser 1.171024635 0.089300342
46 Gln 1.187752843 0.077913277
47 Glu 1.319825361 0.065991268
48 Leu 1.48565452 0.111707048
49 Gln 1.896734203 0.09483671
50 Lys 1.562314475 0.078115724
51 Lys 1.553675608 0.07768378
52 Asn 1.418429657 0.095146782
53 Thr 1.339907814 0.114773323
54 Ile 1.342170182 0.067108509

R2.dat file

31 Glu 13.03407106 0.651703553
32 Tyr 16.98946653 1.170731842
33 Lys 16.64724488 1.374291449
34 Ile 14.56176372 0.981768177
35 Gly 16.76389727 0.838194864
36 Glu 14.49149349 0.724574675
37 Leu 16.68780455 0.834390228
38 Thr 18.43453895 3.355843235
39 Phe 17.07008979 1.342715745
40 Gln 19.703657 2.009887931
41 Ser 16.36687998 1.785653152
42 Ile 14.41836323 2.085960214
43 Arg 10.62812201 1.517689949
44 Ser 21.74574871 1.357631552
45 Ser 15.91039267 2.376737045
46 Gln 19.71336763 1.4472092
47 Glu 15.78357561 0.789178781
48 Leu 14.72016958 1.477130686
49 Gln 17.04884494 0.989417239
50 Lys 10.93123162 1.159309684
51 Lys 17.85809954 1.087170051
52 Asn 15.93447743 1.581082444
53 Thr 12.84868108 2.176528176
54 Ile 0.378840543 0.071234651

NOE File

31 Glu 0.6462 0.0867
32 Tyr 0.6927 0.1418
33 Lys 0.6937 0.05
34 Ile 0.6797 0.05
35 Gly 0.6467 0.1091
36 Glu 0.6007 0.0549
37 Leu 0.6835 0.05
38 Thr 0.8187 0.05
39 Phe 0.7406 0.05
40 Gln 0.76 0.05
41 Ser 0.8434 0.0926
42 Ile 0.7271 0.0676
43 Arg 0.4559 0.3041
44 Ser 0.745 0.0541
45 Ser 0.6798 0.0617
46 Gln 0.7618 0.05
47 Glu 0.7454 0.0914
48 Leu 0.6044 0.05
49 Gln 0.5899 0.0861
50 Lys 0.5631 0.0997
51 Lys 0.4634 0.1099
52 Asn 0.6635 0.05
53 Thr 0.574 0.05
54 Ile 0.3808 0.1667

Seq File

31 Glu
32 Tyr
33 Lys
34 Ile
35 Gly
36 Glu
37 Leu
38 Thr
39 Phe
40 Gln
41 Ser
42 Ile
43 Arg
44 Ser
45 Ser
46 Gln
47 Glu
48 Leu
49 Gln
50 Lys
51 Lys
52 Asn
53 Thr
54 Ile

jw_mapping Script

# Script for reduced spectral density mapping.

# Create the run.
name = 'jw'
run.create(name, 'jw')

# Nuclei type
nuclei('N')

# Load the sequence.
sequence.read(name, 'Pot1pN_free_seq.txt')

# Load the relaxation data.
relax_data.read(name, 'R1', '500', 500.0 * 1e6,
'R1_f_500_5percent.txt')
relax_data.read(name, 'R2', '500', 500.0 * 1e6,
'R2_f_500_5percent.txt')
relax_data.read(name, 'NOE', '500', 500.0 * 1e6,
'NOE_f_5percent.txt')

# Set the bond length and CSA values.
value.set(name, 1.02 * 1e-10, 'bond_length')
value.set(name, -172 * 1e-6, 'csa')

# Select the frequency.
jw_mapping.set_frq(name, frq=500.0 * 1e6)

# Reduced spectral density mapping.
calc(name)

# Monte Carlo simulations.
monte_carlo.setup(name, number=500)
monte_carlo.create_data(name)
calc(name)
monte_carlo.error_analysis(name)

# Create grace files.
grace.write(name, y_data_type='j0', file='j0.agr', force=1)
grace.write(name, y_data_type='jwx', file='jwx.agr', force=1)
grace.write(name, y_data_type='jwh', file='jwh.agr', force=1)

# View the grace files.
grace.view(file='j0.agr')
grace.view(file='jwx.agr')
grace.view(file='jwh.agr')

# Finish.
results.write(run=name, file='results', force=1)
state.save('save', force=1)

Version of relax is 1.2.11 on Red Hat Linux Enterprise 5.

Please let me know if you need anything further.

Best regards,

J


On Mar 25, 2008, at 10:40 AM, S&eacute;bastien Morin wrote:



 Hi Johnny !

I would be helpful if you could post, let's say, the first 10
lines of each input file as well as the complete script you used.

Moreover, it could be also useful to know which version of relax
you use...

Cheers !


S&eacute;b :)



Johnny Croy wrote:


 Hello,

I am new to using relax, but I have been running into a problem
with reading data into relax using the jw_mapping.py sample
script. I have three separate files for noe, r1 and r2 all
collected at 500 MHZ. These are tab delimitated files that
contain residue #, residue name, value and error in columns 0-3,
respectively. Also a file containing the sequence, residue #
and name in cols 0 and 1, respectively was generated. These
files were substituted into the script in the appropriate places
and frequencies were changed. When the script is invoked using
'relax jw_mapping.py' it runs through to the end displaying the
grace plots and the appropriate output files are created.
However, only the first residue in the file is analyzed. How do
I tell relax to read in the whole list?

Thanks in advance for your help!

Best regards,

Johnny Croy
CU Boulder

_______________________________________________
relax (<a rel="nofollow" class="moz-txt-link-freetext" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-users mailing list
<a rel="nofollow" class="moz-txt-link-abbreviated" href="mailto:relax-users@xxxxxxx">relax-users@xxxxxxx</a>

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a rel="nofollow" class="moz-txt-link-freetext" href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>





_______________________________________________
relax (<a rel="nofollow" class="moz-txt-link-freetext" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-users mailing list
<a rel="nofollow" class="moz-txt-link-abbreviated" href="mailto:relax-users@xxxxxxx">relax-users@xxxxxxx</a>

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a rel="nofollow" class="moz-txt-link-freetext" href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>



NOE File

 31    Glu    0.6462    0.0867
 32    Tyr    0.6927    0.1418
 33    Lys    0.6937    0.05
 34    Ile    0.6797    0.05
 35    Gly    0.6467    0.1091
 36    Glu    0.6007    0.0549
 37    Leu    0.6835    0.05
 38    Thr    0.8187    0.05
 39    Phe    0.7406    0.05
 40    Gln    0.76    0.05
 41    Ser    0.8434    0.0926
 42    Ile    0.7271    0.0676
 43    Arg    0.4559    0.3041
 44    Ser    0.745    0.0541
 45    Ser    0.6798    0.0617
 46    Gln    0.7618    0.05
 47    Glu    0.7454    0.0914
 48    Leu    0.6044    0.05
 49    Gln    0.5899    0.0861
 50    Lys    0.5631    0.0997
 51    Lys    0.4634    0.1099
 52    Asn    0.6635    0.05
 53    Thr    0.574    0.05
 54    Ile    0.3808    0.1667

Seq File

 31     Glu
 32     Tyr
 33     Lys
 34     Ile
 35     Gly
 36     Glu
 37     Leu
 38    Thr
 39    Phe
 40    Gln
 41    Ser
 42    Ile
 43    Arg
 44    Ser
 45    Ser
 46    Gln
 47    Glu
 48    Leu
 49    Gln
 50    Lys
 51    Lys
 52    Asn
 53    Thr
 54    Ile

R1.dat file

 31     Glu     1.145443882     0.057272194
 32     Tyr     1.164796586    0.058239829
 33     Lys     1.286855543     0.067178838
 34     Ile     1.269676816     0.063483841
 35     Gly     1.295773188     0.064788659
 36     Glu     1.258616805     0.06293084
 37    Leu    1.112491837    0.055624592
 38    Thr    1.160197791    0.095182518
 39    Phe    1.206707848    0.060335392
 40    Gln    1.19092846    0.063554498
 41    Ser    1.273809084    0.076303898
 42    Ile    1.252180359    0.109824318
 43    Arg    1.499938503    0.074996925
 44    Ser    1.191667858    0.059583393
 45    Ser    1.171024635    0.089300342
 46    Gln    1.187752843    0.077913277
 47    Glu    1.319825361    0.065991268
 48    Leu    1.48565452    0.111707048
 49    Gln    1.896734203    0.09483671
 50    Lys    1.562314475    0.078115724
 51    Lys    1.553675608    0.07768378
 52    Asn    1.418429657    0.095146782
 53    Thr    1.339907814    0.114773323
 54    Ile    1.342170182    0.067108509

R2.dat file

 31     Glu 13.03407106     0.651703553
 32     Tyr  16.98946653    1.170731842
 33     Lys 16.64724488     1.374291449
 34     Ile   14.56176372         0.981768177
 35     Gly 16.76389727     0.838194864
 36    Glu    14.49149349    0.724574675
 37    Leu    16.68780455    0.834390228
 38    Thr    18.43453895    3.355843235
 39    Phe    17.07008979    1.342715745
 40    Gln    19.703657        2.009887931
 41    Ser    16.36687998    1.785653152
 42    Ile    14.41836323    2.085960214
 43    Arg    10.62812201    1.517689949
 44    Ser    21.74574871    1.357631552
 45    Ser    15.91039267    2.376737045
 46    Gln    19.71336763    1.4472092
 47    Glu    15.78357561    0.789178781
 48    Leu    14.72016958    1.477130686
 49    Gln    17.04884494    0.989417239
 50    Lys    10.93123162    1.159309684
 51    Lys    17.85809954    1.087170051
 52    Asn    15.93447743    1.581082444
 53    Thr    12.84868108    2.176528176
 54    Ile    0.378840543    0.071234651

_______________________________________________
 relax (<a rel="nofollow" class="moz-txt-link-freetext" href="http://nmr-relax.com">http://nmr-relax.com</a>)

 This is the relax-users mailing list
 <a rel="nofollow" class="moz-txt-link-abbreviated" href="mailto:relax-users@xxxxxxx">relax-users@xxxxxxx</a>

 To unsubscribe from this list, get a password
 reminder, or change your subscription options,
 visit the list information page at
 <a rel="nofollow" class="moz-txt-link-freetext" href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>


    </pre>
  </blockquote>
  <pre wrap=""><!---->
  </pre>
</blockquote>


</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00015" href="msg00015.html">Re: Spectral Density Mapping Problem</a></strong>
<ul><li><em>From:</em> Johnny Croy</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00006" href="msg00006.html">Spectral Density Mapping Problem</a></strong>
<ul><li><em>From:</em> Johnny Croy</li></ul></li>
<li><strong><a name="00007" href="msg00007.html">Re: Spectral Density Mapping Problem</a></strong>
<ul><li><em>From:</em> Sébastien Morin</li></ul></li>
<li><strong><a name="00009" href="msg00009.html">Re: Spectral Density Mapping Problem</a></strong>
<ul><li><em>From:</em> Johnny Croy</li></ul></li>
<li><strong><a name="00010" href="msg00010.html">Re: Spectral Density Mapping Problem</a></strong>
<ul><li><em>From:</em> Sébastien Morin</li></ul></li>
<li><strong><a name="00013" href="msg00013.html">Re: Spectral Density Mapping Problem</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Mar 25 23:21:46 2008</div>  
</body>
</html>
