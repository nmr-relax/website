<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: relax 1.3.13/14 oddities -->
<!--X-From-R13: Xnpx Vbjnegu <ubjneguNoebzb.zrq.hp.rqh> -->
<!--X-Date: Wed, 11 Apr 2012 04:27:53 +0200 -->
<!--X-Message-Id: 20120411022723.GB19243@bromo.med.uc.edu -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20120326175439.GA31913@bromo.med.uc.edu -->
<!--X-Reference: CAED9pY_U4xf5RjC2pAxi324BU7r5i+K9imwEiRCUuxGhZWaePQ@mail.gmail.com -->
<!--X-Reference: 20120402210432.GA1127@bromo.med.uc.edu -->
<!--X-Reference: CAED9pY8H8NJTYm&#45;idN3CKHVgm9MgqrZc1a+isZ_ukdSTxpt3Qg@mail.gmail.com -->
<!--X-Reference: CAED9pY98kYskoZE1oVs0VZqpxpWCmQq6hHHOsPV8sKerN4UGrg@mail.gmail.com -->
<!--X-Reference: CAED9pY9XYKvQkkjOV+cxedkZ&#45;kNCzzZng8yw2HXNrVxzTWNw+w@mail.gmail.com -->
<!--X-Reference: 20120405233925.GA27478@bromo.med.uc.edu -->
<!--X-Reference: CAED9pY_gtbWgHq7wd36ZrgmRY0Y=j&#45;WujfKkTh7F5C4cqU0TSw@mail.gmail.com -->
<!--X-Reference: 20120410181851.GA5056@bromo.med.uc.edu -->
<!--X-Reference: CAED9pY_+MnGxjUwFHBZffbWFK1Oh+uFsNNixyPPqNPE97D17WQ@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: relax 1.3.13/14 oddities -- April 11, 2012 - 04:27</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: relax 1.3.13/14 oddities</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00048" class="tabs">Index by Date</a> | <a href="threads.html#00048" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00047.html">Date Prev</a>] [<a href="msg00049.html">Date Next</a>] [<a href="msg00045.html">Thread Prev</a>] [<a href="msg00049.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Edward d'Auvergne&quot; &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 10 Apr 2012 22:27:23 -0400</li>
<li class="menuitem">
<em>Cc</em>: relax-users@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00048.html">20120411022723.GB19243@bromo.med.uc.edu</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;20120326175439.GA31913@xxxxxxxxxxxxxxxx&gt;	&lt;CAED9pY_U4xf5RjC2pAxi324BU7r5i+K9imwEiRCUuxGhZWaePQ@xxxxxxxxxxxxxx&gt;	&lt;20120402210432.GA1127@xxxxxxxxxxxxxxxx&gt;	&lt;CAED9pY8H8NJTYm-idN3CKHVgm9MgqrZc1a+isZ_ukdSTxpt3Qg@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY98kYskoZE1oVs0VZqpxpWCmQq6hHHOsPV8sKerN4UGrg@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY9XYKvQkkjOV+cxedkZ-kNCzzZng8yw2HXNrVxzTWNw+w@xxxxxxxxxxxxxx&gt;	&lt;20120405233925.GA27478@xxxxxxxxxxxxxxxx&gt;	&lt;CAED9pY_gtbWgHq7wd36ZrgmRY0Y=j-WujfKkTh7F5C4cqU0TSw@xxxxxxxxxxxxxx&gt;	&lt;20120410181851.GA5056@xxxxxxxxxxxxxxxx&gt;	&lt;CAED9pY_+MnGxjUwFHBZffbWFK1Oh+uFsNNixyPPqNPE97D17WQ@xxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Mutt/1.5.18 (2008-05-17)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Jack Howarth</strong> on April 11, 2012 - 04:27:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">On Tue, Apr 10, 2012 at 10:38:17PM +0200, Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

I've created a special task for attaching files (logs, errors,
screenshots, etc) to at <a  rel="nofollow" href="https://gna.org/task/index.php?7581">https://gna.org/task/index.php?7581</a>.  More
below:

</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">I do not see the problem you are seeing, it's unfortunately not
reproducible on my system.  I have a fully maximised relax window.  Do
you see the same if you run:

$ /sw/bin/python2.7 /sw/bin/relax --gui --debug

This should set the window size to the default of 1000x600 pixels.
Without the --debug flag, I use the wx.MAXIMIZE style for the main
window (as well as a call to wx.Frame.Maximize() for the problematic
MS Windows version), so this should be maximised twice on the Mac (the
native Mac widgets ignore both of these!).
</pre></blockquote><pre style="margin: 0em;">

Edward,
  Using...

/sw/bin/python2.7 /sw/bin/relax --gui --debug

does produce the smaller window which is the correct size for the
surrounding window frame. If I remove the --debug, I see to get the
same 1000x600 pixel of content drawn into a much larger window frame.
I've attached a screen capture of the window as a tiff file.
</pre></blockquote><pre style="margin: 0em;">

This looks quite familiar.  From memory, this was how it used to look
on Mac OS X with wxPython with native widgets, but a call to
wx.Refresh() in relax fixed this.  For example on my test system with
the fink install, I see the following screenshot
<a  rel="nofollow" href="https://gna.org/support/download.php?file_id=15551">https://gna.org/support/download.php?file_id=15551</a> (attached to the
task with more info at <a  rel="nofollow" href="https://gna.org/task/index.php?7581#comment1">https://gna.org/task/index.php?7581#comment1</a>).
For the native widget set, see the screenshot at
<a  rel="nofollow" href="http://www.nmr-relax.com/screenshots.html">http://www.nmr-relax.com/screenshots.html</a>.  We will have to work out
why the screen is not refreshing on your machine, allowing the widgets
to layout properly and fill the screen.  Does minimisation or drastic
window resizing (very small to full size) cause anything to change?
What if you click on File-&gt;New analysis and select one of the
analyses, clicking through the analysis wizard, does this change the
layout?  Do you see the same with the View-&gt;Spin viewer window?  I
really wish I could reproduce this so I can randomly add and test
wx.Refresh() and wx.Layout() commands to see it if fixes the problem.
Debugging blindly is impossible here :S
</pre></blockquote><pre style="margin: 0em;">

Edward,
    The behavior that I see under fink is that when executing...

relax --gui

...the main relax window frame fills the entire screen but only about
1000x600 pixels are rendered in the upper left hand corner. If I click
on the green maximize button once, the window is reduced back to 
1000x600 pixels which entirely fills the window frame. If I click the
green maximize button a second time, the window frame returns back to
the initial state of filling the whole screen but the entire window
frame is now properly rendered. For now, I would be happy just to find
a hack which would cause the standard startup of relax --gui to default
to the 1000x600 window size without resorting to --debug. I'm not sure
we really want huge relax windows opening up by default.
               Jack

</pre><blockquote class="blockquote"><pre style="margin: 0em;">


</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">I do however see a little frameless window in the top left hand corner
with the relax Ulysses butterfly icon in it.  I'm guessing this is the
failure of the dock icon described below, though this needs testing.
</pre></blockquote><pre style="margin: 0em;">

Are you always running relax on Mac OS X remotely? What happens if you
log directly into the Mac where the fink relax package is installed and
execute...

/sw/bin/python2.7 /sw/bin/relax --gui
</pre></blockquote><pre style="margin: 0em;">

I have removed this little window from the 1.3 main line.  This was
the Mac dock icon, turning into a funny looking window under wxGTK +
X.  Funnily, a right click brought up the Mac dock menu!  Anyway, it
is now gone.

As for Mac hardware, unfortunately I have no physical access to a Mac.
 I wish I did have a special development machine, as that would save
me a lot of time and would result in much better Mac support.
Ideally, a Lion system with Snow Leopard and Leopard (server editions)
running in VMs (each with the Xcode+official Python module packages, a
custom Python+module framework build, and the fink install), and with
re-installation capabilities would be the best set up to provide Mac
support.  But unfortunately I don't think this will ever happen.  I
also cannot install a Mac system on my computer in a VM as that is not
legally possible.


</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">There are a few strange behaviours with this wxPython version
(2.8.12.1) from fink.  The first is that the relax menu bar is not
integrated into the standard Mac toolbar at the top of the screen but
is a normal GTK+ menubar in addition to the Mac toolbar.  The second
is that the relax icon in the dock is not set on the fink version, it
should be the relax butterfly icon.  Lastly, the fink version is
running via X.
</pre></blockquote><pre style="margin: 0em;">

This should be expected as we are building relax against the X version of
wxgtk. I don't believe either fink or macports has a native Mac interface
gtk package (as far as I know everything goes through X11).
</pre></blockquote><pre style="margin: 0em;">

That's ok, I'll make sure relax runs in this set up.  Tomorrow I might
put relax's GUI through it's paces with the fink install
(<a  rel="nofollow" href="http://pdb.finkproject.org/pdb/package.php/relax-py27">http://pdb.finkproject.org/pdb/package.php/relax-py27</a> but updated to
relax 1.3.14, wxPython 2.8.12.1) and see what else fails.  Superficial
testing on my machine is looking good though.

Cheers,

Edward
</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00049" href="msg00049.html">Re: relax 1.3.13/14 oddities</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00005" href="msg00005.html">Re: relax 1.3.13/14 oddities</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00006" href="msg00006.html">Re: relax 1.3.13/14 oddities</a></strong>
<ul><li><em>From:</em> Jack Howarth</li></ul></li>
<li><strong><a name="00009" href="msg00009.html">Re: relax 1.3.13/14 oddities</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00027" href="msg00027.html">Re: relax 1.3.13/14 oddities</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00028" href="msg00028.html">Re: relax 1.3.13/14 oddities</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00041" href="msg00041.html">Re: relax 1.3.13/14 oddities</a></strong>
<ul><li><em>From:</em> Jack Howarth</li></ul></li>
<li><strong><a name="00042" href="msg00042.html">Re: relax 1.3.13/14 oddities</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00043" href="msg00043.html">Re: relax 1.3.13/14 oddities</a></strong>
<ul><li><em>From:</em> Jack Howarth</li></ul></li>
<li><strong><a name="00045" href="msg00045.html">Re: relax 1.3.13/14 oddities</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Apr 12 14:40:07 2012</div>  
</body>
</html>
