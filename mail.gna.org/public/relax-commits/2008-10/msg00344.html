<!-- MHonArc v2.6.16 -->
<!--X-Subject: r7817 &#45;	/branches/multi_processor_merge/specific_fns/model_free/multi_processor_commands.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Sun, 19 Oct 2008 15:37:45 +0200 -->
<!--X-Message-Id: E1KrYTZ&#45;0002SP&#45;Lm@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r7817 -	/branches/multi_processor_merge/specific_fns/model_free/multi_processor_commands.py -- October 19, 2008 - 15:37</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r7817 -	/branches/multi_processor_merge/specific_fns/model_free/multi_processor_commands.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00344" class="tabs">Index by Date</a> | <a href="threads.html#00344" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00343.html">Date Prev</a>] [<a href="msg00345.html">Date Next</a>] [<a href="msg00343.html">Thread Prev</a>] [<a href="msg00345.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Sun, 19 Oct 2008 13:37:45 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00344.html">E1KrYTZ-0002SP-Lm@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on October 19, 2008 - 15:37:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Sun Oct 19 15:37:45 2008
New Revision: 7817

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=7817&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=7817&amp;view=rev</a>
Log:
Alphabetical sorting of all class methods.


Modified:
    
branches/multi_processor_merge/specific_fns/model_free/multi_processor_commands.py

Modified: 
branches/multi_processor_merge/specific_fns/model_free/multi_processor_commands.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/multi_processor_merge/specific_fns/model_free/multi_processor_commands.py?rev=7817&amp;r1=7816&amp;r2=7817&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/multi_processor_merge/specific_fns/model_free/multi_processor_commands.py?rev=7817&amp;r1=7816&amp;r2=7817&amp;view=diff</a>
==============================================================================
--- 
branches/multi_processor_merge/specific_fns/model_free/multi_processor_commands.py
 (original)
+++ 
branches/multi_processor_merge/specific_fns/model_free/multi_processor_commands.py
 Sun Oct 19 15:37:45 2008
@@ -169,54 +169,26 @@
         self.info_map = {'res_id':None, 'grid_size':1}
 
 
-    #FIXME: bad names
-    def set_mf(self, **kwargs):
-
-        self.mf_map.update(kwargs)
-# FIXME: add to checking class
-#        self.mf_hash_map = self.get_hash_map(self.mf_map)
-
-# FIXME: add to checking class
-#    def get_hash_map(self, map):
-#        import Numeric
-#        result = {}
-#        for key, elem in map.items():
-#            #print key, elem, type(elem), dir(type(elem))
-#            #if isinstance(elem, Numeric.array):
-#            #    print '*** here 888'
-#            #    elem = tuple(elem.aslist())
-#            #elem.__class__.__name__
-#            result[key] = (`elem`)
-#        return result
-
-# FIXME: add to checking class
-#    def assert_hash_map_same(self, ref_map, new_map):
-#        for key in ref_map.keys():
-#            if ref_map[key] != new_map[key]:
-#                print 'bad compare ' + key
-
-
-    def set_minimise(self, **kwargs):
-        if 'res_id' in kwargs:
-           self.info_map['res_id'] = kwargs['res_id']
-           del kwargs['res_id']
-        if 'index' in kwargs:
-           self.info_map['index'] = kwargs['index']
-           del kwargs['index']
-        if 'grid_size' in kwargs:
-           self.info_map['grid_size'] = kwargs['grid_size']
-           del kwargs['grid_size']
-        if 'sim_index' in kwargs:
-           self.info_map['sim_index'] = kwargs['sim_index']
-           del kwargs['sim_index']
-
-        self.minimise_map.update(kwargs)
-# FIXME: add to checking class
-#        self.mf_minimise_map = self.get_hash_map(self.minimise_map)
-
-
     def build_mf(self):
         return Mf(**self.mf_map)
+
+
+    def do_feedback(self):
+        &quot;&quot;&quot;Minimisation print out.&quot;&quot;&quot;
+
+        # Only print out if verbosity is turned on.
+        if self.minimise_map['verbosity'] &gt;= 1:
+            # Monte Carlo simulation print out.
+            if self.info_map['sim_index'] != None and self.info_map['index'] 
== 0:
+                print 'Simulation '+ `self.info_map['sim_index']`+ '\n'
+
+            # Individual spin print out.
+            if self.mf_map['param_set'] == 'mf' or self.mf_map['param_set'] 
== 'local_tm':
+                if self.minimise_map['verbosity'] &gt;= 2:
+                    print &quot;\n\n&quot;
+                string = &quot;Fitting to spin: &quot; + self.info_map['spin_id']
+                print &quot;\n\n&quot; + string
+                print len(string) * '~'
 
 
 #    def do_minimise(self, memo):
@@ -235,22 +207,46 @@
 #        m_f.disassemble_result(param_vector=param_vector, func=func, 
iter=iter, fc=fc, gc=gc, hc=hc, warning=warning, run=memo.run, 
index=memo.index, sim_index=memo.sim_index, param_set=memo.param_set, 
scaling=memo.scaling, scaling_matrix=memo.scaling_matrix)
 
 
-    def do_feedback(self):
-        &quot;&quot;&quot;Minimisation print out.&quot;&quot;&quot;
-
-        # Only print out if verbosity is turned on.
-        if self.minimise_map['verbosity'] &gt;= 1:
-            # Monte Carlo simulation print out.
-            if self.info_map['sim_index'] != None and self.info_map['index'] 
== 0:
-                print 'Simulation '+ `self.info_map['sim_index']`+ '\n'
-
-            # Individual spin print out.
-            if self.mf_map['param_set'] == 'mf' or self.mf_map['param_set'] 
== 'local_tm':
-                if self.minimise_map['verbosity'] &gt;= 2:
-                    print &quot;\n\n&quot;
-                string = &quot;Fitting to spin: &quot; + self.info_map['spin_id']
-                print &quot;\n\n&quot; + string
-                print len(string) * '~'
+# FIXME: add to checking class
+#    def get_hash_map(self, map):
+#        import Numeric
+#        result = {}
+#        for key, elem in map.items():
+#            #print key, elem, type(elem), dir(type(elem))
+#            #if isinstance(elem, Numeric.array):
+#            #    print '*** here 888'
+#            #    elem = tuple(elem.aslist())
+#            #elem.__class__.__name__
+#            result[key] = (`elem`)
+#        return result
+
+# FIXME: add to checking class
+#    def assert_hash_map_same(self, ref_map, new_map):
+#        for key in ref_map.keys():
+#            if ref_map[key] != new_map[key]:
+#                print 'bad compare ' + key
+
+
+    def post_command_feedback(self, results, processor):
+        pass
+
+
+    def post_run(self, processor):
+        #FIXME: move to processor startup
+        pass
+
+
+    def pre_command_feed_back(self, processor):
+        self.do_feedback()
+
+
+    def pre_run(self, processor):
+       pass
+       #FIXME: move to processor startup
+
+
+#    def process_result(self, processor):
+#        self.process_results(self.results, processor, completed)
 
 
     # rename confusing with processor process_results
@@ -265,33 +261,6 @@
 
         processor.return_object(MF_result_command(processor, self.memo_id, 
param_vector, func, iter, fc, gc, hc, warning, completed=False))
         processor.return_object(Result_string(processor, result_string, 
completed=completed))
-
-
-    def pre_command_feed_back(self, processor):
-        self.do_feedback()
-
-
-    def pre_run(self, processor):
-       pass
-       #FIXME: move to processor startup
-
-
-    def post_run(self, processor):
-        #FIXME: move to processor startup
-        pass
-
-
-    def post_command_feedback(self, results, processor):
-        pass
-
-
-    def run_command(self, processor):
-        self.mf = self.build_mf()
-        return generic_minimise(func=self.mf.func, dfunc=self.mf.dfunc, 
d2func=self.mf.d2func, **self.minimise_map)
-
-
-#    def process_result(self, processor):
-#        self.process_results(self.results, processor, completed)
 
 
     def run(self, processor, completed):
@@ -323,13 +292,45 @@
 #        sys.stderr = save_stderr
 
 
+    def run_command(self, processor):
+        self.mf = self.build_mf()
+        return generic_minimise(func=self.mf.func, dfunc=self.mf.dfunc, 
d2func=self.mf.d2func, **self.minimise_map)
+
+
+    #FIXME: bad names
+    def set_mf(self, **kwargs):
+        self.mf_map.update(kwargs)
+# FIXME: add to checking class
+#        self.mf_hash_map = self.get_hash_map(self.mf_map)
+
+
+    def set_minimise(self, **kwargs):
+        if 'res_id' in kwargs:
+           self.info_map['res_id'] = kwargs['res_id']
+           del kwargs['res_id']
+        if 'index' in kwargs:
+           self.info_map['index'] = kwargs['index']
+           del kwargs['index']
+        if 'grid_size' in kwargs:
+           self.info_map['grid_size'] = kwargs['grid_size']
+           del kwargs['grid_size']
+        if 'sim_index' in kwargs:
+           self.info_map['sim_index'] = kwargs['sim_index']
+           del kwargs['sim_index']
+
+        self.minimise_map.update(kwargs)
+# FIXME: add to checking class
+#        self.mf_minimise_map = self.get_hash_map(self.minimise_map)
+
+
 class MF_grid_command(MF_minimise_command):
     def __init__(self):
         super(MF_grid_command, self).__init__()
 
 
-#    def run(self, processor, completed):
-#        pass
+    def post_command_feedback(self, results, processor):
+        set_generic_pre_and_post_amble(True)
+        set_grid_pre_and_post_amble(True)
 
 
     def pre_command_feed_back(self, processor):
@@ -361,15 +362,6 @@
 #                    print print_prefix + &quot;b: &quot; + `b`
 
 
-    #def run_command()
-    #    return super(MF_grid_command, self).run(processor, completed)
-
-
-    def post_command_feedback(self, results, processor):
-        set_generic_pre_and_post_amble(True)
-        set_grid_pre_and_post_amble(True)
-
-
     def process_results(self, results, processor, completed):
         param_vector, func, iter, fc, gc, hc, warning = results
 
@@ -379,6 +371,14 @@
         stderr.truncate(0)
 
         processor.return_object(MF_grid_result_command(processor, 
result_string, self.memo_id, param_vector, func, iter, fc, gc, hc, warning, 
completed=completed))
+
+
+#    def run(self, processor, completed):
+#        pass
+
+
+    #def run_command()
+    #    return super(MF_grid_command, self).run(processor, completed)
 
 
 class MF_result_command(Result_command):
@@ -427,10 +427,6 @@
         self.h_count = 0
         self.warning = []
         self.first_time = None
-
-
-    def add_sub_memo(self, memo):
-        self.sub_memos.append(memo)
 
 
     def add_result(self, sub_memo, results):
@@ -474,3 +470,7 @@
         if self.first_time == None:
             self.first_time = True
         #print '****', self.xk, self.fk, self.k, self.f_count, self.g_count, 
self.h_count, self.warning
+
+
+    def add_sub_memo(self, memo):
+        self.sub_memos.append(memo)



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sun Oct 19 15:40:03 2008</div>  
</body>
</html>
