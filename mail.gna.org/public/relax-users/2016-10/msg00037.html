<!-- MHonArc v2.6.19+ -->
<!--X-Subject: Re: Dispersion Back Calculation -->
<!--X-From-R13: Xrerzl Oaqrefba &#60;wnaqr118Nwuh.rqh> -->
<!--X-Date: Thu, 27 Oct 2016 18:11:15 +0200 -->
<!--X-Message-Id: CAO4bU8h9khPCTY8BU9He&#45;TT7xz7U7iZNagu7D0KB+dr2FO4gNw@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CAO4bU8h4WYFKXoaO=94kRKBXTJrs430tDEgipnTMqGoOzbAiSg@mail.gmail.com -->
<!--X-Reference: CAED9pY&#45;HQnA7+rX7s35RUQQQCg_dA3srjBCMUepcpTFH0erMHA@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Dispersion Back Calculation -- October 27, 2016 - 18:11</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Dispersion Back Calculation</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00037" class="tabs">Index by Date</a> | <a href="threads.html#00037" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00036.html">Date Prev</a>] [<a href="msg00038.html">Date Next</a>] [<a href="msg00034.html">Thread Prev</a>] [Thread Next]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Edward d'Auvergne&quot; &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 27 Oct 2016 12:10:43 -0400</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:from:date:message-id :subject:to:cc; bh=iaHTuRJPhY3vbz79nPaSXAhJNDMvYLXyWyvhl75ZWT4=; b=nHMvTbECfVme/2ZBptTHrGCrJ4fc0rSl3XIigQN8GBH/ITu5gBD+yJMnueOc5J8X4G /k0G7MwFgMp75mSMim4+ijkG4BxITc/0DixNy0imKUlloYNfA9n1t/YiihRfeWKBOlwg vvDvL3G3M+bA/AyBdZe+iE6F+WKkwnY1Vvnt6aX3x1ROo3vJCw8PucPFuZLKhAKf4I5C I6slnCBWwwfF6JOwqyuRnMYftgsWJNpX12bcq8+FpUcUD+DGKS/OlOFI7MR7qVt8hUEY 0C82yp0Jj77/GCvVvpLauoeblvV9GXyI8afMyqiZjla1KT4kBfM9x+yOKQeVfJwuWXIy xV/w==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00037.html">CAO4bU8h9khPCTY8BU9He-TT7xz7U7iZNagu7D0KB+dr2FO4gNw@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;CAO4bU8h4WYFKXoaO=94kRKBXTJrs430tDEgipnTMqGoOzbAiSg@mail.gmail.com&gt; &lt;<a href="msg00034.html">CAED9pY-HQnA7+rX7s35RUQQQCg_dA3srjBCMUepcpTFH0erMHA@mail.gmail.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Jeremy Anderson</strong> on October 27, 2016 - 18:11:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Edward and Troels,

Thanks for pointing me in the right direction.  I had dug around a bit in
the test_suite directory but wanted to make sure I was looking in the right
place before I descended into the rabbit hole.

I got the back calculation to work using the
./test_suite/shared_data/dispersion/ns_mmq_3site_
linear/relax_results/solution.py
script pretty much as-is, just changing the spin parameters to my liking,
calculating the curve, and outputting the values (ignoring the data and
residuals in the output file).

Something I didn't mention is that the reason I've been importing the
models into ipython is so I can hold parameters constant through my own
grid search and minimization functions, which I had found somewhere in the
documentation was not possible inside relax for the minimization.  I
originally thought this would be easier outside of relax.

The reason for this is because I'm in a situation where I can observe HSQC
peaks in slow exchange in one variant and skewed populations of one or the
other peaks in two other variants.  I've been working on using the
complementary information, in this case the observed dw and the kex from ZZ
exchange experiments, to investigate multi-state exchange in all variants.

The chem. shift differences of the two skewed variants match the measured
nicely but the rates from CPMG are ~20 fold higher.  Therefore I wanted to
check and see if a 3-state model with some parameters held constant would
have infinite solutions (my assumption) or pop out something interesting
and be able to distinguish between a couple models of the conformational
process that I have in mind, which seems like a long shot.

Sorry if thats too much information/way too open-ended but I figured I
would give some context to the greater situation I have found myself in.
Thanks again!

Jeremy Anderson



Ph.D. Candidate

Johns Hopkins University
Program in Molecular Biophysics
Laboratory of Dr. Vincent J. Hilser, Ph.D.
3400 N Charles St, 104 Mudd Hall
Baltimore, MD 21218

(Lab) *410-516-6757*
(Cell) 715-613-0274


On Thu, Oct 27, 2016 at 4:29 AM, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;
wrote:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">On 21 October 2016 at 00:14, Jeremy Anderson &lt;jande118@xxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hello,

I've been trying to back calculate data from parameters using the NS MMQ
3-site linear model.  I've tried to do something akin to the
sample_scripts/model_free/generate_ri.py sample script as described in
</pre></blockquote><pre style="margin: 0em;">the
</pre><blockquote class="blockquote"><pre style="margin: 0em;">mail-archive &lt;<a  rel="nofollow" href="http://www.mail-archive.com/relax-users@xxxxxxx/msg01783">http://www.mail-archive.com/relax-users@xxxxxxx/msg01783</a>.
</pre></blockquote><pre style="margin: 0em;">html&gt;.
</pre><blockquote class="blockquote"><pre style="margin: 0em;">I'm afraid that I'm not knowledgable enough about the data structures,
parameters, and functions of relax.

Up to this point I have been simulating data using the CR72 and TSMFK01
dispersion models by importing the R2eff functionality of each module
</pre></blockquote><pre style="margin: 0em;">into
</pre><blockquote class="blockquote"><pre style="margin: 0em;">an ipython notebook and supplying parameters interactively.  I've
</pre></blockquote><pre style="margin: 0em;">attempted
</pre><blockquote class="blockquote"><pre style="margin: 0em;">this with the NS MMQ 3-site linear model however I'm getting lost in the
structures of the input parameters.

Ideally what I would like to be able to do is input the parameters:


pA, pB, pC = .8, .15, .05

R20A, R20B, R20C = 10, 15, 20 (s^-1)

dw_AB, dw_BC = 2, 2 (ppm)

kex_AB, kex_BC, kex_AC = 400, 200, 0 (s^-1)

dwH_AB, dwH_BC = .2, .2 (ppm)


into the r2eff_ns_mmq_3site_mq and/or r2eff_ns_mmq_3site_sq_dq_zq
</pre></blockquote><pre style="margin: 0em;">functions
</pre><blockquote class="blockquote"><pre style="margin: 0em;">of the ns_mmq_3site module and populate a back_calc array with R2eff
values for nu_cpmg = np.logspace(1, 3, 20).  I've done the same with the
2-site models I mentioned above but I feel I'm a bit over my head here.

Any help would be greatly appreciated and thanks in advance *and* bravo
</pre></blockquote><pre style="margin: 0em;">for
</pre><blockquote class="blockquote"><pre style="margin: 0em;">all the work on relax, its great!
</pre></blockquote><pre style="margin: 0em;">

Hi Jeremy,

Welcome to the relax mailing lists!  I was wondering if you were able
to work out what to do from Troels' comment?  He has written a lot of
such data back-calculation scripts which can be found in the
test_suite directories, and if you look for scripts and data in there,
you should hopefully be able to see what to do.  As for all the work,
this is a community project with many contributors:

    <a  rel="nofollow" href="http://gna.org/project/memberlist.php?group=relax">http://gna.org/project/memberlist.php?group=relax</a>

For example Troels has put a lot of work into the relaxation
dispersion analysis, adding many models and making this part super
fast:

    <a  rel="nofollow" href="http://wiki.nmr-relax.com/Relax_release_descriptions#relax_3.3.0">http://wiki.nmr-relax.com/Relax_release_descriptions#relax_3.3.0</a>

Hopefully you'll be able to use relax for your purposes and, if not,
maybe you'll be able to expand relax and contribute a little yourself
;)

Regards,

Edward

</pre></blockquote><pre style="margin: 0em;">

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00032" href="msg00032.html">Dispersion Back Calculation</a></strong>
<ul><li><em>From:</em> Jeremy Anderson</li></ul></li>
<li><strong><a name="00034" href="msg00034.html">Re: Dispersion Back Calculation</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sun Oct 30 00:00:14 2016</div>  
</body>
</html>
