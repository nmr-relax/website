<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: r26085 &#45; in /trunk/specific_analyses/relax_disp: parameter_object.py parameters.py -->
<!--X-From-R13: "Sqjneq q'Ohiretar" &#60;rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Sat, 27 Sep 2014 13:04:39 +0200 -->
<!--X-Message-Id: CAED9pY9EhqH+7owjXhawFnAm1s+DQBfVO0E=h5L5vJpXR54idw@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1XXp7C&#45;0004bt&#45;P4@subversion.gna.org -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: r26085 - in /trunk/specific_analyses/relax_disp: parameter_object.py parameters.py -- September 27, 2014 - 13:04</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: r26085 - in /trunk/specific_analyses/relax_disp: parameter_object.py parameters.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00178" class="tabs">Index by Date</a> | <a href="threads.html#00178" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00177.html">Date Prev</a>] [<a href="msg00179.html">Date Next</a>] [<a href="msg00175.html">Thread Prev</a>] [<a href="msg00179.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Sat, 27 Sep 2014 13:04:08 +0200</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:date:message-id:subject :from:to:content-type; bh=nL2Q4sUH9TMQnELWUY1/xOsnzSs9x7tTOpnSDnWNEbo=; b=rhIigGEcQYsiA68k3NesS5IxxHEzzu88kfJrW6VQ4kFNgJeonlD0/t+HHotSvOIM6X R1vUJi7RwjwXv4odsH4mlMz+jODHmLH4gBUNqGnxcxl0xPI8bJzLImYDAJNhK4Nyj5H0 nAJ9cpCPykST8e9Qx6RUZVGun2EgirQp6nS9LHcG8D1JrV4Go4YZhl/TB95d1NG+PJhT JJxNJOswT1C1rsBiBs0+TY8QIi6tn/ZLT03n3ZXakrHIUE1AhMXkRZiCrNCJ+9n6CUK6 XSvjLAOWqGj3iAJsIexSWSH/Yb6q+tb7MP1LZvdduqR74gNCXO7X3IydUiWDDoSwMfvW dQdQ==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;CAED9pY9EhqH+7owjXhawFnAm1s+DQBfVO0E=h5L5vJpXR54idw@mail.gmail.com&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1XXp7C-0004bt-P4@subversion.gna.org&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on September 27, 2014 - 13:04:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

If that's the case, then maybe grid searching from 0 to 20 would be
better?  If it's higher than 20, the subsequent optimisation should
send it to the correct value.  Also, what about adding this commit
message description of the limitations of the k_AB parameter to the
TSMFK01 section of the manual at
<a  rel="nofollow" href="http://www.nmr-relax.com/manual/TSMFK01_2_site_CPMG_model.html">http://www.nmr-relax.com/manual/TSMFK01_2_site_CPMG_model.html</a>?  Oh,
all changes in the grid search values also needs to be updated in the
list at <a  rel="nofollow" href="http://www.nmr-relax.com/manual/Dispersion_parameter_grid_search.html">http://www.nmr-relax.com/manual/Dispersion_parameter_grid_search.html</a>.

Cheers,

Edward



On 27 September 2014 12:20,  &lt;tlinnet@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Author: tlinnet
Date: Sat Sep 27 12:20:33 2014
New Revision: 26085

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=26085&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=26085&amp;view=rev</a>
Log:
For relaxation dispersion, modified that the Grid search and linear 
constraints for parameter &quot;k_AB&quot; is between 0-100.

The parameter is only used in the TSMFK01 model.

The &quot;k_AB&quot; parameter is only for very slow forward exchange rate.
The extected values should according to the reference paper:

 Tollinger, M., Skrynnikov, N. R., Mulder, F. A. A., Forman-Kay, J. D., and 
Kay, L. E. (2001). Slow dynamics in folded and unfolded states of an sh3 
domain. J. Am. Chem. Soc., 123(46), 11341-11352. (10.1021/ja011300z)

The paper conserns values of k_AB in the region 0.1 to 5.0.

If the exchange rate is any higher value of this, then another model should 
be used for the analysis.

Modified:
    trunk/specific_analyses/relax_disp/parameter_object.py
    trunk/specific_analyses/relax_disp/parameters.py

Modified: trunk/specific_analyses/relax_disp/parameter_object.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/specific_analyses/relax_disp/parameter_object.py?rev=26085&amp;r1=26084&amp;r2=26085&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/specific_analyses/relax_disp/parameter_object.py?rev=26085&amp;r1=26084&amp;r2=26085&amp;view=diff</a>
==============================================================================
--- trunk/specific_analyses/relax_disp/parameter_object.py      (original)
+++ trunk/specific_analyses/relax_disp/parameter_object.py      Sat Sep 27 
12:20:33 2014
@@ -568,13 +568,13 @@
         self._add(
             'k_AB',
             scope = 'spin',
-            default = 1000.0,
+            default = 2.0,
             desc = 'The exchange rate from state A to state B',
             py_type = float,
             set = 'params',
-            scaling = 10000,
-            grid_lower = 1.0,
-            grid_upper = 10000.0,
+            scaling = 100,
+            grid_lower = 0.1,
+            grid_upper = 100.0,
             grace_string = '\\qk\\sAB\\N\\Q (rad.s\\S-1\\N)',
             err = True,
             sim = True

Modified: trunk/specific_analyses/relax_disp/parameters.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/specific_analyses/relax_disp/parameters.py?rev=26085&amp;r1=26084&amp;r2=26085&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/specific_analyses/relax_disp/parameters.py?rev=26085&amp;r1=26084&amp;r2=26085&amp;view=diff</a>
==============================================================================
--- trunk/specific_analyses/relax_disp/parameters.py    (original)
+++ trunk/specific_analyses/relax_disp/parameters.py    Sat Sep 27 12:20:33 
2014
@@ -446,11 +446,10 @@
         padw2 &gt;= 0
         dw &gt;= 0
         0 &lt;= kex &lt;= 2e6
-        0 &lt;= k_AB &lt;= 2e6
         0 &lt;= kB &lt;= 2e6
         0 &lt;= kC &lt;= 2e6
+        0 &lt;= k_AB &lt;= 100
         tex &gt;= 0
-        k_AB &gt;= 0


     Matrix notation
@@ -504,9 +503,11 @@
         |         |     |          |      |         |
         |-1  0  0 |     |    kC    |      |  -2e6   |
         |         |     |          |      |         |
+        | 1  0  0 |     |   k_AB   |      |    0    |
+        |         |     |          |      |         |
+        |-1  0  0 |     |   k_AB   |      |   100   |
+        |         |     |          |      |         |
         | 1  0  0 |     |   tex    |      |    0    |
-        |         |     |          |      |         |
-        | 1  0  0 |     |   k_AB   |      |    0    |


     @keyword spins:             The list of spin data containers for the 
block.
@@ -621,13 +622,23 @@
                     break

         # Exchange rates and times (0 &lt;= k &lt;= 2e6).
-        elif param_name in ['kex', 'kex_AB', 'kex_AC', 'kex_BC', 'k_AB', 
'kB', 'kC']:
+        elif param_name in ['kex', 'kex_AB', 'kex_AC', 'kex_BC', 'kB', 
'kC']:
             A.append(zero_array * 0.0)
             A.append(zero_array * 0.0)
             A[j][param_index] = 1.0
             A[j+1][param_index] = -1.0
             b.append(0.0)
             b.append(-2e6 / scaling_matrix[param_index, param_index])
+            j += 2
+
+        # Exchange rates and times (0 &lt;= k_AB &lt;= 100).
+        elif param_name in ['k_AB']:
+            A.append(zero_array * 0.0)
+            A.append(zero_array * 0.0)
+            A[j][param_index] = 1.0
+            A[j+1][param_index] = -1.0
+            b.append(0.0)
+            b.append(-100. / scaling_matrix[param_index, param_index])
             j += 2

         # Exchange times (tex &gt;= 0).


_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-commits mailing list
relax-commits@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-commits">https://mail.gna.org/listinfo/relax-commits</a>
</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00179" href="msg00179.html">Re: r26085 - in /trunk/specific_analyses/relax_disp: parameter_object.py parameters.py</a></strong>
<ul><li><em>From:</em> Troels Emtek√¶r Linnet</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Sep 30 13:40:46 2014</div>  
</body>
</html>
