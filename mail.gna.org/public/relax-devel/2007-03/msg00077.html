<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: Vote for the design of the relax data storage object singleton. -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Sat, 17 Mar 2007 02:28:08 +0100 -->
<!--X-Message-Id: 7f080ed10703161827h7ff085ffu8ccdcdc232db3241@mail.gmail.com -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Reference: 7f080ed10703140609p70d35295ye10ee5939da494a2@mail.gmail.com -->
<!--X-Reference: 1173960604.8066.341.camel@mrspell -->
<!--X-Reference: 7f080ed10703150700v2c7296behc146501949d618bf@mail.gmail.com -->
<!--X-Reference: 1173968940.8066.351.camel@mrspell -->
<!--X-Reference: 7f080ed10703150750k3c2b765fpfad3030a1db9ed12@mail.gmail.com -->
<!--X-Reference: 1173971938.8066.377.camel@mrspell -->
<!--X-Reference: 7f080ed10703150921g7469b0d6ia5506c3c47c537c8@mail.gmail.com -->
<!--X-Reference: 45F98244.4080902@bmb.leeds.ac.uk -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Vote for the design of the relax data storage object singleton. -- March 17, 2007 - 02:28</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Vote for the design of the relax data storage object singleton.</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00077" class="tabs">Index by Date</a> | <a href="threads.html#00077" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00076.html">Date Prev</a>] [<a href="msg00078.html">Date Next</a>] [<a href="msg00070.html">Thread Prev</a>] [<a href="msg00117.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Gary S. Thompson&quot; &lt;garyt@xxxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Sat, 17 Mar 2007 12:27:26 +1100</li>
<li class="menuitem">
<em>Cc</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Dkim-signature</em>: a=rsa-sha1; c=relaxed/relaxed; d=gmail.com; s=beta;	h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:cc:in-reply-to:mime-version:content-type:references:x-google-sender-auth;	b=KToWiRdkjvqXGcyRV0PNSISRhu4xpNnx0AWgzmlJ2iQYeV1Z9unpAwTQ7/sWZDaIDXHzQ4dPxh+ECb28UmqfXw8clBPFUQUUa3KWFrnb5knq6SXFPi1UP7fn9pnEIrriBuYnXkcnhsLTLtK0208vexolYUoyTjzteCcKjd1qNHs=</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00077.html">7f080ed10703161827h7ff085ffu8ccdcdc232db3241@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00046.html">7f080ed10703140609p70d35295ye10ee5939da494a2@mail.gmail.com</a>&gt;	&lt;<a href="msg00057.html">1173960604.8066.341.camel@mrspell</a>&gt;	&lt;<a href="msg00058.html">7f080ed10703150700v2c7296behc146501949d618bf@mail.gmail.com</a>&gt;	&lt;<a href="msg00063.html">1173968940.8066.351.camel@mrspell</a>&gt;	&lt;<a href="msg00065.html">7f080ed10703150750k3c2b765fpfad3030a1db9ed12@mail.gmail.com</a>&gt;	&lt;<a href="msg00066.html">1173971938.8066.377.camel@mrspell</a>&gt;	&lt;<a href="msg00068.html">7f080ed10703150921g7469b0d6ia5506c3c47c537c8@mail.gmail.com</a>&gt;	&lt;<a href="msg00070.html">45F98244.4080902@bmb.leeds.ac.uk</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on March 17, 2007 - 02:28:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">The attached file is a Python module, try importing it and then
playing with its contents.  The module contains two singletons -
'Singleton' and 'NewSingleton'.  Both are instantiated in the same
manner as new relax data storage object (implementation B which we
voted for), the class name being masked by the instance reference.
NewSingleton is derived from the Singleton base class demonstrating
inheritance.  QID!</pre><br>
<pre style="margin: 0em;">These singletons are two completely different objects (in different
memory space) which can be used for completely different tasks and can
be used by completely different parts of the program all while being
true singletons - only one instance of each will ever exist in the
program.  If you cannot see this, I challenge you to write a counter
example module demonstrating that what this extremely basic module is
doing cannot be done.  On the other-hand if you cannot understand the
utility of this inheritance, behavioural modifications and code reuse
for objects with different stated purposes yet similar basic
behaviours, then there is nothing else I can argue.</pre><br>
<pre style="margin: 0em;">Edward</pre><br>
<tt><br>On 3/16/07, Gary S. Thompson &lt;garyt@xxxxxxxxxxxxxxx&gt; wrote:
</tt><blockquote class="blockquote"><pre style="margin: 0em;">Edward d'Auvergne wrote:</pre><br>
<pre style="margin: 0em;">&gt; On 3/16/07, Chris MacRaild &lt;c.a.macraild@xxxxxxxxxxx&gt; wrote:
&gt;
&gt;&gt; On Fri, 2007-03-16 at 01:50 +1100, Edward d'Auvergne wrote:
&gt;&gt; &gt; On 3/16/07, Chris MacRaild &lt;c.a.macraild@xxxxxxxxxxx&gt; wrote:
&gt;&gt; &gt; &gt; On Fri, 2007-03-16 at 01:00 +1100, Edward d'Auvergne wrote:
&gt;&gt; &gt; &gt; &gt; On 3/15/07, Chris MacRaild &lt;c.a.macraild@xxxxxxxxxxx&gt; wrote:
&gt;&gt; &gt; &gt; &gt; &gt; On Thu, 2007-03-15 at 00:09 +1100, Edward d'Auvergne wrote:
&gt;&gt; &gt; &gt; &gt; &gt; &gt; On 3/14/07, Chris MacRaild &lt;c.a.macraild@xxxxxxxxxxx&gt; wrote:
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; On Tue, 2007-03-13 at 19:51 +1100, Edward d'Auvergne wrote:
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Gary,
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; I've written some unit tests which are located in the file
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; 'test_suite/unit_tests/data/__init__.py'.  Would you
&gt;&gt; know what
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; modifications I need to apply to make these tests run?
&gt;&gt; These tests
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; are for the methods of the Data singleton class (the
&gt;&gt; relax data
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; storage object) which is located in
&gt;&gt; 'data/__init__.py'.  I haven't
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; used the statement 'from x import Data' for this class
&gt;&gt; so it is the
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; legal and ubiquitous usage of an __init__.py file.  Would
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; 'unit_test_runner.py' handle this code?
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Thanks,
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; Edward
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; P.S.  These tests demonstrate the utility of
&gt;&gt; subclassing the singleton
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; and is one reason I was arguing for the use of the
&gt;&gt; class import rather
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt; than reference import.
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt;
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; It is of course correct that the Singleton implimentation
&gt;&gt; I proposed
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; does not allow for subclassing. This however might well
&gt;&gt; be seen as a
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; design feature, given the well known conceptual problems
&gt;&gt; with
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; subclassing Singleton. Essentially, subclassing violates
&gt;&gt; the Singleton
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; Design Pattern:
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt;
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; class Singleton:
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt;     def __new__(self):
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt;         ...
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt;
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; class Sub(Singleton): pass
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt;
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; a = Singleton()
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; b = Sub()
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; isinstance(a,Singleton)
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; True
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; isinstance(b,Singleton)
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; True
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; a is b
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; False
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; &gt;&gt;&gt; a == b
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; False
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt;
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; ie. we have 2 instances of Singleton that are not the
&gt;&gt; same thing, and
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; not even equal! If this is the behaviour you want, then
&gt;&gt; you need
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; something other than Singleton. On the other hand, if you
&gt;&gt; really want
&gt;&gt; &gt; &gt; &gt; &gt; &gt; &gt; Singleton, then you can't also hope for subclassability.
&gt;&gt; &gt; &gt; &gt; &gt; &gt;
&gt;&gt; &gt; &gt; &gt; &gt; &gt; Actually one is an instance of Singleton and the other is
&gt;&gt; an instance
&gt;&gt; &gt; &gt; &gt; &gt; &gt; of Sub.
&gt;&gt; &gt; &gt; &gt; &gt;
&gt;&gt; &gt; &gt; &gt; &gt; The definition of inheritance is that an instance of the
&gt;&gt; subclass is
&gt;&gt; &gt; &gt; &gt; &gt; also an instance of the parent class. ie. b is an instance of
&gt;&gt; both Sub
&gt;&gt; &gt; &gt; &gt; &gt; and Singleton. Inheritance from a Singleton class is
&gt;&gt; therefore a logical
&gt;&gt; &gt; &gt; &gt; &gt; contradiction.
&gt;&gt; &gt; &gt; &gt;
&gt;&gt; &gt; &gt; &gt; That is actually incorrect!
&gt;&gt; &gt; &gt;
&gt;&gt; &gt; &gt; Sorry to drag this on, but I'm not incorrect here, and its a fairly
&gt;&gt; &gt; &gt; fundamental point of OO philosophy and practice that is well worth
&gt;&gt; &gt; &gt; getting right. This is pasted directly from my Python command
&gt;&gt; line (the
&gt;&gt; &gt; &gt; interpreter does not lie!):
&gt;&gt; &gt; &gt;
&gt;&gt; &gt; &gt; &gt;&gt;&gt; class A: pass
&gt;&gt; &gt; &gt; ...
&gt;&gt; &gt; &gt; &gt;&gt;&gt; class B(A): pass
&gt;&gt; &gt; &gt; ...
&gt;&gt; &gt; &gt; &gt;&gt;&gt; a= A()
&gt;&gt; &gt; &gt; &gt;&gt;&gt; b = B()
&gt;&gt; &gt; &gt; &gt;&gt;&gt; isinstance(a,A)
&gt;&gt; &gt; &gt; True
&gt;&gt; &gt; &gt; &gt;&gt;&gt; isinstance(a,B)
&gt;&gt; &gt; &gt; False
&gt;&gt; &gt; &gt; &gt;&gt;&gt; isinstance(b,B)
&gt;&gt; &gt; &gt; True
&gt;&gt; &gt; &gt; &gt;&gt;&gt; isinstance(b,A)
&gt;&gt; &gt; &gt; True
&gt;&gt; &gt; &gt;
&gt;&gt; &gt; &gt; Because B is a subclass of A, all instances of B are also
&gt;&gt; instances of A
&gt;&gt; &gt;
&gt;&gt; &gt; The 'isinstance()' built-in function will return true if object x is
&gt;&gt; &gt; an instance of the supplied class or, importantly, a subclass.  This
&gt;&gt; &gt; is what it's docstring says.  Try the following instead (after
&gt;&gt; &gt; reissuing the above statements):
&gt;&gt; &gt;
&gt;&gt; &gt; &gt;&gt;&gt; a is b
&gt;&gt; &gt; False
&gt;&gt; &gt; &gt;&gt;&gt; hash(a)
&gt;&gt; &gt; -1217311764
&gt;&gt; &gt; &gt;&gt;&gt; hash(b)
&gt;&gt; &gt; -1214788020
&gt;&gt; &gt; &gt;&gt;&gt; id(a)
&gt;&gt; &gt; -1217311764
&gt;&gt; &gt; &gt;&gt;&gt; id(b)
&gt;&gt; &gt; -1214788020
&gt;&gt; &gt;
&gt;&gt; &gt; If b was the same instance as a, then the first statement would return
&gt;&gt; &gt; true.  The two hash() statements show that a and b are different.  The
&gt;&gt; &gt; two id() statements show that they occupy different locations in
&gt;&gt; &gt; memory - the number is the object's memory address.  Another test is
&gt;&gt; &gt; populating the empty containers:
&gt;&gt; &gt;
&gt;&gt; &gt; &gt;&gt;&gt; a.x = 1
&gt;&gt; &gt; &gt;&gt;&gt; b.y = 2
&gt;&gt; &gt; &gt;&gt;&gt; dir(a)
&gt;&gt; &gt; ['__doc__', '__module__', 'x']
&gt;&gt; &gt; &gt;&gt;&gt; dir(b)
&gt;&gt; &gt; ['__doc__', '__module__', 'y']
&gt;&gt; &gt;
&gt;&gt; &gt; The instances a and b are very much different!
&gt;&gt;
&gt;&gt; This is all true, but misses the point. a and b are different objects,
&gt;&gt; but they are of the same type:
&gt;&gt;
&gt;&gt; &gt;&gt;&gt; type(a) is type(b)
&gt;&gt; True
&gt;
&gt;
&gt; They are necessarily the same type, both are &lt;type 'instance'&gt;.</pre><br>
<pre style="margin: 0em;"><br>yes but that isn't the class you need to look at object.__class__ and
object.__bases__ and so on resursivley...</pre><br>
<pre style="margin: 0em;">&gt;
&gt;&gt; and both of them are instances of the parent class A. So to go back to
&gt;&gt; where we started: for almost any implimentation of Singleton
&gt;
&gt;
&gt; Both are not instances of A.  The Python builtin function
&gt; 'isinstance()' is poorly named.  It returns True if object b is an
&gt; instance of class B.  But it also returns true if object b is an
&gt; instance of class B which is subclassed from A (isinstance(b, A)).
&gt; Note that there is no reference to an instance of A in this second
&gt; test, either here or when typing 'help(isinstance)').</pre><br>
<pre style="margin: 0em;">I beg to disagree, it isn't (however type is ;-)) It does exactly what
is says on the packet</pre><br>
<pre style="margin: 0em;">if you have class A and class B(A)
and instances a and b thereof</pre><br>
<pre style="margin: 0em;">a is an A
and b is an A and a B</pre><br>
<pre style="margin: 0em;">&gt;
&gt;
&gt;&gt; &gt;&gt;&gt; single = Singleton()
&gt;&gt; &gt;&gt;&gt; class Sub(Singleton): pass
&gt;&gt; ...
&gt;&gt; &gt;&gt;&gt; sub = Sub()
&gt;&gt; &gt;&gt;&gt; isinstance(sub,Singleton)
&gt;&gt; True
&gt;
&gt;
&gt; This is the second part of the isinstance test, seeing if sub is and
&gt; instance of some class which is itself subclassed from Singleton.
&gt;
&gt;
&gt;&gt; &gt;&gt;&gt; isinstance(single,Singleton)
&gt;&gt; True
&gt;
&gt;
&gt; This is the first part of the isinstance test, the actual testing if
&gt; it is an instance.
&gt;
&gt;
&gt;&gt; &gt;&gt;&gt; sub is single
&gt;&gt; False
&gt;&gt;
&gt;&gt; This breaches the Singleton design because we have two *different*
&gt;&gt; objects that are both instances of the Singleton class.
&gt;
&gt;
&gt; WRONG!!!  We now have two different singletons!  They occupy different
&gt; memory addresses and will have different contents.  For example one
&gt; dictionary type can be the relax data storage object and the other can
&gt; be an object storing the various components used in the chi-squared
&gt; equation, relaxation equations, spectral density values, and geometric
&gt; components all calculated by the module 'maths_fns.mf'.  Both these
&gt; two objects benefit by being singletons - the alternative currently
&gt; used by 'maths_fns.mf' is to pass a single data object into the
&gt; hundreds of functions which use that object.
&gt;
NO... you have two object ot type Singleton i.e. sub.__base__==singleton
it is a singleton as is single.__class__ both can be accepted in the
sample place and behave the same way this breaks the contract for
anything that is is a singleton. There can only be one instance of
singleton  within the interpreter. You can never have  two singletons
which share the same  type other than being an object.</pre><br>
<pre style="margin: 0em;">&gt;
&gt;&gt; To put this in terms of the favourite metaphore, because apple is a
&gt;&gt; subclass of fruit, all apples are also fruits (ie. all instances of
&gt;&gt; class Apple in also instances of class Fruit). Even if you have several
&gt;&gt; different apples, this does not make them any less fruity.
&gt;
&gt;
[snip to the chase]</pre><br>
<pre style="margin: 0em;">I don't know where to start quite. Chris's explanation is clear (and
correct).</pre><br>
<pre style="margin: 0em;">If one class derives from another it has an is a or inheritance contract.</pre><br>
<pre style="margin: 0em;">An apple is a fruit, a fruit is a fruit and a pear is a fruit. any where
you accept a fruit you have to accpet apples pears or straight fruit.</pre><br>
<pre style="margin: 0em;">Now the singleton pattern is behavioural not inheritance based. For each
class you call a singleton there can only be one instance of that type
in memory. So if you can have a print queue singleton there can only
ever be __one__ instance of a print queue singleton in memory. i.e. only
one memory address is associated with the class print queue. if you
subclass print queue to give you say an advanced print queue any object
is of type advanced print queue  is a  print queue and and an advanced
print queue all at the same time. now print queue was a singleton and so
must advanced print queue be. so again there can only be one memory
location associated with type advanced print queue and print queue. If
you make an instance of print queue which is not and advanced print
queue while you have an instance of advanced print queue in memory you
have broken the contract.</pre><br>
<pre style="margin: 0em;">Lets take it one step further.  Now consider if you sub class print
queue again to give a dumb print queue. That object is a print queue and
a dumb print queue all at the same time.  A print queue is a singleton
and so must be a dumb print queue. If you create an object of dumb print
queue no other memory location other than that __instance__ may be
associated with a print queue or an advanced print queue (which by its
inheritance relationsship to print queue has __to be a print queue__) .
As soon as you create another isntance  of either of these you break the
singleton contract because otf the inheritance contract. Except under
very strict conditions  there is a  very big impedance mismatch between
singleton and inheritance (which I can go into if need be).</pre><br>
<pre style="margin: 0em;">I am pretty secure with my undertanding of inheritance and this pattern
and it is just one of those unavoidable thing. If you label something as
a  singleton and there can only ever be one instance of that type in
memory. Anything you call a singleton  must be the only instance of that
type in memory whehter it is of that type directly or because you can
follow an  ineritance relationhsip to it.</pre><br>
<pre style="margin: 0em;">It would somethimes be nice two have to fermions that could both
occupied the same space (ever wanted to walk through a wall when someone
was cross at you) but they can't (tip you hat to mr pauli) they just are
not made that way and the same goes here!</pre><br>
<pre style="margin: 0em;"><br>regards
gary</pre><br>
<pre style="margin: 0em;">&gt;
&gt;
&gt; Edward
&gt;
&gt;
&gt; P.S.  For those still following this thread, this argument is not
&gt; related to what was voted upon :)
&gt;
&gt; _______________________________________________
&gt; relax (<a  href="http://nmr-relax.com">http://nmr-relax.com</a>)
&gt;
&gt; This is the relax-devel mailing list
&gt; relax-devel@xxxxxxx
&gt;
&gt; To unsubscribe from this list, get a password
&gt; reminder, or change your subscription options,
&gt; visit the list information page at
&gt; <a  href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
&gt;
&gt; .
&gt;</pre><br>
<pre style="margin: 0em;"><br>--
-------------------------------------------------------------------
Dr Gary Thompson
Astbury Centre for Structural Molecular Biology,
University of Leeds, Astbury Building,
Leeds, LS2 9JT, West-Yorkshire, UK             Tel. +44-113-3433024
email: garyt@xxxxxxxxxxxxxxx                   Fax  +44-113-2331407
-------------------------------------------------------------------</pre><br>
<pre style="margin: 0em;"><br></pre><br>
</blockquote><pre style="margin: 0em;">class Singleton:
    def __init__(self):
        self.a = 1

    def base_fn(self):
        print &quot;Hello&quot;

# Inheritance (create a new singleton extending/modifying the properties of 
the old).
class NewSingleton(Singleton):
    def __init__(self):
        self.a = -1

    def new_fn(self):
        print &quot;Bye&quot;

# Instantiate the singletons.
Singleton = Singleton()
NewSingleton = NewSingleton()

# Add some new objects.
Singleton.x = 2
NewSingleton.x = 3
NewSingleton.y = 2000

# Printouts.
print
print &quot;Singleton is NewSingleton: &quot; + `Singleton is NewSingleton`
print &quot;Contents of Singleton:    &quot; + `dir(Singleton)`
print &quot;Contents of NewSingleton: &quot; + `dir(NewSingleton)`
print &quot;Singleton.base_fn is NewSingleton.base_fn: &quot; + `Singleton.base_fn is 
NewSingleton.base_fn`
print
print &quot;Singleton.a:    &quot; + `Singleton.a`
print &quot;NewSingleton.a: &quot; + `NewSingleton.a`
print &quot;Singleton.x:    &quot; + `Singleton.x`
print &quot;NewSingleton.x: &quot; + `NewSingleton.x`
print

# Execute the methods.
print &quot;Singleton.base_fn():&quot;
Singleton.base_fn()
print &quot;NewSingleton.base_fn():&quot;
NewSingleton.base_fn()
print &quot;NewSingleton.new_fn():&quot;
NewSingleton.new_fn()
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00117" href="msg00117.html">Re: Vote for the design of the relax data storage object singleton.</a></strong>
<ul><li><em>From:</em> Chris MacRaild</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00046" href="msg00046.html">Vote for the design of the relax data storage object singleton.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00057" href="msg00057.html">Re: Vote for the design of the relax data storage object singleton.</a></strong>
<ul><li><em>From:</em> Chris MacRaild</li></ul></li>
<li><strong><a name="00058" href="msg00058.html">Re: Vote for the design of the relax data storage object singleton.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00063" href="msg00063.html">Re: Vote for the design of the relax data storage object singleton.</a></strong>
<ul><li><em>From:</em> Chris MacRaild</li></ul></li>
<li><strong><a name="00065" href="msg00065.html">Re: Vote for the design of the relax data storage object singleton.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00066" href="msg00066.html">Re: Vote for the design of the relax data storage object singleton.</a></strong>
<ul><li><em>From:</em> Chris MacRaild</li></ul></li>
<li><strong><a name="00068" href="msg00068.html">Re: Vote for the design of the relax data storage object singleton.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00070" href="msg00070.html">Re: Vote for the design of the relax data storage object singleton.</a></strong>
<ul><li><em>From:</em> Gary S. Thompson</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Mar 21 20:00:20 2007</div>  
</body>
</html>
