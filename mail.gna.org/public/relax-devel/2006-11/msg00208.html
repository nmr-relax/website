<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: [bug #7755] modsel.py error with "eliminate" &#45; still happening! -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneq.qnhiretarNtznvy.pbz> -->
<!--X-Date: Tue, 28 Nov 2006 04:22:15 +0100 -->
<!--X-Message-Id: 7f080ed10611271921w6d9ba9b6kf6b58e180cfb0e7d@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20061117&#45;050140.sv6928.43673@gna.org -->
<!--X-Reference: 20061120&#45;214715.sv6928.33029@gna.org -->
<!--X-Reference: 20061121&#45;163826.sv2782.17895@gna.org -->
<!--X-Reference: 59ADAF5CA6A8FC4C889BD4097D912BB1072D332D@its&#45;xchg4.massey.ac.nz -->
<!--X-Reference: 7f080ed10611240029h624b3ec7k43a45649b0aeae9@mail.gmail.com -->
<!--X-Reference: 59ADAF5CA6A8FC4C889BD4097D912BB1072D3330@its&#45;xchg4.massey.ac.nz -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [bug #7755] modsel.py error with &quot;eliminate&quot; - still happening! -- November 28, 2006 - 04:22</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: [bug #7755] modsel.py error with &quot;eliminate&quot; - still happening!</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00208" class="tabs">Index by Date</a> | <a href="threads.html#00208" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00207.html">Date Prev</a>] [<a href="msg00209.html">Date Next</a>] [<a href="msg00205.html">Thread Prev</a>] [<a href="msg00169.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Headey, Stephen&quot; &lt;S.J.Headey@xxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 28 Nov 2006 14:21:30 +1100</li>
<li class="menuitem">
<em>Cc</em>: Edward d Auvergne &lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt;, relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00208.html">7f080ed10611271921w6d9ba9b6kf6b58e180cfb0e7d@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00164.html">20061117-050140.sv6928.43673@gna.org</a>&gt;	&lt;<a href="msg00178.html">20061120-214715.sv6928.33029@gna.org</a>&gt;	&lt;<a href="msg00188.html">20061121-163826.sv2782.17895@gna.org</a>&gt;	&lt;<a href="msg00200.html">59ADAF5CA6A8FC4C889BD4097D912BB1072D332D@its-xchg4.massey.ac.nz</a>&gt;	&lt;<a href="msg00201.html">7f080ed10611240029h624b3ec7k43a45649b0aeae9@mail.gmail.com</a>&gt;	&lt;<a href="msg00205.html">59ADAF5CA6A8FC4C889BD4097D912BB1072D3330@its-xchg4.massey.ac.nz</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on November 28, 2006 - 04:22:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">I wonder what is triggering this then?  The ZeroDivisionError is
definitely a bug although it is relatively rare as I have run large
amounts of data through this code before without issue.  Would you
like to create a bug report for it?</pre><br>
<pre style="margin: 0em;">Cheers,</pre><br>
<pre style="margin: 0em;">Edward</pre><br>
<pre style="margin: 0em;">P.S.  There's no need to attach data to the report if you link back to
bug #7755 (<a  href="https://gna.org/bugs/?7755">https://gna.org/bugs/?7755</a>).</pre><br>
<tt><br>On 11/27/06, Headey, Stephen &lt;S.J.Headey@xxxxxxxxxxxx&gt; wrote:
</tt><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward,</pre><br>
<pre style="margin: 0em;">I got the same error message for model 5 when I ran 300 simulations, so there 
must be some other factor at play, unless 300 is also not enough.</pre><br>
<pre style="margin: 0em;">Cheers,
Steve</pre><br>
<pre style="margin: 0em;"><br>-----Original Message-----
From:   Edward d'Auvergne [<a  href="mailto:edward.dauvergne@xxxxxxxxx">mailto:edward.dauvergne@xxxxxxxxx</a>]
Sent:   Fri 11/24/2006 9:29 PM
To:     Headey, Stephen
Cc:     Edward d Auvergne; relax-devel@xxxxxxx
Subject:        Re: [bug #7755] modsel.py error with &quot;eliminate&quot; - still 
happening!</pre><br>
<pre style="margin: 0em;">Yes, I have replicated and confirmed bug #7755
(<a  href="http://gna.org/bugs/?7755">http://gna.org/bugs/?7755</a>).  I'm in the process of working out a
solution.  The ZeroDivisionError is another bug I have encountered
whereby all Monte Carlo simulations have failed and have been
eliminated.  Hence n, the number of Monte Carlo simulations is zero
and the error occurs.  The problem here is that not enough MC
simulations have been run, but I'll fix the error message anyway.</pre><br>
<pre style="margin: 0em;">Edward</pre><br>
<pre style="margin: 0em;"><br>On 11/24/06, Headey, Stephen &lt;S.J.Headey@xxxxxxxxxxxx&gt; wrote:
&gt; Hi Edward,
&gt;
&gt; I've sorted out the corrupt data files and started again with 
model-free.py. (New data files attached to bug #7755). Models 1-4 seem to run 
OK. Model 5 gives the following error after MC simulations.
&gt;
&gt; relax&gt; minimise(*args=('newton',), run='m5', func_tol=1e-25, 
max_iterations=10000000, constraints=1, scaling=1, print_flag=1)
&gt; Simulation 1
&gt; Simulation 2
&gt; Simulation 3
&gt; Simulation 4
&gt; Simulation 5
&gt; Simulation 6
&gt; Simulation 7
&gt; Simulation 8
&gt; Simulation 9
&gt; Simulation 10
&gt;
&gt; relax&gt; eliminate(run='m5', function=None, args=None)
&gt;
&gt; relax&gt; monte_carlo.error_analysis(run='m5', prune=0.0)
&gt; Traceback (most recent call last):
&gt;   File &quot;/usr/local/bin/relax&quot;, line 454, in ?
&gt;     Relax()
&gt;   File &quot;/usr/local/bin/relax&quot;, line 166, in __init__
&gt;     self.interpreter.run()
&gt;   File &quot;/usr/local/relax/prompt/interpreter.py&quot;, line 213, in run
&gt;     run_script(intro=self.relax.intro_string, local=self.local, 
script_file=self.relax.script_file, quit=1)
&gt;   File &quot;/usr/local/relax/prompt/interpreter.py&quot;, line 388, in run_script
&gt;     console.interact(intro, local, script_file, quit)
&gt;   File &quot;/usr/local/relax/prompt/interpreter.py&quot;, line 340, in 
interact_script
&gt;     execfile(script_file, local)
&gt;   File &quot;model-free2.py&quot;, line 57, in ?
&gt;     monte_carlo.error_analysis(name)
&gt;   File &quot;/usr/local/relax/prompt/monte_carlo.py&quot;, line 145, in error_analysis
&gt;     self.__relax__.generic.monte_carlo.error_analysis(run=run, prune=prune)
&gt;   File &quot;/usr/local/relax/generic_fns/monte_carlo.py&quot;, line 219, in 
error_analysis
&gt;     Xav = Xsum / float(n)
&gt; ZeroDivisionError: float division
&gt;
&gt;
&gt; I also ran the modsel.py script specifying models 1-4. I still get the same 
&quot;list index out of range&quot; error.
&gt;
&gt; relax&gt; eliminate(run=None, function=None, args=None)
&gt; Traceback (most recent call last):
&gt;   File &quot;/usr/local/software/relax-1.2/relax&quot;, line 454, in ?
&gt;     Relax()
&gt;   File &quot;/usr/local/software/relax-1.2/relax&quot;, line 166, in __init__
&gt;     self.interpreter.run()
&gt;   File &quot;/usr/local/software/relax-1.2/prompt/interpreter.py&quot;, line 213, in 
run
&gt;     run_script(intro=self.relax.intro_string, local=self.local, 
script_file=self.relax.script_file, quit=1)
&gt;   File &quot;/usr/local/software/relax-1.2/prompt/interpreter.py&quot;, line 388, in 
run_script
&gt;     console.interact(intro, local, script_file, quit)
&gt;   File &quot;/usr/local/software/relax-1.2/prompt/interpreter.py&quot;, line 340, in 
interact_script
&gt;     execfile(script_file, local)
&gt;   File &quot;modsel.py&quot;, line 20, in ?
&gt;     eliminate()
&gt;   File &quot;/usr/local/software/relax-1.2/prompt/eliminate.py&quot;, line 97, in 
eliminate
&gt;     self.relax.generic.eliminate.eliminate(run=run, function=function, 
args=args)
&gt;   File &quot;/usr/local/software/relax-1.2/generic_fns/eliminate.py&quot;, line 100, 
in eliminate
&gt;     values = param_values(self.run, i, sim_index=j)
&gt;   File &quot;/usr/local/software/relax-1.2/specific_fns/model_free.py&quot;, line 
1499, in get_param_values
&gt;     self.param_vector = self.assemble_param_vector(index=index, 
sim_index=sim_index)
&gt;   File &quot;/usr/local/software/relax-1.2/specific_fns/model_free.py&quot;, line 
223, in assemble_param_vector
&gt;     param_vector.append(self.relax.data.res[self.run][i].s2_sim[sim_index])
&gt; IndexError: list index out of range
&gt;
&gt; Cheers,
&gt; Stephen
&gt;
&gt; -----Original Message-----
&gt; From:   Edward d Auvergne [<a  href="mailto:NO-REPLY.INVALID-ADDRESS@xxxxxxx">mailto:NO-REPLY.INVALID-ADDRESS@xxxxxxx</a>]
&gt; Sent:   Wed 11/22/2006 5:38 AM
&gt; To:     Edward d Auvergne; Headey, Stephen; relax-devel@xxxxxxx
&gt; Cc:
&gt; Subject:        [bug #7755] modsel.py error with &quot;eliminate&quot;
&gt;
&gt;
&gt; Update of bug #7755 (project relax):
&gt;
&gt;                   Status:                    None =&gt; Confirmed
&gt;         Operating System:               GNU/Linux =&gt; All systems
&gt;
&gt;     _______________________________________________________
&gt;
&gt; Follow-up Comment #1:
&gt;
&gt; The problem here is that the Monte Carlo simulation data structures are not
&gt; being properly recreated by the model-free results reading functions.  I
&gt; tried this using 10 Monte Carlo simultations together with the relaxation
&gt; data attached to bug #7787 (<a  href="https://gna.org/bugs/?7787">https://gna.org/bugs/?7787</a>).  After reading the
&gt; results files, self.relax.data.sim_number[run] was set to 1300!  This is 10
&gt; times 130 spins!  Hence elements beyond the end of the Monte Carlo 
simulation
&gt; arrays (of length 10) are being accessed.
&gt;
&gt;     _______________________________________________________
&gt;
&gt; Reply to this item at:
&gt;
&gt;   &lt;<a  href="http://gna.org/bugs/?7755">http://gna.org/bugs/?7755</a>&gt;
&gt;
&gt; _______________________________________________
&gt;   Message sent via/by Gna!
&gt;   <a  href="http://gna.org/">http://gna.org/</a>
&gt;
&gt;
&gt;
&gt;
&gt;</pre><br>
<pre style="margin: 0em;"><br></pre><br>
<br>
</blockquote><pre style="margin: 0em;"><br></pre><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00164" href="msg00164.html">[bug #7755] modsel.py error with &quot;eliminate&quot;</a></strong>
<ul><li><em>From:</em> Stephen Headey</li></ul></li>
<li><strong><a name="00178" href="msg00178.html">[bug #7755] modsel.py error with &quot;eliminate&quot;</a></strong>
<ul><li><em>From:</em> Stephen Headey</li></ul></li>
<li><strong><a name="00188" href="msg00188.html">[bug #7755] modsel.py error with &quot;eliminate&quot;</a></strong>
<ul><li><em>From:</em> Edward d Auvergne</li></ul></li>
<li><strong><a name="00200" href="msg00200.html">RE: [bug #7755] modsel.py error with &quot;eliminate&quot; - still happening!</a></strong>
<ul><li><em>From:</em> Headey, Stephen</li></ul></li>
<li><strong><a name="00201" href="msg00201.html">Re: [bug #7755] modsel.py error with &quot;eliminate&quot; - still happening!</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00205" href="msg00205.html">RE: [bug #7755] modsel.py error with &quot;eliminate&quot; - still happening!</a></strong>
<ul><li><em>From:</em> Headey, Stephen</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Nov 28 04:40:50 2006</div>  
</body>
</html>
