<!-- MHonArc v2.6.10 -->
<!--X-Subject: [Relax&#45;devel] Re: python to c++ -->
<!--X-From-R13: Sqjneq q'Ohiretar <rqjneq.qnhiretarNtznvy.pbz> -->
<!--X-Date: Mon, 09 Jan 2006 06:02:59 +0100 -->
<!--X-Message-Id: 7f080ed10601082101s39030d97l@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: c225763e0601071632r6b3af884hd6a4d2efd9459f66@mail.gmail.com -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>[Relax-devel] Re: python to c++ -- January 09, 2006 - 06:02</title>
<link rel="stylesheet" type="text/css" href="http://home.gna.org/admin/style.css"> 
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h1>[Relax-devel] Re: python to c++ (January 09, 2006 - 06:02)</h1>
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00001" class="tabs">Index by Date</a> | <a href="threads.html#00001" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00000.html">Date Prev</a>] [<a href="msg00002.html">Date Next</a>] [<a href="msg00000.html">Thread Prev</a>] [<a href="msg00002.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<div class="boxtitle">Headers</div>
<div class="boxitemalt">
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Andrew Perry &lt;<a href="mailto:andrewjamesperry@DOMAIN.HIDDEN">andrewjamesperry@xxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: [Relax-devel] Re: python to c++</li>
<li><em>From</em>: Edward d'Auvergne &lt;<a href="mailto:edward.dauvergne@DOMAIN.HIDDEN">edward.dauvergne@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Mon, 9 Jan 2006 16:01:20 +1100</li>
<li><em>Cc</em>: <a href="mailto:relax-devel@DOMAIN.HIDDEN">relax-devel@xxxxxxx</a></li>
<li><em>Domainkey-signature</em>: a=rsa-sha1; q=dns; c=nofws; s=beta; d=gmail.com;	h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;	b=PaPFTswnYs8rfarJYq3dr1sljuuolcpepn28SpxtZKgZ+PjOvydUBTCVNAVyZcOIgDgF51F8cVLCfwUm39w2kKW3SOiB3Uon1PyvQnf48XLzEd3WZ2YikUCvZ5TuFrDkez7vk3OYJtCRar8Ep3/C0+/anmCkQitk4NF428Ao5+8=</li>
<li><em>Message-id</em>: &lt;<a href="msg00001.html">7f080ed10601082101s39030d97l@mail.gmail.com</a>&gt;</li>
<li><em>References</em>: &lt;c225763e0601071632r6b3af884hd6a4d2efd9459f66@mail.gmail.com&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div>
<p>&nbsp;</p>
<div class="data">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>I think I'm on the right track with the low level Python/C API.  I've
worked out how to build the shared objects and get them to import into
relax.  Now I need a bit more C knowledge to get the functions
functional.  This approach is probably the best as I now know how to
include Fortran code as well.  You use one of the C/Fortran APIs to
use the Fortran functions in the C code, the functions of which are
used by the Python code.  That way I can start using the fast linear
algebra functions of LAPACK or BLAS (maybe even ATLAS) to massively
speed up the number crunching in relax.

Oh, the use of the distutils package for compiling the code and
installing relax did not work very well.  It seems to be designed for
site-packages, building the code creates a directory called 'build' in
the base directory, followed by a directory named after the build
architecture, then a few other directories, and finally the name of
the actual directory the module belongs to (eg 'maths_fns').  Running
'python setup.py install' then copies the compiled *.so file into the
'site-packages' directory of the global python install.  Modifying
distutils to be useful seems like too much of a pain.  It will be very
useful once I spin the minimisation code out into it's own project but
for relax, distulits is not the right approach.

I've therefore decided to use Makefiles.  I've migrated my scripts for
cleaning up the byte compiled python files, the *.o and *.so files,
etc into the Makefile (without any modification of the rm command). 
There is also the relax manual compilation script, HTML version of the
manual compilation script, the packaging script, etc which can be
migrated to make rules.  It's a lot simpler than the distutil package,
although much less portable.

Edward


P.S.  I hope you don't mind me forwarding this to the relax-devel mailing list.


On 08/01/06, Andrew Perry &lt;andrewjamesperry@xxxxxxxxx&gt; wrote:
&gt; I found yet another python to &quot;something faster maybe&quot; converter:
&gt;
&gt; <a  href="http://shed-skin.blogspot.com/">http://shed-skin.blogspot.com/</a>
&gt;
&gt; Probably won't be much use yet, but I've added it to my list :)
&gt;


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<div class="boxtitle">Related Mails</div>
<div class="boxitemalt">
<ul>
<li>Prev by Date:
<strong><a href="msg00000.html">[Relax-devel] Creation of an unstable development fork from 1.0	called 1.1.</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00002.html">[Relax-devel] Re: python to c++</a></strong>
</li>

<li>Previous by thread:
<strong><a href="msg00000.html">[Relax-devel] Creation of an unstable development fork from 1.0	called 1.1.</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00002.html">[Relax-devel] Re: python to c++</a></strong>
</li>

</ul>
</div>
<br /><br /><br />

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Jan 13 03:20:27 2006</div>  
</body>
</html>
