<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Mon, 29 Jul 2013 16:37:15 +0200 -->
<!--X-Message-Id: CAED9pY83YxzoWbb9g8mSQe8bkGHpiqeM9UyShp+xVozApk1rHQ@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 51F41DB9.9020400@purdue.edu -->
<!--X-Reference: CAED9pY8k=3KSaaBqStLEBaWhAtd4r2C=kuuB=ZtCUJWhH5MyDA@mail.gmail.com -->
<!--X-Reference: 51F66A23.6010200@ibs.fr -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: -- July 29, 2013 - 16:37</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re:</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00152" class="tabs">Index by Date</a> | <a href="threads.html#00152" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00151.html">Date Prev</a>] [<a href="msg00153.html">Date Next</a>] [<a href="msg00151.html">Thread Prev</a>] [<a href="msg00156.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Paul Schanda &lt;paul.schanda@xxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Mon, 29 Jul 2013 16:36:44 +0200</li>
<li class="menuitem">
<em>Cc</em>: Dominique Marion &lt;Dominique.Marion@xxxxxx&gt;,	&quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:sender:in-reply-to:references:date	:x-google-sender-auth:message-id:subject:from:to:cc:content-type;	bh=5AHMSEg8yaUR1PM+v9obkX6Jgz2ByvdtVztMBME0O+Q=;	b=aZ3p1Y3f2iPD8S/+9kEjWyQPao6afKMm2y2ZZBbVpDGoSv8+f7J3CmieoqNm/2sOKx	fUa5l0HZgugmEFiwiJ+ymwV+Aazx3xKSEPYpjBVrRt8c1CpQcjNZ5MFV+yChf/0RVqfD	mOKHEqoQki60TDMsenraiGP92SE482uRb0A3apOqMaQCx3TYi35yUGMm7TAl1QfLKWM1	aguXhovXuiWcuxxTTta0YzntmS0L93irmtHrRwFor0NlhRMFcU1tJKUw93xgIBBBrZa6	n+aiM9Y/B5LvNAKrm7Kc5lL11rTU9wv/xZfgftlPk8Pksvfchh+j2x5YQy02Z1gUy4F5	2R9A==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00152.html">CAED9pY83YxzoWbb9g8mSQe8bkGHpiqeM9UyShp+xVozApk1rHQ@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;51F41DB9.9020400@xxxxxxxxxx&gt;	&lt;CAED9pY8k=3KSaaBqStLEBaWhAtd4r2C=kuuB=ZtCUJWhH5MyDA@xxxxxxxxxxxxxx&gt;	&lt;51F66A23.6010200@xxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on July 29, 2013 - 16:37:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

I have addressed the second part of your message below:


</pre><blockquote class="blockquote"><pre style="margin: 0em;">I have had a look at your thoughts about the joint fit of multiple data in
one of your previous detailed e-mails. I agree that this would be a nice
feature, but that some parts of it might take quite some effort. Mathilde is
going to leave soon to another lab, so we have to see whether we have
capacities to push these developments further.
</pre></blockquote><pre style="margin: 0em;">

When there is interesting science to be uncovered, one can always find
a way ;)  I hope to help you benefit from from the project relax.
Just as there are benefits for myself, namely citations for my
published papers.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">For us, the first step is to
get relax running and get familiar with it.
</pre></blockquote><pre style="margin: 0em;">

I can see that you have been having a few problems.  I would highly
recommend using the stock Python distribution files from
<a  rel="nofollow" href="http://python.org">http://python.org</a> rather than the Enthough Python Distribution,
special Mac OS X frameworks, etc.  Compiling the C modules really
shouldn't be difficult once you have a C compiler installed on the
system, but using non-standard Python really complicates the game.
Especially if you then have multiple Python versions on the system -
for example the default Python in the PATH environment may not be that
used by the installed scons version (which is exactly Mathilde's
current problem).  For code development, being able to compile the
modules is crucial.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">In the course of our projects,
developing such tools, e.g. joint SQ and MQ fitting, might turn out to be
crucial, so we will probably end up doing that at some point.
</pre></blockquote><pre style="margin: 0em;">

I already pretty much know how this should be cleanly implemented in
relax so, when someone is ready and interested in developing this, I
can point them in the correct direction.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">We have a routine now that jointly fits R1rho and CPMG data, so it would be
pretty straightforward for us to send that to you. It just calculates a
target function that consists of either the CPMG expression or the R1rho
expression. We now do it in a very clumsy way, so we explicitly fix it such
that, e.g. the first set of parameters in a list of fitting parameters (for
fmin or leastsq) is for R1rho, then then next parameters are for CPMG at
B0=600, then for CPMG at B0=700 etc. This is really unelegant, as one has to
respect exactly and precisely this order or data.
</pre></blockquote><pre style="margin: 0em;">

This code is not necessary.  The design of relax is highly modular so,
if the dispersion models are already supported, implementation is
easy:

- Add a new joint model name, description and definition (i.e. the
parameters of the model).
- Add a test for the presence of R1rho and CPMG data if this model is chosen.
- Add a description to the relax manual.
- Duplicate one of the func_*() target function in
target_functions.relax_disp and modify it to pass the CPMG data into
one model in lib.dispersion and the R1rho data into the other.
- Create a system test.

This is steps 1, 2, 4, 5, 6, and 7 of the tutorial at
<a  rel="nofollow" href="http://thread.gmane.org/gmane.science.nmr.relax.devel/3907">http://thread.gmane.org/gmane.science.nmr.relax.devel/3907</a>.  These
steps usually take me between 6 hours and one day to complete, but for
someone starting to learn how to code in relax, it would obviously be
longer.  It is the system test that takes the longest, but is the most
important step.  Step 3 is the relax library code for the
lib.dispersion modules which calculate R2eff/R1rho' values.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">In addition, the function
currently optimizes three residues at the same time, so if fact the list of
fit parameters is a very long and unhandy combination of data types and
residues numbers. This works for this particular data we have at hand, but
is far from being universal. Making this a more universal thing would be
much more complicated, and you would probably be in a better situation
getting it to run, as my programming knowledge is not quite at your level, I
believe.
</pre></blockquote><pre style="margin: 0em;">

Such a solution would never be able to sneak its way into relax ;)
Together with Sebastien Morin's code, we have built a flexible
framework for dispersion which will hopefully be highly beneficial for
implementing a much cleaner solution.  And in relax, there are many
tools (functions, modules, data models, protocols, libraries, etc.)
which will allow elegant solutions to be found.  The modularity and
clean code separation in relax really enforces good code.  The
practical details of each solution can be discussed on this mailing
list in depth first.  But there will be no limitations for the
implemented solution.  And relax works with spin systems rather than
residues, so it does not matter if the data is from a methyl group,
the backbone, or anywhere else.  The modularity and flexibility of
relax means that the user can input their data in any way, order,
direction, etc. they wish.  It is part of relax's design that data can
be input at any time and in any way the user wishes (in the scripting
UI anyway, the GUI requires certain constraints on this).  It is
considered a bug if relax does not behave the way a user expects.
Nowadays, with the comprehensive test suite, users find it quite
difficult to break relax.

Note that the level of programming knowledge does not matter.  I will
always help someone to become a relax developer, even if they do not
know how to code, as long as they have interest in advancing the
project for their own benefits.  A few of the relax developers learnt
to code by contributing to relax.  And I will always help with design,
point to what should be done next, etc., whenever help is asked for.
And I check every line of code that is contributed to relax to be sure
that there are no bugs and that the solution is the most elegant and
flexible possible.

Regards,

Edward


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00146" href="msg00146.html">re:</a></strong>
<ul><li><em>From:</em> Nikolai Skrynnikov</li></ul></li>
<li><strong><a name="00148" href="msg00148.html">Re:</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00150" href="msg00150.html">Re:</a></strong>
<ul><li><em>From:</em> Paul Schanda</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Jul 30 11:20:09 2013</div>  
</body>
</html>
