<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: {1H}&#45;15N NOE analysis -->
<!--X-From-R13: Eronfgvra [beva <fronfgvra.zbeva.1Nhyniny.pn> -->
<!--X-Date: Wed, 11 Apr 2007 16:43:25 +0200 -->
<!--X-Message-Id: 461CF3E9.1090508@ulaval.ca -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 169D09BF&#45;FE31&#45;46FD&#45;A80D&#45;45C613B839B1@gmail.com -->
<!--X-Reference: 7f080ed10703271911s3f1727a2i8b53bb854595815@mail.gmail.com -->
<!--X-Reference: B1B1C8E7&#45;9AA8&#45;42B4&#45;B16D&#45;078ADCF785E4@gmail.com -->
<!--X-Reference: 7f080ed10703290643g402bdccdudef56ef7dc1d7649@mail.gmail.com -->
<!--X-Reference: 460C1357.4080702@ulaval.ca -->
<!--X-Reference: 7f080ed10704100033h7a9cdc42uc87c0af7783c0477@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: {1H}-15N NOE analysis -- April 11, 2007 - 16:43</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: {1H}-15N NOE analysis</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00004" class="tabs">Index by Date</a> | <a href="threads.html#00004" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00003.html">Date Prev</a>] [<a href="msg00005.html">Date Next</a>] [<a href="msg00003.html">Thread Prev</a>] [<a href="msg00002.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Wed, 11 Apr 2007 10:42:49 -0400</li>
<li class="menuitem">
<em>Cc</em>: relax-users@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00004.html">461CF3E9.1090508@ulaval.ca</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;169D09BF-FE31-46FD-A80D-45C613B839B1@xxxxxxxxx&gt;		&lt;7f080ed10703271911s3f1727a2i8b53bb854595815@xxxxxxxxxxxxxx&gt;		&lt;B1B1C8E7-9AA8-42B4-B16D-078ADCF785E4@xxxxxxxxx&gt;		&lt;7f080ed10703290643g402bdccdudef56ef7dc1d7649@xxxxxxxxxxxxxx&gt;		&lt;460C1357.4080702@xxxxxxxxx&gt;	&lt;7f080ed10704100033h7a9cdc42uc87c0af7783c0477@xxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Thunderbird 1.5.0.10 (X11/20070309)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Sebastien Morin</strong> on April 11, 2007 - 16:43:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

I agree with Edward about the fact that the 9 combinations for three
independent sets should not be the default as this implies that datasets
were acquired at the same time, with the same spectrometer, etc...
However, when such data are available, I think this approach would yield
the best error estimations...

As for the new noe.analysis_type() function, I think this is a
sufficient approach as it allows the user to choose its preferred error
analysis method and keeps backwards compatibility...

Cheers


Séb




Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

Sorry, I have been unable to respond to emails or work on relax for a
little while.  I don't think that the 9 combinations for three
independent sets should be the default.  Unless all six sets are
collected interleaved as one experiment on the same spectrometer, I
don't know if I could trust two spectra of the same type to have
exactly the same peak height after the removal of the noise (obviously
noise removal is impossible).  The combinatorial error analysis
approach should be optional.

The  experiment number argument could still be used to input the peak
intensities and the type of error analysis could be specified by a new
user function such as noe.analysis_type().  If this user function is
not called, then the automatic determination of the error analysis to
use can be carried out (see the post at
<a  rel="nofollow" href="https://mail.gna.org/public/relax-users/2007-03/msg00005.html">https://mail.gna.org/public/relax-users/2007-03/msg00005.html</a>).  This
will allow for backwards compatibility with relax scripts.  Seb, do
you see this approach as being sufficient?

Cheers,

Edward


On 3/30/07, Sebastien Morin &lt;sebastien.morin.1@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi all

I agree with Edward about the general approach.

However, I think that when using multiple NOE sets, different spectra
(with and without saturation) shouldn't be joined together before the
analysis to permit another type of error analysis to be performed.
Hence, NOE values shouldn't be input, but the actual raw data.

Let's say you record 3 spectra with saturation and 3 spectra without
saturation. With the approach proposed before, you get 3 sets from which
you can extract errors. However, if you treat every spectrum separately,
you get 9 sets of NOEs...

1. sat-1 + nosat-1
2. sat-1 + nosat-2
3. sat-1 + nosat-3
4. sat-2 + nosat-1
5. sat-2 + nosat-2
6. sat-2 + nosat-3
7. sat-3 + nosat-1
8. sat-3 + nosat-2
9. sat-3 + nosat-3

From those 9 sets, the error calculated can be much more exact relative
to reality.

This approach has been used before in Renner et al. (JBNMR, 23 : 23-33,
2002).

Bye


Sébastien :)





Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">I think I have an idea as to how relax can be made to handle the
multiple NOE experiments (at a single field strength).  The noe.read()
user function could be modified to include an argument such as
'exp_num'.  The standard single NOE 'ref' and 'sat' peak intensity
list will then default to exp_num=0.  The noe.error() would also
default to exp_num=0 and hence a user with a single NOE experiment
won't see any differences.  This is important for compatibility
requirements between the 1.2 relax versions.

For those with multiple NOE experiments at a single field strength,
the 'exp_num' argument can be changed from 0 to 1 or higher.  The rest
of the procedure will be automatic from the perspective of the user
and the NOE calculation is carried out as normal.  If more than a
single experiment has been loaded into that run, the calc() user
function can determine what to do next.  For the NOE value, this can
be averaged.  For the NOE error two options will be possible.  Firstly
if the noe.error() user function has not been invoked, then the NOE
error can be calculated from the standard deviations of a single spin
system peak intensity (with a RelaxError thrown if only two
experiments have been loaded).  Secondly if errors have been set for
all loaded spectra, then the standard NOE error formula can be applied
and the error for a single spin averaged across the multiple NOE
experiments.

Does anyone see any problems with this approach?  If not I'll try to
implement it soon.

Cheers,

Edward


On 3/29/07, Douglas Kojetin &lt;douglas.kojetin@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward,

We currently use the second method you proposed below (calculate the
error from the deviations between peak intensities in the three
spectra).  Both methods could be implemented, then the user could
choose their preferred method.

Doug



On Mar 27, 2007, at 10:11 PM, Edward d'Auvergne wrote:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

Unfortunately relax doesn't have the ability to do this but the
functionality could be added (it could even be implemented in the
relax script if all else fails).  The averaging of the NOE for the
three sets is obvious, but how would you like to carry out error
analysis?  Do you wish to use the RMSD of the base plane noise,
calculate three standard deviations for each spin system, and then
average that error?  Do you wish to calculate the error from the
deviations between peak intensities in the three spectra?  Or is
</pre></blockquote></blockquote></blockquote><pre style="margin: 0em;">there
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">another way to calculate the error that you would like to use?

Cheers,

Edward


On 3/28/07, Douglas Kojetin &lt;douglas.kojetin@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi All,

Does anyone have an example noe.py script to analyze and average
three identical {1H}-15N NOE experiments?

Thanks,
Doug

_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>

</pre></blockquote></blockquote><pre style="margin: 0em;">


</pre></blockquote><pre style="margin: 0em;">

_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>

</pre></blockquote><pre style="margin: 0em;">

-- 
         ______________________________________
     _______________________________________________
    |                                               |
   || Sebastien Morin                               ||
  ||| Etudiant au PhD en biochimie                  |||
 |||| Laboratoire de resonance magnetique nucleaire ||||
||||| Dr Stephane Gagne                             |||||
 |||| CREFSIP (Universite Laval, Quebec, CANADA)    ||||
  ||| 1-418-656-2131 #4530                          |||
   ||                                               ||
    |_______________________________________________|
         ______________________________________



</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

-- 
         ______________________________________    
     _______________________________________________
    |                                               |
   || Sebastien Morin                               ||
  ||| Etudiant au PhD en biochimie                  |||
 |||| Laboratoire de resonance magnetique nucleaire ||||
||||| Dr Stephane Gagne                             |||||
 |||| CREFSIP (Universite Laval, Quebec, CANADA)    ||||
  ||| 1-418-656-2131 #4530                          |||
   ||                                               ||
    |_______________________________________________|
         ______________________________________    




</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00000" href="msg00000.html">Re: {1H}-15N NOE analysis</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00001" href="msg00001.html">Re: {1H}-15N NOE analysis</a></strong>
<ul><li><em>From:</em> Sebastien Morin</li></ul></li>
<li><strong><a name="00003" href="msg00003.html">Re: {1H}-15N NOE analysis</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Apr 12 11:40:32 2007</div>  
</body>
</html>
