<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: r23323 &#45; /branches/disp_speed_compare/ -->
<!--X-From-R13: "Sqjneq q'Ohiretar" &#60;rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Thu, 22 May 2014 14:11:12 +0200 -->
<!--X-Message-Id: CAED9pY9OcvcXqQQhgsL3JR&#45;ykdLj6R0LO1ky4gN0nECA90NHSA@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1WnOZv&#45;0008Ru&#45;3C@subversion.gna.org -->
<!--X-Reference: CAED9pY&#45;x6Z_mWHj6N&#45;pWfKMkCU96uvZ0JFxU_G20opExUZQPwQ@mail.gmail.com -->
<!--X-Reference: CAED9pY9RamGvMn=ZY08e4pkg26PXDLB2B9VCPxL84iO03Ck44Q@mail.gmail.com -->
<!--X-Reference: CA+CBx2NbEs6JvfAm95VhedsEmqMoTFv1&#45;0MzNNmrAcihQY3ZwQ@mail.gmail.com -->
<!--X-Reference: CAED9pY9a=AM_vs5tPWAfkrBb&#45;5PRPOTP6wkSQb+di5NCk+7mdQ@mail.gmail.com -->
<!--X-Reference: CAED9pY9n0wqfzk8sz6Zh3QbQVjyCb0cKZFV6RzWz8LYKdGPUZA@mail.gmail.com -->
<!--X-Reference: CA+CBx2PA&#45;ATJ8&#45;fqqEJe1f3s_DY1VSzHZDErjEHRqRMjS13Uog@mail.gmail.com -->
<!--X-Reference: CAED9pY&#45;tuOZ5FqfBoPwd=5hHaX+b+G9044b+pSR_HcSq=CBTzQ@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: r23323 - /branches/disp_speed_compare/ -- May 22, 2014 - 14:11</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: r23323 - /branches/disp_speed_compare/</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00448" class="tabs">Index by Date</a> | <a href="threads.html#00448" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00447.html">Date Prev</a>] [<a href="msg00449.html">Date Next</a>] [<a href="msg00447.html">Thread Prev</a>] [<a href="msg00449.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 22 May 2014 14:10:21 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:date:message-id:subject :from:to:cc:content-type:content-transfer-encoding; bh=y98nUGXyolOzn9cGs+FPhdyxudyMoYiyS0L3eRKMFxE=; b=lwB1qhgwImYTKn7yv1SfeEnwVI7U6l2S9wd5x5iVYo1Fl5CDae/li7l3kDcoWXJ1VH Ndpc6tSklNJfABjRg3GYkL+mkW23w1uEnbpxx6ya0yovsHcqlgPA+QJi79Yil+F9ty8d VnanuOyz0uJtQuqxL1toUV+RITfZcjRhHG3UPha7G1dpkup1H+SP7xu0M50c2Q6SfBLz QqZZsg9BLXX0VVs9vZLgB023Pwo0tKBh/IxXst++haw+2AuXRtxsAa3anuyrP4zkUIex o5YUKw96UuxYqDIsksE2lt7PIzfcWWdJTUdiDJC5Cty3f9MFPKjZfTN+F/FhtiUb3Fq+ vqzQ==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00448.html">CAED9pY9OcvcXqQQhgsL3JR-ykdLj6R0LO1ky4gN0nECA90NHSA@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1WnOZv-0008Ru-3C@subversion.gna.org&gt; &lt;<a href="msg00438.html">CAED9pY-x6Z_mWHj6N-pWfKMkCU96uvZ0JFxU_G20opExUZQPwQ@mail.gmail.com</a>&gt; &lt;CAED9pY9RamGvMn=ZY08e4pkg26PXDLB2B9VCPxL84iO03Ck44Q@mail.gmail.com&gt; &lt;<a href="msg00443.html">CA+CBx2NbEs6JvfAm95VhedsEmqMoTFv1-0MzNNmrAcihQY3ZwQ@mail.gmail.com</a>&gt; &lt;CAED9pY9a=AM_vs5tPWAfkrBb-5PRPOTP6wkSQb+di5NCk+7mdQ@mail.gmail.com&gt; &lt;<a href="msg00445.html">CAED9pY9n0wqfzk8sz6Zh3QbQVjyCb0cKZFV6RzWz8LYKdGPUZA@mail.gmail.com</a>&gt; &lt;<a href="msg00446.html">CA+CBx2PA-ATJ8-fqqEJe1f3s_DY1VSzHZDErjEHRqRMjS13Uog@mail.gmail.com</a>&gt; &lt;CAED9pY-tuOZ5FqfBoPwd=5hHaX+b+G9044b+pSR_HcSq=CBTzQ@mail.gmail.com&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on May 22, 2014 - 14:11:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Troels,

Here is an example of these unit tests:

<a  rel="nofollow" href="http://article.gmane.org/gmane.science.nmr.relax.scm/21072">http://article.gmane.org/gmane.science.nmr.relax.scm/21072</a>

I think you will be able to see that this comprehensively shows the
'NS CPMG 2-site expanded' model exploding on almost all edge cases
where there is no exchange.  This is in the trunk.  Feel free to 'svn
cp' and modify this for all lib.dispersion modules.  Some small
modifications are required for your branch, and for the models with
phi_ex and tex parameters, and for R1rho.  Don't worry about the tests
failing in the trunk for the 3.2.1 release - I'll simply deactivate
them from the release.

Cheers,

Edward








On 22 May 2014 13:21, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

I would recommend putting this one directly into your 'disp_speed'
branch.  It's ok if the scope of a branch expands a bit.  But it would
be best there as that is where you'll be fixing.  It's also ok if we
deactivate the test when you ask me to merge it back to trunk:

$ grep &quot;def &quot; test_suite/[sg]*/*.py | grep -v &quot;def test&quot; | grep _test_

Anyway, those function values of 9.999999999999999e+201 in the bug
report <a  rel="nofollow" href="https://gna.org/bugs/index.php?22032">https://gna.org/bugs/index.php?22032</a> are likely to be because
of the problem of R2eff being 1e100 when it should be R20.  I can see
that in a single line of the original submission:

k: 0 xk: [ 1, 1, 0, 0.5, 1] fk: inf

Here dw is 0.0, but the chi-squared value is inf.  I really think that
the unit tests I suggested rather than the system tests will instantly
isolate these problems for you.  I'll set up one up for you in the
trunk so you can see how they are incredibly simple to create, and how
powerful they are for exposing such problems!  With these unit tests,
you can check multiple edge cases ('No Rex', failure points, etc.)
within a few milliseconds.  For testing and debugging individual
functions, unit tests are the way to go.

Regards,

Edward


On 22 May 2014 12:55, Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward.

This one would be obvious.
<a  rel="nofollow" href="https://gna.org/bugs/index.php?22032">https://gna.org/bugs/index.php?22032</a>
That will prove that catching of errors has been improved.

Then I plan to test things from:
<a  rel="nofollow" href="https://gna.org/bugs/index.php?22024">https://gna.org/bugs/index.php?22024</a>

Here I have tried a range of things, that failed.
I had a nagging feeling that this was because of error catching.

I already tried a little, and I am not so sure anymore.
Now I will nail that down, and once at for all prove for myself what
is happening.

I foresee that this will be one of those times, that I knew I was
right, and I was not...
But I cannot let i go, before I have tested it.

You have already mentioned it many times, that data is almost flat lines 
for
pA=0.99, dw under 1 ppm.

But now thinking about it.
I can just copy the cpmg_synthetic script, and compare.

Best
Troels









2014-05-22 11:20 GMT+02:00 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">You can see some details of this problem in the
devel_scripts/broken_branch_recovery.py script.

Regards,

Edward



On 22 May 2014 11:19, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

Commits cannot be migrated between branches, as that makes the merge
back to trunk a nightmare.  This has happened once before in relax, a
long, long time ago, and I'd prefer to avoid that hell.  I had to
manually port each commit, one-by-one back into the trunk from the
mangled branch.  I know that this problem exists in both git and svn.
Can you just write them directly into 'disp_speed'?  What system tests
do you plan on adding?

Cheers,

Edward





On 22 May 2014 11:14, Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt; 
wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Ed.

I am just playing a little.

I do not want to write system test right now in trunk, that I know will 
fail.

So, I will write them in &quot;disp_speed_compare&quot;.
Then I will try to see if I can import from &quot;disp_speed_compare&quot; to
&quot;disp_speed&quot;.

If not, I will just copy over manually and try it.

Best
Troels




2014-05-22 11:00 GMT+02:00 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">It might be too difficult to synchronise the two branches, then manage
to merge them together (well one after the other) into the trunk.

Regards,

Edward

On 22 May 2014 10:58, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Troels,

Do you mean the unit tests of lib.dispersion rather than system tests?
 For merging everything together, it might be better to add the unit
tests to the trunk.  Or even better to your 'disp_speed' branch.
Otherwise you will not see these changes in the 'disp_speed' branch.

Regards,

Edward





On 22 May 2014 10:42,  &lt;tlinnet@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Author: tlinnet
Date: Thu May 22 10:42:17 2014
New Revision: 23323

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=23323&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=23323&amp;view=rev</a>
Log:
Branch created from trunk to compare to the disp_speed branch.

The branch will be used to write a range of system tests that should
fail in the trunk, and now pass in the disp_speed branch.

This is to investigate:
Bug #22024 (<a  rel="nofollow" href="https://gna.org/bugs/index.php?22024">https://gna.org/bugs/index.php?22024</a>) Minimisation space 
for CR72 is catastrophic. The chi2 surface over dw and pA is bounded.


Added:
    branches/disp_speed_compare/
      - copied from r23322, trunk/


_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-commits mailing list
relax-commits@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-commits">https://mail.gna.org/listinfo/relax-commits</a>
</pre></blockquote></blockquote><pre style="margin: 0em;">

_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00449" href="msg00449.html">Re: r23323 - /branches/disp_speed_compare/</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00438" href="msg00438.html">Re: r23323 - /branches/disp_speed_compare/</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00439" href="msg00439.html">Re: r23323 - /branches/disp_speed_compare/</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00443" href="msg00443.html">Re: r23323 - /branches/disp_speed_compare/</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00444" href="msg00444.html">Re: r23323 - /branches/disp_speed_compare/</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00445" href="msg00445.html">Re: r23323 - /branches/disp_speed_compare/</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00446" href="msg00446.html">Re: r23323 - /branches/disp_speed_compare/</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00447" href="msg00447.html">Re: r23323 - /branches/disp_speed_compare/</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu May 22 14:20:14 2014</div>  
</body>
</html>
