<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: relaxation curve fitting -->
<!--X-From-R13: Dbzry Pbool <eobo002Nnhpxynaqhav.np.am> -->
<!--X-Date: Sat, 30 Jun 2012 21:17:21 +0200 -->
<!--X-Message-Id: CAH4SRgrH9n0KmpCfPc8MPFyPjY4fkWhkb4Q6JKu0aaFbUK5sVg@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CAH4SRgofuRTUEW0Me6F6A+mWKhCUz6&#45;U5jFwVmOhKSPqi3pZLA@mail.gmail.com -->
<!--X-Reference: CAED9pY9E&#45;EC1LSU&#45;4gZa311rwbfH00PfmcH9Th2KRdURNXhB1A@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: relaxation curve fitting -- June 30, 2012 - 21:17</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: relaxation curve fitting</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00013" class="tabs">Index by Date</a> | <a href="threads.html#00013" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00012.html">Date Prev</a>] [Date Next] [<a href="msg00012.html">Thread Prev</a>] [Thread Next]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Edward d'Auvergne&quot; &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Sun, 1 Jul 2012 07:16:48 +1200</li>
<li class="menuitem">
<em>Cc</em>: relax-users@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00013.html">CAH4SRgrH9n0KmpCfPc8MPFyPjY4fkWhkb4Q6JKu0aaFbUK5sVg@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;CAH4SRgofuRTUEW0Me6F6A+mWKhCUz6-U5jFwVmOhKSPqi3pZLA@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY9E-EC1LSU-4gZa311rwbfH00PfmcH9Th2KRdURNXhB1A@xxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Romel Bobby</strong> on June 30, 2012 - 21:17:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Hi Edward,<div><br></div><div>I tried the &#39;exp&#39; model and it gave me the very same error message (see below).</div><div><br></div><div><div>  File &quot;/usr/local/relax/multi/processor.py&quot;, line 480, in run</div>
<div>    self.callback.init_master(self)</div><div>  File &quot;/usr/local/relax/multi/__init__.py&quot;, line 319, in default_init_master</div><div>    self.master.run()</div><div>  File &quot;/usr/local/relax/relax.py&quot;, line 183, in run</div>
<div>    self.interpreter.run(self.script_file)</div><div>  File &quot;/usr/local/relax/prompt/interpreter.py&quot;, line 280, in run</div><div>    return run_script(intro=self.__intro_string, local=locals(), script_file=script_file, quit=self.__quit_flag, show_script=self.__show_script, raise_relax_error=self.__raise_relax_error)</div>
<div>  File &quot;/usr/local/relax/prompt/interpreter.py&quot;, line 570, in run_script</div><div>    return console.interact(intro, local, script_file, quit, show_script=show_script, raise_relax_error=raise_relax_error)</div>
<div>  File &quot;/usr/local/relax/prompt/interpreter.py&quot;, line 455, in interact_script</div><div>    exec_script(script_file, local)</div><div>  File &quot;/usr/local/relax/prompt/interpreter.py&quot;, line 329, in exec_script</div>
<div>    runpy.run_module(module, globals)</div><div>  File &quot;/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/runpy.py&quot;, line 180, in run_module</div><div>    fname, loader, pkg_name)</div><div>  File &quot;/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/runpy.py&quot;, line 72, in _run_code</div>
<div>    exec code in run_globals</div><div>  File &quot;/Users/b_romel/temp_relax/backup/relax_fit.py&quot;, line 87, in &lt;module&gt;</div><div>    grid_search(inc=11)</div><div>  File &quot;/usr/local/relax/prompt/uf_objects.py&quot;, line 220, in __call__</div>
<div>    self._backend(*new_args, **uf_kargs)</div><div>  File &quot;/usr/local/relax/generic_fns/minimise.py&quot;, line 141, in grid_search</div><div>    grid_search(lower=lower, upper=upper, inc=inc, constraints=constraints, verbosity=verbosity)</div>
<div>  File &quot;/usr/local/relax/specific_fns/relax_fit.py&quot;, line 609, in grid_search</div><div>    self.minimise(min_algor=&#39;grid&#39;, lower=lower, upper=upper, inc=inc, constraints=constraints, verbosity=verbosity, sim_index=sim_index)</div>
<div>  File &quot;/usr/local/relax/specific_fns/relax_fit.py&quot;, line 716, in minimise</div><div>    if constraints and not match(&#39;^[Gg]rid&#39;, min_algor):</div><div>  File &quot;/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/re.py&quot;, line 137, in match</div>
<div>    return _compile(pattern, flags).match(string)</div><div>TypeError: bad argument type for built-in operation</div><div><br></div>Regards,</div><div><br></div><div>Romel</div><div><br><div class="gmail_quote">On 1 July 2012 06:42, Edward d&#39;Auvergne <span dir="ltr">&lt;<a rel="nofollow" href="mailto:edward@xxxxxxxxxxxxx" target="_blank">edward@xxxxxxxxxxxxx</a>&gt;</span> wrote:<br>
<blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Hi Romel,<br>
<br>
The problem is that unfortunately the &#39;inv&#39; model is simply not<br>
implemented yet.  This is the model for the very old-school inversion<br>
recovery type R1 experiments whereby the magnetisation returns to the<br>
Boltzmann equilibrium.  I&#39;m guessing you should be using the &#39;exp&#39;<br>
model instead.  This is the standard 2 parameter exponential fit<br>
whereby the magnetisation goes to zero.  This is the standard nowadays<br>
as it is considered far more accurate for the extraction of the rates<br>
(simply by having one less parameter to fit).<br>
<br>
If you have collected the old-school data, there is a relax branch<br>
created by Sébastien Morin for handling this experiment type.  This is<br>
the &#39;inversion-recovery&#39; branch located at<br>
<a rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/inversion-recovery/" target="_blank">http://svn.gna.org/viewcvs/relax/branches/inversion-recovery/</a>.<br>
However this branch is not complete and will require someone willing<br>
to dive into C code to complete it (see<br>
<a rel="nofollow" href="http://www.mail-archive.com/relax-devel@xxxxxxx/msg03353.html" target="_blank">http://www.mail-archive.com/relax-devel@xxxxxxx/msg03353.html</a>).  Note<br>
that if someone does know C, completing this will require about 50<br>
lines of code changed in the maths_fns/relax_fit.c and<br>
maths_fns/exponential.c files (my rough guess anyway).  It should be<br>
incredibly trivial for someone with C knowledge.  Anyway, I hope some<br>
of this info helps.<br>
<br>
Regards,<br>
<br>
Edward<br>
<div class="HOEnZb"><div class="h5"><br>
<br>
<br>
On 30 June 2012 18:01, Romel Bobby &lt;<a rel="nofollow" href="mailto:rbob002@xxxxxxxxxxxxxxxxx">rbob002@xxxxxxxxxxxxxxxxx</a>&gt; wrote:<br>
&gt; Dear all,<br>
&gt;<br>
&gt; I&#39;ve been trying to use the curve fitting routine for R1 and R2 in relax<br>
&gt; using the sample script relax_fit.py. I managed to read in the spectra and<br>
&gt; obtain a value for the uncertainty. However, once it gets to the point of<br>
&gt; performing a grid_search that&#39;s where it fails (see below). Has anyone had a<br>
&gt; similar problem?<br>
&gt;<br>
&gt; [?1034h<br>
&gt;<br>
&gt;<br>
&gt;                                             relax 2.0.0<br>
&gt;<br>
&gt;                               Molecular dynamics by NMR data analysis<br>
&gt;<br>
&gt;                              Copyright (C) 2001-2006 Edward d&#39;Auvergne<br>
&gt;                          Copyright (C) 2006-2012 the relax development team<br>
&gt;<br>
&gt; This is free software which you are welcome to modify and redistribute under<br>
&gt; the conditions of the<br>
&gt; GNU General Public License (GPL).  This program, including all modules, is<br>
&gt; licensed under the GPL<br>
&gt; and comes with absolutely no warranty.  For details type &#39;GPL&#39; within the<br>
&gt; relax prompt.<br>
&gt;<br>
&gt; Assistance in using the relax prompt and scripting interface can be accessed<br>
&gt; by typing &#39;help&#39; within<br>
&gt; the prompt.<br>
&gt;<br>
&gt; Processor fabric:  Uni-processor.<br>
&gt;<br>
&gt; script = &#39;relax_fit.py&#39;<br>
&gt; ----------------------------------------------------------------------------------------------------<br>
&gt; ###############################################################################<br>
&gt; #<br>
&gt;   #<br>
&gt; # Copyright (C) 2004-2012 Edward d&#39;Auvergne<br>
&gt;   #<br>
&gt; #<br>
&gt;   #<br>
&gt; # This file is part of the program relax.<br>
&gt;   #<br>
&gt; #<br>
&gt;   #<br>
&gt; # relax is free software; you can redistribute it and/or modify<br>
&gt;   #<br>
&gt; # it under the terms of the GNU General Public License as published by<br>
&gt;  #<br>
&gt; # the Free Software Foundation; either version 2 of the License, or<br>
&gt;   #<br>
&gt; # (at your option) any later version.<br>
&gt;   #<br>
&gt; #<br>
&gt;   #<br>
&gt; # relax is distributed in the hope that it will be useful,<br>
&gt;  #<br>
&gt; # but WITHOUT ANY WARRANTY; without even the implied warranty of<br>
&gt;  #<br>
&gt; # MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the<br>
&gt;   #<br>
&gt; # GNU General Public License for more details.<br>
&gt;  #<br>
&gt; #<br>
&gt;   #<br>
&gt; # You should have received a copy of the GNU General Public License<br>
&gt;   #<br>
&gt; # along with relax; if not, write to the Free Software<br>
&gt;  #<br>
&gt; # Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA<br>
&gt;   #<br>
&gt; #<br>
&gt;   #<br>
&gt; ###############################################################################<br>
&gt;<br>
&gt; &quot;&quot;&quot;Script for relaxation curve fitting.&quot;&quot;&quot;<br>
&gt;<br>
&gt;<br>
&gt; # Create the &#39;rx&#39; data pipe.<br>
&gt; pipe.create(&#39;rx&#39;, &#39;relax_fit&#39;)<br>
&gt;<br>
&gt; # Load the backbone amide 15N spins from a PDB file.<br>
&gt; structure.read_pdb(&#39;IL6_mf.pdb&#39;)<br>
&gt; structure.load_spins(spin_id=&#39;@N&#39;)<br>
&gt;<br>
&gt; # Spectrum names.<br>
&gt; names = [<br>
&gt;     &#39;T1_1204.04&#39;,<br>
&gt;     &#39;T1_1504.04&#39;,<br>
&gt;     &#39;T1_1804.04&#39;,<br>
&gt;     &#39;T1_2104.04&#39;,<br>
&gt;     &#39;T1_2404.04&#39;,<br>
&gt;     &#39;T1_2754.04&#39;,<br>
&gt;     &#39;T1_304.04&#39;,<br>
&gt;     &#39;T1_304.040&#39;,<br>
&gt;     &#39;T1_54.04&#39;,<br>
&gt;     &#39;T1_604.04&#39;,<br>
&gt;     &#39;T1_604.040&#39;,<br>
&gt;     &#39;T1_904.04&#39;,<br>
&gt; ]<br>
&gt;<br>
&gt; # Relaxation times (in seconds).<br>
&gt; times = [<br>
&gt;     1.204,<br>
&gt;     1.504,<br>
&gt;     1.804,<br>
&gt;     2.104,<br>
&gt;     2.404,<br>
&gt;     2.754,<br>
&gt;     0.304,<br>
&gt;     0.304,<br>
&gt;     0.054,<br>
&gt;     0.604,<br>
&gt;     0.604,<br>
&gt;     0.904<br>
&gt; ]<br>
&gt;<br>
&gt; # Loop over the spectra.<br>
&gt; for i in xrange(len(names)):<br>
&gt;     # Load the peak intensities.<br>
&gt;     spectrum.read_intensities(file=names[i]+&#39;.list&#39;, dir=&#39;&#39;,<br>
&gt; spectrum_id=names[i], int_method=&#39;height&#39;)<br>
&gt;<br>
&gt;     # Set the relaxation times.<br>
&gt;     relax_fit.relax_time(time=times[i], spectrum_id=names[i])<br>
&gt;<br>
&gt; # Specify the duplicated spectra.<br>
&gt; spectrum.replicated(spectrum_ids=[&#39;T1_304.04&#39;, &#39;T1_304.040&#39;])<br>
&gt; spectrum.replicated(spectrum_ids=[&#39;T1_604.04&#39;, &#39;T1_604.040&#39;])<br>
&gt;<br>
&gt; # Peak intensity error analysis.<br>
&gt; spectrum.error_analysis()<br>
&gt;<br>
&gt; # Deselect unresolved spins.<br>
&gt; # deselect.read(file=&#39;unresolved&#39;, mol_name_col=1, res_num_col=2,<br>
&gt; res_name_col=3, spin_num_col=4, spin_name_col=5)<br>
&gt;<br>
&gt; # Set the relaxation curve type.<br>
&gt; relax_fit.select_model(&#39;inv&#39;)<br>
&gt;<br>
&gt; # Grid search.<br>
&gt; grid_search(inc=11)<br>
&gt;<br>
&gt; # Minimise.<br>
&gt; minimise(&#39;simplex&#39;, scaling=False, constraints=False)<br>
&gt;<br>
&gt; # Monte Carlo simulations.<br>
&gt; monte_carlo.setup(number=500)<br>
&gt; monte_carlo.create_data()<br>
&gt; monte_carlo.initial_values()<br>
&gt; minimise(&#39;simplex&#39;, scaling=False, constraints=False)<br>
&gt; monte_carlo.error_analysis()<br>
&gt;<br>
&gt; # Save the relaxation rates.<br>
&gt; value.write(param=&#39;rx&#39;, file=&#39;rx.out&#39;, force=True)<br>
&gt;<br>
&gt; # Save the results.<br>
&gt; results.write(file=&#39;results&#39;, force=True)<br>
&gt;<br>
&gt; # Create Grace plots of the data.<br>
&gt; grace.write(y_data_type=&#39;chi2&#39;, file=&#39;chi2.agr&#39;, force=True)    # Minimised<br>
&gt; chi-squared value.<br>
&gt; grace.write(y_data_type=&#39;i0&#39;, file=&#39;i0.agr&#39;, force=True)    # Initial peak<br>
&gt; intensity.<br>
&gt; grace.write(y_data_type=&#39;rx&#39;, file=&#39;rx.agr&#39;, force=True)    # Relaxation<br>
&gt; rate.<br>
&gt; grace.write(x_data_type=&#39;relax_times&#39;, y_data_type=&#39;intensities&#39;,<br>
&gt; file=&#39;intensities.agr&#39;, force=True)    # Average peak intensities.<br>
&gt; grace.write(x_data_type=&#39;relax_times&#39;, y_data_type=&#39;intensities&#39;, norm=True,<br>
&gt; file=&#39;intensities_norm.agr&#39;, force=True)    # Average peak intensities<br>
&gt; (normalised).<br>
&gt;<br>
&gt; # Display the Grace plots.<br>
&gt; grace.view(file=&#39;chi2.agr&#39;)<br>
&gt; grace.view(file=&#39;i0.agr&#39;)<br>
&gt; grace.view(file=&#39;rx.agr&#39;)<br>
&gt; grace.view(file=&#39;intensities.agr&#39;)<br>
&gt; grace.view(file=&#39;intensities_norm.agr&#39;)<br>
&gt;<br>
&gt; # Save the program state.<br>
&gt; state.save(&#39;rx.save&#39;, force=True)<br>
&gt; ----------------------------------------------------------------------------------------------------<br>
&gt;<br>
&gt; relax&gt; pipe.create(pipe_name=&#39;rx&#39;, pipe_type=&#39;relax_fit&#39;, bundle=None)<br>
&gt;<br>
&gt; relax&gt; structure.read_pdb(file=&#39;IL6_mf.pdb&#39;, dir=None, read_mol=None,<br>
&gt; set_mol_name=None, read_model=None, set_model_num=None, parser=&#39;internal&#39;)<br>
&gt;<br>
&gt; Internal relax PDB parser.<br>
&gt; Opening the file &#39;IL6_mf.pdb&#39; for reading.<br>
&gt; Adding molecule &#39;IL6_mf_mol1&#39; to model None (from the original molecule<br>
&gt; number 1 of model None)<br>
&gt;<br>
&gt; relax&gt; structure.load_spins(spin_id=&#39;@N&#39;, ave_pos=True)<br>
&gt; Adding the following spins to the relax data store.<br>
&gt;<br>
&gt; # mol_name     res_num    res_name    spin_num    spin_name<br>
&gt; IL6_mf_mol1    20         LEU         1           N<br>
&gt; IL6_mf_mol1    21         THR         20          N<br>
&gt; IL6_mf_mol1    22         SER         34          N<br>
&gt; IL6_mf_mol1    23         SER         45          N<br>
&gt; IL6_mf_mol1    24         GLU         56          N<br>
&gt; IL6_mf_mol1    25         ARG         71          N<br>
&gt; IL6_mf_mol1    26         ILE         95          N<br>
&gt; IL6_mf_mol1    27         ASP         114         N<br>
&gt; IL6_mf_mol1    28         LYS         126         N<br>
&gt; IL6_mf_mol1    29         GLN         148         N<br>
&gt; IL6_mf_mol1    30         ILE         165         N<br>
&gt; IL6_mf_mol1    31         ARG         184         N<br>
&gt; IL6_mf_mol1    32         TYR         208         N<br>
&gt; IL6_mf_mol1    33         ILE         229         N<br>
&gt; IL6_mf_mol1    34         LEU         248         N<br>
&gt; IL6_mf_mol1    35         ASP         267         N<br>
&gt; IL6_mf_mol1    36         GLY         279         N<br>
&gt; IL6_mf_mol1    37         ILE         286         N<br>
&gt; IL6_mf_mol1    38         SER         305         N<br>
&gt; IL6_mf_mol1    39         ALA         316         N<br>
&gt; IL6_mf_mol1    40         LEU         326         N<br>
&gt; IL6_mf_mol1    41         ARG         345         N<br>
&gt; IL6_mf_mol1    42         LYS         369         N<br>
&gt; IL6_mf_mol1    43         GLU         391         N<br>
&gt; IL6_mf_mol1    44         THR         406         N<br>
&gt; IL6_mf_mol1    45         CYS         420         N<br>
&gt; IL6_mf_mol1    46         ASN         430         N<br>
&gt; IL6_mf_mol1    47         LYS         444         N<br>
&gt; IL6_mf_mol1    48         SER         466         N<br>
&gt; IL6_mf_mol1    49         ASN         477         N<br>
&gt; IL6_mf_mol1    50         MET         491         N<br>
&gt; IL6_mf_mol1    51         CYS         508         N<br>
&gt; IL6_mf_mol1    52         GLU         518         N<br>
&gt; IL6_mf_mol1    53         SER         533         N<br>
&gt; IL6_mf_mol1    54         SER         544         N<br>
&gt; IL6_mf_mol1    55         LYS         555         N<br>
&gt; IL6_mf_mol1    56         GLU         577         N<br>
&gt; IL6_mf_mol1    57         ALA         592         N<br>
&gt; IL6_mf_mol1    58         LEU         602         N<br>
&gt; IL6_mf_mol1    59         ALA         621         N<br>
&gt; IL6_mf_mol1    60         GLU         631         N<br>
&gt; IL6_mf_mol1    61         ASN         646         N<br>
&gt; IL6_mf_mol1    62         ASN         660         N<br>
&gt; IL6_mf_mol1    63         LEU         674         N<br>
&gt; IL6_mf_mol1    64         ASN         693         N<br>
&gt; IL6_mf_mol1    65         LEU         707         N<br>
&gt; IL6_mf_mol1    66         PRO         726         N<br>
&gt; IL6_mf_mol1    67         LYS         740         N<br>
&gt; IL6_mf_mol1    68         MET         762         N<br>
&gt; IL6_mf_mol1    69         ALA         779         N<br>
&gt; IL6_mf_mol1    70         GLU         789         N<br>
&gt; IL6_mf_mol1    71         LYS         804         N<br>
&gt; IL6_mf_mol1    72         ASP         826         N<br>
&gt; IL6_mf_mol1    73         GLY         838         N<br>
&gt; IL6_mf_mol1    74         CYS         845         N<br>
&gt; IL6_mf_mol1    75         PHE         855         N<br>
&gt; IL6_mf_mol1    76         GLN         875         N<br>
&gt; IL6_mf_mol1    77         SER         892         N<br>
&gt; IL6_mf_mol1    78         GLY         903         N<br>
&gt; IL6_mf_mol1    79         PHE         910         N<br>
&gt; IL6_mf_mol1    80         ASN         930         N<br>
&gt; IL6_mf_mol1    81         GLU         944         N<br>
&gt; IL6_mf_mol1    82         GLU         959         N<br>
&gt; IL6_mf_mol1    83         THR         974         N<br>
&gt; IL6_mf_mol1    84         CYS         988         N<br>
&gt; IL6_mf_mol1    85         LEU         998         N<br>
&gt; IL6_mf_mol1    86         VAL         1017        N<br>
&gt; IL6_mf_mol1    87         LYS         1033        N<br>
&gt; IL6_mf_mol1    88         ILE         1055        N<br>
&gt; IL6_mf_mol1    89         ILE         1074        N<br>
&gt; IL6_mf_mol1    90         THR         1093        N<br>
&gt; IL6_mf_mol1    91         GLY         1107        N<br>
&gt; IL6_mf_mol1    92         LEU         1114        N<br>
&gt; IL6_mf_mol1    93         LEU         1133        N<br>
&gt; IL6_mf_mol1    94         GLU         1152        N<br>
&gt; IL6_mf_mol1    95         PHE         1167        N<br>
&gt; IL6_mf_mol1    96         GLU         1187        N<br>
&gt; IL6_mf_mol1    97         VAL         1202        N<br>
&gt; IL6_mf_mol1    98         TYR         1218        N<br>
&gt; IL6_mf_mol1    99         LEU         1239        N<br>
&gt; IL6_mf_mol1    100        GLU         1258        N<br>
&gt; IL6_mf_mol1    101        TYR         1273        N<br>
&gt; IL6_mf_mol1    102        LEU         1294        N<br>
&gt; IL6_mf_mol1    103        GLN         1313        N<br>
&gt; IL6_mf_mol1    104        ASN         1330        N<br>
&gt; IL6_mf_mol1    105        ARG         1344        N<br>
&gt; IL6_mf_mol1    106        PHE         1368        N<br>
&gt; IL6_mf_mol1    107        GLU         1388        N<br>
&gt; IL6_mf_mol1    108        SER         1403        N<br>
&gt; IL6_mf_mol1    109        SER         1414        N<br>
&gt; IL6_mf_mol1    110        GLU         1425        N<br>
&gt; IL6_mf_mol1    111        GLU         1440        N<br>
&gt; IL6_mf_mol1    112        GLN         1455        N<br>
&gt; IL6_mf_mol1    113        ALA         1472        N<br>
&gt; IL6_mf_mol1    114        ARG         1482        N<br>
&gt; IL6_mf_mol1    115        ALA         1506        N<br>
&gt; IL6_mf_mol1    116        VAL         1516        N<br>
&gt; IL6_mf_mol1    117        GLN         1532        N<br>
&gt; IL6_mf_mol1    118        MET         1549        N<br>
&gt; IL6_mf_mol1    119        SER         1566        N<br>
&gt; IL6_mf_mol1    120        THR         1577        N<br>
&gt; IL6_mf_mol1    121        LYS         1591        N<br>
&gt; IL6_mf_mol1    122        VAL         1613        N<br>
&gt; IL6_mf_mol1    123        LEU         1629        N<br>
&gt; IL6_mf_mol1    124        ILE         1648        N<br>
&gt; IL6_mf_mol1    125        GLN         1667        N<br>
&gt; IL6_mf_mol1    126        PHE         1684        N<br>
&gt; IL6_mf_mol1    127        LEU         1704        N<br>
&gt; IL6_mf_mol1    128        GLN         1723        N<br>
&gt; IL6_mf_mol1    129        LYS         1740        N<br>
&gt; IL6_mf_mol1    130        LYS         1762        N<br>
&gt; IL6_mf_mol1    131        ALA         1784        N<br>
&gt; IL6_mf_mol1    132        LYS         1794        N<br>
&gt; IL6_mf_mol1    133        ASN         1816        N<br>
&gt; IL6_mf_mol1    134        LEU         1830        N<br>
&gt; IL6_mf_mol1    135        ASP         1849        N<br>
&gt; IL6_mf_mol1    136        ALA         1861        N<br>
&gt; IL6_mf_mol1    137        ILE         1871        N<br>
&gt; IL6_mf_mol1    138        THR         1890        N<br>
&gt; IL6_mf_mol1    139        THR         1904        N<br>
&gt; IL6_mf_mol1    140        PRO         1918        N<br>
&gt; IL6_mf_mol1    141        ASP         1932        N<br>
&gt; IL6_mf_mol1    142        PRO         1944        N<br>
&gt; IL6_mf_mol1    143        THR         1958        N<br>
&gt; IL6_mf_mol1    144        THR         1972        N<br>
&gt; IL6_mf_mol1    145        ASN         1986        N<br>
&gt; IL6_mf_mol1    146        ALA         2000        N<br>
&gt; IL6_mf_mol1    147        SER         2010        N<br>
&gt; IL6_mf_mol1    148        LEU         2021        N<br>
&gt; IL6_mf_mol1    149        LEU         2040        N<br>
&gt; IL6_mf_mol1    150        THR         2059        N<br>
&gt; IL6_mf_mol1    151        LYS         2073        N<br>
&gt; IL6_mf_mol1    152        LEU         2095        N<br>
&gt; IL6_mf_mol1    153        GLN         2114        N<br>
&gt; IL6_mf_mol1    154        ALA         2131        N<br>
&gt; IL6_mf_mol1    155        GLN         2141        N<br>
&gt; IL6_mf_mol1    156        ASN         2158        N<br>
&gt; IL6_mf_mol1    157        GLN         2172        N<br>
&gt; IL6_mf_mol1    158        TRP         2189        N<br>
&gt; IL6_mf_mol1    159        LEU         2213        N<br>
&gt; IL6_mf_mol1    160        GLN         2232        N<br>
&gt; IL6_mf_mol1    161        ASP         2249        N<br>
&gt; IL6_mf_mol1    162        MET         2261        N<br>
&gt; IL6_mf_mol1    163        THR         2278        N<br>
&gt; IL6_mf_mol1    164        THR         2292        N<br>
&gt; IL6_mf_mol1    165        HIS         2306        N<br>
&gt; IL6_mf_mol1    166        LEU         2323        N<br>
&gt; IL6_mf_mol1    167        ILE         2342        N<br>
&gt; IL6_mf_mol1    168        LEU         2361        N<br>
&gt; IL6_mf_mol1    169        ARG         2380        N<br>
&gt; IL6_mf_mol1    170        SER         2404        N<br>
&gt; IL6_mf_mol1    171        PHE         2415        N<br>
&gt; IL6_mf_mol1    172        LYS         2435        N<br>
&gt; IL6_mf_mol1    173        GLU         2457        N<br>
&gt; IL6_mf_mol1    174        PHE         2472        N<br>
&gt; IL6_mf_mol1    175        LEU         2492        N<br>
&gt; IL6_mf_mol1    176        GLN         2511        N<br>
&gt; IL6_mf_mol1    177        SER         2528        N<br>
&gt; IL6_mf_mol1    178        SER         2539        N<br>
&gt; IL6_mf_mol1    179        LEU         2550        N<br>
&gt; IL6_mf_mol1    180        ARG         2569        N<br>
&gt; IL6_mf_mol1    181        ALA         2593        N<br>
&gt; IL6_mf_mol1    182        LEU         2603        N<br>
&gt; IL6_mf_mol1    183        ARG         2622        N<br>
&gt; IL6_mf_mol1    184        GLN         2646        N<br>
&gt; IL6_mf_mol1    185        MET         2663        N<br>
&gt;<br>
&gt; relax&gt; spectrum.read_intensities(file=&#39;T1_1204.04.list&#39;, dir=&#39;&#39;,<br>
&gt; spectrum_id=&#39;T1_1204.04&#39;, heteronuc=&#39;N&#39;, proton=&#39;HN&#39;, int_method=&#39;height&#39;,<br>
&gt; int_col=None, spin_id_col=None, mol_name_col=None, res_num_col=None,<br>
&gt; res_name_col=None, spin_num_col=None, spin_name_col=None, sep=None,<br>
&gt; spin_id=None, ncproc=None)<br>
&gt; Opening the file &#39;T1_1204.04.list&#39; for reading.<br>
&gt; Sparky formatted data file.<br>
&gt;<br>
&gt; Number of header lines found: 1<br>
&gt;<br>
&gt; relax&gt; relax_fit.relax_time(time=1.204, spectrum_id=&#39;T1_1204.04&#39;)<br>
&gt;<br>
&gt; relax&gt; spectrum.read_intensities(file=&#39;T1_1504.04.list&#39;, dir=&#39;&#39;,<br>
&gt; spectrum_id=&#39;T1_1504.04&#39;, heteronuc=&#39;N&#39;, proton=&#39;HN&#39;, int_method=&#39;height&#39;,<br>
&gt; int_col=None, spin_id_col=None, mol_name_col=None, res_num_col=None,<br>
&gt; res_name_col=None, spin_num_col=None, spin_name_col=None, sep=None,<br>
&gt; spin_id=None, ncproc=None)<br>
&gt; Opening the file &#39;T1_1504.04.list&#39; for reading.<br>
&gt; Sparky formatted data file.<br>
&gt;<br>
&gt; Number of header lines found: 1<br>
&gt;<br>
&gt; relax&gt; relax_fit.relax_time(time=1.504, spectrum_id=&#39;T1_1504.04&#39;)<br>
&gt;<br>
&gt; relax&gt; spectrum.read_intensities(file=&#39;T1_1804.04.list&#39;, dir=&#39;&#39;,<br>
&gt; spectrum_id=&#39;T1_1804.04&#39;, heteronuc=&#39;N&#39;, proton=&#39;HN&#39;, int_method=&#39;height&#39;,<br>
&gt; int_col=None, spin_id_col=None, mol_name_col=None, res_num_col=None,<br>
&gt; res_name_col=None, spin_num_col=None, spin_name_col=None, sep=None,<br>
&gt; spin_id=None, ncproc=None)<br>
&gt; Opening the file &#39;T1_1804.04.list&#39; for reading.<br>
&gt; Sparky formatted data file.<br>
&gt;<br>
&gt; Number of header lines found: 1<br>
&gt;<br>
&gt; relax&gt; relax_fit.relax_time(time=1.804, spectrum_id=&#39;T1_1804.04&#39;)<br>
&gt;<br>
&gt; relax&gt; spectrum.read_intensities(file=&#39;T1_2104.04.list&#39;, dir=&#39;&#39;,<br>
&gt; spectrum_id=&#39;T1_2104.04&#39;, heteronuc=&#39;N&#39;, proton=&#39;HN&#39;, int_method=&#39;height&#39;,<br>
&gt; int_col=None, spin_id_col=None, mol_name_col=None, res_num_col=None,<br>
&gt; res_name_col=None, spin_num_col=None, spin_name_col=None, sep=None,<br>
&gt; spin_id=None, ncproc=None)<br>
&gt; Opening the file &#39;T1_2104.04.list&#39; for reading.<br>
&gt; Sparky formatted data file.<br>
&gt;<br>
&gt; Number of header lines found: 1<br>
&gt;<br>
&gt; relax&gt; relax_fit.relax_time(time=2.104, spectrum_id=&#39;T1_2104.04&#39;)<br>
&gt;<br>
&gt; relax&gt; spectrum.read_intensities(file=&#39;T1_2404.04.list&#39;, dir=&#39;&#39;,<br>
&gt; spectrum_id=&#39;T1_2404.04&#39;, heteronuc=&#39;N&#39;, proton=&#39;HN&#39;, int_method=&#39;height&#39;,<br>
&gt; int_col=None, spin_id_col=None, mol_name_col=None, res_num_col=None,<br>
&gt; res_name_col=None, spin_num_col=None, spin_name_col=None, sep=None,<br>
&gt; spin_id=None, ncproc=None)<br>
&gt; Opening the file &#39;T1_2404.04.list&#39; for reading.<br>
&gt; Sparky formatted data file.<br>
&gt;<br>
&gt; Number of header lines found: 1<br>
&gt;<br>
&gt; relax&gt; relax_fit.relax_time(time=2.404, spectrum_id=&#39;T1_2404.04&#39;)<br>
&gt;<br>
&gt; relax&gt; spectrum.read_intensities(file=&#39;T1_2754.04.list&#39;, dir=&#39;&#39;,<br>
&gt; spectrum_id=&#39;T1_2754.04&#39;, heteronuc=&#39;N&#39;, proton=&#39;HN&#39;, int_method=&#39;height&#39;,<br>
&gt; int_col=None, spin_id_col=None, mol_name_col=None, res_num_col=None,<br>
&gt; res_name_col=None, spin_num_col=None, spin_name_col=None, sep=None,<br>
&gt; spin_id=None, ncproc=None)<br>
&gt; Opening the file &#39;T1_2754.04.list&#39; for reading.<br>
&gt; Sparky formatted data file.<br>
&gt;<br>
&gt; Number of header lines found: 1<br>
&gt;<br>
&gt; relax&gt; relax_fit.relax_time(time=2.754, spectrum_id=&#39;T1_2754.04&#39;)<br>
&gt;<br>
&gt; relax&gt; spectrum.read_intensities(file=&#39;T1_304.04.list&#39;, dir=&#39;&#39;,<br>
&gt; spectrum_id=&#39;T1_304.04&#39;, heteronuc=&#39;N&#39;, proton=&#39;HN&#39;, int_method=&#39;height&#39;,<br>
&gt; int_col=None, spin_id_col=None, mol_name_col=None, res_num_col=None,<br>
&gt; res_name_col=None, spin_num_col=None, spin_name_col=None, sep=None,<br>
&gt; spin_id=None, ncproc=None)<br>
&gt; Opening the file &#39;T1_304.04.list&#39; for reading.<br>
&gt; Sparky formatted data file.<br>
&gt;<br>
&gt; Number of header lines found: 1<br>
&gt;<br>
&gt; relax&gt; relax_fit.relax_time(time=0.304, spectrum_id=&#39;T1_304.04&#39;)<br>
&gt;<br>
&gt; relax&gt; spectrum.read_intensities(file=&#39;T1_304.040.list&#39;, dir=&#39;&#39;,<br>
&gt; spectrum_id=&#39;T1_304.040&#39;, heteronuc=&#39;N&#39;, proton=&#39;HN&#39;, int_method=&#39;height&#39;,<br>
&gt; int_col=None, spin_id_col=None, mol_name_col=None, res_num_col=None,<br>
&gt; res_name_col=None, spin_num_col=None, spin_name_col=None, sep=None,<br>
&gt; spin_id=None, ncproc=None)<br>
&gt; Opening the file &#39;T1_304.040.list&#39; for reading.<br>
&gt; Sparky formatted data file.<br>
&gt;<br>
&gt; Number of header lines found: 1<br>
&gt;<br>
&gt; relax&gt; relax_fit.relax_time(time=0.304, spectrum_id=&#39;T1_304.040&#39;)<br>
&gt;<br>
&gt; relax&gt; spectrum.read_intensities(file=&#39;T1_54.04.list&#39;, dir=&#39;&#39;,<br>
&gt; spectrum_id=&#39;T1_54.04&#39;, heteronuc=&#39;N&#39;, proton=&#39;HN&#39;, int_method=&#39;height&#39;,<br>
&gt; int_col=None, spin_id_col=None, mol_name_col=None, res_num_col=None,<br>
&gt; res_name_col=None, spin_num_col=None, spin_name_col=None, sep=None,<br>
&gt; spin_id=None, ncproc=None)<br>
&gt; Opening the file &#39;T1_54.04.list&#39; for reading.<br>
&gt; Sparky formatted data file.<br>
&gt;<br>
&gt; Number of header lines found: 1<br>
&gt;<br>
&gt; relax&gt; relax_fit.relax_time(time=0.054, spectrum_id=&#39;T1_54.04&#39;)<br>
&gt;<br>
&gt; relax&gt; spectrum.read_intensities(file=&#39;T1_604.04.list&#39;, dir=&#39;&#39;,<br>
&gt; spectrum_id=&#39;T1_604.04&#39;, heteronuc=&#39;N&#39;, proton=&#39;HN&#39;, int_method=&#39;height&#39;,<br>
&gt; int_col=None, spin_id_col=None, mol_name_col=None, res_num_col=None,<br>
&gt; res_name_col=None, spin_num_col=None, spin_name_col=None, sep=None,<br>
&gt; spin_id=None, ncproc=None)<br>
&gt; Opening the file &#39;T1_604.04.list&#39; for reading.<br>
&gt; Sparky formatted data file.<br>
&gt;<br>
&gt; Number of header lines found: 1<br>
&gt;<br>
&gt; relax&gt; relax_fit.relax_time(time=0.604, spectrum_id=&#39;T1_604.04&#39;)<br>
&gt;<br>
&gt; relax&gt; spectrum.read_intensities(file=&#39;T1_604.040.list&#39;, dir=&#39;&#39;,<br>
&gt; spectrum_id=&#39;T1_604.040&#39;, heteronuc=&#39;N&#39;, proton=&#39;HN&#39;, int_method=&#39;height&#39;,<br>
&gt; int_col=None, spin_id_col=None, mol_name_col=None, res_num_col=None,<br>
&gt; res_name_col=None, spin_num_col=None, spin_name_col=None, sep=None,<br>
&gt; spin_id=None, ncproc=None)<br>
&gt; Opening the file &#39;T1_604.040.list&#39; for reading.<br>
&gt; Sparky formatted data file.<br>
&gt;<br>
&gt; Number of header lines found: 1<br>
&gt;<br>
&gt; relax&gt; relax_fit.relax_time(time=0.604, spectrum_id=&#39;T1_604.040&#39;)<br>
&gt;<br>
&gt; relax&gt; spectrum.read_intensities(file=&#39;T1_904.04.list&#39;, dir=&#39;&#39;,<br>
&gt; spectrum_id=&#39;T1_904.04&#39;, heteronuc=&#39;N&#39;, proton=&#39;HN&#39;, int_method=&#39;height&#39;,<br>
&gt; int_col=None, spin_id_col=None, mol_name_col=None, res_num_col=None,<br>
&gt; res_name_col=None, spin_num_col=None, spin_name_col=None, sep=None,<br>
&gt; spin_id=None, ncproc=None)<br>
&gt; Opening the file &#39;T1_904.04.list&#39; for reading.<br>
&gt; Sparky formatted data file.<br>
&gt;<br>
&gt; Number of header lines found: 1<br>
&gt;<br>
&gt; relax&gt; relax_fit.relax_time(time=0.904, spectrum_id=&#39;T1_904.04&#39;)<br>
&gt;<br>
&gt; relax&gt; spectrum.replicated(spectrum_ids=[&#39;T1_304.04&#39;, &#39;T1_304.040&#39;])<br>
&gt;<br>
&gt; relax&gt; spectrum.replicated(spectrum_ids=[&#39;T1_604.04&#39;, &#39;T1_604.040&#39;])<br>
&gt;<br>
&gt; relax&gt; spectrum.error_analysis()<br>
&gt; Intensity measure:  Peak heights.<br>
&gt; Replicated spectra:  Yes.<br>
&gt; All spectra replicated:  No.<br>
&gt;<br>
&gt; Replicated spectra:  [&#39;T1_304.04&#39;, &#39;T1_304.040&#39;]<br>
&gt; Standard deviation:  54707.6690901<br>
&gt;<br>
&gt; Replicated spectra:  [&#39;T1_604.04&#39;, &#39;T1_604.040&#39;]<br>
&gt; Standard deviation:  49975.7017454<br>
&gt;<br>
&gt; Variance averaging over all spectra.<br>
&gt; Standard deviation for all spins:  52395.132513514036<br>
&gt;<br>
&gt; relax&gt; relax_fit.select_model(model=&#39;inv&#39;)<br>
&gt; Three parameter inversion recovery fit.<br>
&gt;<br>
&gt; relax&gt; grid_search(lower=None, upper=None, inc=11, constraints=True,<br>
&gt; verbosity=1)<br>
&gt;<br>
&gt;<br>
&gt; Over-fit spin deselection.<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt; Fitting to spin &#39;#IL6_mf_mol1:24@56&#39;<br>
&gt; ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~<br>
&gt; Traceback (most recent call last):<br>
&gt;   File &quot;/usr/local/relax/multi/processor.py&quot;, line 480, in run<br>
&gt;     self.callback.init_master(self)<br>
&gt;   File &quot;/usr/local/relax/multi/__init__.py&quot;, line 319, in<br>
&gt; default_init_master<br>
&gt;     self.master.run()<br>
&gt;   File &quot;/usr/local/relax/relax.py&quot;, line 183, in run<br>
&gt;     self.interpreter.run(self.script_file)<br>
&gt;   File &quot;/usr/local/relax/prompt/interpreter.py&quot;, line 280, in run<br>
&gt;     return run_script(intro=self.__intro_string, local=locals(),<br>
&gt; script_file=script_file, quit=self.__quit_flag,<br>
&gt; show_script=self.__show_script, raise_relax_error=self.__raise_relax_error)<br>
&gt;   File &quot;/usr/local/relax/prompt/interpreter.py&quot;, line 570, in run_script<br>
&gt;     return console.interact(intro, local, script_file, quit,<br>
&gt; show_script=show_script, raise_relax_error=raise_relax_error)<br>
&gt;   File &quot;/usr/local/relax/prompt/interpreter.py&quot;, line 455, in<br>
&gt; interact_script<br>
&gt;     exec_script(script_file, local)<br>
&gt;   File &quot;/usr/local/relax/prompt/interpreter.py&quot;, line 329, in exec_script<br>
&gt;     runpy.run_module(module, globals)<br>
&gt;   File<br>
&gt; &quot;/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/runpy.py&quot;,<br>
&gt; line 180, in run_module<br>
&gt;     fname, loader, pkg_name)<br>
&gt;   File<br>
&gt; &quot;/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/runpy.py&quot;,<br>
&gt; line 72, in _run_code<br>
&gt;     exec code in run_globals<br>
&gt;   File &quot;/Users/b_romel/temp_relax/backup/relax_fit.py&quot;, line 87, in &lt;module&gt;<br>
&gt;     grid_search(inc=11)<br>
&gt;   File &quot;/usr/local/relax/prompt/uf_objects.py&quot;, line 220, in __call__<br>
&gt;     self._backend(*new_args, **uf_kargs)<br>
&gt;   File &quot;/usr/local/relax/generic_fns/minimise.py&quot;, line 141, in grid_search<br>
&gt;     grid_search(lower=lower, upper=upper, inc=inc, constraints=constraints,<br>
&gt; verbosity=verbosity)<br>
&gt;   File &quot;/usr/local/relax/specific_fns/relax_fit.py&quot;, line 609, in<br>
&gt; grid_search<br>
&gt;     self.minimise(min_algor=&#39;grid&#39;, lower=lower, upper=upper, inc=inc,<br>
&gt; constraints=constraints, verbosity=verbosity, sim_index=sim_index)<br>
&gt;   File &quot;/usr/local/relax/specific_fns/relax_fit.py&quot;, line 716, in minimise<br>
&gt;     if constraints and not match(&#39;^[Gg]rid&#39;, min_algor):<br>
&gt;   File<br>
&gt; &quot;/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/re.py&quot;,<br>
&gt; line 137, in match<br>
&gt;     return _compile(pattern, flags).match(string)<br>
&gt; TypeError: bad argument type for built-in operation<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt; --<br>
&gt; Romel Bobby<br>
&gt; Biomolecular NMR Research Group<br>
&gt; School of Chemical Sciences/School of Biological Sciences<br>
&gt; The University of Auckland<br>
&gt; <a rel="nofollow" href="tel:%2B64%20%2809%29%203737599%20Ext%2083157" value="+6493737599">+64 (09) 3737599 Ext 83157</a><br>
</div></div></blockquote></div><br><br clear="all"><div><br></div>-- <br>Romel Bobby<br>Biomolecular NMR Research Group<br>School of Chemical Sciences/School of Biological Sciences<br>The University of Auckland<br>+64 (09) 3737599 Ext 83157<br>

</div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00011" href="msg00011.html">relaxation curve fitting</a></strong>
<ul><li><em>From:</em> Romel Bobby</li></ul></li>
<li><strong><a name="00012" href="msg00012.html">Re: relaxation curve fitting</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sat Jun 30 21:20:09 2012</div>  
</body>
</html>
