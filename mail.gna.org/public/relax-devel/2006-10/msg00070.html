<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: Redesign of the relax data model: 2. A new run concept -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneq.qnhiretarNtznvy.pbz> -->
<!--X-Date: Wed, 11 Oct 2006 18:41:04 +0200 -->
<!--X-Message-Id: 7f080ed10610110940r50dc3070i9d25f9e7da68fd9e@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1160550133.9523.54.camel@pc172&#45;31&#45;2&#45;63.biochem.unimelb.edu.au -->
<!--X-Reference: 1160555137.9523.70.camel@pc172&#45;31&#45;2&#45;63.biochem.unimelb.edu.au -->
<!--X-Reference: 1160562239.14487.98.camel@mrspell -->
<!--X-Reference: 7f080ed10610110731i57c163m78de780d38ec4de0@mail.gmail.com -->
<!--X-Reference: 1160582149.14487.193.camel@mrspell -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Redesign of the relax data model: 2. A new run concept -- October 11, 2006 - 18:41</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Redesign of the relax data model: 2. A new run concept</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00070" class="tabs">Index by Date</a> | <a href="threads.html#00070" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00069.html">Date Prev</a>] [<a href="msg00071.html">Date Next</a>] [<a href="msg00069.html">Thread Prev</a>] [<a href="msg00071.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Chris MacRaild&quot; &lt;c.a.macraild@xxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 12 Oct 2006 02:40:30 +1000</li>
<li class="menuitem">
<em>Cc</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00070.html">7f080ed10610110940r50dc3070i9d25f9e7da68fd9e@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00053.html">1160550133.9523.54.camel@pc172-31-2-63.biochem.unimelb.edu.au</a>&gt;	&lt;<a href="msg00056.html">1160555137.9523.70.camel@pc172-31-2-63.biochem.unimelb.edu.au</a>&gt;	&lt;<a href="msg00060.html">1160562239.14487.98.camel@mrspell</a>&gt;	&lt;<a href="msg00066.html">7f080ed10610110731i57c163m78de780d38ec4de0@mail.gmail.com</a>&gt;	&lt;<a href="msg00069.html">1160582149.14487.193.camel@mrspell</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on October 11, 2006 - 18:41:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<blockquote class="blockquote"><pre style="margin: 0em;">&gt; This idea, although it is good, unfortunately still suffers from the
&gt; problem I described in the second paragraph of section 1.1
&gt; (<a  href="https://mail.gna.org/public/relax-devel/2006-10/msg00054.html">https://mail.gna.org/public/relax-devel/2006-10/msg00054.html</a>,
&gt; Message-id: 
&lt;1160551172.9523.60.camel@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&gt;).
&gt;  The dense branching of the 'run' argument would simply be replaced by
&gt; the 'runs'.  This is a consequence of all the times 'self.relax.data'
&gt; needs to be accessed.  The unnecessary complexity and branching is
&gt; still there - the 1645 occurrences of the text 'self.run' would
&gt; remain, they would just be renamed to 'self.runs'.</pre><br>
<pre style="margin: 0em;">Either I don't understand the problem, or you don't understand my
solution (or both? - either way probably my fault). Importantly, if it
is not already clear, what I am suggesting is a simple extension of your
proposal, not a replacement for it. As I see it, the proposal above
doesn't involve branching of the 'runs' argument - it is caught at the
earliest possible opportunity (ie. in the prompt code) and passed into a
simple and general run_loop function. My suggestion is precisely
analagous to your spin selection loop in both design and motivation (or
if it is not, that is because I'm not understanding something - it is my
intention that it should be).</pre><br>
<pre style="margin: 0em;">The 1645 occurrences of self.run would not remain in my suggestion, as I
understand it. There are no references to self.run in the psuedocode
above, so I see no reason why there should be any more under my proposal
that there is under yours. If 'runs' is passed by the user (and I
envision this as a relatively rare occurence) it simply has the effect
of passing flow control to run_loop so that the desired command is
executed in all the required runs in turn. Note that run_loop uses your
proposed run.switch() function, it does not pass 'runs' any deeper into
the relax code.
</pre></blockquote><pre style="margin: 0em;"><br>Sorry, the misunderstanding is 100% on my part.  I assumed that the
run_loop was at the lowest level, at the point where 'self.relax.data'
is accessed.  This is probably a relic of my old way of thinking that
only code for testing user function arguments should be located in the
functions of the 'prompt' directory.  It is also because I was
associating it with the molecule-residue-spin loop proposal as well,
i.e. you loop over runs first, then molecule, then residues, then
spins.</pre><br>
<pre style="margin: 0em;">Now that I can see the errors of my ways (or thinking), and that the
idea is implemented at the level of the user functions themselves, the
concept is quite good.  Essentially the run loop switches between the
pipes executing the actual user function on each - that is a good
idea!  That does add an extra level of optional flexibility to relax.
Thanks for clearing that up.</pre><br>
<pre style="margin: 0em;">This should be implemented at the level of the user functions as it
would be messy implementing it at the next level (the individual
functions of the 'generic_fns', 'specific_fns', and 'dx' directories).
The 'runs' argument (or possibly 'pipes' argument) would then only
exist for a very short time in the code of the 'prompt' directory.  I
would suggest that the run loop be placed in the file
'generic_fns/runs.py'.  If the full proposal is accepted, this will be
renamed to 'generic_fns/pipes.py' and the function hence called
'pipe_loop'.</pre><br>
<pre style="margin: 0em;">Your idea Chris should definitely be part of the changes.  It would be
extremely simple to implement too (once the pipe concept has been
implemented).  I hope I didn't offend you by misunderstanding your
proposal.  Oh, I have one simple question.  Do you think that the
current pipe should be included in the pipe loop, even if it isn't
passed in as an argument?</pre><br>
<pre style="margin: 0em;">Edward</pre><br>
<br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00071" href="msg00071.html">Re: Redesign of the relax data model: 2. A new run concept</a></strong>
<ul><li><em>From:</em> Chris MacRaild</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00053" href="msg00053.html">Redesign of the relax data model:  A HOWTO for breaking relax.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00056" href="msg00056.html">Redesign of the relax data model:  2.  A new run concept</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00060" href="msg00060.html">Re: Redesign of the relax data model:  2.  A new run concept</a></strong>
<ul><li><em>From:</em> Chris MacRaild</li></ul></li>
<li><strong><a name="00066" href="msg00066.html">Re: Redesign of the relax data model: 2. A new run concept</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00069" href="msg00069.html">Re: Redesign of the relax data model: 2. A new run concept</a></strong>
<ul><li><em>From:</em> Chris MacRaild</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Oct 11 19:40:22 2006</div>  
</body>
</html>
