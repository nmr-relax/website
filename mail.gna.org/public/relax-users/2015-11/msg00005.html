<!-- MHonArc v2.6.19+ -->
<!--X-Subject: Re: back calculation of relaxation data -->
<!--X-From-R13: Febryf Szgrxæe Zvaarg &#60;gyvaargNaze&#45;erynk.pbz> -->
<!--X-Date: Sun, 15 Nov 2015 18:47:43 +0100 -->
<!--X-Message-Id: CA+CBx2Pbvo&#45;E9JVkntp0Ke0&#45;9Qbjo=9qWB+ZZNGrOo2G+73rMg@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 563B5418.8000002@fz&#45;juelich.de -->
<!--X-Reference: CAED9pY8km_w=6V94AEcsYHF1Dv3Kz99Mkpu8kEB0HXQ9crhZFQ@mail.gmail.com -->
<!--X-Reference: 5645C556.6000404@fz&#45;juelich.de -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: back calculation of relaxation data -- November 15, 2015 - 18:47</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: back calculation of relaxation data</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00005" class="tabs">Index by Date</a> | <a href="threads.html#00005" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00004.html">Date Prev</a>] [<a href="msg00006.html">Date Next</a>] [<a href="msg00004.html">Thread Prev</a>] [<a href="msg00006.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Christina Möller &lt;c.moeller@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Sun, 15 Nov 2015 18:47:14 +0100</li>
<li class="menuitem">
<em>Cc</em>: relax-users@xxxxxxx</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:date:message-id:subject :from:to:cc:content-type; bh=uMVIaZHRBHqE+BcDCSjzC5AiRxJD5Y8VoZIhgYdFlv4=; b=nKhTwkHgh+6D8U7qV2w9CJCRHxXClxIw0IzIwxaGU9R1NezzBeJHY+4TsNWh721QsR wQc5rUxrv0Q5HdNlhyrRuoVGSBYhIcw5aO4Ci8JK1s2d4ea9iLzDyLQeponUtErkzJn3 L1dByaxlUZHFd+Uhh8vyoMMCOoAONVIaDbFbNdqvOmvUNwVnevDw8JwPch6YJjhla+VW 2TTccclCAAkWdmbuX1jqobX6EIAoaH5tmMdYqCHWEG7ZCUXGPsXGnQdWuRxqIj/zJ5B5 tht4Y8QAZQAZmoyyBv64DToBXcNXTb4bJONjL5x2mwQRVvi3uy2v8bbSDMPnXWd3BFSK M69w==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;CA+CBx2Pbvo-E9JVkntp0Ke0-9Qbjo=9qWB+ZZNGrOo2G+73rMg@mail.gmail.com&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00000.html">563B5418.8000002@fz-juelich.de</a>&gt; &lt;CAED9pY8km_w=6V94AEcsYHF1Dv3Kz99Mkpu8kEB0HXQ9crhZFQ@mail.gmail.com&gt; &lt;<a href="msg00004.html">5645C556.6000404@fz-juelich.de</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Troels Emtekær Linnet</strong> on November 15, 2015 - 18:47:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Dear Christina.

I think Edward is on vacation, but maybe I can help.

I have only worked on the dispersion part of relax and by no means expert
on the model free part.

But I understand the data structure of relax and can maybe help with a
script for your analysis.

Can you provide a description of where you are in the process, and what you
aim for.?

Best Troels
Den 13. nov. 2015 12.12 PM skrev &quot;Christina Möller&quot; &lt;c.moeller@xxxxxxxxxxxxx
</pre><blockquote class="blockquote"><pre style="margin: 0em;">:
</pre></blockquote><pre style="margin: 0em;">

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Dear Edward,

thank you so much for your recommendations and the really helpful wiki
article about the CGS and SI unit system. Now I understand the equation
differences and successfully back-calculated my relaxation data.

Furthermore, I used the generate_ri.py script and the back-calculated
values are close to the experimental data (as expected). I have to admit
that I copied the motion parameters (s2,sf2,s2s,tf, etc) and the
associated model manually into the script and executed the script
several times for different residues. I am pretty sure that it is
possible to include one or several lists in order to automatically
update these parameters for each residue and run this script only one
time. Unfortunately, I was not able not find out how this works. Could
you give me an idea?

Thanks,
Christina



Am 11/05/2015 um 03:53 PM schrieb Edward d'Auvergne:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Christina,

Please see below:

On 5 November 2015 at 14:05, Christina Möller &lt;c.moeller@xxxxxxxxxxxxx&gt;
wrote:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Dear Edward and relax-users,

I am sorry to ask you again for some advice to back calculate the
relaxation
data from the model parameter values. Here is what I tried so far:
For the back calculation I loaded the final results determined by the
automated analysis using the dauvergne_protocol.py into the relax gui.
Then
I selected the back_calc tool from user functions -&gt; relax_data.
After starting the back calculation without any entry
relax&gt; relax_data.back_calc(ri_id=None, ri_type=None, frq=None)
I get the following error message:
RelaxWarning: comparison to `None` will result in an elementwise object
comparison in the future.

</pre></blockquote><pre style="margin: 0em;">This is a warning produced by more recent versions of the numpy Python
package.  It is harmless message about changes which will occur in
numpy, and it is safe to ignore.  Note that I have fixed this in the
source code repository and the fix will appear in the future when I
release relax 4.0.1 (it is not present in relax 4.0.0 at
<a  rel="nofollow" href="http://wiki.nmr-relax.com/Relax_4.0.0">http://wiki.nmr-relax.com/Relax_4.0.0</a> ).  This was first reported at:

     [relax-users] RelaxWarning: comparison to `None` will result in an
elementwise object comparison in the future (
<a  rel="nofollow" href="http://thread.gmane.org/gmane.science.nmr.relax.user/1839">http://thread.gmane.org/gmane.science.nmr.relax.user/1839</a> ).

And the solution at:

     [relax-users] Re: RelaxWarning: comparison to `None` will result
in an elementwise object comparison in the future (
<a  rel="nofollow" href="http://thread.gmane.org/gmane.science.nmr.relax.user/1844">http://thread.gmane.org/gmane.science.nmr.relax.user/1844</a> ).


If I put the frequency in
</pre><blockquote class="blockquote"><pre style="margin: 0em;">relax&gt; relax_data.back_calc(ri_id=None, ri_type=None, frq=599468076.0)
I get another error message
Traceback (most recent call last):
  File

&quot;/opt/scisoft64/usr/lib/python2.7/site-packages/relax/gui/interpreter.py&quot;,
line 306, in run
    fn(*args, **kwds)
  File

&quot;/opt/scisoft64/usr/lib/python2.7/site-packages/relax/pipe_control/relax_data.py&quot;,
line 132, in back_calc
    spin.ri_data_bc[ri_id] = api.back_calc_ri(spin_index=spin_index,
ri_id=ri_id, ri_type=ri_types[ri_id], frq=frqs[ri_id])
KeyError: 'R1_600'

Can you give me a hint what I am doing wrong?

</pre></blockquote><pre style="margin: 0em;">I would suggest using the sample_scripts/model_free/generate_ri.py
sample script.  The relax_data.back_calc user function requires that
the relaxation data ID, the relaxation type, and frequency arguments
be supplied to correctly calculate the desired data (see
<a  rel="nofollow" href="http://www.nmr-relax.com/manual/relax_data_back_calc.html">http://www.nmr-relax.com/manual/relax_data_back_calc.html</a> ).  Without
this information, relax cannot determine what you would like to do.
Using the sample script would be the easiest option.


I know that the relaxation data can also be back calculated using the
</pre><blockquote class="blockquote"><pre style="margin: 0em;">equations 7.3a - 7.8 in the relax manual (PDF), although it is not that
trivial for an ellipsoid model because I need to determine the weights.
Is
there a reason why you define c=1/3(ωH*∆σ)^2 (eq. 7.5) instead of
c=2/15(ωN*∆σ)^2 like it can be found in literature?

</pre></blockquote><pre style="margin: 0em;">These two factors come from using CGS vs. SI units.  I have mentioned
this issue before (see
<a  rel="nofollow" href="http://thread.gmane.org/gmane.science.nmr.relax.devel/1023/focus=1034">http://thread.gmane.org/gmane.science.nmr.relax.devel/1023/focus=1034</a>
).  I have also started a stub wiki article to help explain these
differences - <a  rel="nofollow" href="http://wiki.nmr-relax.com/CGS_versus_SI">http://wiki.nmr-relax.com/CGS_versus_SI</a> . In SI units
the correct unit (squared) is (ω·∆σ)^2 / 3, and SI units are used
throughout relax.  This has made some parts of relax more difficult to
implement as there are many equations in the literature in CGS units,
and the authors will often not identify this older system.  Some
stubborn people just prefer the magnetic constant to be 1 rather than
µ0/(4π), and will not shift from the CGS metric system to the SI
metric system.

Regards,

Edward


</pre></blockquote><pre style="margin: 0em;">

--
------------------------------------------------------------
Christina Möller
ICS-6 / Structural Biochemistry
Forschungszentrum Jülich
D-52425 Jülich
GERMANY

E-mail: c.moeller@xxxxxxxxxxxxx
Tel.: +49-2461-619387
Fax +49-2461-619387




------------------------------------------------------------------------------------------------

------------------------------------------------------------------------------------------------
Forschungszentrum Juelich GmbH
52425 Juelich
Sitz der Gesellschaft: Juelich
Eingetragen im Handelsregister des Amtsgerichts Dueren Nr. HR B 3498
Vorsitzender des Aufsichtsrats: MinDir Dr. Karl Eugen Huthmacher
Geschaeftsfuehrung: Prof. Dr.-Ing. Wolfgang Marquardt (Vorsitzender),
Karsten Beneke (stellv. Vorsitzender), Prof. Dr.-Ing. Harald Bolt,
Prof. Dr. Sebastian M. Schmidt

------------------------------------------------------------------------------------------------

------------------------------------------------------------------------------------------------


_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>

</pre></blockquote><pre style="margin: 0em;">

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00006" href="msg00006.html">Re: back calculation of relaxation data</a></strong>
<ul><li><em>From:</em> Christina Möller</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00000" href="msg00000.html">back calculation of relaxation data</a></strong>
<ul><li><em>From:</em> Christina Möller</li></ul></li>
<li><strong><a name="00001" href="msg00001.html">Re: back calculation of relaxation data</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00004" href="msg00004.html">Re: back calculation of relaxation data</a></strong>
<ul><li><em>From:</em> Christina Möller</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Mon Nov 16 10:40:09 2015</div>  
</body>
</html>
