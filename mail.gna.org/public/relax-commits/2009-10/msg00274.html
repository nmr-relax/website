<!-- MHonArc v2.6.16 -->
<!--X-Subject: r9838 &#45; in /branches/bmrb/bmrblib/experimental_details: __init__.py	method.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Thu, 29 Oct 2009 11:23:54 +0100 -->
<!--X-Message-Id: E1N3SAc&#45;0003gD&#45;37@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r9838 - in /branches/bmrb/bmrblib/experimental_details: __init__.py	method.py -- October 29, 2009 - 11:23</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r9838 - in /branches/bmrb/bmrblib/experimental_details: __init__.py	method.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00274" class="tabs">Index by Date</a> | <a href="threads.html#00274" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00273.html">Date Prev</a>] [<a href="msg00275.html">Date Next</a>] [<a href="msg00273.html">Thread Prev</a>] [<a href="msg00275.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Thu, 29 Oct 2009 10:23:53 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00274.html">E1N3SAc-0003gD-37@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on October 29, 2009 - 11:23:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Thu Oct 29 11:23:53 2009
New Revision: 9838

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=9838&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=9838&amp;view=rev</a>
Log:
Added support for the method saveframe.


Added:
    branches/bmrb/bmrblib/experimental_details/method.py
      - copied, changed from r9831, 
branches/bmrb/bmrblib/experimental_details/software.py
Modified:
    branches/bmrb/bmrblib/experimental_details/__init__.py

Modified: branches/bmrb/bmrblib/experimental_details/__init__.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/bmrb/bmrblib/experimental_details/__init__.py?rev=9838&amp;r1=9837&amp;r2=9838&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/bmrb/bmrblib/experimental_details/__init__.py?rev=9838&amp;r1=9837&amp;r2=9838&amp;view=diff</a>
==============================================================================
--- branches/bmrb/bmrblib/experimental_details/__init__.py (original)
+++ branches/bmrb/bmrblib/experimental_details/__init__.py Thu Oct 29 
11:23:53 2009
@@ -27,4 +27,6 @@
 <a  rel="nofollow" href="http://www.bmrb.wisc.edu/dictionary/3.1html/SuperGroupPage.html">http://www.bmrb.wisc.edu/dictionary/3.1html/SuperGroupPage.html</a>.
 &quot;&quot;&quot;
 
-__all__ = []
+__all__ = ['method',
+           'software'
+]

Copied: branches/bmrb/bmrblib/experimental_details/method.py (from r9831, 
branches/bmrb/bmrblib/experimental_details/software.py)
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/bmrb/bmrblib/experimental_details/method.py?p2=branches/bmrb/bmrblib/experimental_details/method.py&amp;p1=branches/bmrb/bmrblib/experimental_details/software.py&amp;r1=9831&amp;r2=9838&amp;rev=9838&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/bmrb/bmrblib/experimental_details/method.py?p2=branches/bmrb/bmrblib/experimental_details/method.py&amp;p1=branches/bmrb/bmrblib/experimental_details/software.py&amp;r1=9831&amp;r2=9838&amp;rev=9838&amp;view=diff</a>
==============================================================================
--- branches/bmrb/bmrblib/experimental_details/software.py (original)
+++ branches/bmrb/bmrblib/experimental_details/method.py Thu Oct 29 11:23:53 
2009
@@ -21,9 +21,9 @@
 
###############################################################################
 
 # Module docstring.
-&quot;&quot;&quot;The software saveframe category.
-
-For example, see 
<a  rel="nofollow" href="http://www.bmrb.wisc.edu/dictionary/3.1html_frame/frame_SaveFramePage.html#software">http://www.bmrb.wisc.edu/dictionary/3.1html_frame/frame_SaveFramePage.html#software</a>
+&quot;&quot;&quot;The method saveframe category.
+
+For example, see 
<a  rel="nofollow" href="http://www.bmrb.wisc.edu/dictionary/3.1html_frame/frame_SaveFramePage.html#method">http://www.bmrb.wisc.edu/dictionary/3.1html_frame/frame_SaveFramePage.html#method</a>
 &quot;&quot;&quot;
 
 # relax module imports.
@@ -33,8 +33,8 @@
 from bmrblib.misc import translate
 
 
-class SoftwareSaveframe(BaseSaveframe):
-    &quot;&quot;&quot;The software saveframe class.&quot;&quot;&quot;
+class MethodSaveframe(BaseSaveframe):
+    &quot;&quot;&quot;The method saveframe class.&quot;&quot;&quot;
 
     def __init__(self, datanodes):
         &quot;&quot;&quot;Initialise the class, placing the pystarlib data nodes into the 
namespace.
@@ -46,131 +46,116 @@
         # Place the data nodes into the namespace.
         self.datanodes = datanodes
 
-        # The number of software programs used.
-        self.software_num = 0
+        # The number of methods used.
+        self.method_num = 0
 
         # Add the specific tag category objects.
         self.add_tag_categories()
 
 
-    def add(self, name, version=None, vendor_name=None, vendor_address=None, 
vendor_eaddress=None, task=None, cite_ids=None):
-        &quot;&quot;&quot;Add the software info to the data nodes.
-
-        @param name:                The name of the software program.
+    def add(self, name=None, details=None, cite_ids=None, file_name=None, 
file_text=None, param_file_name=None, param_file_text=None):
+        &quot;&quot;&quot;Add the method info to the data nodes.
+
+        @keyword name:              The unique name describing this method.
         @type name:                 str
-        @keyword version:           The software version.
-        @type version:              None or str
-        @keyword vendor_name:       The vendor or developers of the software.
-        @type vendor_name:          None or str
-        @keyword vendor_address:    The vendor address.
-        @type vendor_address:       None or str
-        @keyword vendor_eaddress:   The vendor electronic address.
-        @type vendor_eaddress:      None or str
-        @keyword task:              The task of the software.
-        @type task:                 str
+        @keyword details:           Text description providing additional 
information about the reported method.
+        @type details:              None or str
         @keyword cite_ids:          The citation ID numbers.
         @type cite_ids:             None or list of int
-        @return:                    The software ID number.
-        @rtype:                     int
-        &quot;&quot;&quot;
+        @keyword file_name:         The name of the file containing the 
source code or protocol for the reported method.
+        @type file_name:            str
+        @keyword file_text:         The method provided as an ASCII text 
document that is included in the NMR-STAR file.
+        @type file_text:            str
+        @keyword param_file_name:   The name of the file that contains 
parameters required to execute the method.
+        @type param_file_name:      None or str
+        @keyword param_file_text:   The text of the parameter file.
+        @type param_file_text:      None or str
+        &quot;&quot;&quot;
+
+        # Check that nothing is missing.
+        no_missing(name, 'method name')
 
         # Check.
-        if not isinstance(task, list):
-            raise NameError, &quot;The task argument '%s' is invalid.&quot; % task
+        if not isinstance(cite_ids, list):
+            raise NameError, &quot;The cite_ids argument '%s' should be a list.&quot; 
% cite_ids
 
         # Place the args into the namespace.
-        self.program_name = name
-        self.program_version = version
-        self.vendor_name = translate(vendor_name)
-        self.vendor_address = translate(vendor_address)
-        self.vendor_eaddress = translate(vendor_eaddress)
-        self.task = translate(task)
         self.cite_ids = translate(cite_ids)
 
         # Increment the ID number.
-        self.software_num = self.software_num + 1
-        self.software_id_num = [str(translate(self.software_num))]
+        self.method_num = self.method_num + 1
+        self.method_id_num = [str(translate(self.method_num))]
 
         # The category name.
-        self.cat_name = ['Software']
+        self.cat_name = ['Method']
 
         # Initialise the save frame.
-        self.frame = SaveFrame(title=self.program_name)
+        self.frame = SaveFrame(title='method')
 
         # Create the tag categories.
-        self.Software.create()
-        self.Software_citation.create()
-        self.Vendor.create()
-        self.Task.create()
+        self.Method.create()
+        self.Method_citation.create()
+        self.Method_file.create()
+        self.Method_parameter_file.create()
 
         # Add the saveframe to the data nodes.
         self.datanodes.append(self.frame)
 
-        # Return the software ID number.
-        return self.software_num
-
 
     def add_tag_categories(self):
         &quot;&quot;&quot;Create the tag categories.&quot;&quot;&quot;
 
         # The tag category objects.
-        self.Software = Software(self)
-        self.Software_citation = SoftwareCitation(self)
-        self.Task = Task(self)
-        self.Vendor = Vendor(self)
-
-
-
-class Software(TagCategory):
-    &quot;&quot;&quot;Base class for the Software tag category.&quot;&quot;&quot;
-
-    def create(self):
-        &quot;&quot;&quot;Create the Software tag category.&quot;&quot;&quot;
-
-        # The save frame category.
+        self.Method = Method(self)
+        self.Method_citation = MethodCitation(self)
+        self.Method_file = MethodFile(self)
+        self.Method_parameter_file = MethodParam(self)
+
+
+
+class Method(TagCategory):
+    &quot;&quot;&quot;Base class for the Method tag category.&quot;&quot;&quot;
+
+    def create(self):
+        &quot;&quot;&quot;Create the Method tag category.&quot;&quot;&quot;
+
+        # The tags.
         self.sf.frame.tagtables.append(self.create_tag_table([['SfCategory', 
'cat_name']], free=True))
-
-        # Software ID number.
-        self.sf.frame.tagtables.append(TagTable(free=True, 
tagnames=[self.tag_names_full['SoftwareID']], 
tagvalues=[[str(self.sf.software_num)]]))
-
-        # The program name.
-        self.sf.frame.tagtables.append(TagTable(free=True, 
tagnames=[self.tag_names_full['Name']], tagvalues=[[self.sf.program_name]]))
-
-        # The program version.
-        if self.sf.program_version:
-            self.sf.frame.tagtables.append(TagTable(free=True, 
tagnames=[self.tag_names_full['Version']], 
tagvalues=[[self.sf.program_version]]))
-
-
-    def tag_setup(self, tag_category_label=None, sep=None):
-        &quot;&quot;&quot;Replacement method for setting up the tag names.
-
-        @keyword tag_category_label:    The tag name prefix specific for the 
tag category.
-        @type tag_category_label:       None or str
-        @keyword sep:                   The string separating the tag name 
prefix and suffix.
-        @type sep:                      str
-        &quot;&quot;&quot;
-
-        # Execute the base class tag_setup() method.
-        TagCategory.tag_setup(self, tag_category_label='Software', sep=sep)
+        self.sf.frame.tagtables.append(TagTable(free=True, 
tagnames=[self.tag_names_full['SfFramecode']], 
tagvalues=[[str(self.sf.method_name)]]))
+        self.sf.frame.tagtables.append(TagTable(free=True, 
tagnames=[self.tag_names_full['MethodID']], 
tagvalues=[[str(self.sf.method_num)]]))
+        self.sf.frame.tagtables.append(TagTable(free=True, 
tagnames=[self.tag_names_full['Details']], tagvalues=[[self.sf.details]]))
+
+
+    def tag_setup(self, tag_category_label=None, sep=None):
+        &quot;&quot;&quot;Replacement method for setting up the tag names.
+
+        @keyword tag_category_label:    The tag name prefix specific for the 
tag category.
+        @type tag_category_label:       None or str
+        @keyword sep:                   The string separating the tag name 
prefix and suffix.
+        @type sep:                      str
+        &quot;&quot;&quot;
+
+        # Execute the base class tag_setup() method.
+        TagCategory.tag_setup(self, tag_category_label='Method', sep=sep)
 
         # Tag names for the relaxation data.
         self.tag_names['SfCategory'] = 'Sf_category'
-        self.tag_names['SoftwareID'] = 'ID'
-        self.tag_names['Name'] = 'Name'
-        self.tag_names['Version'] = 'Version'
-
-
-class SoftwareCitation(TagCategory):
-    &quot;&quot;&quot;Base class for the SoftwareCitation tag category.&quot;&quot;&quot;
-
-
-    def create(self):
-        &quot;&quot;&quot;Create the Software tag category.&quot;&quot;&quot;
+        self.tag_names['SfFramecode'] = 'Sf_framecode'
+        self.tag_names['MethodID'] = 'ID'
+        self.tag_names['Details'] = 'Details'
+
+
+class MethodCitation(TagCategory):
+    &quot;&quot;&quot;Base class for the MethodCitation tag category.&quot;&quot;&quot;
+
+
+    def create(self):
+        &quot;&quot;&quot;Create the Method tag category.&quot;&quot;&quot;
 
         # Keys and objects.
         info = [
             ['CitationID',      'cite_ids'],
-            ['SoftwareID',      'software_id_num']
+            ['MethodID',        'method_id_num']
         ]
 
         # Get the TabTable.
@@ -191,26 +176,27 @@
 
         # Category label.
         if not tag_category_label:
-            tag_category_label='Software_citation'
+            tag_category_label='Method_citation'
 
         # Execute the base class tag_setup() method.
         TagCategory.tag_setup(self, tag_category_label=tag_category_label, 
sep=sep)
 
         # Tag names for the relaxation data.
         self.tag_names['CitationID'] = 'Citation_ID'
-        self.tag_names['SoftwareID'] = 'Software_ID'
-
-
-class Task(TagCategory):
-    &quot;&quot;&quot;Base class for the Task tag category.&quot;&quot;&quot;
-
-    def create(self):
-        &quot;&quot;&quot;Create the Task tag category.&quot;&quot;&quot;
+        self.tag_names['MethodID'] = 'Method_ID'
+
+
+class MethodFile(TagCategory):
+    &quot;&quot;&quot;Base class for the MethodFile tag category.&quot;&quot;&quot;
+
+    def create(self):
+        &quot;&quot;&quot;Create the MethodFile tag category.&quot;&quot;&quot;
 
         # Keys and objects.
         info = [
-            ['Task',                'task'],
-            ['SoftwareID',          'software_id_num']
+            ['Name',                'file_name'],
+            ['Text',                'text'],
+            ['MethodID',            'method_id_num']
         ]
 
         # Get the TabTable.
@@ -230,25 +216,26 @@
         &quot;&quot;&quot;
 
         # Execute the base class tag_setup() method.
-        TagCategory.tag_setup(self, tag_category_label='Task', sep=sep)
-
-        # Tag names for the relaxation data.
-        self.tag_names['Task'] = 'Task'
-        self.tag_names['SoftwareID'] = 'SoftwareID'
-
-
-class Vendor(TagCategory):
-    &quot;&quot;&quot;Base class for the Vendor tag category.&quot;&quot;&quot;
-
-    def create(self):
-        &quot;&quot;&quot;Create the Vendor tag category.&quot;&quot;&quot;
+        TagCategory.tag_setup(self, tag_category_label='Method_file', 
sep=sep)
+
+        # Tag names for the relaxation data.
+        self.tag_names['Name'] = 'Name'
+        self.tag_names['Text'] = 'Text'
+        self.tag_names['MethodID'] = 'Method_ID'
+
+
+class MethodParam(TagCategory):
+    &quot;&quot;&quot;Base class for the MethodParam tag category.&quot;&quot;&quot;
+
+    def create(self):
+        &quot;&quot;&quot;Create the MethodParam tag category.&quot;&quot;&quot;
 
         # Keys and objects.
         info = [
-            ['Name',                'vendor_name'],
-            ['Address',             'vendor_address'],
-            ['ElectronicAddress',   'vendor_eaddress'],
-            ['SoftwareID',          'software_id_num']
+            ['FileName',            'param_file_name'],
+            ['TextFormat',          'text_format'],
+            ['Text',                'param_file_text'],
+            ['MethodID',            'method_id_num']
         ]
 
         # Get the TabTable.
@@ -268,10 +255,10 @@
         &quot;&quot;&quot;
 
         # Execute the base class tag_setup() method.
-        TagCategory.tag_setup(self, tag_category_label='Vendor', sep=sep)
-
-        # Tag names for the relaxation data.
-        self.tag_names['Name'] = 'Name'
-        self.tag_names['Address'] = 'Address'
-        self.tag_names['ElectronicAddress'] = 'Electronic_address'
-        self.tag_names['SoftwareID'] = 'SoftwareID'
+        TagCategory.tag_setup(self, tag_category_label='Method_param', 
sep=sep)
+
+        # Tag names for the relaxation data.
+        self.tag_names['FileName'] =    'File_name'
+        self.tag_names['TextFormat'] =  'Text_format'
+        self.tag_names['Text'] =        'Text'
+        self.tag_names['MethodID'] =    'Method_ID'



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Oct 29 11:40:03 2009</div>  
</body>
</html>
