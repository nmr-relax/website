<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Seeing / Setting the "start value" for a variable in a CPMG model	fit. -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Wed, 04 Sep 2013 14:06:32 +0200 -->
<!--X-Message-Id: CAED9pY9b6hppeiBCNx81dETv2MgtgCZQPNwSL2k9mQ9NL1SMag@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CA+CBx2N0ywsCTiGcESxd5k8zR&#45;q&#45;A5SN=65hzA5XchyDBvHABQ@mail.gmail.com -->
<!--X-Reference: CAED9pY8VE2n4brHU3_BBPxhntQrvWs8dJ_jXVRtaM=Q2a6Royg@mail.gmail.com -->
<!--X-Reference: CA+CBx2MBpx3Na=Bfy3N2oS4Wif&#45;ROTjkwosJ&#45;n06Z4WTtO9h=w@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Seeing / Setting the &quot;start value&quot; for a variable in a CPMG model	fit. -- September 04, 2013 - 14:06</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Seeing / Setting the &quot;start value&quot; for a variable in a CPMG model	fit.</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00056" class="tabs">Index by Date</a> | <a href="threads.html#00056" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00055.html">Date Prev</a>] [<a href="msg00057.html">Date Next</a>] [<a href="msg00053.html">Thread Prev</a>] [Thread Next]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Wed, 4 Sep 2013 14:06:00 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:sender:in-reply-to:references:date:message-id:subject	:from:to:cc:content-type:content-transfer-encoding;	bh=eHjURDYrP8L/rbgxluSNZvyguUAapia/uDJKG7q9tBE=;	b=rbBn5jJkohjJYIZhV4SzF34b9MDuETvr2B1w/oWEvVso/398tAZCCl16yvTo2w5Xou	CAjSYDMdbKt1QCH1HVs9hLMV4HIRwBCKRKB7LO3+S1XrJSBCQLPSscntdoeDKZEEqsoS	Y2H6DgwsUex968ZSvaN5UbYaaleEUoKrXsMFOcvvOEat/Weqz6Bwl4HQehbuH1QertAm	c0zZAixlaFLwAQqTkkxS8kSEhwlhdxu+a3sf6y8sbry/cAPla7avoefkHwu3CPQbWWOT	fKLyzyw9xxlOxZ8PVlOB1j19TrpBzdP0BiQQ2PxY+4DQodABfY2ceJD48qIpH80ycMFj	hjEA==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00056.html">CAED9pY9b6hppeiBCNx81dETv2MgtgCZQPNwSL2k9mQ9NL1SMag@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;CA+CBx2N0ywsCTiGcESxd5k8zR-q-A5SN=65hzA5XchyDBvHABQ@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY8VE2n4brHU3_BBPxhntQrvWs8dJ_jXVRtaM=Q2a6Royg@xxxxxxxxxxxxxx&gt;	&lt;CA+CBx2MBpx3Na=Bfy3N2oS4Wif-ROTjkwosJ-n06Z4WTtO9h=w@xxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on September 04, 2013 - 14:06:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

If you look into the
specific_analyses.relax_disp.parameters.linear_constraints() function,
you should see why kA can go negative.  You will notice other places
in this module where kA is not correctly handled.  But before you make
these changes, we should change kA to k_AB everywhere!  This is to
make the notation consistent within relax.  Actually, ka can be used
in the lib.dispersion module, but in all other parts of relax it needs
to be k_AB.  kA is ambiguous and inconsistent with the other models in
relax.

Regards,

Edward



On 4 September 2013 13:51, Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Well.

Most of my values for kA are 2-6.
Which seems fine.

But I also got a negative kA value and one of thousands.
And my dw values are also strange.

I have to look into which units the paper report data in, and
if there are more supporting information I can look at.

Let me return to this, when I have setup a test-suite.

Best
Troels

Troels Emtekær Linnet


2013/9/4 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Is there a way to see the start value for a variable in a CPMG model fit. 
?
</pre></blockquote><pre style="margin: 0em;">

Not in the auto-analysis, as there are no starting values.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">When using the auto_analysis, :

--------
from auto_analyses.relax_disp import Relax_disp
Relax_disp(pipe_name=pipe_name, pipe_bundle=pipe_bundle,
results_dir=results_directory, models=MODELS, grid_inc=GRID_INC,
mc_sim_num=MC_NUM, modsel=MODSEL)
--------

I see no options to modify the grid_search ?
</pre></blockquote><pre style="margin: 0em;">

Currently the only option is to change the number of grid increments.
For the auto-analysis, changing the other options is not such a good
idea.  For a custom dispersion analysis, you are free to do anything.
The auto-analysis is limited to help users who are only interested in
a result whereas a custom analysis is unlimited in what can be done.
Actually if the user changes the grid increments to be below 7, that
could be fatal for the results.  The defaults in relax must allow the
minimum to be found in absolutely all cases, and the current defaults
should do that.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">When I grep the logfile, I see each model use a grid_search

grid_search(lower=None, upper=None, inc=21, constraints=True, verbosity=1)
<a  rel="nofollow" href="http://www.nmr-relax.com/api/3.0/pipe_control.minimise-module.html#grid_search">http://www.nmr-relax.com/api/3.0/pipe_control.minimise-module.html#grid_search</a>

Is it possible change the lower and upper bonds for the grid_search,
or should one run all the commands manually?
</pre></blockquote><pre style="margin: 0em;">

These cannot be changed in the auto-analysis.  The reason for this is
that relax provides defaults which will work in all cases.  To see
this, look at the _grid_search_setup() method in the
specific_analyses.relax_disp.api module.  The user should really not
touch these upper and lower bounds as they might cause the minimum to
be missed.  A power user not using the auto-analysis can play with
such things, but definitely not a normal user.  However a power user
should probably not change these anyway.

Note that the constraints will remove half of this grid due to the pA
</pre><blockquote class="blockquote"><pre style="margin: 0em;">pB constraint.  The other constraints remove other parts of the
</pre></blockquote><pre style="margin: 0em;">grid.  But the grid is only used to find a rough starting point for
optimisation so that the minimiser can easily find the minimum.  This
is not a question of local verses global minima, as there is only one
minimum for the 2-site models (analytic and numeric).  The problem is
that if you start too far from the minimum, due to the non-linearity
of the parameter space the optimisation algorithm may not be able to
reach the minimum.  This is why a grid search is almost always used as
the starting point for mathematical optimisation.  There are other
techniques that can be used, but they are similar in concept - you
simply need some algorithm pick a rough position close to the minimum.
 Then you use the optimisation algorithm to refine and find the exact
values.

So you start with no parameter values, use the grid search to find a
rough starting position, then use the simplex optimisation algorithm
to refine the parameter values.  The rough parameter values after the
grid search are of no scientific interest, so these numbers are never
output (apart from the printouts from the grid search itself).  The
values are stored in relax to be used by the subsequent minimise()
user function, and then they are overwritten by the higher precision
parameters.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">I could grep the logfile after an Autoanalysis to see the commands:
<a  rel="nofollow" href="http://wiki.nmr-relax.com/Grep_log_file">http://wiki.nmr-relax.com/Grep_log_file</a>
and then change the grid search parameters.
</pre></blockquote><pre style="margin: 0em;">

What is the purpose of changing these?  Are the defaults not good enough?


</pre><blockquote class="blockquote"><pre style="margin: 0em;">---
On another note.

Would it be possible to write the starting values into the table 10.1
in the relax_disp
manual?
</pre></blockquote><pre style="margin: 0em;">

No, because there is no such thing as a starting value ;)

Regards,

Edward
</pre></blockquote><pre style="margin: 0em;">

_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00050" href="msg00050.html">Seeing / Setting the &quot;start value&quot; for a variable in a CPMG model fit.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00052" href="msg00052.html">Re: Seeing / Setting the &quot;start value&quot; for a variable in a CPMG model	fit.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00053" href="msg00053.html">Re: Seeing / Setting the &quot;start value&quot; for a variable in a CPMG model	fit.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Sep 04 14:40:07 2013</div>  
</body>
</html>
