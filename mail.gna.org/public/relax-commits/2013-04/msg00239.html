<!-- MHonArc v2.6.16 -->
<!--X-Subject: r19520 &#45; in /branches/relax_disp: ./ gui/analyses/auto_rx_base.py	gui/components/spectrum.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Sun, 21 Apr 2013 00:45:59 +0200 -->
<!--X-Message-Id: E1UTgXf&#45;0001Tm&#45;5X@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r19520 - in /branches/relax_disp: ./ gui/analyses/auto_rx_base.py	gui/components/spectrum.py -- April 21, 2013 - 00:45</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r19520 - in /branches/relax_disp: ./ gui/analyses/auto_rx_base.py	gui/components/spectrum.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00239" class="tabs">Index by Date</a> | <a href="threads.html#00239" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00238.html">Date Prev</a>] [<a href="msg00240.html">Date Next</a>] [<a href="msg00238.html">Thread Prev</a>] [<a href="msg00240.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Sat, 20 Apr 2013 22:45:59 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00239.html">E1UTgXf-0001Tm-5X@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on April 21, 2013 - 00:45:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Sun Apr 21 00:45:58 2013
New Revision: 19520

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=19520&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=19520&amp;view=rev</a>
Log:
Merged revisions 19518-19519 via svnmerge from 
svn+ssh://bugman@xxxxxxxxxxx/svn/relax/trunk

........
  r19518 | bugman | 2013-04-21 00:37:04 +0200 (Sun, 21 Apr 2013) | 5 lines
  
  Bug fix for the right click popup menu in the spectra list GUI element.
  
  This affects the NOE, R1, and R2 analyses.  The actions of the menu items 
were all mixed up.
........
  r19519 | bugman | 2013-04-21 00:44:54 +0200 (Sun, 21 Apr 2013) | 3 lines
  
  The relaxation time part of the spectra list GUI element can now be turned 
on or off.
........

Modified:
    branches/relax_disp/   (props changed)
    branches/relax_disp/gui/analyses/auto_rx_base.py
    branches/relax_disp/gui/components/spectrum.py

Propchange: branches/relax_disp/
------------------------------------------------------------------------------
--- svnmerge-integrated (original)
+++ svnmerge-integrated Sun Apr 21 00:45:58 2013
@@ -1,1 +1,1 @@
-/trunk:1-19514
+/trunk:1-19519

Modified: branches/relax_disp/gui/analyses/auto_rx_base.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/gui/analyses/auto_rx_base.py?rev=19520&amp;r1=19519&amp;r2=19520&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/relax_disp/gui/analyses/auto_rx_base.py?rev=19520&amp;r1=19519&amp;r2=19520&amp;view=diff</a>
==============================================================================
--- branches/relax_disp/gui/analyses/auto_rx_base.py (original)
+++ branches/relax_disp/gui/analyses/auto_rx_base.py Sun Apr 21 00:45:58 2013
@@ -219,7 +219,7 @@
 
         # Add the peak list selection GUI element, with spacing.
         box.AddSpacer(20)
-        self.peak_intensity = Spectra_list(gui=self.gui, parent=self, 
box=box, id=str(self.data_index), fn_add=self.peak_wizard)
+        self.peak_intensity = Spectra_list(gui=self.gui, parent=self, 
box=box, id=str(self.data_index), fn_add=self.peak_wizard, relax_times=True)
         box.AddSpacer(10)
 
         # The optimisation settings.

Modified: branches/relax_disp/gui/components/spectrum.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/gui/components/spectrum.py?rev=19520&amp;r1=19519&amp;r2=19520&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/relax_disp/gui/components/spectrum.py?rev=19520&amp;r1=19519&amp;r2=19520&amp;view=diff</a>
==============================================================================
--- branches/relax_disp/gui/components/spectrum.py (original)
+++ branches/relax_disp/gui/components/spectrum.py Sun Apr 21 00:45:58 2013
@@ -45,7 +45,7 @@
 class Spectra_list(Base_list):
     &quot;&quot;&quot;The GUI element for listing loaded spectral data.&quot;&quot;&quot;
 
-    def __init__(self, gui=None, parent=None, box=None, id=None, 
fn_add=None, proportion=0, button_placement='default'):
+    def __init__(self, gui=None, parent=None, box=None, id=None, 
fn_add=None, proportion=0, button_placement='default', relax_times=False):
         &quot;&quot;&quot;Build the spectral list GUI element.
 
         @keyword gui:               The main GUI object.
@@ -64,10 +64,13 @@
         @type proportion:           bool
         @keyword button_placement:  Override the button visibility and 
placement.  The value of 'default' will leave the buttons at the default 
setting.  The value of 'top' will place the buttons at the top, 'bottom' will 
place them at the bottom, and None will turn off the buttons.
         @type button_placement:     str or None
+        @keyword relax_times:       A flag which if True will activate the 
relaxation time parts of the GUI element.
+        @type relax_times:          bool
         &quot;&quot;&quot;
 
         # Store the arguments.
         self.fn_add = fn_add
+        self.relax_times_flag = relax_times
 
         # Initialise the base class.
         super(Spectra_list, self).__init__(gui=gui, parent=parent, box=box, 
id=id, proportion=proportion, button_placement=button_placement)
@@ -321,29 +324,31 @@
                 'id': wx.NewId(),
                 'text': &quot;Set the &amp;baseplane RMSD&quot;,
                 'icon': 
fetch_icon(uf_info.get_uf('spectrum.baseplane_rmsd').gui_icon),
-                'method': self.action_relax_fit_relax_time
+                'method': self.action_spectrum_baseplane_rmsd
             }, {
                 'id': wx.NewId(),
                 'text': &quot;&amp;Delete the peak intensities&quot;,
                 'icon': 
fetch_icon(uf_info.get_uf('spectrum.delete').gui_icon),
-                'method': self.action_spectrum_baseplane_rmsd
+                'method': self.action_spectrum_delete
             }, {
                 'id': wx.NewId(),
                 'text': &quot;Set the number of integration &amp;points&quot;,
                 'icon': 
fetch_icon(uf_info.get_uf('spectrum.integration_points').gui_icon),
-                'method': self.action_spectrum_delete
+                'method': self.action_spectrum_integration_points
             }, {
                 'id': wx.NewId(),
                 'text': &quot;Specify which spectra are &amp;replicated&quot;,
                 'icon': 
fetch_icon(uf_info.get_uf('spectrum.replicated').gui_icon),
-                'method': self.action_spectrum_integration_points
-            }, {
-                'id': wx.NewId(),
-                'text': &quot;Set the relaxation &amp;time&quot;,
-                'icon': 
fetch_icon(uf_info.get_uf('relax_fit.relax_time').gui_icon),
                 'method': self.action_spectrum_replicated
             }
         ]
+        if self.relax_times_flag:
+            self.popup_menus.append({
+                'id': wx.NewId(),
+                'text': &quot;Set the relaxation &amp;time&quot;,
+                'icon': 
fetch_icon(uf_info.get_uf('relax_fit.relax_time').gui_icon),
+                'method': self.action_relax_fit_relax_time
+            })
 
 
     def update_data(self):
@@ -374,7 +379,7 @@
             index += 1
 
         # The relaxation times.
-        if self.relax_times(index):
+        if self.relax_times_flag and self.relax_times(index):
             index += 1
 
         # The replicated spectra.



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sun Apr 21 12:00:02 2013</div>  
</body>
</html>
