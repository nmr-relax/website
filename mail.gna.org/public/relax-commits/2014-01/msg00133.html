<!-- MHonArc v2.6.16 -->
<!--X-Subject: r22086 &#45; in /branches/double_rotor: ./ test_suite/system_tests/	test_suite/system_tests/scripts/noe/ -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Fri, 31 Jan 2014 10:37:40 +0100 -->
<!--X-Message-Id: E1W9AXc&#45;0008Jo&#45;Ae@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r22086 - in /branches/double_rotor: ./ test_suite/system_tests/	test_suite/system_tests/scripts/noe/ -- January 31, 2014 - 10:37</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r22086 - in /branches/double_rotor: ./ test_suite/system_tests/	test_suite/system_tests/scripts/noe/</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00133" class="tabs">Index by Date</a> | <a href="threads.html#00133" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00132.html">Date Prev</a>] [<a href="msg00134.html">Date Next</a>] [<a href="msg00132.html">Thread Prev</a>] [<a href="msg00134.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Fri, 31 Jan 2014 09:37:40 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00133.html">E1W9AXc-0008Jo-Ae@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on January 31, 2014 - 10:37:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Fri Jan 31 10:37:40 2014
New Revision: 22086

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=22086&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=22086&amp;view=rev</a>
Log:
Merged revisions 22083 via svnmerge from 
svn+ssh://bugman@xxxxxxxxxxx/svn/relax/trunk

........
  r22083 | bugman | 2014-01-31 10:36:17 +0100 (Fri, 31 Jan 2014) | 10 lines
  
  Created the Noe.test_bug_21562_noe_replicate_fail system test.
  
  This is to catch bug #21562 (<a  rel="nofollow" href="https://gna.org/bugs/?21562">https://gna.org/bugs/?21562</a>), reported by 
Dhanas Muthu
  (<a  rel="nofollow" href="https://gna.org/users/dhanas">https://gna.org/users/dhanas</a>).  This is the failure of the NOE analysis 
when spectra are
  replicated.
  
  This uses the truncated data taken from the files attached to the bug 
report.  The NOE output file
  is checked to see if the contents are correct.
........

Added:
    
branches/double_rotor/test_suite/system_tests/scripts/noe/bug_21562_noe_replicate_fail.py
      - copied unchanged from r22083, 
trunk/test_suite/system_tests/scripts/noe/bug_21562_noe_replicate_fail.py
Modified:
    branches/double_rotor/   (props changed)
    branches/double_rotor/test_suite/system_tests/noe.py

Propchange: branches/double_rotor/
------------------------------------------------------------------------------
--- svnmerge-integrated (original)
+++ svnmerge-integrated Fri Jan 31 10:37:40 2014
@@ -1,1 +1,1 @@
-/trunk:1-22080,22082
+/trunk:1-22080,22082-22083

Modified: branches/double_rotor/test_suite/system_tests/noe.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/double_rotor/test_suite/system_tests/noe.py?rev=22086&amp;r1=22085&amp;r2=22086&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/double_rotor/test_suite/system_tests/noe.py?rev=22086&amp;r1=22085&amp;r2=22086&amp;view=diff</a>
==============================================================================
--- branches/double_rotor/test_suite/system_tests/noe.py (original)
+++ branches/double_rotor/test_suite/system_tests/noe.py Fri Jan 31 10:37:40 
2014
@@ -41,6 +41,41 @@
 
         # Create a temporary file.
         ds.tmpfile = mktemp()
+
+
+    def test_bug_21562_noe_replicate_fail(self):
+        &quot;&quot;&quot;Catch U{bug #21562&lt;<a  rel="nofollow" href="https://gna.org/bugs/?21562">https://gna.org/bugs/?21562</a>&gt;}, the failure of 
the NOE analysis when replicated spectra are used.&quot;&quot;&quot;
+
+        # Execute the script.
+        self.script_exec(status.install_path + 
sep+'test_suite'+sep+'system_tests'+sep+'scripts'+sep+'noe'+sep+'bug_21562_noe_replicate_fail.py')
+
+        # Open the NOE output file.
+        file = open(ds.tmpfile)
+        lines = file.readlines()
+        file.close()
+
+        # How the file should look like.
+        data = [
+            &quot;# Parameter description:  The NOE.\n&quot;,
+            &quot;#\n&quot;,
+            &quot;# mol_name       res_num    res_name    spin_num    spin_name   
 value                   error                   \n&quot;,
+            &quot;2AT7_fmf_mol1    12         PHE         150         N           
    0.803029108487728      0.0199040298831904    \n&quot;,
+            &quot;2AT7_fmf_mol1    13         ASN         170         N           
    0.829415981681132      0.0339996453012768    \n&quot;,
+            &quot;2AT7_fmf_mol1    14         LYS         184         N           
    0.755789564728523      0.0250941717735858    \n&quot;
+        ]
+
+        # Printout of the real and generated data.
+        print(&quot;\n\nThe real data:&quot;)
+        for i in range(len(lines)):
+            print(repr(data[i]))
+        print(&quot;\nThe generated data:&quot;)
+        for i in range(len(lines)):
+            print(repr(lines[i]))
+        print(&quot;\n&quot;)
+
+        # Check each line.
+        for i in range(len(lines)):
+            self.assertEqual(data[i], lines[i])
 
 
     def test_noe_analysis(self):



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Jan 31 10:40:02 2014</div>  
</body>
</html>
