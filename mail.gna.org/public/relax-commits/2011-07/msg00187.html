<!-- MHonArc v2.6.16 -->
<!--X-Subject: r13544 &#45; /branches/gui_testing/prompt/dx.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Fri, 08 Jul 2011 16:05:56 +0200 -->
<!--X-Message-Id: E1QfBgq&#45;0003oK&#45;4X@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r13544 - /branches/gui_testing/prompt/dx.py -- July 08, 2011 - 16:05</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r13544 - /branches/gui_testing/prompt/dx.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00187" class="tabs">Index by Date</a> | <a href="threads.html#00187" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00186.html">Date Prev</a>] [<a href="msg00188.html">Date Next</a>] [<a href="msg00186.html">Thread Prev</a>] [<a href="msg00188.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Fri, 08 Jul 2011 14:05:56 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00187.html">E1QfBgq-0003oK-4X@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on July 08, 2011 - 16:05:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Fri Jul  8 16:05:55 2011
New Revision: 13544

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=13544&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=13544&amp;view=rev</a>
Log:
Convert the dx.map() user function documentation to the new design.


Modified:
    branches/gui_testing/prompt/dx.py

Modified: branches/gui_testing/prompt/dx.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/gui_testing/prompt/dx.py?rev=13544&amp;r1=13543&amp;r2=13544&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/gui_testing/prompt/dx.py?rev=13544&amp;r1=13543&amp;r2=13544&amp;view=diff</a>
==============================================================================
--- branches/gui_testing/prompt/dx.py (original)
+++ branches/gui_testing/prompt/dx.py Fri Jul  8 16:05:55 2011
@@ -38,23 +38,6 @@
     &quot;&quot;&quot;Class for interfacing with OpenDX.&quot;&quot;&quot;
 
     def execute(self, file=&quot;map&quot;, dir=&quot;dx&quot;, dx_exe=&quot;dx&quot;, vp_exec=True):
-        &quot;&quot;&quot;Function for running OpenDX.
-
-        Keyword Arguments
-        ~~~~~~~~~~~~~~~~~
-
-        file:  The file name prefix.  For example if file is set to 'temp', 
then the OpenDX program
-        temp.net will be loaded.
-
-        dir:  The directory to change to for running OpenDX.  If this is set 
to None, OpenDX will
-        be run in the current directory.
-
-        dx_exe:  The OpenDX executable file.
-
-        vp_exec:  A flag specifying whether to execute the visual program 
automatically at
-        start-up.  The default of True causes the program to be executed.
-        &quot;&quot;&quot;
-
         # Function intro text.
         if self._exec_info.intro:
             text = self._exec_info.ps3 + &quot;dx(&quot;
@@ -73,92 +56,19 @@
         # Execute the functional code.
         opendx.main.run(file_prefix=file, dir=dir, dx_exe=dx_exe, 
vp_exec=vp_exec)
 
+    # The function doc info.
+    execute._doc_title = &quot;Execution of OpenDX.&quot;
+    execute._doc_title_short = &quot;OpenDX execution.&quot;
+    execute._doc_args = [
+        [&quot;file&quot;, &quot;The file name prefix.  For example if file is set to 
'temp', then the OpenDX program temp.net will be loaded.&quot;],
+        [&quot;dir&quot;, &quot;The directory to change to for running OpenDX.  If this is 
set to None, OpenDX will be run in the current directory.&quot;],
+        [&quot;dx_exe&quot;, &quot;The OpenDX executable file.&quot;],
+        [&quot;vp_exec&quot;, &quot;A flag specifying whether to execute the visual program 
automatically at start-up.  The default of True causes the program to be 
executed.&quot;]
+    ]
+    _build_doc(execute)
+
 
     def map(self, params=None, map_type=&quot;Iso3D&quot;, spin_id=None, inc=20, 
lower=None, upper=None, axis_incs=5, file_prefix=&quot;map&quot;, dir=&quot;dx&quot;, point=None, 
point_file=&quot;point&quot;, remap=None):
-        &quot;&quot;&quot;Function for creating a map of the given space in OpenDX format.
-
-        Keyword Arguments
-        ~~~~~~~~~~~~~~~~~
-
-        params:  The parameters to be mapped.  This argument should be an 
array of strings, the
-        meanings of which are described below.
-
-        map_type:  The type of map to create.  For example the default, a 3D 
isosurface, the type is
-        'Iso3D'.  See below for more details.
-
-        spin_id:  The spin identification numbe.
-
-        inc:  The number of increments to map in each dimension.  This value 
controls the resolution
-        of the map.
-
-        lower:  The lower bounds of the space.  If you wish to change the 
lower bounds of the map
-        then supply an array of length equal to the number of parameters in 
the model.  A lower
-        bound for each parameter must be supplied.  If nothing is supplied 
then the defaults will
-        be used.
-
-        upper:  The upper bounds of the space.  If you wish to change the 
upper bounds of the map
-        then supply an array of length equal to the number of parameters in 
the model.  A upper
-        bound for each parameter must be supplied.  If nothing is supplied 
then the defaults will
-        be used.
-
-        axis_incs:  The number of increments or ticks displaying parameter 
values along the axes of
-        the OpenDX plot.
-
-        file_prefix:  The file name.  All the output files are prefixed with 
this name.  The main file
-        containing the data points will be called the value of 'file'.  The 
OpenDX program will be
-        called 'file.net' and the OpenDX import file will be called 
'file.general'.
-
-        dir:  The directory to output files to.  Set this to 'None' if you 
do not want the files to
-        be placed in subdirectory.  If the directory does not exist, it will 
be created.
-
-        point:  An array of parameter values where a point in the map, shown 
as a red sphere, will
-        be placed.  The length must be equal to the number of parameters.
-
-        point_file:  The name of that the point output files will be 
prefixed with.
-
-        remap:  A user supplied remapping function.  This function will 
receive the parameter array
-        and must return an array of equal length.
-
-
-        Map type
-        ~~~~~~~~
-
-        The map type can be changed by supplying the 'map_type' keyword 
argument.  Here is a list of
-        currently supported map types:
-        
_____________________________________________________________________________
-        |                                           |                        
       |
-        | Surface type                              | Pattern                
       |
-        
|___________________________________________|_______________________________|
-        |                                           |                        
       |
-        | 3D isosurface                             | 'Iso3D'                
       |
-        
|___________________________________________|_______________________________|
-
-        This argument is case insensitive.
-
-
-        Examples
-        ~~~~~~~~
-
-        The following commands will generate a map of the extended 
model-free space for model 'm5'
-        consisting of the parameters {S2, S2f, ts}.  Files will be output 
into the
-        directory 'dx' and will be prefixed by 'map'.  In this case, the 
system is a protein and
-        residue number 6 will be mapped.
-
-        relax&gt; dx.map(['S2', 'S2f', 'ts'], spin_id=':6')
-        relax&gt; dx.map(['S2', 'S2f', 'ts'], spin_id=':6', file_prefix='map', 
dir='dx')
-        relax&gt; dx.map(params=['S2', 'S2f', 'ts'], spin_id=':6', inc=20, 
file_prefix='map', dir='dx')
-        relax&gt; dx.map(params=['S2', 'S2f', 'ts'], spin_id=':6', 
map_type='Iso3D', inc=20,
-                      file_prefix='map', dir='dx')
-
-
-        To map the model-free space 'm4' for residue 2, spin N6 defined by 
the parameters {S2, te,
-        Rex}, name the results 'test', and to place the files in the current 
directory, use one of
-        the following commands:
-
-        relax&gt; dx.map(['S2', 'te', 'Rex'], spin_id=':2@N6', 
file_prefix='test', dir=None)
-        relax&gt; dx.map(params=['S2', 'te', 'Rex'], spin_id=':2@N6', inc=100, 
file_prefix='test', dir=None)
-        &quot;&quot;&quot;
-
         # Function intro text.
         if self._exec_info.intro:
             text = self._exec_info.ps3 + &quot;map(&quot;
@@ -198,11 +108,56 @@
         # Execute the functional code.
         opendx.main.map(params=params, map_type=map_type, spin_id=spin_id, 
inc=inc, lower=lower, upper=upper, axis_incs=axis_incs, 
file_prefix=file_prefix, dir=dir, point=point, point_file=point_file, 
remap=remap)
 
+    # The function doc info.
+    map._doc_title = &quot;Create a map of the given space in OpenDX format.&quot;
+    map._doc_title_short = &quot;OpenDX map creation.&quot;
+    map._doc_args = [
+        [&quot;params&quot;, &quot;The parameters to be mapped.  This argument should be an 
array of strings, the meanings of which are described below.&quot;],
+        [&quot;map_type&quot;, &quot;The type of map to create.  For example the default, a 
3D isosurface, the type is 'Iso3D'.  See below for more details.&quot;],
+        [&quot;spin_id&quot;, &quot;The spin identification numbe.&quot;],
+        [&quot;inc&quot;, &quot;The number of increments to map in each dimension.  This 
value controls the resolution of the map.&quot;],
+        [&quot;lower&quot;, &quot;The lower bounds of the space.  If you wish to change the 
lower bounds of the map then supply an array of length equal to the number of 
parameters in the model.  A lower bound for each parameter must be supplied.  
If nothing is supplied then the defaults will be used.&quot;],
+        [&quot;upper&quot;, &quot;The upper bounds of the space.  If you wish to change the 
upper bounds of the map then supply an array of length equal to the number of 
parameters in the model.  A upper bound for each parameter must be supplied.  
If nothing is supplied then the defaults will be used.&quot;],
+        [&quot;axis_incs&quot;, &quot;The number of increments or ticks displaying 
parameter values along the axes of the OpenDX plot.&quot;],
+        [&quot;file_prefix&quot;, &quot;The file name.  All the output files are prefixed 
with this name.  The main file containing the data points will be called the 
value of 'file'.  The OpenDX program will be called 'file.net' and the OpenDX 
import file will be called 'file.general'.&quot;],
+        [&quot;dir&quot;, &quot;The directory to output files to.  Set this to 'None' if 
you do not want the files to be placed in subdirectory.  If the directory 
does not exist, it will be created.&quot;],
+        [&quot;point&quot;, &quot;An array of parameter values where a point in the map, 
shown as a red sphere, will be placed.  The length must be equal to the 
number of parameters.&quot;],
+        [&quot;point_file&quot;, &quot;The name of that the point output files will be 
prefixed with.&quot;],
+        [&quot;remap&quot;, &quot;A user supplied remapping function.  This function will 
receive the parameter array and must return an array of equal length.&quot;]
+    ]
+    map._doc_desc = &quot;&quot;&quot;
+        The map type can be changed to one of the following supported map 
types:
+        
_____________________________________________________________________________
+        |                                           |                        
       |
+        | Surface type                              | Name                   
       |
+        
|___________________________________________|_______________________________|
+        |                                           |                        
       |
+        | 3D isosurface                             | 'Iso3D'                
       |
+        
|___________________________________________|_______________________________|
+        &quot;&quot;&quot;
+    map._doc_examples = &quot;&quot;&quot;
+        The following commands will generate a map of the extended 
model-free space for model 'm5'
+        consisting of the parameters {S2, S2f, ts}.  Files will be output 
into the
+        directory 'dx' and will be prefixed by 'map'.  In this case, the 
system is a protein and
+        residue number 6 will be mapped.
 
-    # Docstring modification.
-    #########################
+        relax&gt; dx.map(['S2', 'S2f', 'ts'], spin_id=':6')
+        relax&gt; dx.map(['S2', 'S2f', 'ts'], spin_id=':6', file_prefix='map', 
dir='dx')
+        relax&gt; dx.map(params=['S2', 'S2f', 'ts'], spin_id=':6', inc=20, 
file_prefix='map', dir='dx')
+        relax&gt; dx.map(params=['S2', 'S2f', 'ts'], spin_id=':6', 
map_type='Iso3D', inc=20,
+                      file_prefix='map', dir='dx')
 
-    # Write function.
-    map.__doc__ = map.__doc__ + &quot;\n\n&quot; + docs.regexp.doc + &quot;\n&quot;
-    map.__doc__ = map.__doc__ + 
diffusion_tensor.__return_data_name_prompt_doc__ + &quot;\n\n&quot;
-    map.__doc__ = map.__doc__ + Model_free.return_data_name_doc + &quot;\n\n&quot;
+
+        To map the model-free space 'm4' for residue 2, spin N6 defined by 
the parameters {S2, te,
+        Rex}, name the results 'test', and to place the files in the current 
directory, use one of
+        the following commands:
+
+        relax&gt; dx.map(['S2', 'te', 'Rex'], spin_id=':2@N6', 
file_prefix='test', dir=None)
+        relax&gt; dx.map(params=['S2', 'te', 'Rex'], spin_id=':2@N6', inc=100, 
file_prefix='test', dir=None)
+        &quot;&quot;&quot;
+    map._doc_additional = [
+        docs.regexp.doc,
+        diffusion_tensor.__return_data_name_prompt_doc__,
+        Model_free.return_data_name_doc
+    ]
+    _build_doc(map)



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Jul 08 16:20:02 2011</div>  
</body>
</html>
