<!-- MHonArc v2.6.16 -->
<!--X-Subject: [bug #10022] string representation test of previous vs. current	models in full_analysis -->
<!--X-From-R13: Rbht <@A&#45;DSBZK.W@HOZWR&#45;ORRDSEENtan.bet> -->
<!--X-Date: Tue, 18 Sep 2007 01:07:22 +0200 -->
<!--X-Message-Id: 20070917&#45;230721.sv9718.98216@gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[bug #10022] string representation test of previous vs. current	models in full_analysis -- September 18, 2007 - 01:07</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />[bug #10022] string representation test of previous vs. current	models in full_analysis</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00005" class="tabs">Index by Date</a> | <a href="threads.html#00005" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00004.html">Date Prev</a>] [<a href="msg00006.html">Date Next</a>] [<a href="msg00004.html">Thread Prev</a>] [<a href="msg00006.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Doug &lt;douglas.kojetin@xxxxxxxxx&gt;, relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Tue, 18 Sep 2007 01:07:22 +0200</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00005.html">20070917-230721.sv9718.98216@gna.org</a>&gt;</li>
<li class="menuitem">
<em>References</em>: </li>
<li class="menuitem">
<em>User-agent</em>: Mozilla/5.0 (Macintosh; U; PPC Mac OS X;	en) AppleWebKit/419.3 (KHTML, like Gecko) Safari/419.3</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Doug</strong> on September 18, 2007 - 01:07:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">

URL:
  &lt;<a  rel="nofollow" href="http://gna.org/bugs/?10022">http://gna.org/bugs/?10022</a>&gt;

                 Summary: string representation test of previous vs. current
models in full_analysis
                 Project: relax
            Submitted by: dkojetin
            Submitted on: Monday 09/17/2007 at 23:07
                Category: relax's source code
                Severity: 4 - Important
                Priority: 5 - Normal
                  Status: None
                 Privacy: Public
             Assigned to: None
         Originator Name: 
        Originator Email: 
             Open/Closed: Open
         Discussion Lock: Any
                 Release: Repository: 1.2 line
        Operating System: None

    _______________________________________________________

Details:

(relax 1.2 svn revision 3357) 

Comparing string representation of the previous and current runs within the
full_analysis.py convergence definition fails.  When unassigned/deselected
residues in the previous run are loaded in the load_tensor definition,
information for all residues is read, including residues that have 'None' as
a model in the previous run.  However, information from the current run does
not contain the 'None' model for unassigned/deselected residues.

Therefore, the literal string test between lines 373-378 fails when the
string representation of the previous run (the 'prev_models' variable,
created between lines 363-365) is directly compared to the string
representation of current run (the 'curr_models' variable, created between
lines 368-371) within the convergence definition (lines 373-378).

The attached patch corrects this error by changing the literal string test
between the prev_models and curr_models variables, created by concatenating
the model information, to a direct residue-by-residue comparison of models
such that residues with a model of 'None' are not included in the comparison.
 The code could likely be modified to contain fewer lines, but it seems to
work as is, although it should be tested.  






    _______________________________________________________

File Attachments:


-------------------------------------------------------
Date: Monday 09/17/2007 at 23:07  Name: patch  Size: 3kB   By: dkojetin

&lt;<a  rel="nofollow" href="http://gna.org/bugs/download.php?file_id=2962">http://gna.org/bugs/download.php?file_id=2962</a>&gt;

    _______________________________________________________

Reply to this item at:

  &lt;<a  rel="nofollow" href="http://gna.org/bugs/?10022">http://gna.org/bugs/?10022</a>&gt;

_______________________________________________
  Message sent via/by Gna!
  <a  rel="nofollow" href="http://gna.org/">http://gna.org/</a>



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00006" href="msg00006.html">[bug #10022] string representation test of previous vs. current	models in full_analysis</a></strong>
<ul><li><em>From:</em> Doug</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Sep 18 14:01:10 2007</div>  
</body>
</html>
