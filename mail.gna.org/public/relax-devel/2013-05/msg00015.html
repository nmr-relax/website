<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Development of the relax&#45;disp branch. -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Fri, 10 May 2013 17:52:37 +0200 -->
<!--X-Message-Id: CAED9pY8y47rKH_ykmjrUdDXPWj=VOj3SAOO7PUd04QszBS3xFA@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CAED9pY9kV+O_p19tRmhh3ESWWpc9k6VrtkCeKFY9&#45;ijbQrJ70Q@mail.gmail.com -->
<!--X-Reference: CAED9pY&#45;MnbcyDHZ0T6mLCbGaU9LpFArvA9d_1pGf6kA6Bcsh3A@mail.gmail.com -->
<!--X-Reference: CA+CBx2PdT6ZfOrVsGqLJgiwmH0xxu8rh9ef41TPeSW76&#45;RtuBg@mail.gmail.com -->
<!--X-Reference: CAED9pY&#45;iYo2NWDSBsw77mMENeBt0tiKKyjLOLbdbb9+bucy3oA@mail.gmail.com -->
<!--X-Reference: CA+CBx2OjKjGaUx9XsDyEL+&#45;mQ9B==6rj+U3O6swjR7jnwg=b6g@mail.gmail.com -->
<!--X-Reference: CAED9pY8Kyiv4d05pD4x6_C=H_mnW2FLHY0futeHEGHEex4tnSQ@mail.gmail.com -->
<!--X-Reference: CA+CBx2O8FG56SAbxgpZ6o0qU+OZNpDoS3rLkh4pJ0ydaOi4swQ@mail.gmail.com -->
<!--X-Reference: CAED9pY_o6WQbPzTEi90sb5HJNb2sTALpcPKBWdOWDS9BTc_TUw@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Development of the relax-disp branch. -- May 10, 2013 - 17:52</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Development of the relax-disp branch.</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00015" class="tabs">Index by Date</a> | <a href="threads.html#00015" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00014.html">Date Prev</a>] [<a href="msg00016.html">Date Next</a>] [<a href="msg00013.html">Thread Prev</a>] [<a href="msg00016.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Fri, 10 May 2013 17:52:04 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:x-received:sender:in-reply-to:references:date	:x-google-sender-auth:message-id:subject:from:to:cc:content-type	:content-transfer-encoding;	bh=77FySREzZDo3kLjppWv7WpUO8hDWF7hEcZSPepIbAkQ=;	b=j43iYZPZKYA5qyaEmq/shU5mQR+47S/R1mkTXv2lCS4yochrsSB8nfH2D3NeyEK0dN	l/cyVBndadE9gt0hCuWi4P+Auc2qisJIMuvBmfAW59o+ez29q876ucbU5e7MvDBw9LlE	ZD8oE9R0q7okoPXR0rnMiA/gk9Q3q++yoCdD2R/JL74h7IdfN3QluM6mI3W2kmOUZPgm	rX5TzIt6kam2Vmx+Xypt3VexnUz8aw+EjfGo1A9O98ONl9s61Mp2ctkJEF/X80DDllSa	AuLEzcYTQ//oudZOCK5tSp5lpecrDL5xNnW4ZQ6o4GHEAXsfutNvNJFWTmgt2lKgAEe7	DPMA==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00015.html">CAED9pY8y47rKH_ykmjrUdDXPWj=VOj3SAOO7PUd04QszBS3xFA@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;CAED9pY9kV+O_p19tRmhh3ESWWpc9k6VrtkCeKFY9-ijbQrJ70Q@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY-MnbcyDHZ0T6mLCbGaU9LpFArvA9d_1pGf6kA6Bcsh3A@xxxxxxxxxxxxxx&gt;	&lt;CA+CBx2PdT6ZfOrVsGqLJgiwmH0xxu8rh9ef41TPeSW76-RtuBg@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY-iYo2NWDSBsw77mMENeBt0tiKKyjLOLbdbb9+bucy3oA@xxxxxxxxxxxxxx&gt;	&lt;CA+CBx2OjKjGaUx9XsDyEL+-mQ9B==6rj+U3O6swjR7jnwg=b6g@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY8Kyiv4d05pD4x6_C=H_mnW2FLHY0futeHEGHEex4tnSQ@xxxxxxxxxxxxxx&gt;	&lt;CA+CBx2O8FG56SAbxgpZ6o0qU+OZNpDoS3rLkh4pJ0ydaOi4swQ@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY_o6WQbPzTEi90sb5HJNb2sTALpcPKBWdOWDS9BTc_TUw@xxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on May 10, 2013 - 17:52:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

Any luck with this problem?  I've looked a bit more into it, and it
does seem like there is a problem with the Microsoft compiler finding
the IPython headers.  It could also be in the 'sconstruct' script for
relax used by scons to build the C module.  You can see this in the
relax_fit() method.  Maybe it would be worth trying the following
within IPython:

</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">import sys
import path
print sys.prefix + path.sep + 'include'
</pre></blockquote></blockquote></blockquote><pre style="margin: 0em;">

The check that the Python.h file is present in the directory that this
prints out.  This is the logic used in the script to determine where
the header files are.  It could be that we have to come up with a
special hack for this relax_fit() method to handle IPython on Windows.
 I hope this info helps.

Regards,

Edward





On 9 May 2013 22:20, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

Sorry, I didn't get a chance to look at this problem today.  I have not seen
these exact messages before, but they do look a little bit familiar.  My
guess would be that the Ipython header files, specifically Python.h, cannot
be found by the Microsoft compiler.  The messages are hinting at this.  Can
you find this file on you system?  You may need to run:

$ scons clean_all

to remove all files compiled without Python.h.   A good way to test this,
assuming that the headers are the problem, is to note the compilation
commands generated by scons.  Then you can type these manually (or in a
script) and try to find which include command is needed for your setup.  I
will look into this in more detail tomorrow.

Regards,

Edward



On Wednesday, 8 May 2013, Troels Emtekær Linnet wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Hi Edward.

So that helped, but just showed another problem:
---------------------------------------------
C:\Python27\github\relax_disp&gt;scons
scons: Reading SConscript files ...
scons: done reading SConscript files.
scons: Building targets ...
link /nologo /dll /out:target_functions\relax_fit.pyd
/implib:target_functions\r
elax_fit.lib /LIBPATH:C:\Python27\libs target_functions\c_chi2.obj
target_functi
ons\exponential.obj target_functions\relax_fit.obj
   Creating library target_functions\relax_fit.lib and object
target_functions\r
elax_fit.exp
relax_fit.obj : error LNK2019: unresolved external symbol
__imp__PyFloat_FromDou
ble referenced in function _func
relax_fit.obj : error LNK2019: unresolved external symbol
__imp__PyFloat_AsDoubl
e referenced in function _setup
relax_fit.obj : error LNK2019: unresolved external symbol
__imp__PyList_New refe
renced in function _back_calc_I
relax_fit.obj : error LNK2019: unresolved external symbol
__imp__PyList_SetItem
referenced in function _back_calc_I
relax_fit.obj : error LNK2019: unresolved external symbol
__imp__PyArg_ParseTupl
e referenced in function _func
relax_fit.obj : error LNK2019: unresolved external symbol
__imp__PyArg_ParseTupl
eAndKeywords referenced in function _setup
relax_fit.obj : error LNK2019: unresolved external symbol
__imp__Py_InitModule4
referenced in function _initrelax_fit
relax_fit.obj : error LNK2019: unresolved external symbol
__imp__PySequence_GetI
tem referenced in function _setup
relax_fit.obj : error LNK2019: unresolved external symbol
__imp___Py_NoneStruct
referenced in function _setup
target_functions\relax_fit.pyd : fatal error LNK1120: 9 unresolved
externals
scons: *** [target_functions\relax_fit.pyd] Error 1120
scons: building terminated because of errors.

C:\Python27\github\relax_disp&gt;
-----------------------------------------------------------

Searching for the problem, seems that &quot;many&quot; run into the same problem.
But I don't know how to fix it?

Do you?

Troels Emtekær Linnet


2013/5/8 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;

Hi,

This &quot;'cl' is not recognized as an internal or external command&quot; error
is quite common.  For example one solution for older SCons and MSVC is
given at <a  rel="nofollow" href="/windows_devel.html#MSVS_scons_issues">http://www.nmr-relax.com/windows_devel.html#MSVS_scons_issues</a>.
 If you have 64-bit windows, then you have probably been bitten by an
SCons bug that I reported a long time ago and that the SCons
developers stubbornly refuse to fix:

<a  rel="nofollow" href="http://scons.tigris.org/issues/show_bug.cgi?id=2849">http://scons.tigris.org/issues/show_bug.cgi?id=2849</a>

It is a one line fix which you can see in the second comment.  Just
change those lines in your installed SCons code and it should run.  If
these two suggestions do not work, then we need to look for another
solution.

Regards,

Edward





On 7 May 2013 20:22, Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward.

I use pyscripter and Ipython for coding, but def. not vim.
I am aware of Python PEP style guide, and the indention thing.
Trying to remember to comply to the rules of style. :-)

I would need to program at home, since I cannot spend effort when I am
the
lab.

Still having troubles with scons. Tried following this:
<a  rel="nofollow" href="/windows_devel.html">http://www.nmr-relax.com/windows_devel.html</a>
I installed scons 2.3 for windows
And Visual Studio Express 2012

I don't understand this:
'cl' is not recognized as an internal or external command, operable
program
or batch file.
I can call cl from command line, so...

Have you seen this before?

-----------------------------------------
C:\Python27\github\relax_disp&gt;&quot;C:\Program Files (x86)\Microsoft Visual
Studio 11
.0\VC\vcvarsall&quot;

C:\Python27\github\relax_disp&gt;scons
scons: Reading SConscript files ...
scons: done reading SConscript files.
scons: Building targets ...

###########################
# Compiling the C modules #
###########################

Building the relaxation curve fitting module
'target_functions\\relax_fit.pyd'

cl /Fotarget_functions\c_chi2.obj /c target_functions\c_chi2.c /nologo
/I&quot;C:\Pyt
hon27\Scripts\..\include&quot;
'cl' is not recognized as an internal or external command,
operable program or batch file.
scons: *** [target_functions\c_chi2.obj] Error 1
scons: building terminated because of errors.

C:\Python27\github\relax_disp&gt;cl
Microsoft (R) C/C++ Optimizing Compiler Version 17.00.50727.1 for x86
Copyright (C) Microsoft Corporation.  All rights reserved.

usage: cl [ option... ] filename... [ /link linkoption... ]



Troels Emtekær Linnet


2013/5/7 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Hi Troels,

I just noticed that you have a footer at the end of your messages.  It
might be better to turn this off for mailing list messages - it's best
that your work number and address is not archived permanently all over
the internet.

Regards,

Edward




On 7 May 2013 14:18, Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward.

Thanks for the lengthy explanation, and I hope that I can honor your
effort
in explaining. :-)

I would be interested to get these things to work in relax, which we
most
often use in our lab:
-  off-resonance T1rho
- CPMG
-- Fast (Meiboom)
-- slow/intermediate (Richard-Carver)
-- very slow (Tollinger/K
</pre></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00016" href="msg00016.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00002" href="msg00002.html">Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00003" href="msg00003.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00005" href="msg00005.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00007" href="msg00007.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00008" href="msg00008.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00009" href="msg00009.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00012" href="msg00012.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00013" href="msg00013.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sat May 11 13:00:09 2013</div>  
</body>
</html>
