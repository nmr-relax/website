<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: CSA &#38; bond length -->
<!--X-From-R13: "Unel E. Fubzcfba" <tnelgNozo.yrrqf.np.hx> -->
<!--X-Date: Tue, 07 Aug 2007 10:34:24 +0200 -->
<!--X-Message-Id: 46B82E5B.5050007@bmb.leeds.ac.uk -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20070722165207.dgko0c84gso8s80g@agora.ulaval.ca -->
<!--X-Reference: f001463a0707230158m1dc0a4d4n57fa5c52c2f734be@mail.gmail.com -->
<!--X-Reference: f001463a0707230534j3237f56bx23aec7f4dad53dd6@mail.gmail.com -->
<!--X-Reference: 46A4A109.8050702@ulaval.ca -->
<!--X-Reference: f001463a0707241230t9d5b1a6y9137827e2b261bb2@mail.gmail.com -->
<!--X-Reference: f001463a0707260210l5da2b68dyb240697a37d85fea@mail.gmail.com -->
<!--X-Reference: 7f080ed10708060512o26bdcca7ya2b88a1ef5243ec1@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: CSA &amp; bond length -- August 07, 2007 - 10:34</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: CSA &amp; bond length</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00003" class="tabs">Index by Date</a> | <a href="threads.html#00003" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00002.html">Date Prev</a>] [<a href="msg00004.html">Date Next</a>] [<a href="msg00002.html">Thread Prev</a>] [<a href="msg00004.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Tue, 07 Aug 2007 09:33:31 +0100</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00003.html">46B82E5B.5050007@bmb.leeds.ac.uk</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;20070722165207.dgko0c84gso8s80g@xxxxxxxxxxxxxxx&gt;	&lt;f001463a0707230158m1dc0a4d4n57fa5c52c2f734be@xxxxxxxxxxxxxx&gt;	&lt;f001463a0707230534j3237f56bx23aec7f4dad53dd6@xxxxxxxxxxxxxx&gt;	&lt;46A4A109.8050702@xxxxxxxxx&gt;	&lt;f001463a0707241230t9d5b1a6y9137827e2b261bb2@xxxxxxxxxxxxxx&gt;	&lt;f001463a0707260210l5da2b68dyb240697a37d85fea@xxxxxxxxxxxxxx&gt;	&lt;7f080ed10708060512o26bdcca7ya2b88a1ef5243ec1@xxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Mozilla Thunderbird 1.0 (X11/20041206)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Gary S. Thompson</strong> on August 07, 2007 - 10:34:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Edward d'Auvergne wrote:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">
On 7/26/07, gary thompson &lt;garyt.and.sarahb@xxxxxxxxx&gt; wrote:
</pre><tt> 
</tt><tt>
</tt><blockquote class="blockquote"><pre style="margin: 0em;">
On 7/23/07, Sebastien Morin &lt; sebastien.morin.1@xxxxxxxxx&gt; wrote:
</pre><tt>   
</tt><tt>
</tt></blockquote><pre style="margin: 0em;">

[snip]

</pre><tt> 
</tt><tt>
</tt><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">
This is part of the changes from the 1.2 to the 1.3 line.

The default CSA value we're talking about here is only the system's CSA
</pre><tt>     
</tt><tt>
</tt></blockquote><pre style="margin: 0em;">
that is used in the test-suite and also in the program when someone doesn't
set a value. That said, the value used by someone can be input in the
scripts like it is the case in the sample scripts (e.g.   value.set(name,
-172 * 1e-6, 'csa')   ). So, a global default value as is planned in the 1.3
line should be used everywhere except in the sample scripts


most probably the default value should be used in the  sample scripts as
well... it will get the users into the good habit of using named constants
</pre><tt>   
</tt><tt>
</tt></blockquote><pre style="margin: 0em;">

I would prefer that we have raw numbers in the script.  That will then
not discourage the user from changing the value if they wish.  If
instead of

value.set(name, -172 * 1e-6, 'csa')

we have

value.set(name, N15_CSA, 'csa')

in the script then the user is less likely to change the value
</pre><tt>(whether this is good or bad is debatable). 
</tt><tt>
</tt></blockquote><pre style="margin: 0em;">
However, the second is better practice: bugs with typos etc are much
less likley to creap in, what the number is is also alot clearer to the user
how about 15N_CSA_160PPM  etc

value.set(name, 15N_CSA_160PPM, 'csa')


</pre><blockquote class="blockquote"><pre style="margin: 0em;">
The other point is that
with the obligatory statement

from physical_constants import N15_CSA

the modified scripts of the user will be less portable if we ever
change file names, constant locations, constant naming, etc.
</pre><tt> 
</tt><tt>
</tt></blockquote><pre style="margin: 0em;">

this can be fixed using programmatic module imports which give
deprecation warings so again is not a problem and it is a small price to
pay for a clearer more maintainable code base. Magic numbers should
always be eliminated at all possible junctures ;-)

</pre><blockquote class="blockquote"><pre style="margin: 0em;">

</pre><tt> 
</tt><tt>
</tt><blockquote class="blockquote"><pre style="margin: 0em;">
as an aside as we change things and put in the new csa we ought to still run
against the old tests with the old csa value etc to check that we haven't
changed things other than the csa...
</pre><tt>   
</tt><tt>
</tt></blockquote><pre style="margin: 0em;">

This is the case in the 1.3 line for the
'opt_setup_S2_0_970_te_2048_Rex_0_149()' system test in
'test_suite/system_tests/model_free.py' where the value of -160 ppm is
used.  But this is a good point and I won't let these tests change -
</pre><tt>only new ones created with the new value. 
</tt><tt>
</tt></blockquote><pre style="margin: 0em;">

exactly this is right way to do things

</pre><blockquote class="blockquote"><pre style="margin: 0em;">
Seb's change to the
spectral density mapping test is very, very minor - the values hardly
change - and not worth having another test for it.  However two tests
where the value is set to -172 and -160 ppm could be useful.

Regards,

Edward

.

</pre><tt> 
</tt><tt>
</tt></blockquote><pre style="margin: 0em;">

regards
gary

--
-------------------------------------------------------------------
Dr Gary Thompson
Astbury Centre for Structural Molecular Biology,
University of Leeds, Astbury Building,
Leeds, LS2 9JT, West-Yorkshire, UK             Tel. +44-113-3433024
email: garyt@xxxxxxxxxxxxxxx                   Fax  +44-113-2331407
-------------------------------------------------------------------





</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00004" href="msg00004.html">Re: CSA &amp; bond length</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00002" href="msg00002.html">Re: CSA &amp; bond length</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Aug 07 11:20:29 2007</div>  
</body>
</html>
