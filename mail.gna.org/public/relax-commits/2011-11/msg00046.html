<!-- MHonArc v2.6.16 -->
<!--X-Subject: r14989 &#45; /1.3/generic_fns/structure/mass.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Wed, 09 Nov 2011 11:38:57 +0100 -->
<!--X-Message-Id: E1RO5YX&#45;0006mr&#45;5W@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r14989 - /1.3/generic_fns/structure/mass.py -- November 09, 2011 - 11:38</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r14989 - /1.3/generic_fns/structure/mass.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00046" class="tabs">Index by Date</a> | <a href="threads.html#00046" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00045.html">Date Prev</a>] [<a href="msg00047.html">Date Next</a>] [<a href="msg00045.html">Thread Prev</a>] [<a href="msg00047.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Wed, 09 Nov 2011 10:38:57 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00046.html">E1RO5YX-0006mr-5W@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on November 09, 2011 - 11:38:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Wed Nov  9 11:38:56 2011
New Revision: 14989

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=14989&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=14989&amp;view=rev</a>
Log:
The generic_fns.structure.mass.centre_of_mass() function now accepts the atom 
ID arg.

This allows the centre of mass of subsets of the structure to be calculated.


Modified:
    1.3/generic_fns/structure/mass.py

Modified: 1.3/generic_fns/structure/mass.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/1.3/generic_fns/structure/mass.py?rev=14989&amp;r1=14988&amp;r2=14989&amp;view=diff">http://svn.gna.org/viewcvs/relax/1.3/generic_fns/structure/mass.py?rev=14989&amp;r1=14988&amp;r2=14989&amp;view=diff</a>
==============================================================================
--- 1.3/generic_fns/structure/mass.py (original)
+++ 1.3/generic_fns/structure/mass.py Wed Nov  9 11:38:56 2011
@@ -32,12 +32,12 @@
 
 
 
-def centre_of_mass(return_mass=False):
+def centre_of_mass(atom_id=None, return_mass=False):
     &quot;&quot;&quot;Calculate and return the centre of mass of the structure.
 
-    @keyword return_mass:   A flag which if False will cause only the centre 
of mass to be returned,
-                            but if True will cause the centre of mass and 
the mass itself to be
-                            returned as a tuple.
+    @keyword atom_id:       The molecule, residue, and atom identifier 
string.  Only atoms matching this selection will be yielded.
+    @type atom_id:          str
+    @keyword return_mass:   A flag which if False will cause only the centre 
of mass to be returned, but if True will cause the centre of mass and the 
mass itself to be returned as a tuple.
     @type return_mass:      bool
     @return:                The centre of mass vector, and additionally the 
mass.
     @rtype:                 list of 3 floats (or tuple of a list of 3 floats 
and one float)
@@ -57,7 +57,7 @@
     M = 0.0
 
     # Loop over all atoms.
-    for mol_name, res_num, res_name, atom_num, atom_name, element, pos in 
cdp.structure.atom_loop(mol_name_flag=True, res_num_flag=True, 
res_name_flag=True, atom_num_flag=True, atom_name_flag=True, 
element_flag=True, pos_flag=True):
+    for mol_name, res_num, res_name, atom_num, atom_name, element, pos in 
cdp.structure.atom_loop(atom_id=atom_id, mol_name_flag=True, 
res_num_flag=True, res_name_flag=True, atom_num_flag=True, 
atom_name_flag=True, element_flag=True, pos_flag=True):
         # Initialise the spin id string.
         id = ''
 



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Nov 09 12:00:02 2011</div>  
</body>
</html>
