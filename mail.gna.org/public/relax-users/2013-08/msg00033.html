<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Errors of the 'final' Mode of Model Free Analysis -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Thu, 29 Aug 2013 10:26:40 +0200 -->
<!--X-Message-Id: CAED9pY_AYC14X0FHgrxvhZEbjP6HgmUqUqvHfaJis1HBCz8d_A@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: loom.20130820T073747&#45;581@post.gmane.org -->
<!--X-Reference: CAED9pY9W8EOie5CsrNP=OYo_saaRGjegVwZ5yihjmJ4w6+p_Tw@mail.gmail.com -->
<!--X-Reference: CALdkd++eJdAj_LSWYrgWjYoOXD7Jc1Bt_SYCB63TCUc3t6YYeA@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Errors of the 'final' Mode of Model Free Analysis -- August 29, 2013 - 10:26</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Errors of the 'final' Mode of Model Free Analysis</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00033" class="tabs">Index by Date</a> | <a href="threads.html#00033" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00032.html">Date Prev</a>] [Date Next] [<a href="msg00032.html">Thread Prev</a>] [<a href="msg00019.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: 赵竞 &lt;jzhao16@xxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 29 Aug 2013 10:26:07 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;,	Sébastien M &lt;sebastien@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:sender:in-reply-to:references:date:message-id:subject	:from:to:cc:content-type:content-transfer-encoding;	bh=41jLXgvi/YmELqqLW+d2YTaCN+yD07pFq52vOSBPCOE=;	b=pJc6PqTPn6lMJCzD0IRWfaxx/VlDUAIHp5ywHBg5ee3aoMAiCPTVokm1XwavRmwzRr	74OBkTUheyzhNyZxCDIGX2Drhjak7eZReDz2ZeyGdnVdR+4e2+q2K7OyOC9zczuktVZ/	fOHXrucsdHHz9Hl6CisbTDgeAOVXcsy/4Q0McnU2vKROSLiFrmyYpJqtHBZSLctUVkzE	T5SJUumP+17Lz4DnoxlMtNw8A4WoIocAhWS2BqjYhtyxwYS5iyWFgI4R8ARpgMYhJ2pR	dZXFXROrp78mAAKIqoHfhTkVNDSo/3qujpsuxDNVN8PlZTzJIRRM+73rD7QSJggli9tT	vr8A==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00033.html">CAED9pY_AYC14X0FHgrxvhZEbjP6HgmUqUqvHfaJis1HBCz8d_A@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;loom.20130820T073747-581@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY9W8EOie5CsrNP=OYo_saaRGjegVwZ5yihjmJ4w6+p_Tw@xxxxxxxxxxxxxx&gt;	&lt;CALdkd++eJdAj_LSWYrgWjYoOXD7Jc1Bt_SYCB63TCUc3t6YYeA@xxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on August 29, 2013 - 10:26:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Jing,

I have now created a bug report for the problem
(<a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/bugs/?21079">https://gna.org/bugs/?21079</a>).  This is a real bug in relax, but I
cannot fix it due to not being able to replicate the problem and not
having enough information to determine where the problem could be.
The &quot;local tm&quot; global diffusion model is a perfectly valid model.  It
is useful for IDPs, multi-domain systems, flexible systems, or
anything that does not diffuse as a spherical, spheroidal, or
ellipsoidal rigid geometric object.  The selection of this model
indicates that these basic rigid geometric descriptions of diffusion
are not suitable for your system.  The protocol should then continue
to completion and not show this RelaxError!

Alternatively the selection of the &quot;local tm&quot; global diffusion model
can indicate that your data is not consistent.  Have you tried
Sebastien Morin's consistency testing analysis in relax?  See
<a  rel="nofollow" href="/refs.html#Morin09">http://www.nmr-relax.com/refs.html#Morin09</a> for details.  Have you
collected your data with proper temperature calibration and control?
I.e. you need to calibrate each experiment on each spectrometer with
MeOH or ethylene glycol.  And you need a temperature compensation
block at the start of your pulse sequence and/or single scan
interleaving.  See
<a  rel="nofollow" href="/manual/Temperature_control_calibration.html">http://www.nmr-relax.com/manual/Temperature_control_calibration.html</a>,
<a  rel="nofollow" href="/manual/relax_data_temp_calibration.html">http://www.nmr-relax.com/manual/relax_data_temp_calibration.html</a>, and
<a  rel="nofollow" href="/manual/relax_data_temp_control.html">http://www.nmr-relax.com/manual/relax_data_temp_control.html</a>.

I hope this information helps.  I will try again to replicate the bug
you see, but I have already failed multiple times.  relax results
files attached to that bug report would make things much easier for
me.

Cheers,

Edward



On 28 August 2013 17:49, 赵竞 &lt;jzhao16@xxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,Edward:
Thanks for the information you provided. I think the reason why Nicolas and
I have this error message is because our local_tm model has the lowest chi
2. So the program picked up the local_tm model. However, local_tm doesn't
belong to the model from (m1 ~ m9), so no specific has been selected. It is
kind of weird because the chi 2 would be larger after the program fits the
data with more specific diffusion model. Do you know if there is a way that
I can fix this problem to run the &quot;final&quot; model and have my model selected.

Thanks

Jing


2013/8/20 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Hi Jing,

Welcome to the relax mailing lists!  The error you see has been
reported before by Nicolas Doucet, see the email thread at:

<a  rel="nofollow" href="http://thread.gmane.org/gmane.science.nmr.relax.user/1299">http://thread.gmane.org/gmane.science.nmr.relax.user/1299</a>

Unfortunately in that case the problem disappeared without the reason
being found.  But I would recommend reading my message at the top of
that thread as I can only repeat what I said there - check the log
messages earlier up.  Submitting a bug report would be very useful in
solving this problem, as log and other files can be attached there and
I can track and handle the issue
(<a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/bugs/?func=additem&amp;group=relax">https://gna.org/bugs/?func=additem&amp;group=relax</a>).  You could also
upgrade to relax 3.0.0 as that fixes a number of bugs, though I don't
think that this issue has been resolved
(<a  rel="nofollow" href="https://gna.org/forum/forum.php?forum_id=2407">https://gna.org/forum/forum.php?forum_id=2407</a>,
<a  rel="nofollow" href="http://article.gmane.org/gmane.science.nmr.relax.announce/43">http://article.gmane.org/gmane.science.nmr.relax.announce/43</a>).

Regards,

Edward





On 20 August 2013 07:42, Jing Zhao &lt;jzhao16@xxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,Edward:
I have already used the program relax 2.2.5 to run through all diffusion
model: Sphere, Prolate, Oblate and Ellipsoid in a uni-processor and
obtained
the converged fitting results that passed the convergence test. However,
I
stuck on the &quot;final&quot; mode because of some errors as shown below:

relax&gt; value.set(val=-0.00017199999999999998, param='csa', spin_id='@N')

relax&gt; pipe.create(pipe_name='local_tm - mf', pipe_type='mf',
bundle='mf')

relax&gt; results.read(file='results', dir='C:\\relax\\
Model Free Analysis\\local_tm\\aic')

Opening the file 'C:\\relax\\Model Free Analysis
\\local_tm\\aic\\results.bz2' for reading.

relax&gt; pipe.create(pipe_name='sphere - mf', pipe_type='mf', bundle='mf')

relax&gt; results.read(file='results', dir='C:\\relax\\Model Free Analysis
 \\sphere\\round_13\\opt')

Opening the file 'C:\\relax\\Model Free Analysis
\\sphere\\round_13\\opt\\results.bz2' for reading.

relax&gt; pipe.create(pipe_name='prolate – mf', pipe_type='mf',
bundle='mf')

relax&gt; results.read(file='results', dir='C:\\relax\\Model Free Analysis
 \\prolate\\round_123\\opt')

Opening the file 'C:\\relax\\Model FreeAnalysis
\\prolate\\round_123\\opt\\results.bz2' for reading.

relax&gt; pipe.create(pipe_name='oblate - mf', pipe_type='mf', bundle='mf')

relax&gt; results.read(file='results', dir='C:\\relax\\
Model Free Analysis\\oblate\\round_14\\opt')

Opening the file 'C:\\relax\\Model Free Analysis
\\oblate\\round_14\\opt\\results.bz2' for reading.

relax&gt; pipe.create(pipe_name='ellipsoid - mf', pipe_type='mf',
bundle='mf')

relax&gt; results.read(file='results',
 dir='C:\\relax\\Model Free Analysis
\\ellipsoid\\round_912\\opt')

Opening the file 'C:\\relax\\Model Free Analysis
\\ellipsoid\\round_912\\opt\\results.bz2' for reading.

relax&gt; model_selection(method='AIC', modsel_pipe='final - mf',
bundle='mf',

pipes=['local_tm - mf ', 'sphere - mf', 'prolate - mf',
'oblate - mf', 'ellipsoid - mf '])
AIC model selection.

Global model - all diffusion tensor parameters and spin specific
 model-free parameters.
# Data pipe                                  Num_params_(k)
Num_data_sets_(n)    Chi2          Criterion
local_tm - mf (Mon Aug 19 22:40:08 2013)     323               696

5983.71348    6629.71348
sphere - mf (Mon Aug 19 22:40:08 2013)       237               696

6374.27910    6848.27910
prolate - mf (Mon Aug 19 22:40:08 2013)      232               696

6209.77670    6673.77670
oblate - mf (Mon Aug 19 22:40:08 2013)       235               696

6274.97999    6744.97999
ellipsoid - mf (Mon Aug 19 22:40:08 2013)    238               696

6184.98839    6660.98839
The model from the data pipe 'local_tm - mf' has been selected.

relax&gt; monte_carlo.setup(number=500)

relax&gt; monte_carlo.create_data(method='back_calc')

RelaxError: The specific model has not been selected or set up.

Do you have any idea what is wrong in the here?

Thanks

Jing



_______________________________________________
relax (<a  rel="nofollow" href="/">http://www.nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="/mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>
</pre></blockquote></blockquote><pre style="margin: 0em;">




--
Zhao, Jing | 赵竞

Partners III, Room 363
851 Main Campus Drive
Department of Chemistry, North Carolina State University.
Tel : 919-720-0926

</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00017" href="msg00017.html">Errors of the 'final' Mode of Model Free Analysis</a></strong>
<ul><li><em>From:</em> Jing Zhao</li></ul></li>
<li><strong><a name="00018" href="msg00018.html">Re: Errors of the 'final' Mode of Model Free Analysis</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00032" href="msg00032.html">Re: Errors of the 'final' Mode of Model Free Analysis</a></strong>
<ul><li><em>From:</em> 赵竞</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Aug 29 10:40:07 2013</div>  
</body>
</html>
