<!-- MHonArc v2.6.18 -->
<!--X-Subject: [bug #22849] Failure of the N&#45;state model analysis when optimising only alignment tensors using RDCs and/or PCSs. -->
<!--X-From-R13: Sqjneq q  Ohiretar &#60;@A&#45;DSBZK.W@HOZWR&#45;ORRDSEENtan.bet> -->
<!--X-Date: Wed, 22 Oct 2014 08:30:39 +0200 -->
<!--X-Message-Id: 20141022&#45;063039.sv2782.40117@gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20141022&#45;062726.sv2782.33305@gna.org -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[bug #22849] Failure of the N-state model analysis when optimising only alignment tensors using RDCs and/or PCSs. -- October 22, 2014 - 08:30</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />[bug #22849] Failure of the N-state model analysis when optimising only alignment tensors using RDCs and/or PCSs.</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00127" class="tabs">Index by Date</a> | <a href="threads.html#00127" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00126.html">Date Prev</a>] [<a href="msg00128.html">Date Next</a>] [<a href="msg00126.html">Thread Prev</a>] [<a href="msg00128.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Edward d  Auvergne &lt;edward@xxxxxxxxxxxxx&gt;, relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Wed, 22 Oct 2014 08:30:39 +0200</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00127.html">20141022-063039.sv2782.40117@gna.org</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00126.html">20141022-062726.sv2782.33305@gna.org</a>&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Mozilla/5.0 (X11; Linux x86_64; rv:24.0) Gecko/20100101 Firefox/24.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d Auvergne</strong> on October 22, 2014 - 08:30:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Follow-up Comment #1, bug #22849 (project relax):

This appears to have been broken with the implementation of the zooming grid
search.  However as it seems that the test suite has not been testing this
code path, the analysis has suffered from bit rot.  This is now tested in the
test suite:

<a  rel="nofollow" href="http://article.gmane.org/gmane.science.nmr.relax.scm/24079">http://article.gmane.org/gmane.science.nmr.relax.scm/24079</a>

And it is partially fixed:

<a  rel="nofollow" href="http://article.gmane.org/gmane.science.nmr.relax.scm/24080">http://article.gmane.org/gmane.science.nmr.relax.scm/24080</a>

Though another error remains:

relax&gt; minimise.grid_search(lower=None, upper=None, inc=5, verbosity=1,
constraints=True, skip_preset=True)


Grid search setup
-----------------

# Parameter    Lower bound        Upper bound        Increments        
Comment           
Axx                     -0.001              0.001                  5   
Default bounds    
Ayy                     -0.001              0.001                  5   
Default bounds    
Axy                     -0.001              0.001                  5   
Default bounds    
Axz                     -0.001              0.001                  5   
Default bounds    
Ayz                     -0.001              0.001                  5   
Default bounds    
Axx                     -0.001              0.001                  5   
Default bounds    
Ayy                     -0.001              0.001                  5   
Default bounds    
Axy                     -0.001              0.001                  5   
Default bounds    
Axz                     -0.001              0.001                  5   
Default bounds    
Ayz                     -0.001              0.001                  5   
Default bounds    
Axx                     -0.001              0.001                  5   
Default bounds    
Ayy                     -0.001              0.001                  5   
Default bounds    
Axy                     -0.001              0.001                  5   
Default bounds    
Axz                     -0.001              0.001                  5   
Default bounds    
Ayz                     -0.001              0.001                  5   
Default bounds    
Axx                     -0.001              0.001                  5   
Default bounds    
Ayy                     -0.001              0.001                  5   
Default bounds    
Axy                     -0.001              0.001                  5   
Default bounds    
Axz                     -0.001              0.001                  5   
Default bounds    
Ayz                     -0.001              0.001                  5   
Default bounds    
Axx                     -0.001              0.001                  5   
Default bounds    
Ayy                     -0.001              0.001                  5   
Default bounds    
Axy                     -0.001              0.001                  5   
Default bounds    
Axz                     -0.001              0.001                  5   
Default bounds    
Ayz                     -0.001              0.001                  5   
Default bounds    
Axx                     -0.001              0.001                  5   
Default bounds    
Ayy                     -0.001              0.001                  5   
Default bounds    
Axy                     -0.001              0.001                  5   
Default bounds    
Axz                     -0.001              0.001                  5   
Default bounds    
Ayz                     -0.001              0.001                  5   
Default bounds    
Optimising each alignment tensor separately.
Traceback (most recent call last):
  File &quot;/data/relax/relax-trunk/multi/processor.py&quot;, line 494, in run
    self.callback.init_master(self)
  File &quot;/data/relax/relax-trunk/multi/__init__.py&quot;, line 318, in
default_init_master
    self.master.run()
  File &quot;/data/relax/relax-trunk/relax.py&quot;, line 199, in run
    self.interpreter.run(self.script_file)
  File &quot;/data/relax/relax-trunk/prompt/interpreter.py&quot;, line 279, in run
    return run_script(intro=self.__intro_string, local=locals(),
script_file=script_file, show_script=self.__show_script,
raise_relax_error=self.__raise_relax_error)
  File &quot;/data/relax/relax-trunk/prompt/interpreter.py&quot;, line 585, in
run_script
    return console.interact(intro, local, script_file,
show_script=show_script, raise_relax_error=raise_relax_error)
  File &quot;/data/relax/relax-trunk/prompt/interpreter.py&quot;, line 484, in
interact_script
    exec_script(script_file, local)
  File &quot;/data/relax/relax-trunk/prompt/interpreter.py&quot;, line 363, in
exec_script
    runpy.run_module(module, globals)
  File &quot;/usr/lib64/python2.7/runpy.py&quot;, line 180, in run_module
    fname, loader, pkg_name)
  File &quot;/usr/lib64/python2.7/runpy.py&quot;, line 72, in _run_code
    exec code in run_globals
  File &quot;/data/postdoc/CaM/align_data/CaM_IQ/tensors/Ndom_I_IV/tensor_fit.py&quot;,
line 74, in &lt;module&gt;
    minimise.grid_search(inc=5)
  File &quot;/data/relax/relax-trunk/prompt/uf_objects.py&quot;, line 226, in __call__
    self._backend(*new_args, **uf_kargs)
  File &quot;/data/relax/relax-trunk/pipe_control/minimise.py&quot;, line 213, in
grid_search
    api.grid_search(lower=model_lower, upper=model_upper, inc=model_inc,
scaling_matrix=scaling_matrix, constraints=constraints, verbosity=verbosity)
  File &quot;/data/relax/relax-trunk/specific_analyses/n_state_model/api.py&quot;, line
385, in grid_search
    self.minimise(min_algor='grid', lower=[lower_sub], upper=[upper_sub],
inc=[inc_sub], scaling_matrix=[None], constraints=constraints,
verbosity=verbosity, sim_index=sim_index)
  File &quot;/data/relax/relax-trunk/specific_analyses/n_state_model/api.py&quot;, line
466, in minimise
    model, param_vector, data_types = target_fn_setup(sim_index=sim_index,
scaling_matrix=scaling_matrix[0])
  File
&quot;/data/relax/relax-trunk/specific_analyses/n_state_model/optimisation.py&quot;,
line 330, in target_fn_setup
    full_tensors = minimise_setup_fixed_tensors()
  File
&quot;/data/relax/relax-trunk/specific_analyses/n_state_model/optimisation.py&quot;,
line 255, in minimise_setup_fixed_tensors
    tensors[5*index + 0] = cdp.align_tensors[i].Axx
AttributeError: 'AlignTensorData' object has no attribute 'Axx'


    _______________________________________________________

Reply to this item at:

  &lt;<a  rel="nofollow" href="http://gna.org/bugs/?22849">http://gna.org/bugs/?22849</a>&gt;

_______________________________________________
  Message sent via/by Gna!
  <a  rel="nofollow" href="http://gna.org/">http://gna.org/</a>



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00128" href="msg00128.html">[bug #22849] Failure of the N-state model analysis when optimising only alignment tensors using RDCs and/or PCSs.</a></strong>
<ul><li><em>From:</em> Edward d Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00126" href="msg00126.html">[bug #22849] Failure of the N-state model analysis when optimising only alignment tensors using RDCs and/or PCSs.</a></strong>
<ul><li><em>From:</em> Edward d Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Oct 22 09:40:28 2014</div>  
</body>
</html>
