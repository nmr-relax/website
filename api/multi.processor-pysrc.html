<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>multi.processor</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://www.nmr-relax.com">relax</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="multi-module.html">Package&nbsp;multi</a> ::
        Module&nbsp;processor
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="multi.processor-pysrc.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<h1 class="epydoc">Source Code for <a href="multi.processor-module.html">Module multi.processor</a></h1>
<pre class="py-src">
<a name="L1"></a><tt class="py-lineno">  1</tt>  <tt class="py-line"><tt class="py-comment">###############################################################################</tt> </tt>
<a name="L2"></a><tt class="py-lineno">  2</tt>  <tt class="py-line"><tt class="py-comment">#                                                                             #</tt> </tt>
<a name="L3"></a><tt class="py-lineno">  3</tt>  <tt class="py-line"><tt class="py-comment"># Copyright (C) 2007 Gary S Thompson (https://gna.org/users/varioustoxins)    #</tt> </tt>
<a name="L4"></a><tt class="py-lineno">  4</tt>  <tt class="py-line"><tt class="py-comment"># Copyright (C) 2011-2012 Edward d'Auvergne                                   #</tt> </tt>
<a name="L5"></a><tt class="py-lineno">  5</tt>  <tt class="py-line"><tt class="py-comment">#                                                                             #</tt> </tt>
<a name="L6"></a><tt class="py-lineno">  6</tt>  <tt class="py-line"><tt class="py-comment"># This file is part of the program relax.                                     #</tt> </tt>
<a name="L7"></a><tt class="py-lineno">  7</tt>  <tt class="py-line"><tt class="py-comment">#                                                                             #</tt> </tt>
<a name="L8"></a><tt class="py-lineno">  8</tt>  <tt class="py-line"><tt class="py-comment"># relax is free software; you can redistribute it and/or modify               #</tt> </tt>
<a name="L9"></a><tt class="py-lineno">  9</tt>  <tt class="py-line"><tt class="py-comment"># it under the terms of the GNU General Public License as published by        #</tt> </tt>
<a name="L10"></a><tt class="py-lineno"> 10</tt>  <tt class="py-line"><tt class="py-comment"># the Free Software Foundation; either version 2 of the License, or           #</tt> </tt>
<a name="L11"></a><tt class="py-lineno"> 11</tt>  <tt class="py-line"><tt class="py-comment"># (at your option) any later version.                                         #</tt> </tt>
<a name="L12"></a><tt class="py-lineno"> 12</tt>  <tt class="py-line"><tt class="py-comment">#                                                                             #</tt> </tt>
<a name="L13"></a><tt class="py-lineno"> 13</tt>  <tt class="py-line"><tt class="py-comment"># relax is distributed in the hope that it will be useful,                    #</tt> </tt>
<a name="L14"></a><tt class="py-lineno"> 14</tt>  <tt class="py-line"><tt class="py-comment"># but WITHOUT ANY WARRANTY; without even the implied warranty of              #</tt> </tt>
<a name="L15"></a><tt class="py-lineno"> 15</tt>  <tt class="py-line"><tt class="py-comment"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the               #</tt> </tt>
<a name="L16"></a><tt class="py-lineno"> 16</tt>  <tt class="py-line"><tt class="py-comment"># GNU General Public License for more details.                                #</tt> </tt>
<a name="L17"></a><tt class="py-lineno"> 17</tt>  <tt class="py-line"><tt class="py-comment">#                                                                             #</tt> </tt>
<a name="L18"></a><tt class="py-lineno"> 18</tt>  <tt class="py-line"><tt class="py-comment"># You should have received a copy of the GNU General Public License           #</tt> </tt>
<a name="L19"></a><tt class="py-lineno"> 19</tt>  <tt class="py-line"><tt class="py-comment"># along with relax; if not, write to the Free Software                        #</tt> </tt>
<a name="L20"></a><tt class="py-lineno"> 20</tt>  <tt class="py-line"><tt class="py-comment"># Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA   #</tt> </tt>
<a name="L21"></a><tt class="py-lineno"> 21</tt>  <tt class="py-line"><tt class="py-comment">#                                                                             #</tt> </tt>
<a name="L22"></a><tt class="py-lineno"> 22</tt>  <tt class="py-line"><tt class="py-comment">###############################################################################</tt> </tt>
<a name="L23"></a><tt class="py-lineno"> 23</tt>  <tt class="py-line"> </tt>
<a name="L24"></a><tt class="py-lineno"> 24</tt>  <tt class="py-line"><tt class="py-comment"># Module docstring.</tt> </tt>
<a name="L25"></a><tt class="py-lineno"> 25</tt>  <tt class="py-line"><tt class="py-docstring">"""The processor class is the central class in the multi python multiprocessor framework.</tt> </tt>
<a name="L26"></a><tt class="py-lineno"> 26</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L27"></a><tt class="py-lineno"> 27</tt>  <tt class="py-line"><tt class="py-docstring">Overview</tt> </tt>
<a name="L28"></a><tt class="py-lineno"> 28</tt>  <tt class="py-line"><tt class="py-docstring">========</tt> </tt>
<a name="L29"></a><tt class="py-lineno"> 29</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L30"></a><tt class="py-lineno"> 30</tt>  <tt class="py-line"><tt class="py-docstring">The framework has two main responsibilities:</tt> </tt>
<a name="L31"></a><tt class="py-lineno"> 31</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L32"></a><tt class="py-lineno"> 32</tt>  <tt class="py-line"><tt class="py-docstring">     1. Process management - if needed the processor can create the slave processes it manages if</tt> </tt>
<a name="L33"></a><tt class="py-lineno"> 33</tt>  <tt class="py-line"><tt class="py-docstring">        they haven't been created by the operating system. It is also responsible for reporting</tt> </tt>
<a name="L34"></a><tt class="py-lineno"> 34</tt>  <tt class="py-line"><tt class="py-docstring">        exceptions and shutting down the multiprocessor in the face of errors.</tt> </tt>
<a name="L35"></a><tt class="py-lineno"> 35</tt>  <tt class="py-line"><tt class="py-docstring">     2. Scheduling commands on the slave processors via an interprocess communication fabric (MPI,</tt> </tt>
<a name="L36"></a><tt class="py-lineno"> 36</tt>  <tt class="py-line"><tt class="py-docstring">        PVM, threads etc) and processing returned text and result commands.</tt> </tt>
<a name="L37"></a><tt class="py-lineno"> 37</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L38"></a><tt class="py-lineno"> 38</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L39"></a><tt class="py-lineno"> 39</tt>  <tt class="py-line"><tt class="py-docstring">Using the processor framework</tt> </tt>
<a name="L40"></a><tt class="py-lineno"> 40</tt>  <tt class="py-line"><tt class="py-docstring">=============================</tt> </tt>
<a name="L41"></a><tt class="py-lineno"> 41</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L42"></a><tt class="py-lineno"> 42</tt>  <tt class="py-line"><tt class="py-docstring">Users of the processor framework will typically use the following methodology:</tt> </tt>
<a name="L43"></a><tt class="py-lineno"> 43</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L44"></a><tt class="py-lineno"> 44</tt>  <tt class="py-line"><tt class="py-docstring">     1. At application startup determine the name of the required processor implementation and the number of slave processors requested.</tt> </tt>
<a name="L45"></a><tt class="py-lineno"> 45</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L46"></a><tt class="py-lineno"> 46</tt>  <tt class="py-line"><tt class="py-docstring">     2. Create an Application_callback object.  For example:</tt> </tt>
<a name="L47"></a><tt class="py-lineno"> 47</tt>  <tt class="py-line"><tt class="py-docstring">            relax_instance = Relax()</tt> </tt>
<a name="L48"></a><tt class="py-lineno"> 48</tt>  <tt class="py-line"><tt class="py-docstring">            callbacks = Application_callback(master=relax_instance)</tt> </tt>
<a name="L49"></a><tt class="py-lineno"> 49</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L50"></a><tt class="py-lineno"> 50</tt>  <tt class="py-line"><tt class="py-docstring">     3. Dynamically load a processor implementation using the name of the processor and the number of required slave processors.  For example:</tt> </tt>
<a name="L51"></a><tt class="py-lineno"> 51</tt>  <tt class="py-line"><tt class="py-docstring">            processor = Processor.load_multiprocessor(relax_instance.multiprocessor_type, callbacks, processor_size=relax_instance.n_processors)</tt> </tt>
<a name="L52"></a><tt class="py-lineno"> 52</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L53"></a><tt class="py-lineno"> 53</tt>  <tt class="py-line"><tt class="py-docstring">     4. Call run on the processor instance returned above and handle all Exceptions.  For example:</tt> </tt>
<a name="L54"></a><tt class="py-lineno"> 54</tt>  <tt class="py-line"><tt class="py-docstring">            processor.run()</tt> </tt>
<a name="L55"></a><tt class="py-lineno"> 55</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L56"></a><tt class="py-lineno"> 56</tt>  <tt class="py-line"><tt class="py-docstring">     5. After calling run, the processor will call back to Application_callback.init_master from which you should call you main program (Application_callback defaults to self.master.run()).</tt> </tt>
<a name="L57"></a><tt class="py-lineno"> 57</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L58"></a><tt class="py-lineno"> 58</tt>  <tt class="py-line"><tt class="py-docstring">     6. Once in the main program you should call processor.add_to_queue with a series of multi.Slave_command objects you wish to be run across the slave processor pool and then call processor.run_queue to actually execute the commands remotely while blocking.</tt> </tt>
<a name="L59"></a><tt class="py-lineno"> 59</tt>  <tt class="py-line"><tt class="py-docstring">        &gt;&gt;&gt;</tt> </tt>
<a name="L60"></a><tt class="py-lineno"> 60</tt>  <tt class="py-line"><tt class="py-docstring">        example here...</tt> </tt>
<a name="L61"></a><tt class="py-lineno"> 61</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L62"></a><tt class="py-lineno"> 62</tt>  <tt class="py-line"><tt class="py-docstring">     7. Processor.Slave_commands will then run remotely on the slaves and any thrown exceptions and processor.result_commands queued to processor.return_object will be returned to the master processor and handled or executed. The slave processors also provide facilities for capturing the STDERR and STDOUT streams and returning their contents as strings for display on the master's STDOUT and STDERR streams (***more**?).</tt> </tt>
<a name="L63"></a><tt class="py-lineno"> 63</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L64"></a><tt class="py-lineno"> 64</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L65"></a><tt class="py-lineno"> 65</tt>  <tt class="py-line"><tt class="py-docstring">Extending the processor framework with a new interprocess communication fabric</tt> </tt>
<a name="L66"></a><tt class="py-lineno"> 66</tt>  <tt class="py-line"><tt class="py-docstring">==============================================================================</tt> </tt>
<a name="L67"></a><tt class="py-lineno"> 67</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L68"></a><tt class="py-lineno"> 68</tt>  <tt class="py-line"><tt class="py-docstring">The processor class acts as a base class that defines all the commands that a processor implementing</tt> </tt>
<a name="L69"></a><tt class="py-lineno"> 69</tt>  <tt class="py-line"><tt class="py-docstring">a new inter processor communication fabric needs. All that is required is to implement a subclass of</tt> </tt>
<a name="L70"></a><tt class="py-lineno"> 70</tt>  <tt class="py-line"><tt class="py-docstring">processor providing the required methods (of course as python provides dynamic typing and</tt> </tt>
<a name="L71"></a><tt class="py-lineno"> 71</tt>  <tt class="py-line"><tt class="py-docstring">polymorphism 'duck typing' you can always implement a class with the same set of method and it will</tt> </tt>
<a name="L72"></a><tt class="py-lineno"> 72</tt>  <tt class="py-line"><tt class="py-docstring">also work). Currently processor classes are loaded from the processor module and are modules with</tt> </tt>
<a name="L73"></a><tt class="py-lineno"> 73</tt>  <tt class="py-line"><tt class="py-docstring">names of the form:</tt> </tt>
<a name="L74"></a><tt class="py-lineno"> 74</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L75"></a><tt class="py-lineno"> 75</tt>  <tt class="py-line"><tt class="py-docstring">&gt;&gt;&gt; multi.&lt;type&gt;_processor.&lt;Type&gt;_processor</tt> </tt>
<a name="L76"></a><tt class="py-lineno"> 76</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L77"></a><tt class="py-lineno"> 77</tt>  <tt class="py-line"><tt class="py-docstring">where &lt;Type&gt; is the name of the processor with the correct capitalisation e.g.</tt> </tt>
<a name="L78"></a><tt class="py-lineno"> 78</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L79"></a><tt class="py-lineno"> 79</tt>  <tt class="py-line"><tt class="py-docstring">&gt;&gt;&gt; processor_name = 'mpi4py'</tt> </tt>
<a name="L80"></a><tt class="py-lineno"> 80</tt>  <tt class="py-line"><tt class="py-docstring">&gt;&gt;&gt; callback = My_application-callback()</tt> </tt>
<a name="L81"></a><tt class="py-lineno"> 81</tt>  <tt class="py-line"><tt class="py-docstring">&gt;&gt;&gt; proccesor_size = 6</tt> </tt>
<a name="L82"></a><tt class="py-lineno"> 82</tt>  <tt class="py-line"><tt class="py-docstring">&gt;&gt;&gt; processor.load_multiprocessor(processor_name, callback, processor_size)</tt> </tt>
<a name="L83"></a><tt class="py-lineno"> 83</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L84"></a><tt class="py-lineno"> 84</tt>  <tt class="py-line"><tt class="py-docstring">will load multi.mpi4py_processor.Mpi4py_Processor.</tt> </tt>
<a name="L85"></a><tt class="py-lineno"> 85</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L86"></a><tt class="py-lineno"> 86</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L87"></a><tt class="py-lineno"> 87</tt>  <tt class="py-line"><tt class="py-docstring">TODO</tt> </tt>
<a name="L88"></a><tt class="py-lineno"> 88</tt>  <tt class="py-line"><tt class="py-docstring">====</tt> </tt>
<a name="L89"></a><tt class="py-lineno"> 89</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L90"></a><tt class="py-lineno"> 90</tt>  <tt class="py-line"><tt class="py-docstring">The following are yet to be implemented:</tt> </tt>
<a name="L91"></a><tt class="py-lineno"> 91</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L92"></a><tt class="py-lineno"> 92</tt>  <tt class="py-line"><tt class="py-docstring">    1. There is no ability of the processor to request command line arguments.</tt> </tt>
<a name="L93"></a><tt class="py-lineno"> 93</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L94"></a><tt class="py-lineno"> 94</tt>  <tt class="py-line"><tt class="py-docstring">    2. The processor can't currently be loaded from somewhere other than the multi directory.</tt> </tt>
<a name="L95"></a><tt class="py-lineno"> 95</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L96"></a><tt class="py-lineno"> 96</tt>  <tt class="py-line"><tt class="py-docstring">"""</tt> </tt>
<a name="L97"></a><tt class="py-lineno"> 97</tt>  <tt class="py-line"> </tt>
<a name="L98"></a><tt class="py-lineno"> 98</tt>  <tt class="py-line"><tt class="py-comment">#FIXME: better requirement of inherited commands.</tt> </tt>
<a name="L99"></a><tt class="py-lineno"> 99</tt>  <tt class="py-line"><tt class="py-comment">#TODO: check exceptions on master.</tt> </tt>
<a name="L100"></a><tt class="py-lineno">100</tt>  <tt class="py-line"> </tt>
<a name="L101"></a><tt class="py-lineno">101</tt>  <tt class="py-line"><tt class="py-comment"># Python module imports.</tt> </tt>
<a name="L102"></a><tt class="py-lineno">102</tt>  <tt class="py-line"><tt class="py-keyword">import</tt> <tt class="py-name">time</tt><tt class="py-op">,</tt> <tt class="py-name">datetime</tt><tt class="py-op">,</tt> <tt class="py-name">math</tt><tt class="py-op">,</tt> <tt class="py-name">sys</tt> </tt>
<a name="L103"></a><tt class="py-lineno">103</tt>  <tt class="py-line"> </tt>
<a name="L104"></a><tt class="py-lineno">104</tt>  <tt class="py-line"><tt class="py-comment"># relax module imports.</tt> </tt>
<a name="L105"></a><tt class="py-lineno">105</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt id="link-0" class="py-name" targets="Package multi=multi-module.html"><a title="multi" class="py-name" href="#" onclick="return doclink('link-0', 'multi', 'link-0');">multi</a></tt><tt class="py-op">.</tt><tt id="link-1" class="py-name" targets="Module multi.api=multi.api-module.html"><a title="multi.api" class="py-name" href="#" onclick="return doclink('link-1', 'api', 'link-1');">api</a></tt> <tt class="py-keyword">import</tt> <tt id="link-2" class="py-name" targets="Class multi.api.Null_result_command=multi.api.Null_result_command-class.html"><a title="multi.api.Null_result_command" class="py-name" href="#" onclick="return doclink('link-2', 'Null_result_command', 'link-2');">Null_result_command</a></tt> </tt>
<a name="L106"></a><tt class="py-lineno">106</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt id="link-3" class="py-name"><a title="multi" class="py-name" href="#" onclick="return doclink('link-3', 'multi', 'link-0');">multi</a></tt><tt class="py-op">.</tt><tt id="link-4" class="py-name" targets="Module bmrblib.misc=bmrblib.misc-module.html,Module gui.misc=gui.misc-module.html,Module multi.misc=multi.misc-module.html"><a title="bmrblib.misc
gui.misc
multi.misc" class="py-name" href="#" onclick="return doclink('link-4', 'misc', 'link-4');">misc</a></tt> <tt class="py-keyword">import</tt> <tt id="link-5" class="py-name" targets="Function multi.misc.raise_unimplemented()=multi.misc-module.html#raise_unimplemented"><a title="multi.misc.raise_unimplemented" class="py-name" href="#" onclick="return doclink('link-5', 'raise_unimplemented', 'link-5');">raise_unimplemented</a></tt><tt class="py-op">,</tt> <tt id="link-6" class="py-name" targets="Class multi.misc.Verbosity=multi.misc.Verbosity-class.html"><a title="multi.misc.Verbosity" class="py-name" href="#" onclick="return doclink('link-6', 'Verbosity', 'link-6');">Verbosity</a></tt><tt class="py-op">;</tt> <tt id="link-7" class="py-name" targets="Variable bmrblib.pystarlib.Text.verbosity=bmrblib.pystarlib.Text-module.html#verbosity,Variable bmrblib.pystarlib.verbosity=bmrblib.pystarlib-module.html#verbosity,Variable multi.multi_processor_base.verbosity=multi.multi_processor_base-module.html#verbosity,Variable multi.processor.verbosity=multi.processor-module.html#verbosity"><a title="bmrblib.pystarlib.Text.verbosity
bmrblib.pystarlib.verbosity
multi.multi_processor_base.verbosity
multi.processor.verbosity" class="py-name" href="#" onclick="return doclink('link-7', 'verbosity', 'link-7');">verbosity</a></tt> <tt class="py-op">=</tt> <tt id="link-8" class="py-name"><a title="multi.misc.Verbosity" class="py-name" href="#" onclick="return doclink('link-8', 'Verbosity', 'link-6');">Verbosity</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L107"></a><tt class="py-lineno">107</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt id="link-9" class="py-name"><a title="multi" class="py-name" href="#" onclick="return doclink('link-9', 'multi', 'link-0');">multi</a></tt><tt class="py-op">.</tt><tt id="link-10" class="py-name" targets="Module multi.processor_io=multi.processor_io-module.html"><a title="multi.processor_io" class="py-name" href="#" onclick="return doclink('link-10', 'processor_io', 'link-10');">processor_io</a></tt> <tt class="py-keyword">import</tt> <tt id="link-11" class="py-name" targets="Class gui.controller.Redirect_text=gui.controller.Redirect_text-class.html,Class multi.processor_io.Redirect_text=multi.processor_io.Redirect_text-class.html"><a title="gui.controller.Redirect_text
multi.processor_io.Redirect_text" class="py-name" href="#" onclick="return doclink('link-11', 'Redirect_text', 'link-11');">Redirect_text</a></tt> </tt>
<a name="L108"></a><tt class="py-lineno">108</tt>  <tt class="py-line"> </tt>
<a name="L109"></a><tt class="py-lineno">109</tt>  <tt class="py-line"> </tt>
<a name="Processor"></a><div id="Processor-def"><a name="L110"></a><tt class="py-lineno">110</tt> <a class="py-toggle" href="#" id="Processor-toggle" onclick="return toggle('Processor');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="multi.processor.Processor-class.html">Processor</a><tt class="py-op">(</tt><tt class="py-base-class">object</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor-collapsed" style="display:none;" pad="+++" indent="++++"></div><div id="Processor-expanded"><a name="L111"></a><tt class="py-lineno">111</tt>  <tt class="py-line">    <tt class="py-docstring">"""The central class of the multi processor framework.</tt> </tt>
<a name="L112"></a><tt class="py-lineno">112</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L113"></a><tt class="py-lineno">113</tt>  <tt class="py-line"><tt class="py-docstring">    This provides facilities for process management, command queueing, command scheduling, remote</tt> </tt>
<a name="L114"></a><tt class="py-lineno">114</tt>  <tt class="py-line"><tt class="py-docstring">    execution of commands, and handling of results and error from commands. The class is abstract</tt> </tt>
<a name="L115"></a><tt class="py-lineno">115</tt>  <tt class="py-line"><tt class="py-docstring">    and should be overridden to implement new interprocess communication methods, however, even then</tt> </tt>
<a name="L116"></a><tt class="py-lineno">116</tt>  <tt class="py-line"><tt class="py-docstring">    users are encouraged to override the more full implemented multi.multi_processor.Multi_processor</tt> </tt>
<a name="L117"></a><tt class="py-lineno">117</tt>  <tt class="py-line"><tt class="py-docstring">    class. Most users should instantiate instances of this class by calling the static method</tt> </tt>
<a name="L118"></a><tt class="py-lineno">118</tt>  <tt class="py-line"><tt class="py-docstring">    Processor.load_multiprocessor.</tt> </tt>
<a name="L119"></a><tt class="py-lineno">119</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L120"></a><tt class="py-lineno">120</tt>  <tt class="py-line"><tt class="py-docstring">    The class is designed to be subclassed and has abstract methods that a subclass needs to</tt> </tt>
<a name="L121"></a><tt class="py-lineno">121</tt>  <tt class="py-line"><tt class="py-docstring">    override. Methods which can be overridden are clearly marked with a note annotation stating that</tt> </tt>
<a name="L122"></a><tt class="py-lineno">122</tt>  <tt class="py-line"><tt class="py-docstring">    they can be overridden.</tt> </tt>
<a name="L123"></a><tt class="py-lineno">123</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L124"></a><tt class="py-lineno">124</tt>  <tt class="py-line"><tt class="py-docstring">    @todo:  It maybe a good idea to separate out the features of the class that purely deal with the</tt> </tt>
<a name="L125"></a><tt class="py-lineno">125</tt>  <tt class="py-line"><tt class="py-docstring">            interprocess communication fabric.</tt> </tt>
<a name="L126"></a><tt class="py-lineno">126</tt>  <tt class="py-line"><tt class="py-docstring">    @todo:  The processor can't currently harvest the required command line arguments from the</tt> </tt>
<a name="L127"></a><tt class="py-lineno">127</tt>  <tt class="py-line"><tt class="py-docstring">            current command line.</tt> </tt>
<a name="L128"></a><tt class="py-lineno">128</tt>  <tt class="py-line"><tt class="py-docstring">    """</tt> </tt>
<a name="L129"></a><tt class="py-lineno">129</tt>  <tt class="py-line"> </tt>
<a name="L130"></a><tt class="py-lineno">130</tt>  <tt class="py-line"> </tt>
<a name="Processor.__init__"></a><div id="Processor.__init__-def"><a name="L131"></a><tt class="py-lineno">131</tt> <a class="py-toggle" href="#" id="Processor.__init__-toggle" onclick="return toggle('Processor.__init__');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#__init__">__init__</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">processor_size</tt><tt class="py-op">,</tt> <tt class="py-param">callback</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.__init__-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.__init__-expanded"><a name="L132"></a><tt class="py-lineno">132</tt>  <tt class="py-line">        <tt class="py-docstring">"""Initialise the processor.</tt> </tt>
<a name="L133"></a><tt class="py-lineno">133</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L134"></a><tt class="py-lineno">134</tt>  <tt class="py-line"><tt class="py-docstring">        @param processor_size:  The requested number of __slave__processors, if the number of</tt> </tt>
<a name="L135"></a><tt class="py-lineno">135</tt>  <tt class="py-line"><tt class="py-docstring">                                processors is set by the environment (e.g. in the case of MPI via</tt> </tt>
<a name="L136"></a><tt class="py-lineno">136</tt>  <tt class="py-line"><tt class="py-docstring">                                mpiexec -np &lt;n-processors&gt; on the command line the processor is free</tt> </tt>
<a name="L137"></a><tt class="py-lineno">137</tt>  <tt class="py-line"><tt class="py-docstring">                                free to ignore this value.  The default value from the command line</tt> </tt>
<a name="L138"></a><tt class="py-lineno">138</tt>  <tt class="py-line"><tt class="py-docstring">                                is -1, and subclasses on receiving this value either raise and</tt> </tt>
<a name="L139"></a><tt class="py-lineno">139</tt>  <tt class="py-line"><tt class="py-docstring">                                exception or determine the correct number of slaves to create (e.g.</tt> </tt>
<a name="L140"></a><tt class="py-lineno">140</tt>  <tt class="py-line"><tt class="py-docstring">                                on a multi-cored machine using a threaded implementation the correct</tt> </tt>
<a name="L141"></a><tt class="py-lineno">141</tt>  <tt class="py-line"><tt class="py-docstring">                                number of slaves would be equal to the number of cores available).</tt> </tt>
<a name="L142"></a><tt class="py-lineno">142</tt>  <tt class="py-line"><tt class="py-docstring">        @type processor_size:   int</tt> </tt>
<a name="L143"></a><tt class="py-lineno">143</tt>  <tt class="py-line"><tt class="py-docstring">        @param callback:        The application callback which allows the host application to start</tt> </tt>
<a name="L144"></a><tt class="py-lineno">144</tt>  <tt class="py-line"><tt class="py-docstring">                                its main loop and handle exceptions from the processor.</tt> </tt>
<a name="L145"></a><tt class="py-lineno">145</tt>  <tt class="py-line"><tt class="py-docstring">        @type callback:         multi.processor.Application_callback instance</tt> </tt>
<a name="L146"></a><tt class="py-lineno">146</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L147"></a><tt class="py-lineno">147</tt>  <tt class="py-line"> </tt>
<a name="L148"></a><tt class="py-lineno">148</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">callback</tt> <tt class="py-op">=</tt> <tt class="py-name">callback</tt> </tt>
<a name="L149"></a><tt class="py-lineno">149</tt>  <tt class="py-line">        <tt class="py-string">"""Callback to interface to the host application</tt> </tt>
<a name="L150"></a><tt class="py-lineno">150</tt>  <tt class="py-line"><tt class="py-string"></tt> </tt>
<a name="L151"></a><tt class="py-lineno">151</tt>  <tt class="py-line"><tt class="py-string">        @see:  Application_callback."""</tt> </tt>
<a name="L152"></a><tt class="py-lineno">152</tt>  <tt class="py-line"> </tt>
<a name="L153"></a><tt class="py-lineno">153</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">grainyness</tt> <tt class="py-op">=</tt> <tt class="py-number">1</tt> </tt>
<a name="L154"></a><tt class="py-lineno">154</tt>  <tt class="py-line">        <tt class="py-string">"""The number of sub jobs to queue for each processor if we have more jobs than processors."""</tt> </tt>
<a name="L155"></a><tt class="py-lineno">155</tt>  <tt class="py-line"> </tt>
<a name="L156"></a><tt class="py-lineno">156</tt>  <tt class="py-line"><tt class="py-comment">#        # CHECKME: am I implemented?, should I be an application callback function</tt> </tt>
<a name="L157"></a><tt class="py-lineno">157</tt>  <tt class="py-line"><tt class="py-comment">#        self.pre_queue_command = None</tt> </tt>
<a name="L158"></a><tt class="py-lineno">158</tt>  <tt class="py-line"><tt class="py-comment">#        """ command to call before the queue is run"""</tt> </tt>
<a name="L159"></a><tt class="py-lineno">159</tt>  <tt class="py-line"><tt class="py-comment">#        # CHECKME: am I implemented?, should I be an application callback function</tt> </tt>
<a name="L160"></a><tt class="py-lineno">160</tt>  <tt class="py-line"><tt class="py-comment">#        self.post_queue_command = None</tt> </tt>
<a name="L161"></a><tt class="py-lineno">161</tt>  <tt class="py-line"><tt class="py-comment">#        """ command to call after the queue has completed running"""</tt> </tt>
<a name="L162"></a><tt class="py-lineno">162</tt>  <tt class="py-line"><tt class="py-comment">#</tt> </tt>
<a name="L163"></a><tt class="py-lineno">163</tt>  <tt class="py-line">        <tt class="py-comment">#CHECKME: should I be a singleton</tt> </tt>
<a name="L164"></a><tt class="py-lineno">164</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">NULL_RESULT</tt> <tt class="py-op">=</tt> <tt id="link-12" class="py-name"><a title="multi.api.Null_result_command" class="py-name" href="#" onclick="return doclink('link-12', 'Null_result_command', 'link-2');">Null_result_command</a></tt><tt class="py-op">(</tt><tt id="link-13" class="py-name" targets="Module multi.processor=multi.processor-module.html"><a title="multi.processor" class="py-name" href="#" onclick="return doclink('link-13', 'processor', 'link-13');">processor</a></tt><tt class="py-op">=</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L165"></a><tt class="py-lineno">165</tt>  <tt class="py-line">        <tt class="py-string">"""Empty result command used by commands which do not return a result (a singleton?)."""</tt> </tt>
<a name="L166"></a><tt class="py-lineno">166</tt>  <tt class="py-line"> </tt>
<a name="L167"></a><tt class="py-lineno">167</tt>  <tt class="py-line"> </tt>
<a name="L168"></a><tt class="py-lineno">168</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">_processor_size</tt> <tt class="py-op">=</tt> <tt id="link-14" class="py-name" targets="Method multi.processor.Processor.processor_size()=multi.processor.Processor-class.html#processor_size,Method multi.uni_processor.Uni_processor.processor_size()=multi.uni_processor.Uni_processor-class.html#processor_size"><a title="multi.processor.Processor.processor_size
multi.uni_processor.Uni_processor.processor_size" class="py-name" href="#" onclick="return doclink('link-14', 'processor_size', 'link-14');">processor_size</a></tt> </tt>
<a name="L169"></a><tt class="py-lineno">169</tt>  <tt class="py-line">        <tt class="py-string">"""Number of slave processors available in this processor."""</tt> </tt>
</div><a name="L170"></a><tt class="py-lineno">170</tt>  <tt class="py-line"> </tt>
<a name="L171"></a><tt class="py-lineno">171</tt>  <tt class="py-line"> </tt>
<a name="Processor.abort"></a><div id="Processor.abort-def"><a name="L172"></a><tt class="py-lineno">172</tt> <a class="py-toggle" href="#" id="Processor.abort-toggle" onclick="return toggle('Processor.abort');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#abort">abort</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.abort-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.abort-expanded"><a name="L173"></a><tt class="py-lineno">173</tt>  <tt class="py-line">        <tt class="py-docstring">"""Shutdown the multi processor in exceptional conditions - designed for overriding.</tt> </tt>
<a name="L174"></a><tt class="py-lineno">174</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L175"></a><tt class="py-lineno">175</tt>  <tt class="py-line"><tt class="py-docstring">        This method is called after an exception from the master or slave has been raised and</tt> </tt>
<a name="L176"></a><tt class="py-lineno">176</tt>  <tt class="py-line"><tt class="py-docstring">        processed and is responsible for the shutdown of the multi processor fabric and terminating</tt> </tt>
<a name="L177"></a><tt class="py-lineno">177</tt>  <tt class="py-line"><tt class="py-docstring">        the application. The functions should be called as the last thing that</tt> </tt>
<a name="L178"></a><tt class="py-lineno">178</tt>  <tt class="py-line"><tt class="py-docstring">        Application_callback.handle_exception does.</tt> </tt>
<a name="L179"></a><tt class="py-lineno">179</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L180"></a><tt class="py-lineno">180</tt>  <tt class="py-line"><tt class="py-docstring">        As an example of the methods use see Mpi4py_processor.abort which calls</tt> </tt>
<a name="L181"></a><tt class="py-lineno">181</tt>  <tt class="py-line"><tt class="py-docstring">        MPI.COMM_WORLD.Abort() to cleanly shutdown the mpi framework and remove dangling processes.</tt> </tt>
<a name="L182"></a><tt class="py-lineno">182</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L183"></a><tt class="py-lineno">183</tt>  <tt class="py-line"><tt class="py-docstring">        The default action is to call sys.exit()</tt> </tt>
<a name="L184"></a><tt class="py-lineno">184</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L185"></a><tt class="py-lineno">185</tt>  <tt class="py-line"><tt class="py-docstring">        @see:   multi.processor.Application_callback.</tt> </tt>
<a name="L186"></a><tt class="py-lineno">186</tt>  <tt class="py-line"><tt class="py-docstring">        @see:   multi.mpi4py_processor.Mpi4py_processor.abort().</tt> </tt>
<a name="L187"></a><tt class="py-lineno">187</tt>  <tt class="py-line"><tt class="py-docstring">        @see:   mpi4py.MPI.COMM_WORLD.Abort().</tt> </tt>
<a name="L188"></a><tt class="py-lineno">188</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L189"></a><tt class="py-lineno">189</tt>  <tt class="py-line"> </tt>
<a name="L190"></a><tt class="py-lineno">190</tt>  <tt class="py-line">        <tt class="py-name">sys</tt><tt class="py-op">.</tt><tt id="link-15" class="py-name" targets="Method gui.icons.Relax_task_bar_icon.exit()=gui.icons.Relax_task_bar_icon-class.html#exit,Method gui.interpreter.Interpreter.exit()=gui.interpreter.Interpreter-class.html#exit,Method gui.interpreter.Interpreter_thread.exit()=gui.interpreter.Interpreter_thread-class.html#exit,Function multi.mpi4py_processor.exit()=multi.mpi4py_processor-module.html#exit,Method multi.uni_processor.Uni_processor.exit()=multi.uni_processor.Uni_processor-class.html#exit"><a title="gui.icons.Relax_task_bar_icon.exit
gui.interpreter.Interpreter.exit
gui.interpreter.Interpreter_thread.exit
multi.mpi4py_processor.exit
multi.uni_processor.Uni_processor.exit" class="py-name" href="#" onclick="return doclink('link-15', 'exit', 'link-15');">exit</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div><a name="L191"></a><tt class="py-lineno">191</tt>  <tt class="py-line"> </tt>
<a name="L192"></a><tt class="py-lineno">192</tt>  <tt class="py-line"> </tt>
<a name="Processor.add_to_queue"></a><div id="Processor.add_to_queue-def"><a name="L193"></a><tt class="py-lineno">193</tt> <a class="py-toggle" href="#" id="Processor.add_to_queue-toggle" onclick="return toggle('Processor.add_to_queue');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#add_to_queue">add_to_queue</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">command</tt><tt class="py-op">,</tt> <tt class="py-param">memo</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.add_to_queue-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.add_to_queue-expanded"><a name="L194"></a><tt class="py-lineno">194</tt>  <tt class="py-line">        <tt class="py-docstring">"""Add a command for remote execution to the queue - an abstract method.</tt> </tt>
<a name="L195"></a><tt class="py-lineno">195</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L196"></a><tt class="py-lineno">196</tt>  <tt class="py-line"><tt class="py-docstring">        @see: multi.processor.Slave_command</tt> </tt>
<a name="L197"></a><tt class="py-lineno">197</tt>  <tt class="py-line"><tt class="py-docstring">        @see: multi.processor.Result_command</tt> </tt>
<a name="L198"></a><tt class="py-lineno">198</tt>  <tt class="py-line"><tt class="py-docstring">        @see: multi.processor.Memo</tt> </tt>
<a name="L199"></a><tt class="py-lineno">199</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L200"></a><tt class="py-lineno">200</tt>  <tt class="py-line"><tt class="py-docstring">        @param command: A command to execute on a slave processor.</tt> </tt>
<a name="L201"></a><tt class="py-lineno">201</tt>  <tt class="py-line"><tt class="py-docstring">        @type command:  ? subclass instance</tt> </tt>
<a name="L202"></a><tt class="py-lineno">202</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword memo:  A place to place data needed on command completion (e.g. where to save the</tt> </tt>
<a name="L203"></a><tt class="py-lineno">203</tt>  <tt class="py-line"><tt class="py-docstring">                        results) the data stored in the memo is provided to Result_commands</tt> </tt>
<a name="L204"></a><tt class="py-lineno">204</tt>  <tt class="py-line"><tt class="py-docstring">                        generated by the command submitted.</tt> </tt>
<a name="L205"></a><tt class="py-lineno">205</tt>  <tt class="py-line"><tt class="py-docstring">        @type memo:     Memo subclass instance</tt> </tt>
<a name="L206"></a><tt class="py-lineno">206</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L207"></a><tt class="py-lineno">207</tt>  <tt class="py-line"> </tt>
<a name="L208"></a><tt class="py-lineno">208</tt>  <tt class="py-line">        <tt id="link-16" class="py-name"><a title="multi.misc.raise_unimplemented" class="py-name" href="#" onclick="return doclink('link-16', 'raise_unimplemented', 'link-5');">raise_unimplemented</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-17" class="py-name" targets="Method multi.multi_processor_base.Multi_processor.add_to_queue()=multi.multi_processor_base.Multi_processor-class.html#add_to_queue,Method multi.processor.Processor.add_to_queue()=multi.processor.Processor-class.html#add_to_queue,Method multi.uni_processor.Uni_processor.add_to_queue()=multi.uni_processor.Uni_processor-class.html#add_to_queue"><a title="multi.multi_processor_base.Multi_processor.add_to_queue
multi.processor.Processor.add_to_queue
multi.uni_processor.Uni_processor.add_to_queue" class="py-name" href="#" onclick="return doclink('link-17', 'add_to_queue', 'link-17');">add_to_queue</a></tt><tt class="py-op">)</tt> </tt>
</div><a name="L209"></a><tt class="py-lineno">209</tt>  <tt class="py-line"> </tt>
<a name="L210"></a><tt class="py-lineno">210</tt>  <tt class="py-line"> </tt>
<a name="L211"></a><tt class="py-lineno">211</tt>  <tt class="py-line">    <tt class="py-comment"># FIXME is this used?</tt> </tt>
<a name="L212"></a><tt class="py-lineno">212</tt>  <tt class="py-line"><tt class="py-comment">#    def exit(self):</tt> </tt>
<a name="L213"></a><tt class="py-lineno">213</tt>  <tt class="py-line"><tt class="py-comment">#        raise_unimplemented(self.exit)</tt> </tt>
<a name="L214"></a><tt class="py-lineno">214</tt>  <tt class="py-line"> </tt>
<a name="L215"></a><tt class="py-lineno">215</tt>  <tt class="py-line"> </tt>
<a name="Processor.get_intro_string"></a><div id="Processor.get_intro_string-def"><a name="L216"></a><tt class="py-lineno">216</tt> <a class="py-toggle" href="#" id="Processor.get_intro_string-toggle" onclick="return toggle('Processor.get_intro_string');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#get_intro_string">get_intro_string</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.get_intro_string-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.get_intro_string-expanded"><a name="L217"></a><tt class="py-lineno">217</tt>  <tt class="py-line">        <tt class="py-docstring">"""Get a string describing the multi processor - designed for overriding.</tt> </tt>
<a name="L218"></a><tt class="py-lineno">218</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L219"></a><tt class="py-lineno">219</tt>  <tt class="py-line"><tt class="py-docstring">        The string should be suitable for display at application startup and should be less than 100</tt> </tt>
<a name="L220"></a><tt class="py-lineno">220</tt>  <tt class="py-line"><tt class="py-docstring">        characters wide. A good example is the string returned by mpi4py_processor:</tt> </tt>
<a name="L221"></a><tt class="py-lineno">221</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L222"></a><tt class="py-lineno">222</tt>  <tt class="py-line"><tt class="py-docstring">        &gt;&gt;&gt; MPI running via mpi4py with &lt;n&gt; slave processors &amp; 1 master, mpi version = &lt;x&gt;.&lt;y&gt;</tt> </tt>
<a name="L223"></a><tt class="py-lineno">223</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L224"></a><tt class="py-lineno">224</tt>  <tt class="py-line"><tt class="py-docstring">        @see:       multi.processor.mpi4py_processor.Mpi4py_processor.get_intro_string.</tt> </tt>
<a name="L225"></a><tt class="py-lineno">225</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L226"></a><tt class="py-lineno">226</tt>  <tt class="py-line"><tt class="py-docstring">        @return:    A string describing the multi processor.</tt> </tt>
<a name="L227"></a><tt class="py-lineno">227</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:     str</tt> </tt>
<a name="L228"></a><tt class="py-lineno">228</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L229"></a><tt class="py-lineno">229</tt>  <tt class="py-line"> </tt>
<a name="L230"></a><tt class="py-lineno">230</tt>  <tt class="py-line">        <tt id="link-18" class="py-name"><a title="multi.misc.raise_unimplemented" class="py-name" href="#" onclick="return doclink('link-18', 'raise_unimplemented', 'link-5');">raise_unimplemented</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-19" class="py-name" targets="Method multi.mpi4py_processor.Mpi4py_processor.get_intro_string()=multi.mpi4py_processor.Mpi4py_processor-class.html#get_intro_string,Method multi.processor.Processor.get_intro_string()=multi.processor.Processor-class.html#get_intro_string,Method multi.uni_processor.Uni_processor.get_intro_string()=multi.uni_processor.Uni_processor-class.html#get_intro_string"><a title="multi.mpi4py_processor.Mpi4py_processor.get_intro_string
multi.processor.Processor.get_intro_string
multi.uni_processor.Uni_processor.get_intro_string" class="py-name" href="#" onclick="return doclink('link-19', 'get_intro_string', 'link-19');">get_intro_string</a></tt><tt class="py-op">)</tt> </tt>
</div><a name="L231"></a><tt class="py-lineno">231</tt>  <tt class="py-line"> </tt>
<a name="L232"></a><tt class="py-lineno">232</tt>  <tt class="py-line"> </tt>
<a name="Processor.get_name"></a><div id="Processor.get_name-def"><a name="L233"></a><tt class="py-lineno">233</tt> <a class="py-toggle" href="#" id="Processor.get_name-toggle" onclick="return toggle('Processor.get_name');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#get_name">get_name</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.get_name-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.get_name-expanded"><a name="L234"></a><tt class="py-lineno">234</tt>  <tt class="py-line">        <tt class="py-docstring">"""Get the name of the current processor - an abstract method.</tt> </tt>
<a name="L235"></a><tt class="py-lineno">235</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L236"></a><tt class="py-lineno">236</tt>  <tt class="py-line"><tt class="py-docstring">        The string should identify the current master or slave processor uniquely but is purely for</tt> </tt>
<a name="L237"></a><tt class="py-lineno">237</tt>  <tt class="py-line"><tt class="py-docstring">        information and debugging. For example the mpi implementation uses the string</tt> </tt>
<a name="L238"></a><tt class="py-lineno">238</tt>  <tt class="py-line"><tt class="py-docstring">        &lt;host-name&gt;-&lt;process-id&gt; whereas the thread implementation uses the id of the current thread</tt> </tt>
<a name="L239"></a><tt class="py-lineno">239</tt>  <tt class="py-line"><tt class="py-docstring">        as provided by python.</tt> </tt>
<a name="L240"></a><tt class="py-lineno">240</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L241"></a><tt class="py-lineno">241</tt>  <tt class="py-line"><tt class="py-docstring">        @return:    The processor identifier.</tt> </tt>
<a name="L242"></a><tt class="py-lineno">242</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:     str</tt> </tt>
<a name="L243"></a><tt class="py-lineno">243</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L244"></a><tt class="py-lineno">244</tt>  <tt class="py-line"> </tt>
<a name="L245"></a><tt class="py-lineno">245</tt>  <tt class="py-line">        <tt id="link-20" class="py-name"><a title="multi.misc.raise_unimplemented" class="py-name" href="#" onclick="return doclink('link-20', 'raise_unimplemented', 'link-5');">raise_unimplemented</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-21" class="py-name" targets="Method multi.mpi4py_processor.Mpi4py_processor.get_name()=multi.mpi4py_processor.Mpi4py_processor-class.html#get_name,Method multi.processor.Processor.get_name()=multi.processor.Processor-class.html#get_name,Method multi.uni_processor.Uni_processor.get_name()=multi.uni_processor.Uni_processor-class.html#get_name"><a title="multi.mpi4py_processor.Mpi4py_processor.get_name
multi.processor.Processor.get_name
multi.uni_processor.Uni_processor.get_name" class="py-name" href="#" onclick="return doclink('link-21', 'get_name', 'link-21');">get_name</a></tt><tt class="py-op">)</tt> </tt>
</div><a name="L246"></a><tt class="py-lineno">246</tt>  <tt class="py-line"> </tt>
<a name="L247"></a><tt class="py-lineno">247</tt>  <tt class="py-line"> </tt>
<a name="Processor.get_stdio_pre_strings"></a><div id="Processor.get_stdio_pre_strings-def"><a name="L248"></a><tt class="py-lineno">248</tt> <a class="py-toggle" href="#" id="Processor.get_stdio_pre_strings-toggle" onclick="return toggle('Processor.get_stdio_pre_strings');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#get_stdio_pre_strings">get_stdio_pre_strings</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.get_stdio_pre_strings-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.get_stdio_pre_strings-expanded"><a name="L249"></a><tt class="py-lineno">249</tt>  <tt class="py-line">        <tt class="py-docstring">"""Get the strings used prepend STDOUT and STDERR dependant on the current rank.</tt> </tt>
<a name="L250"></a><tt class="py-lineno">250</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L251"></a><tt class="py-lineno">251</tt>  <tt class="py-line"><tt class="py-docstring">        For processors with only one slave the result should be ('', '') - designed for overriding.</tt> </tt>
<a name="L252"></a><tt class="py-lineno">252</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L253"></a><tt class="py-lineno">253</tt>  <tt class="py-line"><tt class="py-docstring">        @note:  The defaults are ('M S|', 'M E|') and ('NN S|' , 'NN E|') for masters and slaves</tt> </tt>
<a name="L254"></a><tt class="py-lineno">254</tt>  <tt class="py-line"><tt class="py-docstring">                respectively with NN replaced by the rank of the processor.</tt> </tt>
<a name="L255"></a><tt class="py-lineno">255</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L256"></a><tt class="py-lineno">256</tt>  <tt class="py-line"><tt class="py-docstring">        @return:    A list of two strings for prepending to each line of STDOUT and STDERR.</tt> </tt>
<a name="L257"></a><tt class="py-lineno">257</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:     list of 2 str</tt> </tt>
<a name="L258"></a><tt class="py-lineno">258</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L259"></a><tt class="py-lineno">259</tt>  <tt class="py-line"> </tt>
<a name="L260"></a><tt class="py-lineno">260</tt>  <tt class="py-line">        <tt class="py-comment"># Only prepend test if the verbosity level is set.</tt> </tt>
<a name="L261"></a><tt class="py-lineno">261</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt id="link-22" class="py-name"><a title="bmrblib.pystarlib.Text.verbosity
bmrblib.pystarlib.verbosity
multi.multi_processor_base.verbosity
multi.processor.verbosity" class="py-name" href="#" onclick="return doclink('link-22', 'verbosity', 'link-7');">verbosity</a></tt><tt class="py-op">.</tt><tt id="link-23" class="py-name" targets="Method multi.misc.Verbosity.level()=multi.misc.Verbosity-class.html#level"><a title="multi.misc.Verbosity.level" class="py-name" href="#" onclick="return doclink('link-23', 'level', 'link-23');">level</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L262"></a><tt class="py-lineno">262</tt>  <tt class="py-line">            <tt class="py-keyword">return</tt> <tt class="py-string">''</tt><tt class="py-op">,</tt> <tt class="py-string">''</tt> </tt>
<a name="L263"></a><tt class="py-lineno">263</tt>  <tt class="py-line"> </tt>
<a name="L264"></a><tt class="py-lineno">264</tt>  <tt class="py-line">        <tt class="py-comment"># Initialise.</tt> </tt>
<a name="L265"></a><tt class="py-lineno">265</tt>  <tt class="py-line">        <tt class="py-name">pre_string</tt> <tt class="py-op">=</tt> <tt class="py-string">''</tt> </tt>
<a name="L266"></a><tt class="py-lineno">266</tt>  <tt class="py-line">        <tt class="py-name">stdout_string</tt> <tt class="py-op">=</tt> <tt class="py-string">''</tt> </tt>
<a name="L267"></a><tt class="py-lineno">267</tt>  <tt class="py-line">        <tt class="py-name">stderr_string</tt> <tt class="py-op">=</tt> <tt class="py-string">''</tt> </tt>
<a name="L268"></a><tt class="py-lineno">268</tt>  <tt class="py-line">        <tt id="link-24" class="py-name" targets="Method multi.mpi4py_processor.Mpi4py_processor.rank()=multi.mpi4py_processor.Mpi4py_processor-class.html#rank,Method multi.processor.Processor.rank()=multi.processor.Processor-class.html#rank,Method multi.uni_processor.Uni_processor.rank()=multi.uni_processor.Uni_processor-class.html#rank"><a title="multi.mpi4py_processor.Mpi4py_processor.rank
multi.processor.Processor.rank
multi.uni_processor.Uni_processor.rank" class="py-name" href="#" onclick="return doclink('link-24', 'rank', 'link-24');">rank</a></tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-25" class="py-name"><a title="multi.mpi4py_processor.Mpi4py_processor.rank
multi.processor.Processor.rank
multi.uni_processor.Uni_processor.rank" class="py-name" href="#" onclick="return doclink('link-25', 'rank', 'link-24');">rank</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L269"></a><tt class="py-lineno">269</tt>  <tt class="py-line"> </tt>
<a name="L270"></a><tt class="py-lineno">270</tt>  <tt class="py-line">        <tt class="py-comment"># Start of the slave string.</tt> </tt>
<a name="L271"></a><tt class="py-lineno">271</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-26" class="py-name"><a title="multi.processor.Processor.processor_size
multi.uni_processor.Uni_processor.processor_size" class="py-name" href="#" onclick="return doclink('link-26', 'processor_size', 'link-14');">processor_size</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> <tt class="py-op">&gt;</tt> <tt class="py-number">1</tt> <tt class="py-keyword">and</tt> <tt id="link-27" class="py-name"><a title="multi.mpi4py_processor.Mpi4py_processor.rank
multi.processor.Processor.rank
multi.uni_processor.Uni_processor.rank" class="py-name" href="#" onclick="return doclink('link-27', 'rank', 'link-24');">rank</a></tt> <tt class="py-op">&gt;</tt> <tt class="py-number">0</tt><tt class="py-op">:</tt> </tt>
<a name="L272"></a><tt class="py-lineno">272</tt>  <tt class="py-line">            <tt class="py-name">pre_string</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-28" class="py-name" targets="Method multi.processor.Processor.rank_format_string()=multi.processor.Processor-class.html#rank_format_string"><a title="multi.processor.Processor.rank_format_string" class="py-name" href="#" onclick="return doclink('link-28', 'rank_format_string', 'link-28');">rank_format_string</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> <tt class="py-op">%</tt> <tt id="link-29" class="py-name"><a title="multi.mpi4py_processor.Mpi4py_processor.rank
multi.processor.Processor.rank
multi.uni_processor.Uni_processor.rank" class="py-name" href="#" onclick="return doclink('link-29', 'rank', 'link-24');">rank</a></tt> </tt>
<a name="L273"></a><tt class="py-lineno">273</tt>  <tt class="py-line"> </tt>
<a name="L274"></a><tt class="py-lineno">274</tt>  <tt class="py-line">        <tt class="py-comment"># Start of the master string.</tt> </tt>
<a name="L275"></a><tt class="py-lineno">275</tt>  <tt class="py-line">        <tt class="py-keyword">elif</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-30" class="py-name"><a title="multi.processor.Processor.processor_size
multi.uni_processor.Uni_processor.processor_size" class="py-name" href="#" onclick="return doclink('link-30', 'processor_size', 'link-14');">processor_size</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> <tt class="py-op">&gt;</tt> <tt class="py-number">1</tt> <tt class="py-keyword">and</tt> <tt id="link-31" class="py-name"><a title="multi.mpi4py_processor.Mpi4py_processor.rank
multi.processor.Processor.rank
multi.uni_processor.Uni_processor.rank" class="py-name" href="#" onclick="return doclink('link-31', 'rank', 'link-24');">rank</a></tt> <tt class="py-op">==</tt> <tt class="py-number">0</tt><tt class="py-op">:</tt> </tt>
<a name="L276"></a><tt class="py-lineno">276</tt>  <tt class="py-line">            <tt class="py-name">pre_string</tt> <tt class="py-op">=</tt> <tt class="py-string">'M'</tt><tt class="py-op">*</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-32" class="py-name" targets="Method multi.processor.Processor.rank_format_string_width()=multi.processor.Processor-class.html#rank_format_string_width"><a title="multi.processor.Processor.rank_format_string_width" class="py-name" href="#" onclick="return doclink('link-32', 'rank_format_string_width', 'link-32');">rank_format_string_width</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L277"></a><tt class="py-lineno">277</tt>  <tt class="py-line"> </tt>
<a name="L278"></a><tt class="py-lineno">278</tt>  <tt class="py-line">        <tt class="py-comment"># For multi-processors, the STDOUT and STDERR indicators, and the separator.</tt> </tt>
<a name="L279"></a><tt class="py-lineno">279</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-33" class="py-name"><a title="multi.processor.Processor.processor_size
multi.uni_processor.Uni_processor.processor_size" class="py-name" href="#" onclick="return doclink('link-33', 'processor_size', 'link-14');">processor_size</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> <tt class="py-op">&gt;</tt> <tt class="py-number">1</tt><tt class="py-op">:</tt> </tt>
<a name="L280"></a><tt class="py-lineno">280</tt>  <tt class="py-line">            <tt class="py-name">stderr_string</tt> <tt class="py-op">=</tt> <tt class="py-name">pre_string</tt> <tt class="py-op">+</tt> <tt class="py-string">' E| '</tt> </tt>
<a name="L281"></a><tt class="py-lineno">281</tt>  <tt class="py-line">            <tt class="py-name">stdout_string</tt> <tt class="py-op">=</tt> <tt class="py-name">pre_string</tt> <tt class="py-op">+</tt> <tt class="py-string">'  | '</tt> </tt>
<a name="L282"></a><tt class="py-lineno">282</tt>  <tt class="py-line"> </tt>
<a name="L283"></a><tt class="py-lineno">283</tt>  <tt class="py-line">        <tt class="py-comment"># Return the strings to prepend to the STDOUT and STDERR streams.</tt> </tt>
<a name="L284"></a><tt class="py-lineno">284</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt class="py-name">stdout_string</tt><tt class="py-op">,</tt> <tt class="py-name">stderr_string</tt> </tt>
</div><a name="L285"></a><tt class="py-lineno">285</tt>  <tt class="py-line"> </tt>
<a name="L286"></a><tt class="py-lineno">286</tt>  <tt class="py-line"> </tt>
<a name="Processor.get_time_delta"></a><div id="Processor.get_time_delta-def"><a name="L287"></a><tt class="py-lineno">287</tt> <a class="py-toggle" href="#" id="Processor.get_time_delta-toggle" onclick="return toggle('Processor.get_time_delta');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#get_time_delta">get_time_delta</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">start_time</tt><tt class="py-op">,</tt> <tt class="py-param">end_time</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.get_time_delta-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.get_time_delta-expanded"><a name="L288"></a><tt class="py-lineno">288</tt>  <tt class="py-line">        <tt class="py-docstring">"""Utility function called to format the difference between application start and end times.</tt> </tt>
<a name="L289"></a><tt class="py-lineno">289</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L290"></a><tt class="py-lineno">290</tt>  <tt class="py-line"><tt class="py-docstring">        @todo:  Check my format is correct.</tt> </tt>
<a name="L291"></a><tt class="py-lineno">291</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L292"></a><tt class="py-lineno">292</tt>  <tt class="py-line"><tt class="py-docstring">        @param start_time:  The time the application started in seconds since the epoch.</tt> </tt>
<a name="L293"></a><tt class="py-lineno">293</tt>  <tt class="py-line"><tt class="py-docstring">        @type start_time:   float</tt> </tt>
<a name="L294"></a><tt class="py-lineno">294</tt>  <tt class="py-line"><tt class="py-docstring">        @param end_time:    The time the application ended in seconds since the epoch.</tt> </tt>
<a name="L295"></a><tt class="py-lineno">295</tt>  <tt class="py-line"><tt class="py-docstring">        @type end_time:     float</tt> </tt>
<a name="L296"></a><tt class="py-lineno">296</tt>  <tt class="py-line"><tt class="py-docstring">        @return:            The time difference in the format 'hours:minutes:seconds'.</tt> </tt>
<a name="L297"></a><tt class="py-lineno">297</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:             str</tt> </tt>
<a name="L298"></a><tt class="py-lineno">298</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L299"></a><tt class="py-lineno">299</tt>  <tt class="py-line"> </tt>
<a name="L300"></a><tt class="py-lineno">300</tt>  <tt class="py-line">        <tt class="py-name">time_diff</tt> <tt class="py-op">=</tt> <tt class="py-name">end_time</tt> <tt class="py-op">-</tt> <tt class="py-name">start_time</tt> </tt>
<a name="L301"></a><tt class="py-lineno">301</tt>  <tt class="py-line">        <tt class="py-name">time_delta</tt> <tt class="py-op">=</tt> <tt class="py-name">datetime</tt><tt class="py-op">.</tt><tt class="py-name">timedelta</tt><tt class="py-op">(</tt><tt class="py-name">seconds</tt><tt class="py-op">=</tt><tt class="py-name">time_diff</tt><tt class="py-op">)</tt> </tt>
<a name="L302"></a><tt class="py-lineno">302</tt>  <tt class="py-line">        <tt class="py-name">time_delta_str</tt> <tt class="py-op">=</tt> <tt class="py-name">time_delta</tt><tt class="py-op">.</tt><tt id="link-34" class="py-name" targets="Method generic_fns.spectrum.Bruker_import.__str__()=generic_fns.spectrum.Bruker_import-class.html#__str__,Method minfx.errors.BaseError.__str__()=minfx.errors.BaseError-class.html#__str__,Method multi.misc.Capturing_exception.__str__()=multi.misc.Capturing_exception-class.html#__str__,Method relax_errors.BaseError.__str__()=relax_errors.BaseError-class.html#__str__,Method relax_errors.RelaxFault.__str__()=relax_errors.RelaxFault-class.html#__str__,Method relax_warnings.BaseWarning.__str__()=relax_warnings.BaseWarning-class.html#__str__"><a title="generic_fns.spectrum.Bruker_import.__str__
minfx.errors.BaseError.__str__
multi.misc.Capturing_exception.__str__
relax_errors.BaseError.__str__
relax_errors.RelaxFault.__str__
relax_warnings.BaseWarning.__str__" class="py-name" href="#" onclick="return doclink('link-34', '__str__', 'link-34');">__str__</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L303"></a><tt class="py-lineno">303</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-name">time_delta_str</tt><tt class="py-op">,</tt> <tt class="py-name">millis</tt><tt class="py-op">)</tt> <tt class="py-op">=</tt> <tt class="py-name">time_delta_str</tt><tt class="py-op">.</tt><tt id="link-35" class="py-name" targets="Method relax_io.SplitIO.split()=relax_io.SplitIO-class.html#split"><a title="relax_io.SplitIO.split" class="py-name" href="#" onclick="return doclink('link-35', 'split', 'link-35');">split</a></tt><tt class="py-op">(</tt><tt class="py-string">'.'</tt><tt class="py-op">,</tt> <tt class="py-number">1</tt><tt class="py-op">)</tt> </tt>
<a name="L304"></a><tt class="py-lineno">304</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt class="py-name">time_delta_str</tt> </tt>
</div><a name="L305"></a><tt class="py-lineno">305</tt>  <tt class="py-line"> </tt>
<a name="L306"></a><tt class="py-lineno">306</tt>  <tt class="py-line"> </tt>
<a name="Processor.post_run"></a><div id="Processor.post_run-def"><a name="L307"></a><tt class="py-lineno">307</tt> <a class="py-toggle" href="#" id="Processor.post_run-toggle" onclick="return toggle('Processor.post_run');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#post_run">post_run</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.post_run-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.post_run-expanded"><a name="L308"></a><tt class="py-lineno">308</tt>  <tt class="py-line">        <tt class="py-docstring">"""Method called after the application main loop has finished - designed for overriding.</tt> </tt>
<a name="L309"></a><tt class="py-lineno">309</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L310"></a><tt class="py-lineno">310</tt>  <tt class="py-line"><tt class="py-docstring">        The default implementation outputs the application runtime to STDOUT. All subclasses should</tt> </tt>
<a name="L311"></a><tt class="py-lineno">311</tt>  <tt class="py-line"><tt class="py-docstring">        call the base method as their last action via super().  Only called on the master on normal</tt> </tt>
<a name="L312"></a><tt class="py-lineno">312</tt>  <tt class="py-line"><tt class="py-docstring">        exit from the applications run loop.</tt> </tt>
<a name="L313"></a><tt class="py-lineno">313</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L314"></a><tt class="py-lineno">314</tt>  <tt class="py-line"> </tt>
<a name="L315"></a><tt class="py-lineno">315</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-36" class="py-name"><a title="multi.mpi4py_processor.Mpi4py_processor.rank
multi.processor.Processor.rank
multi.uni_processor.Uni_processor.rank" class="py-name" href="#" onclick="return doclink('link-36', 'rank', 'link-24');">rank</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> <tt class="py-op">==</tt> <tt class="py-number">0</tt><tt class="py-op">:</tt> </tt>
<a name="L316"></a><tt class="py-lineno">316</tt>  <tt class="py-line">            <tt class="py-name">end_time</tt> <tt class="py-op">=</tt> <tt class="py-name">time</tt><tt class="py-op">.</tt><tt class="py-name">time</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L317"></a><tt class="py-lineno">317</tt>  <tt class="py-line">            <tt class="py-name">time_delta_str</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-37" class="py-name" targets="Method multi.processor.Processor.get_time_delta()=multi.processor.Processor-class.html#get_time_delta"><a title="multi.processor.Processor.get_time_delta" class="py-name" href="#" onclick="return doclink('link-37', 'get_time_delta', 'link-37');">get_time_delta</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">start_time</tt><tt class="py-op">,</tt> <tt class="py-name">end_time</tt><tt class="py-op">)</tt> </tt>
<a name="L318"></a><tt class="py-lineno">318</tt>  <tt class="py-line"> </tt>
<a name="L319"></a><tt class="py-lineno">319</tt>  <tt class="py-line">            <tt class="py-comment"># Print out of the total run time.</tt> </tt>
<a name="L320"></a><tt class="py-lineno">320</tt>  <tt class="py-line">            <tt class="py-keyword">if</tt> <tt id="link-38" class="py-name"><a title="bmrblib.pystarlib.Text.verbosity
bmrblib.pystarlib.verbosity
multi.multi_processor_base.verbosity
multi.processor.verbosity" class="py-name" href="#" onclick="return doclink('link-38', 'verbosity', 'link-7');">verbosity</a></tt><tt class="py-op">.</tt><tt id="link-39" class="py-name"><a title="multi.misc.Verbosity.level" class="py-name" href="#" onclick="return doclink('link-39', 'level', 'link-23');">level</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L321"></a><tt class="py-lineno">321</tt>  <tt class="py-line">                <tt class="py-keyword">print</tt><tt class="py-op">(</tt><tt class="py-string">'\nOverall runtime: '</tt> <tt class="py-op">+</tt> <tt class="py-name">time_delta_str</tt> <tt class="py-op">+</tt> <tt class="py-string">'\n'</tt><tt class="py-op">)</tt> </tt>
</div><a name="L322"></a><tt class="py-lineno">322</tt>  <tt class="py-line"> </tt>
<a name="L323"></a><tt class="py-lineno">323</tt>  <tt class="py-line"> </tt>
<a name="Processor.pre_run"></a><div id="Processor.pre_run-def"><a name="L324"></a><tt class="py-lineno">324</tt> <a class="py-toggle" href="#" id="Processor.pre_run-toggle" onclick="return toggle('Processor.pre_run');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#pre_run">pre_run</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.pre_run-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.pre_run-expanded"><a name="L325"></a><tt class="py-lineno">325</tt>  <tt class="py-line">        <tt class="py-docstring">"""Method called before starting the application main loop - designed for overriding.</tt> </tt>
<a name="L326"></a><tt class="py-lineno">326</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L327"></a><tt class="py-lineno">327</tt>  <tt class="py-line"><tt class="py-docstring">        The default implementation just saves the start time for application timing. All subclasses</tt> </tt>
<a name="L328"></a><tt class="py-lineno">328</tt>  <tt class="py-line"><tt class="py-docstring">        should call the base method via super(). Only called on the master.</tt> </tt>
<a name="L329"></a><tt class="py-lineno">329</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L330"></a><tt class="py-lineno">330</tt>  <tt class="py-line"> </tt>
<a name="L331"></a><tt class="py-lineno">331</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-40" class="py-name"><a title="multi.mpi4py_processor.Mpi4py_processor.rank
multi.processor.Processor.rank
multi.uni_processor.Uni_processor.rank" class="py-name" href="#" onclick="return doclink('link-40', 'rank', 'link-24');">rank</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> <tt class="py-op">==</tt> <tt class="py-number">0</tt><tt class="py-op">:</tt> </tt>
<a name="L332"></a><tt class="py-lineno">332</tt>  <tt class="py-line">            <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">start_time</tt> <tt class="py-op">=</tt> <tt class="py-name">time</tt><tt class="py-op">.</tt><tt class="py-name">time</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div><a name="L333"></a><tt class="py-lineno">333</tt>  <tt class="py-line"> </tt>
<a name="L334"></a><tt class="py-lineno">334</tt>  <tt class="py-line"> </tt>
<a name="Processor.processor_size"></a><div id="Processor.processor_size-def"><a name="L335"></a><tt class="py-lineno">335</tt> <a class="py-toggle" href="#" id="Processor.processor_size-toggle" onclick="return toggle('Processor.processor_size');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#processor_size">processor_size</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.processor_size-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.processor_size-expanded"><a name="L336"></a><tt class="py-lineno">336</tt>  <tt class="py-line">        <tt class="py-docstring">"""Get the number of slave processors - designed for overriding.</tt> </tt>
<a name="L337"></a><tt class="py-lineno">337</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L338"></a><tt class="py-lineno">338</tt>  <tt class="py-line"><tt class="py-docstring">        @return:    The number of slave processors.</tt> </tt>
<a name="L339"></a><tt class="py-lineno">339</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:     int</tt> </tt>
<a name="L340"></a><tt class="py-lineno">340</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L341"></a><tt class="py-lineno">341</tt>  <tt class="py-line"> </tt>
<a name="L342"></a><tt class="py-lineno">342</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">_processor_size</tt> </tt>
</div><a name="L343"></a><tt class="py-lineno">343</tt>  <tt class="py-line"> </tt>
<a name="L344"></a><tt class="py-lineno">344</tt>  <tt class="py-line"> </tt>
<a name="Processor.rank"></a><div id="Processor.rank-def"><a name="L345"></a><tt class="py-lineno">345</tt> <a class="py-toggle" href="#" id="Processor.rank-toggle" onclick="return toggle('Processor.rank');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#rank">rank</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.rank-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.rank-expanded"><a name="L346"></a><tt class="py-lineno">346</tt>  <tt class="py-line">        <tt class="py-docstring">"""Get the rank of this processor - an abstract method.</tt> </tt>
<a name="L347"></a><tt class="py-lineno">347</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L348"></a><tt class="py-lineno">348</tt>  <tt class="py-line"><tt class="py-docstring">        The rank of the processor should be a number between 0 and n where n is the number of slave</tt> </tt>
<a name="L349"></a><tt class="py-lineno">349</tt>  <tt class="py-line"><tt class="py-docstring">        processors, the rank of 0 is reserved for the master processor.</tt> </tt>
<a name="L350"></a><tt class="py-lineno">350</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L351"></a><tt class="py-lineno">351</tt>  <tt class="py-line"><tt class="py-docstring">        @return:    The rank of the processor.</tt> </tt>
<a name="L352"></a><tt class="py-lineno">352</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:     int</tt> </tt>
<a name="L353"></a><tt class="py-lineno">353</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L354"></a><tt class="py-lineno">354</tt>  <tt class="py-line"> </tt>
<a name="L355"></a><tt class="py-lineno">355</tt>  <tt class="py-line">        <tt id="link-41" class="py-name"><a title="multi.misc.raise_unimplemented" class="py-name" href="#" onclick="return doclink('link-41', 'raise_unimplemented', 'link-5');">raise_unimplemented</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-42" class="py-name"><a title="multi.mpi4py_processor.Mpi4py_processor.rank
multi.processor.Processor.rank
multi.uni_processor.Uni_processor.rank" class="py-name" href="#" onclick="return doclink('link-42', 'rank', 'link-24');">rank</a></tt><tt class="py-op">)</tt> </tt>
</div><a name="L356"></a><tt class="py-lineno">356</tt>  <tt class="py-line"> </tt>
<a name="L357"></a><tt class="py-lineno">357</tt>  <tt class="py-line"> </tt>
<a name="Processor.rank_format_string"></a><div id="Processor.rank_format_string-def"><a name="L358"></a><tt class="py-lineno">358</tt> <a class="py-toggle" href="#" id="Processor.rank_format_string-toggle" onclick="return toggle('Processor.rank_format_string');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#rank_format_string">rank_format_string</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.rank_format_string-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.rank_format_string-expanded"><a name="L359"></a><tt class="py-lineno">359</tt>  <tt class="py-line">        <tt class="py-docstring">"""Get a formatted string with the rank of a slave.</tt> </tt>
<a name="L360"></a><tt class="py-lineno">360</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L361"></a><tt class="py-lineno">361</tt>  <tt class="py-line"><tt class="py-docstring">        Only called on slaves.</tt> </tt>
<a name="L362"></a><tt class="py-lineno">362</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L363"></a><tt class="py-lineno">363</tt>  <tt class="py-line"><tt class="py-docstring">        @return:    The string designating the rank of the slave.</tt> </tt>
<a name="L364"></a><tt class="py-lineno">364</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:     str</tt> </tt>
<a name="L365"></a><tt class="py-lineno">365</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L366"></a><tt class="py-lineno">366</tt>  <tt class="py-line"> </tt>
<a name="L367"></a><tt class="py-lineno">367</tt>  <tt class="py-line">        <tt class="py-name">digits</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-43" class="py-name"><a title="multi.processor.Processor.rank_format_string_width" class="py-name" href="#" onclick="return doclink('link-43', 'rank_format_string_width', 'link-32');">rank_format_string_width</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L368"></a><tt class="py-lineno">368</tt>  <tt class="py-line">        <tt id="link-44" class="py-name" targets="Function relax_warnings.format()=relax_warnings-module.html#format"><a title="relax_warnings.format" class="py-name" href="#" onclick="return doclink('link-44', 'format', 'link-44');">format</a></tt> <tt class="py-op">=</tt> <tt class="py-string">'%%%di'</tt> <tt class="py-op">%</tt> <tt class="py-name">digits</tt> </tt>
<a name="L369"></a><tt class="py-lineno">369</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt id="link-45" class="py-name"><a title="relax_warnings.format" class="py-name" href="#" onclick="return doclink('link-45', 'format', 'link-44');">format</a></tt> </tt>
</div><a name="L370"></a><tt class="py-lineno">370</tt>  <tt class="py-line"> </tt>
<a name="L371"></a><tt class="py-lineno">371</tt>  <tt class="py-line"> </tt>
<a name="Processor.rank_format_string_width"></a><div id="Processor.rank_format_string_width-def"><a name="L372"></a><tt class="py-lineno">372</tt> <a class="py-toggle" href="#" id="Processor.rank_format_string_width-toggle" onclick="return toggle('Processor.rank_format_string_width');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#rank_format_string_width">rank_format_string_width</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.rank_format_string_width-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.rank_format_string_width-expanded"><a name="L373"></a><tt class="py-lineno">373</tt>  <tt class="py-line">        <tt class="py-docstring">"""Get the width of the string designating the rank of a slave process.</tt> </tt>
<a name="L374"></a><tt class="py-lineno">374</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L375"></a><tt class="py-lineno">375</tt>  <tt class="py-line"><tt class="py-docstring">        Typically this will be the number of digits in the slaves rank.</tt> </tt>
<a name="L376"></a><tt class="py-lineno">376</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L377"></a><tt class="py-lineno">377</tt>  <tt class="py-line"><tt class="py-docstring">        @return:    The number of digits in the biggest slave processor's rank.</tt> </tt>
<a name="L378"></a><tt class="py-lineno">378</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:     int</tt> </tt>
<a name="L379"></a><tt class="py-lineno">379</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L380"></a><tt class="py-lineno">380</tt>  <tt class="py-line"> </tt>
<a name="L381"></a><tt class="py-lineno">381</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt class="py-name">int</tt><tt class="py-op">(</tt><tt class="py-name">math</tt><tt class="py-op">.</tt><tt class="py-name">ceil</tt><tt class="py-op">(</tt><tt class="py-name">math</tt><tt class="py-op">.</tt><tt class="py-name">log10</tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-46" class="py-name"><a title="multi.processor.Processor.processor_size
multi.uni_processor.Uni_processor.processor_size" class="py-name" href="#" onclick="return doclink('link-46', 'processor_size', 'link-14');">processor_size</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
</div><a name="L382"></a><tt class="py-lineno">382</tt>  <tt class="py-line"> </tt>
<a name="L383"></a><tt class="py-lineno">383</tt>  <tt class="py-line"> </tt>
<a name="Processor.return_object"></a><div id="Processor.return_object-def"><a name="L384"></a><tt class="py-lineno">384</tt> <a class="py-toggle" href="#" id="Processor.return_object-toggle" onclick="return toggle('Processor.return_object');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#return_object">return_object</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">result</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.return_object-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.return_object-expanded"><a name="L385"></a><tt class="py-lineno">385</tt>  <tt class="py-line">        <tt class="py-docstring">"""Return a result to the master processor from a slave - an abstract method.</tt> </tt>
<a name="L386"></a><tt class="py-lineno">386</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L387"></a><tt class="py-lineno">387</tt>  <tt class="py-line"><tt class="py-docstring">        @param result:  A result to be returned to the master processor.</tt> </tt>
<a name="L388"></a><tt class="py-lineno">388</tt>  <tt class="py-line"><tt class="py-docstring">        @type result:   Result_string, Result_command or Exception instance</tt> </tt>
<a name="L389"></a><tt class="py-lineno">389</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L390"></a><tt class="py-lineno">390</tt>  <tt class="py-line"><tt class="py-docstring">        @see:   multi.processor.Result_string.</tt> </tt>
<a name="L391"></a><tt class="py-lineno">391</tt>  <tt class="py-line"><tt class="py-docstring">        @see:   multi.processor.Resulf_command.</tt> </tt>
<a name="L392"></a><tt class="py-lineno">392</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L393"></a><tt class="py-lineno">393</tt>  <tt class="py-line"> </tt>
<a name="L394"></a><tt class="py-lineno">394</tt>  <tt class="py-line">        <tt id="link-47" class="py-name"><a title="multi.misc.raise_unimplemented" class="py-name" href="#" onclick="return doclink('link-47', 'raise_unimplemented', 'link-5');">raise_unimplemented</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-48" class="py-name" targets="Method multi.multi_processor_base.Multi_processor.return_object()=multi.multi_processor_base.Multi_processor-class.html#return_object,Method multi.processor.Processor.return_object()=multi.processor.Processor-class.html#return_object,Method multi.uni_processor.Uni_processor.return_object()=multi.uni_processor.Uni_processor-class.html#return_object"><a title="multi.multi_processor_base.Multi_processor.return_object
multi.processor.Processor.return_object
multi.uni_processor.Uni_processor.return_object" class="py-name" href="#" onclick="return doclink('link-48', 'return_object', 'link-48');">return_object</a></tt><tt class="py-op">)</tt> </tt>
</div><a name="L395"></a><tt class="py-lineno">395</tt>  <tt class="py-line"> </tt>
<a name="L396"></a><tt class="py-lineno">396</tt>  <tt class="py-line"> </tt>
<a name="Processor.run"></a><div id="Processor.run-def"><a name="L397"></a><tt class="py-lineno">397</tt> <a class="py-toggle" href="#" id="Processor.run-toggle" onclick="return toggle('Processor.run');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#run">run</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.run-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.run-expanded"><a name="L398"></a><tt class="py-lineno">398</tt>  <tt class="py-line">        <tt class="py-docstring">"""Run the processor - an abstract method.</tt> </tt>
<a name="L399"></a><tt class="py-lineno">399</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L400"></a><tt class="py-lineno">400</tt>  <tt class="py-line"><tt class="py-docstring">        This function runs the processor main loop and is called after all processor setup has been</tt> </tt>
<a name="L401"></a><tt class="py-lineno">401</tt>  <tt class="py-line"><tt class="py-docstring">        completed. It does remote execution setup and teardown round either side of a call to</tt> </tt>
<a name="L402"></a><tt class="py-lineno">402</tt>  <tt class="py-line"><tt class="py-docstring">        Application_callback.init_master.</tt> </tt>
<a name="L403"></a><tt class="py-lineno">403</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L404"></a><tt class="py-lineno">404</tt>  <tt class="py-line"><tt class="py-docstring">        @see:   multi.processor.Application_callback.</tt> </tt>
<a name="L405"></a><tt class="py-lineno">405</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L406"></a><tt class="py-lineno">406</tt>  <tt class="py-line"> </tt>
<a name="L407"></a><tt class="py-lineno">407</tt>  <tt class="py-line">        <tt id="link-49" class="py-name"><a title="multi.misc.raise_unimplemented" class="py-name" href="#" onclick="return doclink('link-49', 'raise_unimplemented', 'link-5');">raise_unimplemented</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-50" class="py-name" targets="Method auto_analyses.noe.NOE_calc.run()=auto_analyses.noe.NOE_calc-class.html#run,Method auto_analyses.relax_fit.Relax_fit.run()=auto_analyses.relax_fit.Relax_fit-class.html#run,Method auto_analyses.stereochem_analysis.Stereochem_analysis.run()=auto_analyses.stereochem_analysis.Stereochem_analysis-class.html#run,Method gui.analyses.execute.Execute.run()=gui.analyses.execute.Execute-class.html#run,Method gui.analyses.wizard.Analysis_wizard.run()=gui.analyses.wizard.Analysis_wizard-class.html#run,Method gui.interpreter.Interpreter_thread.run()=gui.interpreter.Interpreter_thread-class.html#run,Method gui.user_functions.gpl.Gpl.run()=gui.user_functions.gpl.Gpl-class.html#run,Method gui.user_functions.script.Script.run()=gui.user_functions.script.Script-class.html#run,Method gui.wizard.Wiz_window.run()=gui.wizard.Wiz_window-class.html#run,Function minfx.line_search.test_functions.run()=minfx.line_search.test_functions-module.html#run,Method multi.api.Batched_result_command.run()=multi.api.Batched_result_command-class.html#run,Method multi.api.Result_command.run()=multi.api.Result_command-class.html#run,Method multi.api.Result_exception.run()=multi.api.Result_exception-class.html#run,Method multi.api.Slave_command.run()=multi.api.Slave_command-class.html#run,Method multi.commands.Exit_command.run()=multi.commands.Exit_command-class.html#run,Method multi.commands.Get_name_command.run()=multi.commands.Get_name_command-class.html#run,Method multi.commands.Set_processor_property_command.run()=multi.commands.Set_processor_property_command-class.html#run,Method multi.mpi4py_processor.Mpi4py_processor.run()=multi.mpi4py_processor.Mpi4py_processor-class.html#run,Method multi.multi_processor_base.Multi_processor.run()=multi.multi_processor_base.Multi_processor-class.html#run,Method multi.processor.Processor.run()=multi.processor.Processor-class.html#run,Method multi.uni_processor.Uni_processor.run()=multi.uni_processor.Uni_processor-class.html#run,Function opendx.main.run()=opendx.main-module.html#run,Method prompt.interpreter.Interpreter.run()=prompt.interpreter.Interpreter-class.html#run,Method relax.Relax.run()=relax.Relax-class.html#run,Method specific_fns.model_free.multi_processor_commands.MF_minimise_command.run()=specific_fns.model_free.multi_processor_commands.MF_minimise_command-class.html#run,Method specific_fns.model_free.multi_processor_commands.MF_result_command.run()=specific_fns.model_free.multi_processor_commands.MF_result_command-class.html#run,Method test_suite.gui_tests.GUI_test_runner.run()=test_suite.gui_tests.GUI_test_runner-class.html#run,Method test_suite.system_tests.System_test_runner.run()=test_suite.system_tests.System_test_runner-class.html#run,Method test_suite.unit_tests.unit_test_runner.Unit_test_runner.run()=test_suite.unit_tests.unit_test_runner.Unit_test_runner-class.html#run"><a title="auto_analyses.noe.NOE_calc.run
auto_analyses.relax_fit.Relax_fit.run
auto_analyses.stereochem_analysis.Stereochem_analysis.run
gui.analyses.execute.Execute.run
gui.analyses.wizard.Analysis_wizard.run
gui.interpreter.Interpreter_thread.run
gui.user_functions.gpl.Gpl.run
gui.user_functions.script.Script.run
gui.wizard.Wiz_window.run
minfx.line_search.test_functions.run
multi.api.Batched_result_command.run
multi.api.Result_command.run
multi.api.Result_exception.run
multi.api.Slave_command.run
multi.commands.Exit_command.run
multi.commands.Get_name_command.run
multi.commands.Set_processor_property_command.run
multi.mpi4py_processor.Mpi4py_processor.run
multi.multi_processor_base.Multi_processor.run
multi.processor.Processor.run
multi.uni_processor.Uni_processor.run
opendx.main.run
prompt.interpreter.Interpreter.run
relax.Relax.run
specific_fns.model_free.multi_processor_commands.MF_minimise_command.run
specific_fns.model_free.multi_processor_commands.MF_result_command.run
test_suite.gui_tests.GUI_test_runner.run
test_suite.system_tests.System_test_runner.run
test_suite.unit_tests.unit_test_runner.Unit_test_runner.run" class="py-name" href="#" onclick="return doclink('link-50', 'run', 'link-50');">run</a></tt><tt class="py-op">)</tt> </tt>
</div><a name="L408"></a><tt class="py-lineno">408</tt>  <tt class="py-line"> </tt>
<a name="L409"></a><tt class="py-lineno">409</tt>  <tt class="py-line"> </tt>
<a name="Processor.run_command_globally"></a><div id="Processor.run_command_globally-def"><a name="L410"></a><tt class="py-lineno">410</tt> <a class="py-toggle" href="#" id="Processor.run_command_globally-toggle" onclick="return toggle('Processor.run_command_globally');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#run_command_globally">run_command_globally</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">command</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.run_command_globally-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.run_command_globally-expanded"><a name="L411"></a><tt class="py-lineno">411</tt>  <tt class="py-line">        <tt class="py-docstring">"""Run the same command on all slave processors.</tt> </tt>
<a name="L412"></a><tt class="py-lineno">412</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L413"></a><tt class="py-lineno">413</tt>  <tt class="py-line"><tt class="py-docstring">        @see:   multi.processor.processor.Slave_command.</tt> </tt>
<a name="L414"></a><tt class="py-lineno">414</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L415"></a><tt class="py-lineno">415</tt>  <tt class="py-line"><tt class="py-docstring">        @param command: A slave command.</tt> </tt>
<a name="L416"></a><tt class="py-lineno">416</tt>  <tt class="py-line"><tt class="py-docstring">        @type command:  Slave_command instance</tt> </tt>
<a name="L417"></a><tt class="py-lineno">417</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L418"></a><tt class="py-lineno">418</tt>  <tt class="py-line"> </tt>
<a name="L419"></a><tt class="py-lineno">419</tt>  <tt class="py-line">        <tt id="link-51" class="py-name" targets="Method gui.interpreter.Interpreter.queue()=gui.interpreter.Interpreter-class.html#queue,Method gui.interpreter.Interpreter_thread.queue()=gui.interpreter.Interpreter_thread-class.html#queue"><a title="gui.interpreter.Interpreter.queue
gui.interpreter.Interpreter_thread.queue" class="py-name" href="#" onclick="return doclink('link-51', 'queue', 'link-51');">queue</a></tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt id="link-52" class="py-name" targets="Function generic_fns.molmol.command()=generic_fns.molmol-module.html#command,Function generic_fns.pymol_control.command()=generic_fns.pymol_control-module.html#command,Method gui.user_functions.molmol.Molmol.command()=gui.user_functions.molmol.Molmol-class.html#command,Method gui.user_functions.pymol.Pymol.command()=gui.user_functions.pymol.Pymol-class.html#command,Module prompt.command=prompt.command-module.html,Method prompt.molmol.Molmol.command()=prompt.molmol.Molmol-class.html#command,Method prompt.pymol_control.Pymol.command()=prompt.pymol_control.Pymol-class.html#command"><a title="generic_fns.molmol.command
generic_fns.pymol_control.command
gui.user_functions.molmol.Molmol.command
gui.user_functions.pymol.Pymol.command
prompt.command
prompt.molmol.Molmol.command
prompt.pymol_control.Pymol.command" class="py-name" href="#" onclick="return doclink('link-52', 'command', 'link-52');">command</a></tt> <tt class="py-keyword">for</tt> <tt id="link-53" class="py-name" targets="Variable prompt.eliminate.Eliminate.i=prompt.eliminate.Eliminate-class.html#i,Variable prompt.minimisation.Minimisation.i=prompt.minimisation.Minimisation-class.html#i"><a title="prompt.eliminate.Eliminate.i
prompt.minimisation.Minimisation.i" class="py-name" href="#" onclick="return doclink('link-53', 'i', 'link-53');">i</a></tt> <tt class="py-keyword">in</tt> <tt class="py-name">range</tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-54" class="py-name"><a title="multi.processor.Processor.processor_size
multi.uni_processor.Uni_processor.processor_size" class="py-name" href="#" onclick="return doclink('link-54', 'processor_size', 'link-14');">processor_size</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt><tt class="py-op">]</tt> </tt>
<a name="L420"></a><tt class="py-lineno">420</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-55" class="py-name" targets="Method multi.multi_processor_base.Multi_processor.run_command_queue()=multi.multi_processor_base.Multi_processor-class.html#run_command_queue"><a title="multi.multi_processor_base.Multi_processor.run_command_queue" class="py-name" href="#" onclick="return doclink('link-55', 'run_command_queue', 'link-55');">run_command_queue</a></tt><tt class="py-op">(</tt><tt id="link-56" class="py-name"><a title="gui.interpreter.Interpreter.queue
gui.interpreter.Interpreter_thread.queue" class="py-name" href="#" onclick="return doclink('link-56', 'queue', 'link-51');">queue</a></tt><tt class="py-op">)</tt> </tt>
</div><a name="L421"></a><tt class="py-lineno">421</tt>  <tt class="py-line"> </tt>
<a name="L422"></a><tt class="py-lineno">422</tt>  <tt class="py-line"> </tt>
<a name="Processor.run_queue"></a><div id="Processor.run_queue-def"><a name="L423"></a><tt class="py-lineno">423</tt> <a class="py-toggle" href="#" id="Processor.run_queue-toggle" onclick="return toggle('Processor.run_queue');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#run_queue">run_queue</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.run_queue-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.run_queue-expanded"><a name="L424"></a><tt class="py-lineno">424</tt>  <tt class="py-line">        <tt class="py-docstring">"""Run the processor queue - an abstract method.</tt> </tt>
<a name="L425"></a><tt class="py-lineno">425</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L426"></a><tt class="py-lineno">426</tt>  <tt class="py-line"><tt class="py-docstring">        All commands queued with add_to_queue will be executed, this function causes the current</tt> </tt>
<a name="L427"></a><tt class="py-lineno">427</tt>  <tt class="py-line"><tt class="py-docstring">        thread to block until the command has completed.</tt> </tt>
<a name="L428"></a><tt class="py-lineno">428</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L429"></a><tt class="py-lineno">429</tt>  <tt class="py-line"> </tt>
<a name="L430"></a><tt class="py-lineno">430</tt>  <tt class="py-line">        <tt id="link-57" class="py-name"><a title="multi.misc.raise_unimplemented" class="py-name" href="#" onclick="return doclink('link-57', 'raise_unimplemented', 'link-5');">raise_unimplemented</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-58" class="py-name" targets="Method multi.multi_processor_base.Multi_processor.run_queue()=multi.multi_processor_base.Multi_processor-class.html#run_queue,Method multi.processor.Processor.run_queue()=multi.processor.Processor-class.html#run_queue,Method multi.uni_processor.Uni_processor.run_queue()=multi.uni_processor.Uni_processor-class.html#run_queue"><a title="multi.multi_processor_base.Multi_processor.run_queue
multi.processor.Processor.run_queue
multi.uni_processor.Uni_processor.run_queue" class="py-name" href="#" onclick="return doclink('link-58', 'run_queue', 'link-58');">run_queue</a></tt><tt class="py-op">)</tt> </tt>
</div><a name="L431"></a><tt class="py-lineno">431</tt>  <tt class="py-line"> </tt>
<a name="L432"></a><tt class="py-lineno">432</tt>  <tt class="py-line"> </tt>
<a name="Processor.stdio_capture"></a><div id="Processor.stdio_capture-def"><a name="L433"></a><tt class="py-lineno">433</tt> <a class="py-toggle" href="#" id="Processor.stdio_capture-toggle" onclick="return toggle('Processor.stdio_capture');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#stdio_capture">stdio_capture</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.stdio_capture-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.stdio_capture-expanded"><a name="L434"></a><tt class="py-lineno">434</tt>  <tt class="py-line">        <tt class="py-docstring">"""Enable capture of the STDOUT and STDERR.</tt> </tt>
<a name="L435"></a><tt class="py-lineno">435</tt>  <tt class="py-line"><tt class="py-docstring">        </tt> </tt>
<a name="L436"></a><tt class="py-lineno">436</tt>  <tt class="py-line"><tt class="py-docstring">        This is currently used to capture the IO streams of the slaves to return back to the master.</tt> </tt>
<a name="L437"></a><tt class="py-lineno">437</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L438"></a><tt class="py-lineno">438</tt>  <tt class="py-line"> </tt>
<a name="L439"></a><tt class="py-lineno">439</tt>  <tt class="py-line">        <tt class="py-comment"># Store the original STDOUT and STDERR for restoring later on.</tt> </tt>
<a name="L440"></a><tt class="py-lineno">440</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">orig_stdout</tt> <tt class="py-op">=</tt> <tt class="py-name">sys</tt><tt class="py-op">.</tt><tt class="py-name">stdout</tt> </tt>
<a name="L441"></a><tt class="py-lineno">441</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">orig_stderr</tt> <tt class="py-op">=</tt> <tt class="py-name">sys</tt><tt class="py-op">.</tt><tt class="py-name">stderr</tt> </tt>
<a name="L442"></a><tt class="py-lineno">442</tt>  <tt class="py-line"> </tt>
<a name="L443"></a><tt class="py-lineno">443</tt>  <tt class="py-line">        <tt class="py-comment"># The data object.</tt> </tt>
<a name="L444"></a><tt class="py-lineno">444</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">io_data</tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-op">]</tt> </tt>
<a name="L445"></a><tt class="py-lineno">445</tt>  <tt class="py-line"> </tt>
<a name="L446"></a><tt class="py-lineno">446</tt>  <tt class="py-line">        <tt class="py-comment"># Get the strings to prepend to the IO streams.</tt> </tt>
<a name="L447"></a><tt class="py-lineno">447</tt>  <tt class="py-line">        <tt class="py-name">pre_strings</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-59" class="py-name" targets="Method multi.processor.Processor.get_stdio_pre_strings()=multi.processor.Processor-class.html#get_stdio_pre_strings"><a title="multi.processor.Processor.get_stdio_pre_strings" class="py-name" href="#" onclick="return doclink('link-59', 'get_stdio_pre_strings', 'link-59');">get_stdio_pre_strings</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L448"></a><tt class="py-lineno">448</tt>  <tt class="py-line"> </tt>
<a name="L449"></a><tt class="py-lineno">449</tt>  <tt class="py-line">        <tt class="py-comment"># Then redirect IO.</tt> </tt>
<a name="L450"></a><tt class="py-lineno">450</tt>  <tt class="py-line">        <tt class="py-name">sys</tt><tt class="py-op">.</tt><tt class="py-name">stdout</tt> <tt class="py-op">=</tt> <tt id="link-60" class="py-name"><a title="gui.controller.Redirect_text
multi.processor_io.Redirect_text" class="py-name" href="#" onclick="return doclink('link-60', 'Redirect_text', 'link-11');">Redirect_text</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">io_data</tt><tt class="py-op">,</tt> <tt class="py-name">token</tt><tt class="py-op">=</tt><tt class="py-name">pre_strings</tt><tt class="py-op">[</tt><tt class="py-number">0</tt><tt class="py-op">]</tt><tt class="py-op">,</tt> <tt class="py-name">stream</tt><tt class="py-op">=</tt><tt class="py-number">0</tt><tt class="py-op">)</tt> </tt>
<a name="L451"></a><tt class="py-lineno">451</tt>  <tt class="py-line">        <tt class="py-name">sys</tt><tt class="py-op">.</tt><tt class="py-name">stderr</tt> <tt class="py-op">=</tt> <tt id="link-61" class="py-name"><a title="gui.controller.Redirect_text
multi.processor_io.Redirect_text" class="py-name" href="#" onclick="return doclink('link-61', 'Redirect_text', 'link-11');">Redirect_text</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">io_data</tt><tt class="py-op">,</tt> <tt class="py-name">token</tt><tt class="py-op">=</tt><tt class="py-name">pre_strings</tt><tt class="py-op">[</tt><tt class="py-number">1</tt><tt class="py-op">]</tt><tt class="py-op">,</tt> <tt class="py-name">stream</tt><tt class="py-op">=</tt><tt class="py-number">1</tt><tt class="py-op">)</tt> </tt>
</div><a name="L452"></a><tt class="py-lineno">452</tt>  <tt class="py-line"> </tt>
<a name="L453"></a><tt class="py-lineno">453</tt>  <tt class="py-line"> </tt>
<a name="Processor.stdio_restore"></a><div id="Processor.stdio_restore-def"><a name="L454"></a><tt class="py-lineno">454</tt> <a class="py-toggle" href="#" id="Processor.stdio_restore-toggle" onclick="return toggle('Processor.stdio_restore');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#stdio_restore">stdio_restore</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.stdio_restore-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.stdio_restore-expanded"><a name="L455"></a><tt class="py-lineno">455</tt>  <tt class="py-line">        <tt class="py-docstring">"""Restore the original STDOUT and STDERR streams."""</tt> </tt>
<a name="L456"></a><tt class="py-lineno">456</tt>  <tt class="py-line"> </tt>
<a name="L457"></a><tt class="py-lineno">457</tt>  <tt class="py-line">        <tt class="py-comment"># Restore the original streams.</tt> </tt>
<a name="L458"></a><tt class="py-lineno">458</tt>  <tt class="py-line">        <tt class="py-name">sys</tt><tt class="py-op">.</tt><tt class="py-name">stdout</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">orig_stdout</tt> </tt>
<a name="L459"></a><tt class="py-lineno">459</tt>  <tt class="py-line">        <tt class="py-name">sys</tt><tt class="py-op">.</tt><tt class="py-name">stderr</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">orig_stderr</tt> </tt>
</div></div><a name="L460"></a><tt class="py-lineno">460</tt>  <tt class="py-line"> </tt><script type="text/javascript">
<!--
expandto(location.href);
// -->
</script>
</pre>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://www.nmr-relax.com">relax</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Fri Mar 16 15:33:29 2012
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
