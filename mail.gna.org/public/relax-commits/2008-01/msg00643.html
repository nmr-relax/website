<!-- MHonArc v2.6.16 -->
<!--X-Subject: r4884 &#45;	/branches/N_state_model/test_suite/system_tests/scripts/5_state_xz.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Tue, 22 Jan 2008 17:13:18 +0100 -->
<!--X-Message-Id: E1JHLkT&#45;0003eL&#45;RW@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r4884 -	/branches/N_state_model/test_suite/system_tests/scripts/5_state_xz.py -- January 22, 2008 - 17:13</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r4884 -	/branches/N_state_model/test_suite/system_tests/scripts/5_state_xz.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00643" class="tabs">Index by Date</a> | <a href="threads.html#00643" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00642.html">Date Prev</a>] [<a href="msg00644.html">Date Next</a>] [<a href="msg00642.html">Thread Prev</a>] [<a href="msg00644.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Tue, 22 Jan 2008 16:13:17 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00643.html">E1JHLkT-0003eL-RW@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on January 22, 2008 - 17:13:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Tue Jan 22 17:13:17 2008
New Revision: 4884

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=4884&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=4884&amp;view=rev</a>
Log:
Bug fix for the 5-state xz-plane system test.

The reduced tensors were incorrect.  They were the tensors for the first 
state, not the averaged
tensors!  They have been replaced by the correct ones and the number of 
states set to 5.


Modified:
    branches/N_state_model/test_suite/system_tests/scripts/5_state_xz.py

Modified: branches/N_state_model/test_suite/system_tests/scripts/5_state_xz.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/N_state_model/test_suite/system_tests/scripts/5_state_xz.py?rev=4884&amp;r1=4883&amp;r2=4884&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/N_state_model/test_suite/system_tests/scripts/5_state_xz.py?rev=4884&amp;r1=4883&amp;r2=4884&amp;view=diff</a>
==============================================================================
--- branches/N_state_model/test_suite/system_tests/scripts/5_state_xz.py 
(original)
+++ branches/N_state_model/test_suite/system_tests/scripts/5_state_xz.py Tue 
Jan 22 17:13:17 2008
@@ -9,7 +9,7 @@
 &quot;&quot;&quot;
 
 # Python module imports.
-from math import sqrt
+from math import cos, pi, sqrt
 
 
 # Create the data pipe.
@@ -47,11 +47,11 @@
 
 
 # Load the N-terminal alignment tensors.
-align_tensor.init(tensor='chi1 N-dom', params=(1/4.,   -1/2.,   0.,          
    3/4.,   0.))
-align_tensor.init(tensor='chi2 N-dom', params=(7/16.,  -7/8.,   0.,          
    9/16.,  0.))
-align_tensor.init(tensor='chi3 N-dom', params=(-1/32.,  1/16., 
-15/(16*sqrt(2)), 3/32., -15/(16*sqrt(2))))
-align_tensor.init(tensor='chi4 N-dom', params=(1.,     -7/8.,   0.,          
    0.,     0.))
-align_tensor.init(tensor='chi5 N-dom', params=(1/4.,   -1/2.,   
3/(8*sqrt(2)),   3/4.,  -3/(8*sqrt(2))))
+align_tensor.init(tensor='chi1 N-dom', params=(1/20.*(2-3*sqrt(2)),   -1/2., 
  0.,              0.,   0.))
+align_tensor.init(tensor='chi2 N-dom', params=(1/80.*(26-9*sqrt(2)),  -7/8., 
  0.,              0.,  0.))
+align_tensor.init(tensor='chi3 N-dom', params=(-1/160.*(8+3*sqrt(2)),  
1/16.,  0.,    0., -3/16*(1+sqrt(2)+2*cos(pi/8.))))
+align_tensor.init(tensor='chi4 N-dom', params=(7/16.,                 -7/8., 
  0.,    9/80.*(1+sqrt(2)),     0.))
+align_tensor.init(tensor='chi5 N-dom', params=(1/20.*(2-3*sqrt(2)),   -1/2., 
  3/40.*(1+sqrt(2)+2*cos(pi/8.)),   0., 0.))
 
 # Set the domain the tensors correspond to.
 n_state_model.set_domain(tensor='chi1 N-dom', domain='N')
@@ -76,13 +76,13 @@
 align_tensor.matrix_angles(basis_set=1, tensors=['chi1 N-dom', 'chi2 N-dom', 
'chi3 N-dom', 'chi4 N-dom', 'chi5 N-dom'])
 
 # Set up the 5-state model.
-n_state_model.model(N=3)
+n_state_model.model(N=5)
 
 # Set the initial parameter values to the defaults (the grid search is too 
expensive).
-value.set()
+#value.set()
 
 # Minimise.
-minimise('simplex', constraints=False, max_iter=200)
+minimise('simplex', constraints=False)
 
 raise RelaxError, &quot;It worked!!!&quot;
 # Finish.



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Jan 25 12:40:08 2008</div>  
</body>
</html>
