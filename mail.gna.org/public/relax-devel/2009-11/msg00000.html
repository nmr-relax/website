<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [task #6438] To relax the BMRB. -->
<!--X-From-R13: Syqba Gyevpu <ryhNozeo.jvfp.rqh> -->
<!--X-Date: Tue, 03 Nov 2009 05:52:31 +0100 -->
<!--X-Message-Id: 4AEFB7A9.3010206@bmrb.wisc.edu -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20090116&#45;210329.sv2782.83772@gna.org -->
<!--X-Reference: 20090119&#45;181515.sv2782.87600@gna.org -->
<!--X-Reference: 20090310&#45;142747.sv2782.77941@gna.org -->
<!--X-Reference: 20091027&#45;231111.sv2782.85712@gna.org -->
<!--X-Reference: 20091027&#45;232302.sv2782.58246@gna.org -->
<!--X-Reference: 20091028&#45;154110.sv2782.36787@gna.org -->
<!--X-Reference: 4AE86868.30800@bmrb.wisc.edu -->
<!--X-Reference: 7f080ed10910280944t77268bedk32785fbf54281e7d@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [task #6438] To relax the BMRB. -- November 03, 2009 - 05:52</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: [task #6438] To relax the BMRB.</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00000" class="tabs">Index by Date</a> | <a href="threads.html#00000" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[Date Prev] [<a href="msg00001.html">Date Next</a>] [Thread Prev] [<a href="msg00001.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Mon, 02 Nov 2009 22:55:05 -0600</li>
<li class="menuitem">
<em>Cc</em>: Edward d Auvergne &lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt;, relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00000.html">4AEFB7A9.3010206@bmrb.wisc.edu</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;20090116-210329.sv2782.83772@xxxxxxx&gt;	&lt;20090119-181515.sv2782.87600@xxxxxxx&gt;	&lt;20090310-142747.sv2782.77941@xxxxxxx&gt;	&lt;20091027-231111.sv2782.85712@xxxxxxx&gt;	&lt;20091027-232302.sv2782.58246@xxxxxxx&gt;	&lt;20091028-154110.sv2782.36787@xxxxxxx&gt; &lt;4AE86868.30800@xxxxxxxxxxxxx&gt;	&lt;7f080ed10910280944t77268bedk32785fbf54281e7d@xxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Thunderbird 2.0.0.23 (Macintosh/20090812)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Eldon Ulrich</strong> on November 03, 2009 - 05:52:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hi,

Below are a few answers to your items.

Cheers,
Eldon

Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">
Ah, ok.  That's what is happening.  So a good aim for relax would be
to get it into a form where the annotator needs only to check the
data.  Another aim would be so that the submitter does as little as
possible as well.

For testing deposition against the new dictionary, is there a
non-production machine that could be used?  If I can submit and check
against your changes, this should speed up development.  I have made a
few improvements since the file at
<a  rel="nofollow" href="https://gna.org/support/download.php?file_id=7140">https://gna.org/support/download.php?file_id=7140</a>, and using the new
file, a few of the issues identified by ADIT-NMR include (I'll number
these for future reference):
</pre></blockquote><pre style="margin: 0em;">

</pre><tt>ADIT-NMR is a relatively complex (several components and lots of legacy 
</tt><tt>code) system. Updating an instance of the system with a new dictionary 
</tt><tt>requires a bit of work that is carried out by Steve Mading in the group. 
</tt><tt>Other parts of the system also are under development to handle mandatory 
</tt><tt>chemical shift deposition with PDB depositions. Unfortunately, this all 
</tt><tt>makes it difficult to create a unique test system for this project that 
</tt><tt>I could keep up to date with changes.
</tt><blockquote class="blockquote"><pre style="margin: 0em;">

1.  The author info is missing - this can probably be added by the
submitter afterwards.

</pre></blockquote><pre style="margin: 0em;">
That would be the normal procedure.

</pre><blockquote class="blockquote"><pre style="margin: 0em;">
2.  The entity entry is not complete - relax needs to add a few
additional tags for this.

</pre></blockquote><pre style="margin: 0em;">
OK

</pre><blockquote class="blockquote"><pre style="margin: 0em;">
3.  In the Molecular assembly saveframe supergroup 3, three saveframes
appear to be required - Molecular assembly, Natural source, and
Experimental source.  Should relax create these?

</pre></blockquote><tt>Natural source and experimental source would normally be filled in by 
</tt><tt>the depositor. For simple single polymer systems, the molecular assembly 
</tt><tt>might be filled in by relax. But if the system is more complex (ligands, 
</tt><tt>multiple polymer, etc.), it might be easier to have the depositor enter 
</tt><tt>the information.
</tt><pre style="margin: 0em;">

</pre><blockquote class="blockquote"><pre style="margin: 0em;">
4.  For the Experimental_descriptions saveframe supergroup, only the
software saveframe is being created by relax.  I have used $sample_1
and $conditions_1 in the other saveframes so these exist but are
empty.  Should relax do more with this?

</pre></blockquote><tt>This should be all you need to do. Sample and conditions information is 
</tt><tt>usually hidden in a lab book and the depositor has to dig it out and 
</tt><tt>enter it at the time of deposition.
</tt><pre style="margin: 0em;">

</pre><blockquote class="blockquote"><pre style="margin: 0em;">
5.  _Software.Version is only allowed to be 31 characters.  For
non-released software (a number of users utilise the repository code
rather than released versions) I would like to have something like
&quot;repository checkout r9832
svn+ssh://bugman@xxxxxxxxxxx/svn/relax/branches/bmrb&quot;.  Can this be
extended into VARCHAR(127)?

</pre></blockquote><pre style="margin: 0em;">
This has been changed to VARCHAR(127).

</pre><blockquote class="blockquote"><pre style="margin: 0em;">
6.  The citations section of the software saveframe appears to be
missing.  Is this not metadata?

</pre></blockquote><tt>I will need to do more investigating on this one. I do not know of 
</tt><tt>anyone who has provided this information and there is probably a flag 
</tt><tt>set somewhere that is causing the problem.
</tt><pre style="margin: 0em;">

</pre><blockquote class="blockquote"><pre style="margin: 0em;">
7.  The chemical shift anisotropy saveframe requires the deposited
data file name.  I've tried supplying '?', but nothing I do appears
remove this issue from the user.  Is there some way I can specify that
it all comes from the same file?

</pre></blockquote><tt>I uploaded your temp_bmrb file and then entered it as the deposited data 
</tt><tt>file name in both the CSA and the Het NOE fields and this was accepted 
</tt><tt>and the green check marks appeared.
</tt><pre style="margin: 0em;">

</pre><blockquote class="blockquote"><pre style="margin: 0em;">
8.  The chemical shift anisotropy saveframe is asking for the NMR
experiment used.  You usually set this to -160 or -172 ppm in
model-free analyses.  Can this be made non-compulsory or at least put
a tick in the ADIT-NMR system for it.

</pre></blockquote><tt>Data had to be collected from an experiment run on an NMR spectrometer. 
</tt><tt>One or more NMR experiments like a '1H-15N het NOE' experiment needs to 
</tt><tt>be entered by the depositor and linked to the sample, sample conditions, 
</tt><tt>and NMR spectrometer used. This is filled in in the 'NMR experiments and 
</tt><tt>samples' section after the Sample, Sample conditions, and NMR 
</tt><tt>spectrometer list have been completed. The deposition system is asking 
</tt><tt>for the name of an NMR experiment not for parameters.
</tt><pre style="margin: 0em;">

</pre><blockquote class="blockquote"><pre style="margin: 0em;">
9.  Save as 6. for the heteronuclear NOE saveframes.

</pre></blockquote><pre style="margin: 0em;">
Not sure about this one.

</pre><blockquote class="blockquote"><pre style="margin: 0em;">
10.  _Heteronucl_NOE_list.Heteronuclear_NOE_val_type appears to be
compulsory in ADIT-NMR but not in the dictionary at
<a  rel="nofollow" href="http://www.bmrb.wisc.edu/dictionary/3.1html_frame/frame_HeteronuclNOEList.html#_Heteronucl_NOE_list.Heteronuclear_NOE_val_type">http://www.bmrb.wisc.edu/dictionary/3.1html_frame/frame_HeteronuclNOEList.html#_Heteronucl_NOE_list.Heteronuclear_NOE_val_type</a>.

</pre></blockquote><tt>This information is not available from legacy data and so in the 
</tt><tt>dictionary the field is allowed to have a null value, however it was 
</tt><tt>felt that the NOE val type should be a mandatory item in the deposition 
</tt><tt>system so that this information would be collected for all future 
</tt><tt>depositions.
</tt><pre style="margin: 0em;">

</pre><blockquote class="blockquote"><pre style="margin: 0em;">
11.  I'm not sure what _Heteronucl_NOE_list.NOE_ref_val is or why it
is compulsory.

</pre></blockquote><tt>It is no longer compulsory. I think it was intended as an intensity 
</tt><tt>value that is used to normalize the data or as a reference to compare 
</tt><tt>with other values in the spectrum.
</tt><pre style="margin: 0em;">

</pre><blockquote class="blockquote"><pre style="margin: 0em;">
12.  relax should produce the _Heteronucl_NOE_experiment tags.

</pre></blockquote><pre style="margin: 0em;">
OK
</pre><blockquote class="blockquote"><pre style="margin: 0em;">
Sorry about the length of this, though I think that covers almost
everything except for the missing information that requires new
saveframes.

</pre></blockquote><tt>No problem. I hope the answers help. It may be a little while before the 
</tt><tt>dictionary changes are incorporated into the production system.
</tt><pre style="margin: 0em;">

</pre><blockquote class="blockquote"><pre style="margin: 0em;">
Cheers,

Edward





2009/10/28 Eldon Ulrich &lt;elu@xxxxxxxxxxxxx&gt;:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">
Hi,

Now I understand the issue. The fact that you can upload your file and do
not receive a parse error is a very good sign. The file generated by
ADIT-NMR as a preview only contains the meta data and has never contained
the experimental data. The experimental data is deposited in many different
formats and is often difficult to parse. The uploaded experimental data is
processed by annotators and concatenated to the meta data before being sent
back to the depositor for review and release to the public.


Eldon

Edward d Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">
Follow-up Comment #5, task #6438 (project relax):

This file is the result of taking file #5194, submitting it to the
ADIT-NMR
system, and then asking to see the preview.  It demonstrates the loss of
certain data types - i.e. relaxation data and chemical shifts.

(file #7157)
   _______________________________________________________

Additional Item Attachment:

File name: adit-nmr_bmr15437_3.str        Size:47 KB


   _______________________________________________________

Reply to this item at:

 &lt;<a  rel="nofollow" href="http://gna.org/task/?6438">http://gna.org/task/?6438</a>&gt;

_______________________________________________
 Message sent via/by Gna!
 <a  rel="nofollow" href="http://gna.org/">http://gna.org/</a>

</pre></blockquote></blockquote></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00001" href="msg00001.html">Re: [task #6438] To relax the BMRB.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Nov 17 14:00:17 2009</div>  
</body>
</html>
