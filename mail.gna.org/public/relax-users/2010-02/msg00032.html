<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: relax on Mac with fink -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Fri, 26 Feb 2010 16:46:36 +0100 -->
<!--X-Message-Id: 7f080ed11002260745v25a5e031hec2aa0eb5a5482a0@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 4B82CA16.3010509@ulaval.ca -->
<!--X-Reference: 20100224143027.GA16692@bromo.med.uc.edu -->
<!--X-Reference: 7f080ed11002240714k6fd96e04t9d9d575453b4d9ad@mail.gmail.com -->
<!--X-Reference: 20100225004019.GA20386@bromo.med.uc.edu -->
<!--X-Reference: 7f080ed11002242329g2d1e98abrb7b636f0980ce50f@mail.gmail.com -->
<!--X-Reference: 20100225144316.GA24718@bromo.med.uc.edu -->
<!--X-Reference: 7f080ed11002250746t76c44e46t964a3ed1eccedba1@mail.gmail.com -->
<!--X-Reference: 20100225212011.GA26630@bromo.med.uc.edu -->
<!--X-Reference: 7f080ed11002260054q5e2b27b0p1d027c771bc44af3@mail.gmail.com -->
<!--X-Reference: 20100226141856.GA511@bromo.med.uc.edu -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: relax on Mac with fink -- February 26, 2010 - 16:46</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: relax on Mac with fink</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00032" class="tabs">Index by Date</a> | <a href="threads.html#00032" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00031.html">Date Prev</a>] [Date Next] [<a href="msg00031.html">Thread Prev</a>] [<a href="msg00029.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Jack Howarth &lt;howarth@xxxxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Fri, 26 Feb 2010 16:45:38 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00032.html">7f080ed11002260745v25a5e031hec2aa0eb5a5482a0@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;4B82CA16.3010509@xxxxxxxxx&gt;	&lt;20100224143027.GA16692@xxxxxxxxxxxxxxxx&gt;	&lt;7f080ed11002240714k6fd96e04t9d9d575453b4d9ad@xxxxxxxxxxxxxx&gt;	&lt;20100225004019.GA20386@xxxxxxxxxxxxxxxx&gt;	&lt;7f080ed11002242329g2d1e98abrb7b636f0980ce50f@xxxxxxxxxxxxxx&gt;	&lt;20100225144316.GA24718@xxxxxxxxxxxxxxxx&gt;	&lt;7f080ed11002250746t76c44e46t964a3ed1eccedba1@xxxxxxxxxxxxxx&gt;	&lt;20100225212011.GA26630@xxxxxxxxxxxxxxxx&gt;	&lt;7f080ed11002260054q5e2b27b0p1d027c771bc44af3@xxxxxxxxxxxxxx&gt;	&lt;20100226141856.GA511@xxxxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on February 26, 2010 - 16:46:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Thanks for that information.  I have seen similar python specific
problems (v2.6 vs. v2.5) with 64-bit x86_64 architectures with Linux
and Windows, so I am interested in incorporating all of these changes
and using this for myself to release python specific relax versions
for Linux and Windows.  I've now made a change to the sconstruct
script which removes the need for this patch.  See
<a  rel="nofollow" href="https://mail.gna.org/public/relax-commits/2010-02/msg00344.html">https://mail.gna.org/public/relax-commits/2010-02/msg00344.html</a> and
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/1.3/sconstruct?rev=10948&amp;view=diff&amp;r1=10948&amp;r2=10947&amp;p1=1.3/sconstruct&amp;p2=/1.3/sconstruct">http://svn.gna.org/viewcvs/relax/1.3/sconstruct?rev=10948&amp;view=diff&amp;r1=10948&amp;r2=10947&amp;p1=1.3/sconstruct&amp;p2=/1.3/sconstruct</a>.
 The version specific python binary now is given by py_bin_fullpath
and can be used on other systems.

Cheers,

Edward


On 26 February 2010 15:18, Jack Howarth &lt;howarth@xxxxxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Edward,
  I forgot that to mention that I also needed to use this patch as well..

--- relax-1.3.5/sconstruct      2010-02-25 08:58:20.000000000 -0500
+++ relax-1.3.5.patched/sconstruct      2010-02-26 09:09:52.000000000 -0500
@@ -500,7 +500,7 @@

        # Catch Mac OS X and send the correct command line options to the 
linker (these may become redundant as SCons improves).
        if env['PLATFORM'] == 'darwin':
-            env.Append(LINKFLAGS = ['-bundle', '-bundle_loader', 
sys.prefix + path.sep + 'bin' + path.sep + 'python', '-dynamic', 
'-undefined', 'dynamic_lookup'])
+            env.Append(LINKFLAGS = ['-bundle', '-bundle_loader', 
sys.prefix + path.sep + 'bin' + path.sep + 'python2.X', '-dynamic', 
'-undefined', 'dynamic_lookup'])
            env['SHLINKFLAGS'] = SCons.Util.CLVar('$LINKFLAGS')

        # Shared library prefix and suffix.

...to make sure the correct fink python is linked against. FYI, in fink we 
currently support
python 2.5 and 2.6. The convention is for programs to directly access these 
by their
versioned names (although a python package is provided for whatever is 
considered the
current 'default' for fink to handle those programs to broken too use a 
versioned python).
  As for building with scons using a particular python, I execute scons 
with the
command...

%p/bin/python%type_raw[python] %p/bin/scons

in relax-py.info. I really wouldn't worry about these remaining fink
patches as they are trivial to apply in relax-py.patch during the fink
build of relax-py.
          Jack

On Fri, Feb 26, 2010 at 09:54:19AM +0100, Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">This is awesome news!  Now the test suite is passing 100% on all major
platforms (it should also pass for solaris, the BSDs, etc., anywhere
Python and the python modules are installed).  As for python specific
change,

diff -uNr relax-1.3.5/relax relax-1.3.5.patched/relax
--- relax-1.3.5/relax 2010-02-25 08:58:20.000000000 -0500
+++ relax-1.3.5.patched/relax 2010-02-25 09:01:26.000000000 -0500
@@ -1,4 +1,4 @@
-#! /usr/bin/env python
+#! /usr/bin/env python2.X

 ###############################################################################
 #                                                                         
    #

I'm guessing you have python2.6 in the final version?  I like these
ideas for the released code as the C modules are often specific to the
exact Python version there were compiled against.  I've been thinking
for a while about providing v2.5 and v2.6 compiled relax versions (for
GNU/Linux and MS Windows).  But how did you get scons to target a
specific Python version?

Cheers,

Edward

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00012" href="msg00012.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Sébastien Morin</li></ul></li>
<li><strong><a name="00018" href="msg00018.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Jack Howarth</li></ul></li>
<li><strong><a name="00017" href="msg00017.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00019" href="msg00019.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Jack Howarth</li></ul></li>
<li><strong><a name="00021" href="msg00021.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00027" href="msg00027.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Jack Howarth</li></ul></li>
<li><strong><a name="00025" href="msg00025.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00028" href="msg00028.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Jack Howarth</li></ul></li>
<li><strong><a name="00030" href="msg00030.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00031" href="msg00031.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Jack Howarth</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Feb 26 17:00:14 2010</div>  
</body>
</html>
