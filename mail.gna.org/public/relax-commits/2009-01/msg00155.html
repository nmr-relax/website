<!-- MHonArc v2.6.16 -->
<!--X-Subject: r8380 &#45; /branches/bmrb/pystarlib/ -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Sun, 11 Jan 2009 15:46:04 +0100 -->
<!--X-Message-Id: E1LM1Zk&#45;000241&#45;54@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r8380 - /branches/bmrb/pystarlib/ -- January 11, 2009 - 15:46</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r8380 - /branches/bmrb/pystarlib/</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00155" class="tabs">Index by Date</a> | <a href="threads.html#00155" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00154.html">Date Prev</a>] [<a href="msg00156.html">Date Next</a>] [<a href="msg00154.html">Thread Prev</a>] [<a href="msg00156.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Sun, 11 Jan 2009 14:46:04 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00155.html">E1LM1Zk-000241-54@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on January 11, 2009 - 15:46:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Sun Jan 11 15:46:03 2009
New Revision: 8380

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=8380&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=8380&amp;view=rev</a>
Log:
Import fixes for pystarlib, as they were all screwed up.

This allows the unit test framework to function and allows importing of the 
code into relax.


Modified:
    branches/bmrb/pystarlib/File.py
    branches/bmrb/pystarlib/FileTest.py
    branches/bmrb/pystarlib/SaveFrame.py
    branches/bmrb/pystarlib/SaveFrameTest.py
    branches/bmrb/pystarlib/TagTable.py
    branches/bmrb/pystarlib/TagTableTest.py
    branches/bmrb/pystarlib/Text.py
    branches/bmrb/pystarlib/TextTest.py
    branches/bmrb/pystarlib/testAll.py

Modified: branches/bmrb/pystarlib/File.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/bmrb/pystarlib/File.py?rev=8380&amp;r1=8379&amp;r2=8380&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/bmrb/pystarlib/File.py?rev=8380&amp;r1=8379&amp;r2=8380&amp;view=diff</a>
==============================================================================
--- branches/bmrb/pystarlib/File.py (original)
+++ branches/bmrb/pystarlib/File.py Sun Jan 11 15:46:03 2009
@@ -1,20 +1,20 @@
 &quot;&quot;&quot;
 Classes for dealing with STAR syntax
 &quot;&quot;&quot;
-from STAR import Utils
-from STAR.Utils import Lister
-from STAR.TagTable import TagTable
-from STAR.Text import comments_strip
-from STAR.Text import semicolon_block_collapse
-from STAR.Text import nmrView_compress
-from STAR.Text import pattern_save_begin
-from STAR.Text import pattern_save_end
-from STAR.Text import pattern_tagtable_loop
-from STAR.Text import pattern_save_begin_nws
-from STAR.Text import pattern_save_end_nws
-from STAR.Text import pattern_tag_name_nws
-from STAR.Text import pattern_tagtable_loop_nws
-from STAR.SaveFrame import SaveFrame
+import Utils
+from Utils import Lister
+from TagTable import TagTable
+from Text import comments_strip
+from Text import semicolon_block_collapse
+from Text import nmrView_compress
+from Text import pattern_save_begin
+from Text import pattern_save_end
+from Text import pattern_tagtable_loop
+from Text import pattern_save_begin_nws
+from Text import pattern_save_end_nws
+from Text import pattern_tag_name_nws
+from Text import pattern_tagtable_loop_nws
+from SaveFrame import SaveFrame
 import os
 import re
 #import profile

Modified: branches/bmrb/pystarlib/FileTest.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/bmrb/pystarlib/FileTest.py?rev=8380&amp;r1=8379&amp;r2=8380&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/bmrb/pystarlib/FileTest.py?rev=8380&amp;r1=8379&amp;r2=8380&amp;view=diff</a>
==============================================================================
--- branches/bmrb/pystarlib/FileTest.py (original)
+++ branches/bmrb/pystarlib/FileTest.py Sun Jan 11 15:46:03 2009
@@ -1,8 +1,8 @@
 &quot;&quot;&quot;Unit test
 &quot;&quot;&quot;
-from STAR.File import File
-from STAR import Utils
-import STAR
+from File import File
+import Utils
+import __init__
 
 import os   
 import zipfile
@@ -68,7 +68,7 @@
 def testEntry(entry):
     print &quot;Testing Entry&quot;
     strf = File() 
-    STAR.verbosity = 2
+    __init__.verbosity = 2
     # Freely available on the web so not included in package.
     stage = &quot;2-parsed&quot;
 #    stage = &quot;3-converted-DOCR&quot;
@@ -177,4 +177,4 @@
     testAllEntries()
 #    testSingleFile(&quot;S:\\jurgen\\2hgh_small_new_google.str&quot;)
 #    unittest.main()
-    print &quot;Done with STAR.FileTest&quot;
+    print &quot;Done with STAR.FileTest&quot;

Modified: branches/bmrb/pystarlib/SaveFrame.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/bmrb/pystarlib/SaveFrame.py?rev=8380&amp;r1=8379&amp;r2=8380&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/bmrb/pystarlib/SaveFrame.py?rev=8380&amp;r1=8379&amp;r2=8380&amp;view=diff</a>
==============================================================================
--- branches/bmrb/pystarlib/SaveFrame.py (original)
+++ branches/bmrb/pystarlib/SaveFrame.py Sun Jan 11 15:46:03 2009
@@ -1,7 +1,7 @@
 &quot;&quot;&quot;
 Classes for dealing with STAR syntax
 &quot;&quot;&quot;
-from STAR.Utils import Lister
+from Utils import Lister
 
 
 &quot;&quot;&quot;
@@ -74,4 +74,4 @@
             
         return tT.tagvalues[0][0]
 
-        
+        

Modified: branches/bmrb/pystarlib/SaveFrameTest.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/bmrb/pystarlib/SaveFrameTest.py?rev=8380&amp;r1=8379&amp;r2=8380&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/bmrb/pystarlib/SaveFrameTest.py?rev=8380&amp;r1=8379&amp;r2=8380&amp;view=diff</a>
==============================================================================
--- branches/bmrb/pystarlib/SaveFrameTest.py (original)
+++ branches/bmrb/pystarlib/SaveFrameTest.py Sun Jan 11 15:46:03 2009
@@ -2,10 +2,10 @@
 Unit test for SaveFrameTest.py
 Setup taken from &quot;Dive Into Python&quot;
 &quot;&quot;&quot;
-from STAR.TagTable import TagTable
+from TagTable import TagTable
 import unittest
 from unittest import TestCase
-from STAR.SaveFrame import SaveFrame
+from SaveFrame import SaveFrame
 
 
 class AllChecks(TestCase):

Modified: branches/bmrb/pystarlib/TagTable.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/bmrb/pystarlib/TagTable.py?rev=8380&amp;r1=8379&amp;r2=8380&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/bmrb/pystarlib/TagTable.py?rev=8380&amp;r1=8379&amp;r2=8380&amp;view=diff</a>
==============================================================================
--- branches/bmrb/pystarlib/TagTable.py (original)
+++ branches/bmrb/pystarlib/TagTable.py Sun Jan 11 15:46:03 2009
@@ -1,21 +1,21 @@
 &quot;&quot;&quot;
 Classes for dealing with STAR syntax
 &quot;&quot;&quot;
-from STAR.Text import pattern_quotes_needed
-from STAR.Text import quotes_add
-from STAR.Text import pattern_quotes_needed_2
-from STAR.Text import pattern_quoted
-from STAR.Text import tag_value_quoted_parse
-from STAR.Text import pattern_tags_loop
-from STAR.Text import pattern_tags_loop_2
-from STAR.Text import pattern_tagname_2
-from STAR.Text import pattern_tagtable_stop_2
-from STAR.Text import pattern_tagtable_loop_2
-from STAR.Text import pattern_unquoted_find
-from STAR.Text import pattern_tag_name
-from STAR.Text import tag_value_parse
-from STAR.Utils import Lister
-from STAR.Utils import transpose
+from Text import pattern_quotes_needed
+from Text import quotes_add
+from Text import pattern_quotes_needed_2
+from Text import pattern_quoted
+from Text import tag_value_quoted_parse
+from Text import pattern_tags_loop
+from Text import pattern_tags_loop_2
+from Text import pattern_tagname_2
+from Text import pattern_tagtable_stop_2
+from Text import pattern_tagtable_loop_2
+from Text import pattern_unquoted_find
+from Text import pattern_tag_name
+from Text import tag_value_parse
+from Utils import Lister
+from Utils import transpose
 import string
 import types
 import re
@@ -474,4 +474,4 @@
 
         # Set the title
         self.set_title()
-        return None
+        return None

Modified: branches/bmrb/pystarlib/TagTableTest.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/bmrb/pystarlib/TagTableTest.py?rev=8380&amp;r1=8379&amp;r2=8380&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/bmrb/pystarlib/TagTableTest.py?rev=8380&amp;r1=8379&amp;r2=8380&amp;view=diff</a>
==============================================================================
--- branches/bmrb/pystarlib/TagTableTest.py (original)
+++ branches/bmrb/pystarlib/TagTableTest.py Sun Jan 11 15:46:03 2009
@@ -1,6 +1,6 @@
 from unittest import TestCase
-from STAR.TagTable import TagTable
-import STAR
+from TagTable import TagTable
+import __init__
 #from TagTable import *
 #from SaveFrame import *
 import unittest
@@ -9,13 +9,13 @@
 class AllChecks(TestCase):
     def testcheck_integrity(self):
         &quot;&quot;&quot;TagTable&quot;&quot;&quot;
-        STAR.verbosity = 2
+        __init__.verbosity = 2
     ##    text = &quot;&quot;&quot;_A a _B &quot;b'&quot; &quot;&quot;&quot;; free = 1
         text = &quot;&quot;&quot;_A a b c d e&quot;&quot;&quot;; free = None
         tt = TagTable(  free      = free,
                         tagnames  = [],
                         tagvalues = [],
-                        verbosity = STAR.verbosity)
+                        verbosity = __init__.verbosity)
         pos = tt.parse( text = text, pos = 0)
         self.assertEqual(pos,len(text))
         

Modified: branches/bmrb/pystarlib/Text.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/bmrb/pystarlib/Text.py?rev=8380&amp;r1=8379&amp;r2=8380&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/bmrb/pystarlib/Text.py?rev=8380&amp;r1=8379&amp;r2=8380&amp;view=diff</a>
==============================================================================
--- branches/bmrb/pystarlib/Text.py (original)
+++ branches/bmrb/pystarlib/Text.py Sun Jan 11 15:46:03 2009
@@ -10,7 +10,7 @@
 import string, re
 
 ## BMRB modules
-import STAR # Actually the current package
+import __init__ # Actually the current package
 
 &quot;&quot;&quot;
 Some handy patterns and functions for dealing with text in the STAR syntax.
@@ -374,7 +374,7 @@
    
     # Original code: can't handle re matches that are too long
     #text, count = pattern_semicolon_block.subn( semicolon_block_replace, 
text )
-    if STAR.verbosity &gt;= 9:
+    if __init__.verbosity &gt;= 9:
         print 'Done [%s] subs with semicolon blocks' % count
     return text
 
@@ -491,7 +491,7 @@
                 count += 1
         i += 1
 
-    if STAR.verbosity &gt;= 9:
+    if __init__.verbosity &gt;= 9:
         print 'Done [%s] comment subs' % count
     text = string.join(lines,&quot;\n&quot;)
     return text

Modified: branches/bmrb/pystarlib/TextTest.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/bmrb/pystarlib/TextTest.py?rev=8380&amp;r1=8379&amp;r2=8380&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/bmrb/pystarlib/TextTest.py?rev=8380&amp;r1=8379&amp;r2=8380&amp;view=diff</a>
==============================================================================
--- branches/bmrb/pystarlib/TextTest.py (original)
+++ branches/bmrb/pystarlib/TextTest.py Sun Jan 11 15:46:03 2009
@@ -1,5 +1,5 @@
 from unittest import TestCase
-from STAR.Text import comments_strip
+from Text import comments_strip
 import unittest
 
 

Modified: branches/bmrb/pystarlib/testAll.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/bmrb/pystarlib/testAll.py?rev=8380&amp;r1=8379&amp;r2=8380&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/bmrb/pystarlib/testAll.py?rev=8380&amp;r1=8379&amp;r2=8380&amp;view=diff</a>
==============================================================================
--- branches/bmrb/pystarlib/testAll.py (original)
+++ branches/bmrb/pystarlib/testAll.py Sun Jan 11 15:46:03 2009
@@ -6,11 +6,11 @@
 &quot;&quot;&quot;
 if __name__ == &quot;__main__&quot;:
     modList = ( 
-               &quot;STAR.TextTest&quot;, 
-               &quot;STAR.UtilsTest&quot;, 
-               &quot;STAR.TagTableTest&quot;, 
-               &quot;STAR.SaveFrameTest&quot;, 
-               &quot;STAR.FileTest&quot;, 
+               &quot;TextTest&quot;, 
+               &quot;UtilsTest&quot;, 
+               &quot;TagTableTest&quot;, 
+               &quot;SaveFrameTest&quot;, 
+               &quot;FileTest&quot;, 
                )
     # Next line is to fool pydev extensions into thinking suite is defined 
in the regular way.
     suite = None



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sun Jan 11 16:00:03 2009</div>  
</body>
</html>
