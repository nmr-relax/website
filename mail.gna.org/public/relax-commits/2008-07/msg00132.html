<!-- MHonArc v2.6.16 -->
<!--X-Subject: r6737 &#45; in /1.3: ./ generic_fns/structure/ prompt/ specific_fns/	test_suite/unit_tests/_generic_fns/_structure/ -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Sat, 05 Jul 2008 12:24:10 +0200 -->
<!--X-Message-Id: E1KF4w6&#45;0001gx&#45;26@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r6737 - in /1.3: ./ generic_fns/structure/ prompt/ specific_fns/	test_suite/unit_tests/_generic_fns/_structure/ -- July 05, 2008 - 12:24</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r6737 - in /1.3: ./ generic_fns/structure/ prompt/ specific_fns/	test_suite/unit_tests/_generic_fns/_structure/</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00132" class="tabs">Index by Date</a> | <a href="threads.html#00132" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00131.html">Date Prev</a>] [<a href="msg00133.html">Date Next</a>] [<a href="msg00131.html">Thread Prev</a>] [<a href="msg00133.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Sat, 05 Jul 2008 10:24:09 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00132.html">E1KF4w6-0001gx-26@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on July 05, 2008 - 12:24:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Sat Jul  5 12:24:08 2008
New Revision: 6737

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=6737&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=6737&amp;view=rev</a>
Log:
Merged revisions 6652,6654,6656-6733,6735-6736 via svnmerge from 
svn+ssh://bugman@xxxxxxxxxxx/svn/relax/branches/rdc_analysis

........
  r6652 | bugman | 2008-07-04 11:43:17 +0200 (Fri, 04 Jul 2008) | 3 lines
  
  Created a development branch for implementing some basic RDC and PCS 
dynamics analyses.
........
  r6656 | bugman | 2008-07-04 14:19:47 +0200 (Fri, 04 Jul 2008) | 3 lines
  
  Renamed a run to a pipe in a comment.
........
  r6657 | bugman | 2008-07-04 14:24:00 +0200 (Fri, 04 Jul 2008) | 3 lines
  
  Bug fix for the internal PDB reader, the HETATM records are now recognised.
........
  r6658 | bugman | 2008-07-04 14:37:18 +0200 (Fri, 04 Jul 2008) | 5 lines
  
  Fixes for the internal PDB reader.
  
  Non ATOM or HETATM records, after these records (i.e. CONECT) no longer 
cause the reader to fail.
........
  r6659 | bugman | 2008-07-04 14:45:23 +0200 (Fri, 04 Jul 2008) | 5 lines
  
  Converted the file_name structural object variable into a list.
  
  This will allow multiple files to be opened within one data pipe.
........
  r6660 | bugman | 2008-07-04 14:47:33 +0200 (Fri, 04 Jul 2008) | 3 lines
  
  Removed a broken and useless test.
........
  r6661 | bugman | 2008-07-04 14:51:31 +0200 (Fri, 04 Jul 2008) | 3 lines
  
  Added a check for the consistency of the PDB parser.
........
  r6662 | bugman | 2008-07-04 14:53:27 +0200 (Fri, 04 Jul 2008) | 6 lines
  
  Bug fix for the read_pdb() method.
  
  The structural object is only created if it does not yet exist.  This bug 
was causing the loss of
  previously loaded files.
........
  r6663 | bugman | 2008-07-04 15:02:42 +0200 (Fri, 04 Jul 2008) | 3 lines
  
  Fixes for the test_load_pdb() unit test.
........
  r6666 | bugman | 2008-07-04 15:53:26 +0200 (Fri, 04 Jul 2008) | 3 lines
  
  Added the ability to select the structure to load the spins from in the 
load_spins() main method.
........
  r6667 | bugman | 2008-07-04 15:58:28 +0200 (Fri, 04 Jul 2008) | 3 lines
  
  Added the str_id arg to the atom_loop() structural API method.
........
  r6668 | bugman | 2008-07-04 15:59:52 +0200 (Fri, 04 Jul 2008) | 3 lines
  
  Docstring modification for the atom_loop() internal PDB object method.
........
  r6669 | bugman | 2008-07-04 16:06:02 +0200 (Fri, 04 Jul 2008) | 3 lines
  
  Added the ave arg to all atom_loop() methods to allow just the average 
properties to be returned.
........
  r6670 | bugman | 2008-07-04 16:09:11 +0200 (Fri, 04 Jul 2008) | 3 lines
  
  Added the str_id arg to the Scientific PDB object atom_loop() method.
........
  r6671 | bugman | 2008-07-04 16:14:32 +0200 (Fri, 04 Jul 2008) | 3 lines
  
  The internal PDB object atom_loop() method now recognises the ave arg, but 
does nothing when True.
........
  r6672 | bugman | 2008-07-04 16:35:43 +0200 (Fri, 04 Jul 2008) | 3 lines
  
  The internal PDB object atom_loop() method now can return the average atom 
properties, if asked.
........
  r6674 | bugman | 2008-07-04 16:40:14 +0200 (Fri, 04 Jul 2008) | 5 lines
  
  Bug fix for the load_spins() function.
  
  Molecule, residue, and spin information can be missing and the function 
still work.
........
  r6678 | bugman | 2008-07-04 17:58:14 +0200 (Fri, 04 Jul 2008) | 7 lines
  
  Bug fix for the loading of multiple files.
  
  Each time a new file was loaded, all its atoms would be appended to all 
other presently loaded
  structures.  This would cause large slow downs of the atom_loop() function, 
and a few other
  problems.  Now structures are referenced by structure index rather than 
model number.
........
  r6680 | bugman | 2008-07-04 18:43:32 +0200 (Fri, 04 Jul 2008) | 3 lines
  
  Added code to connect atoms via CONECT records in the internal PDB reader.
........
  r6682 | bugman | 2008-07-04 18:51:35 +0200 (Fri, 04 Jul 2008) | 3 lines
  
  Modified the __parse_pdb_record() method to parse CONECT records.
........
  r6683 | bugman | 2008-07-04 19:03:49 +0200 (Fri, 04 Jul 2008) | 3 lines
  
  Created the __atom_index() method to find the atom index corresponding to 
an atom number.
........
  r6684 | bugman | 2008-07-04 19:09:02 +0200 (Fri, 04 Jul 2008) | 3 lines
  
  Fixes for the __atom_index() method.
........
  r6694 | bugman | 2008-07-04 20:48:24 +0200 (Fri, 04 Jul 2008) | 3 lines
  
  Updated the atom_connect() method to use the structural index rather than 
model number.
........
  r6695 | bugman | 2008-07-04 23:33:04 +0200 (Fri, 04 Jul 2008) | 3 lines
  
  Added a catch for empty atom columns in the CONECT record within 
__fill_object_from_pdb().
........
  r6696 | bugman | 2008-07-04 23:37:51 +0200 (Fri, 04 Jul 2008) | 3 lines
  
  Added a RelaxWarning for when a CONECT atom is not in the HETATM or ATOM 
records.
........
  r6697 | bugman | 2008-07-04 23:41:16 +0200 (Fri, 04 Jul 2008) | 5 lines
  
  Fix for the CONECT processing part of __parse_pdb_record().
  
  The last CONECT atom was not being converted into an int.
........
  r6698 | bugman | 2008-07-05 00:06:57 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Created the user function interface for structure.write_pdb().
........
  r6699 | bugman | 2008-07-05 00:21:37 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Created the write_pdb() function.
........
  r6700 | bugman | 2008-07-05 00:24:06 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Added the force arg to the structure.write_pdb() user function.
........
  r6701 | bugman | 2008-07-05 00:25:55 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  The struct_index is now passed into the write_pdb() method.
........
  r6702 | bugman | 2008-07-05 00:30:36 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Converted the write_pdb() function to loop over all structures.
........
  r6703 | bugman | 2008-07-05 00:33:37 +0200 (Sat, 05 Jul 2008) | 5 lines
  
  Updated the __validate_data_arrays() method to handle multiple structures.
  
  The structure_container instance is now passed into the method.
........
  r6704 | bugman | 2008-07-05 00:35:54 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Fixes for the write_pdb() method for handling multiple structures better.
........
  r6705 | bugman | 2008-07-05 00:46:18 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Modified how non-standard residue information is collected and stored for 
future writing.
........
  r6706 | bugman | 2008-07-05 00:47:40 +0200 (Sat, 05 Jul 2008) | 5 lines
  
  Fix for the main write_pdb() method.
  
  Now the file object is sent into the specific write_pdb() method rather 
than the file path string.
........
  r6707 | bugman | 2008-07-05 00:53:42 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  HETATM records with no residue info are now skipped in the HET record 
construction.
........
  r6708 | bugman | 2008-07-05 00:57:11 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Missing chain_ids are now caught and replaced by empty strings.
........
  r6709 | bugman | 2008-07-05 00:59:20 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Modified the __get_chemical_name() to handle unidentifiable residue names.
........
  r6710 | bugman | 2008-07-05 01:02:39 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Fix for the creation of the HETNAM record.  The None description value is 
replaced by 'Unknown'.
........
  r6711 | bugman | 2008-07-05 01:05:10 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Fixed the creation of the FORMUL record.
........
  r6712 | bugman | 2008-07-05 01:10:15 +0200 (Sat, 05 Jul 2008) | 5 lines
  
  Fix for the creation of the het_atom data structure.
  
  The index i was being overwritten!
........
  r6713 | bugman | 2008-07-05 01:11:06 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  The index i was being overwritten in another place as well.
........
  r6714 | bugman | 2008-07-05 01:21:12 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Fixed the creation of the ATOM, HETATM, and TER records.
........
  r6715 | bugman | 2008-07-05 01:24:13 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Fixed the creation of the CONECT records.
........
  r6716 | bugman | 2008-07-05 01:48:08 +0200 (Sat, 05 Jul 2008) | 6 lines
  
  Fix for the atom_connect() method and the creation of the CONECT record.
  
  The atom_connect() method was modified to only append the atom index if it 
wasn't already in the
  bonded list.  The CONECT record now uses the atom numbers and not atom 
indecies.
........
  r6717 | bugman | 2008-07-05 01:57:38 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Fixed the creation of the CONECT record, really this time!
........
  r6718 | bugman | 2008-07-05 02:01:44 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Fixed the creation of the MASTER record.
........
  r6719 | bugman | 2008-07-05 02:34:48 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Added a few initial remarks to the PDB file.
........
  r6720 | bugman | 2008-07-05 02:59:19 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Shifted the MASTER record to the very end of the PDB.
........
  r6721 | bugman | 2008-07-05 03:06:45 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Improvements for the counts for the MASTER record.
........
  r6722 | bugman | 2008-07-05 03:26:27 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Updated the base API write_pdb() docstring to the 3.1 PDB format and added 
the MODEL record desc.
........
  r6723 | bugman | 2008-07-05 03:35:15 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  The MODEL and ENDMDL records are now created, if multiple structures exist.
........
  r6724 | bugman | 2008-07-05 03:38:39 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Split the PDB creation code into the hetrogen and coordinate sections.
........
  r6725 | bugman | 2008-07-05 04:19:04 +0200 (Sat, 05 Jul 2008) | 5 lines
  
  Fixes for the hetrogen section.
  
  These records are now correctly created, independent of the number of 
loaded structures.
........
  r6726 | bugman | 2008-07-05 04:20:52 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Shifted the ENDMDL record to be before the CONECT records.
........
  r6727 | bugman | 2008-07-05 04:24:28 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Improvements to the print outs during PDB creation.
........
  r6728 | bugman | 2008-07-05 11:29:08 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Fix for the number of hetrogens in the MASTER record.
........
  r6729 | bugman | 2008-07-05 11:48:58 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  The TER record is now automatically created after any ATOM or HETATM 
stretch.
........
  r6730 | bugman | 2008-07-05 11:49:46 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Removed TER from the add_atom() docstring.
........
  r6731 | bugman | 2008-07-05 11:54:54 +0200 (Sat, 05 Jul 2008) | 5 lines
  
  Deleted all the PDB terminate() function calls and methods.
  
  These are not necessary as the TER record is now automatically generated.
........
  r6732 | bugman | 2008-07-05 12:15:51 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Changed the model arg to struct_index in the structural object API method 
atom_add().
........
  r6733 | bugman | 2008-07-05 12:17:21 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Changed the model arg to struct_index in the structural object API method 
atom_connect().
........
  r6735 | bugman | 2008-07-05 12:20:58 +0200 (Sat, 05 Jul 2008) | 3 lines
  
  Added the struct_index keyword arg to the structural object API write_pdb() 
method.
........

Modified:
    1.3/   (props changed)
    1.3/generic_fns/structure/api_base.py
    1.3/generic_fns/structure/geometric.py
    1.3/generic_fns/structure/internal.py
    1.3/generic_fns/structure/main.py
    1.3/generic_fns/structure/scientific.py
    1.3/prompt/structure.py
    1.3/specific_fns/n_state_model.py
    1.3/test_suite/unit_tests/_generic_fns/_structure/test_internal.py

[This mail would be too long, it was shortened to contain the URLs only.]

Modified: 1.3/generic_fns/structure/api_base.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/1.3/generic_fns/structure/api_base.py?rev=6737&amp;r1=6736&amp;r2=6737&amp;view=diff">http://svn.gna.org/viewcvs/relax/1.3/generic_fns/structure/api_base.py?rev=6737&amp;r1=6736&amp;r2=6737&amp;view=diff</a>

Modified: 1.3/generic_fns/structure/geometric.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/1.3/generic_fns/structure/geometric.py?rev=6737&amp;r1=6736&amp;r2=6737&amp;view=diff">http://svn.gna.org/viewcvs/relax/1.3/generic_fns/structure/geometric.py?rev=6737&amp;r1=6736&amp;r2=6737&amp;view=diff</a>

Modified: 1.3/generic_fns/structure/internal.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/1.3/generic_fns/structure/internal.py?rev=6737&amp;r1=6736&amp;r2=6737&amp;view=diff">http://svn.gna.org/viewcvs/relax/1.3/generic_fns/structure/internal.py?rev=6737&amp;r1=6736&amp;r2=6737&amp;view=diff</a>

Modified: 1.3/generic_fns/structure/main.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/1.3/generic_fns/structure/main.py?rev=6737&amp;r1=6736&amp;r2=6737&amp;view=diff">http://svn.gna.org/viewcvs/relax/1.3/generic_fns/structure/main.py?rev=6737&amp;r1=6736&amp;r2=6737&amp;view=diff</a>

Modified: 1.3/generic_fns/structure/scientific.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/1.3/generic_fns/structure/scientific.py?rev=6737&amp;r1=6736&amp;r2=6737&amp;view=diff">http://svn.gna.org/viewcvs/relax/1.3/generic_fns/structure/scientific.py?rev=6737&amp;r1=6736&amp;r2=6737&amp;view=diff</a>

Modified: 1.3/prompt/structure.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/1.3/prompt/structure.py?rev=6737&amp;r1=6736&amp;r2=6737&amp;view=diff">http://svn.gna.org/viewcvs/relax/1.3/prompt/structure.py?rev=6737&amp;r1=6736&amp;r2=6737&amp;view=diff</a>

Modified: 1.3/specific_fns/n_state_model.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/1.3/specific_fns/n_state_model.py?rev=6737&amp;r1=6736&amp;r2=6737&amp;view=diff">http://svn.gna.org/viewcvs/relax/1.3/specific_fns/n_state_model.py?rev=6737&amp;r1=6736&amp;r2=6737&amp;view=diff</a>

Modified: 1.3/test_suite/unit_tests/_generic_fns/_structure/test_internal.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/1.3/test_suite/unit_tests/_generic_fns/_structure/test_internal.py?rev=6737&amp;r1=6736&amp;r2=6737&amp;view=diff">http://svn.gna.org/viewcvs/relax/1.3/test_suite/unit_tests/_generic_fns/_structure/test_internal.py?rev=6737&amp;r1=6736&amp;r2=6737&amp;view=diff</a>



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sat Jul 05 12:40:18 2008</div>  
</body>
</html>
