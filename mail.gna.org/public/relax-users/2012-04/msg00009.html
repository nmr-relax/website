<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: relax 1.3.13/14 oddities -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 03 Apr 2012 13:43:59 +0200 -->
<!--X-Message-Id: CAED9pY8H8NJTYm&#45;idN3CKHVgm9MgqrZc1a+isZ_ukdSTxpt3Qg@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20120326161412.GA30924@bromo.med.uc.edu -->
<!--X-Reference: CAED9pY8pV+033UdZqPbLQeehn8_Tr71pxtzFvFToXGS7q5=UNA@mail.gmail.com -->
<!--X-Reference: 20120326175439.GA31913@bromo.med.uc.edu -->
<!--X-Reference: CAED9pY_U4xf5RjC2pAxi324BU7r5i+K9imwEiRCUuxGhZWaePQ@mail.gmail.com -->
<!--X-Reference: 20120402210432.GA1127@bromo.med.uc.edu -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: relax 1.3.13/14 oddities -- April 03, 2012 - 13:43</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: relax 1.3.13/14 oddities</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00009" class="tabs">Index by Date</a> | <a href="threads.html#00009" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00011.html">Date Prev</a>] [<a href="msg00010.html">Date Next</a>] [<a href="msg00006.html">Thread Prev</a>] [<a href="msg00027.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Jack Howarth &lt;howarth@xxxxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 3 Apr 2012 13:43:29 +0200</li>
<li class="menuitem">
<em>Cc</em>: relax-users@xxxxxxx</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:sender:in-reply-to:references:date	:x-google-sender-auth:message-id:subject:from:to:cc:content-type	:content-transfer-encoding;	bh=KqoUlZgBUC8S5gczMXHahBiuNz5m+sIn4sTUr451LJ4=;	b=fIBFqwm34Ft7XBMtRPjFMi8I5wgLSjb/qdYz+I1A1Ti2emkgBo3DZP0I1cj/5n2OyQ	PSpUO7+VF0UQg6ZiGYqdPYEQ2cDfHKgz8sx7eX16XgogJjP37Mx7RMP4NBBrlPpNpVAP	+6QWeCuWQCBCINlw5Q+/AeSJDG4+Uwp3rkkgmB7HjSTRCHglA/xu+rTtbfxTGHPplYsx	ek2P5nx7GHfEJwaXlRIl8TqBRmlmL/BN+gzbsS6XRGQcRVUwYXCvxAGnRgVYqQ8A0gNx	cxX05D9WXBA3C7CVRO0E1WNdmWsFIE9tI2Zg/7tGUqAPUaWmW10U0xrsnN4Takbd7yKm	uIWQ==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00009.html">CAED9pY8H8NJTYm-idN3CKHVgm9MgqrZc1a+isZ_ukdSTxpt3Qg@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;20120326161412.GA30924@xxxxxxxxxxxxxxxx&gt;	&lt;CAED9pY8pV+033UdZqPbLQeehn8_Tr71pxtzFvFToXGS7q5=UNA@xxxxxxxxxxxxxx&gt;	&lt;20120326175439.GA31913@xxxxxxxxxxxxxxxx&gt;	&lt;CAED9pY_U4xf5RjC2pAxi324BU7r5i+K9imwEiRCUuxGhZWaePQ@xxxxxxxxxxxxxx&gt;	&lt;20120402210432.GA1127@xxxxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on April 03, 2012 - 13:43:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

I think I'll have to do some more testing for this!  Due to my very
limited access to the Mac I am testing this on, progress will be slow.
 I will probably need some time to debug relax using the old Mac gtk+
version of the wx widgets, and will definitely release a new version
(1.3.15) prior to that.  So maybe it's safe to send out the newer
relax versions to fink, as the prompt/scripting UI modes function
perfectly anyway?

Cheers,

Edward




On 2 April 2012 23:04, Jack Howarth &lt;howarth@xxxxxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">On Mon, Apr 02, 2012 at 10:18:15PM +0200, Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Jack,

I've finally placed the relax-py.info and relax-py.patch files into
/sw/fink/10.4/local/main/finkinfo and installed the 1.3.14 relax
version via fink (with 'fink install relax-py27').  I have to be
careful as I have three different relax installs (the fink one, an svn
copy, and the DMG file version) as well as three different Python
installs (2 from fink and a manual install with Mac framework).  When
I test the GUI with the fink version, my message is:

$ /sw/bin/python2.7 /sw/bin/relax --gui
/sw/lib/python2.7/site-packages/wx-2.8-gtk2-unicode/wx/_core.py:14448:
UserWarning: wxPython/wxWidgets release number mismatch
  warnings.warn(&quot;wxPython/wxWidgets release number mismatch&quot;)

***MEMORY-ERROR***: python2.7[878]: GSlice: assertion failed:
aligned_memory == (gpointer) addr
Abort trap
$

This is using the 2.8 version of wxPython which fink automatically
installs and which appears to be fatal!  How do I install wxPython 2.9
into the /sw directory without damaging the fink setup?  For my
testing and included in the DMG file, I has used wxPython 2.9.2.4.

Cheers,

Edward
</pre></blockquote><pre style="margin: 0em;">

Edward,
   I did a build against Xcode 4.2 on x86_64 fink for darwin10 and
it didn't crash. I have...

ii  wxgtk2.8                     2.8.10-30                    
Cross-platform GUI API - unix/gtk version
ii  wxgtk2.8-py27                2.8.9.1-6                    Python 
bindings for the wxGTK library
ii  wxgtk2.8-shlibs              2.8.10-30                    Shared 
libraries for wxgtk2.8-shlibs

Did you do a 'fink selfupdate-cvs' and 'fink update-all' to make sure you
are getting the lastest packaging?
                 Jack
ps I get...

 relax --gui
/sw/lib/python2.7/site-packages/wx-2.8-gtk2-unicode/wx/_core.py:14448: 
UserWarning: wxPython/wxWidgets release number mismatch
 warnings.warn(&quot;wxPython/wxWidgets release number mismatch&quot;)


Thank you for citing:


relaxGUI
========

Bieri, M., d'Auvergne, E. J. and Gooley, P. R. (2011). relaxGUI: a new 
software for fast and simple
NMR relaxation data analysis and calculation of ps-ns and micro-s motion of 
proteins J. Biomol. NMR,
(<a  rel="nofollow" href="http://dx.doi.org/10.1007/s10858-011-9509-1">http://dx.doi.org/10.1007/s10858-011-9509-1</a>).



relax
=====

d'Auvergne, E. J. and Gooley, P. R. (2008). Optimisation of NMR dynamic 
models I. Minimisation
algorithms and their performance within the model-free and Brownian 
rotational diffusion spaces. J.
Biomol. NMR, 40(2), 107-119 (<a  rel="nofollow" href="http://dx.doi.org/10.1007/s10858-007-9214-2">http://dx.doi.org/10.1007/s10858-007-9214-2</a>).

d'Auvergne, E. J. and Gooley, P. R. (2008). Optimisation of NMR dynamic 
models II. A new methodology
for the dual optimisation of the model-free parameters and the Brownian 
rotational diffusion tensor.
J. Biomol. NMR, 40(2), 121-133 
(<a  rel="nofollow" href="http://dx.doi.org/10.1007/s10858-007-9213-3">http://dx.doi.org/10.1007/s10858-007-9213-3</a>).

</pre><blockquote class="blockquote"><pre style="margin: 0em;">


On 26 March 2012 19:54, Jack Howarth &lt;howarth@xxxxxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">On Mon, Mar 26, 2012 at 07:16:31PM +0200, Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Jack,

Thank you for updating this!  From memory, I did see a similar problem
when I was using the fink versions of all the software required.
Though I also had many problems with dependency clashes with Python,
wxPython, numpy, and scipy (note this is different to Scientific
Python which is no longer a dependency, see
<a  rel="nofollow" href="http://pdb.finkproject.org/pdb/package.php/scipy-py27">http://pdb.finkproject.org/pdb/package.php/scipy-py27</a>) - I had to use
the sources and these different relax dependencies had their own
dependencies which were not compatible with each other.  The problem,
I think, was the dependance on different gcc versions, so each was
taking a day or longer to build as fink kept rebuilding the full tool
chain.  Anyway, that's not completely related to this problem and
might already be resolved in fink.

The problem looks more like a wxPython issue.  Would you be able to
tell me the fink repository software and versions you used for this so
I can try to replicate the problem?  Do you use the binary
distribution archive for the dependencies or have fink compile from
the source archives?  I am using XCode 3.2.2, but I don't think using
4.2 will change this problem.  If you had the exact sequence of fink
commnds to set the relax dependencies up, that would be appreciated as
I could then be sure that I have close to the same setup as you.  Then
I could debug and find the exact xwgtk problem, and come up with a
special work around.

Cheers!

Edward
</pre></blockquote><pre style="margin: 0em;">

Edward,
   Try the attached packaging placed in 
/sw/fink/10.4/local/main/finkinfo. I don't
know how old your fink installation is. If it is rather old, you might 
want to consider
a clean bootstrap following the instructions on 
<a  rel="nofollow" href="http://www.finkproject.org/download/srcdist.php">http://www.finkproject.org/download/srcdist.php</a>.
You will want to move aside your current fink installation from /sw to 
/sw.old beforehand.
Also make sure you do 'fink selfupdate-cvs' and 'fink update-all' to 
keep your
trees and installation current. You should be able to just use 'fink 
install relax-py27'
to install relax 1.3.14. I would also consider upgrading your Xcode to 
3.2.6 which
is the last release of the 3.2.x series. Oh, on darwin10, I used the 
gcc46 compilers
for the build, when prompted, if that makes any difference.
                    Jack
ps I also have built relax 1.3.14 under fink but had to use the 2.9.3 
release of
wxPython because that is the only wxPython they have for python 2.7 in 
macports.
Have you tested relax against the wxPython 2.9.3 release on linux or any 
other target?



</pre><blockquote class="blockquote"><pre style="margin: 0em;">




On 26 March 2012 18:14, Jack Howarth &lt;howarth@xxxxxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Edward,
  I am in the process of updating the relax-py and relax packages in 
fink and
macports to the latest release. However I am seeing some oddities 
with the new
gui interface. In both cases, relax 1.3.13 and 1.3.14 exhibits a bug 
when
executed as 'relax --gui'. The gui interface window opens much larger 
than the
displayed contents. Only if I refresh the window does the contents 
properly
expand out to the actual size of the window (by clicking on the green 
zoom
button in the window frame twice). If I move aside the window, I also 
see a small
square with a butterfly icon left on the screen. This square can't be 
closed or
moved. Running 'relax --test-suite' is even more problematic as it 
seems to
be trapped in an endless loop of display the squares with the 
butterfly icon
and segfaults on exiting...

% relax --test-suite
/sw/lib/python2.7/site-packages/wx-2.8-gtk2-unicode/wx/_core.py:14448:
 UserWarning: wxPython/wxWidgets release number mismatch
 warnings.warn(&quot;wxPython/wxWidgets release number mismatch&quot;)
Echoing of user function calls has been enabled.




#############################
# System / functional tests #
#############################


.........................................................................................................................................................................................................................................
----------------------------------------------------------------------
Ran 233 tests in 291.075s

OK




##############
# Unit tests #
##############


................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................................
----------------------------------------------------------------------
Ran 1232 tests in 11.183s

OK




#############
# GUI tests #
#############



(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type
.
(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type
.
(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type

(python2.7:9037): Gtk-WARNING **: Unable to find default local 
directory monitor type
..
----------------------------------------------------------------------
Ran 4 tests in 70.926s

OK




###################################
# Summary of the relax test suite #
###################################


# Optional packages/modules
###########################

No tests skipped due to missing modules.

# Synopsis
##########

System/functional tests ......................................... [ 
OK ]
Unit tests ...................................................... [ 
OK ]
GUI tests ....................................................... [ 
OK ]
Synopsis ........................................................ [ 
OK ]



Segmentation fault

It is odd that the GUI tests pass but that relax segfaults in the 
process.
                Jack
ps This is on x86_64 fink under darwin10 using Xcode 4.2.

_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>
</pre></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00027" href="msg00027.html">Re: relax 1.3.13/14 oddities</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00005" href="msg00005.html">Re: relax 1.3.13/14 oddities</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00006" href="msg00006.html">Re: relax 1.3.13/14 oddities</a></strong>
<ul><li><em>From:</em> Jack Howarth</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Apr 05 15:20:08 2012</div>  
</body>
</html>
