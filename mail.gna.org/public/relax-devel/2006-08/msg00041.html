<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: Proposed solution to bug #6503. -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Wed, 09 Aug 2006 17:43:08 +0200 -->
<!--X-Message-Id: 7f080ed10608090842g3a1a6e55k6033b44ba17bf29d@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 7f080ed10608082240r114cf35an60af62836fcc81bf@mail.gmail.com -->
<!--X-Reference: 1155116086.28764.393.camel@fbsdpcu021 -->
<!--X-Reference: 7f080ed10608090248i5c3a5832h166bc8c07f2cbc93@mail.gmail.com -->
<!--X-Reference: 1155120829.28764.436.camel@fbsdpcu021 -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Proposed solution to bug #6503. -- August 09, 2006 - 17:43</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Proposed solution to bug #6503.</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00041" class="tabs">Index by Date</a> | <a href="threads.html#00041" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00040.html">Date Prev</a>] [<a href="msg00042.html">Date Next</a>] [<a href="msg00047.html">Thread Prev</a>] [<a href="msg00048.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Chris MacRaild&quot; &lt;c.a.macraild@xxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 10 Aug 2006 01:42:32 +1000</li>
<li class="menuitem">
<em>Cc</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00041.html">7f080ed10608090842g3a1a6e55k6033b44ba17bf29d@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00029.html">7f080ed10608082240r114cf35an60af62836fcc81bf@mail.gmail.com</a>&gt;	&lt;<a href="msg00031.html">1155116086.28764.393.camel@fbsdpcu021</a>&gt;	&lt;<a href="msg00032.html">7f080ed10608090248i5c3a5832h166bc8c07f2cbc93@mail.gmail.com</a>&gt;	&lt;<a href="msg00034.html">1155120829.28764.436.camel@fbsdpcu021</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on August 09, 2006 - 17:43:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<tt>On 8/9/06, Chris MacRaild wrote:
</tt><blockquote class="blockquote"><pre style="margin: 0em;">On Wed, 2006-08-09 at 19:48 +1000, Edward d'Auvergne wrote:
&gt; &gt; &gt; As the function 'self.grid_search()' executes 'self.minimise()' this
&gt; &gt; &gt; single change will cover both the grid search and minimisation.  The
&gt; &gt; &gt; function 'isnan()' currently non-existent but could be implemented as
&gt; &gt; &gt; Gary previously mentioned by checking the hex bit pattern of NaN.
&gt; &gt;
&gt; &gt; If isnan() is to be implimented in this way, then a similar isinf() is
&gt; &gt; by far the best way to go. float('inf') is platform dependent, and
&gt; &gt; certainly will not work under Windows (I think I'm right in saying
&gt; &gt; windows has no valid string representation of inf or nan that would work
&gt; &gt; in that context).
&gt;
&gt; That one I didn't know about.  I thought Python handled inf correctly
&gt; but checking the bit value should be easy.  What about checking that
&gt; the value is less than 1e300 instead, as that is the arbitrary
&gt; starting point for the grid search?</pre><br>
<pre style="margin: 0em;">In practise I'm fairly sure that will work. The purist might say that
the starting value should be INF, and the test should be for INF, but I
can't imagine anyone wanting to accept a grid search with Chi2 &gt; 1e300
</pre></blockquote><pre style="margin: 0em;"><br>Using this test means that the isinf() bit pattern testing function
doesn't need to be implemented.</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">&gt;
&gt; &gt; &gt; This avoids fpconst.py and the switch from Numeric to Numpy.  The
&gt; &gt; &gt; question is whether to use the RelaxErrors or set some warning?  Would
&gt; &gt; &gt; this be alleviated by Gary's proposal of saving the program state just
&gt; &gt; &gt; prior to throwing the error?  For example using the function
&gt; &gt; &gt; 'self.save()' within 'generic_fns/state.py', printing the error
&gt; &gt; &gt; message, then quitting.
&gt; &gt;
&gt; &gt; Saving state as part of the exception handling is a nice idea, but has
&gt; &gt; its limitations. Because the error could be thrown before, during or
&gt; &gt; after some change to the program state, the state which is saved will be
&gt; &gt; undefined and possibly inconsistent. As such a saved state may be of
&gt; &gt; limited use to most users. It would be a very valuable tool for
&gt; &gt; debugging, though.
&gt;
&gt; I suppose it will probably leave too many temporary files lying
&gt; around.  relax tends to throw errors if you do the slightest thing
&gt; wrong.</pre><br>
<pre style="margin: 0em;">True. One option would be to leave the current behaviour as default, and
have an optional debugging mode which would allow for saving of state on
exceptions. Another feature which might be modified in debugging mode is
the suppression of tracebacks on KeyboardInterupt - it is sometimes nice
to know exactly what you have interupted when you are forced to ctrl-c
</pre></blockquote><pre style="margin: 0em;"><br>That's a an idea, dump the state if relax is run with the --debug
flag.  I'm not sure I follow what you mean with the behaviour of the
keyboard interrupt?  Do you mean that when ctrl-c is hit when run with
the --debug flag the program instantly and silently terminates without
printing the KeyboardInterrupt message?</pre><br>
<pre style="margin: 0em;">Edward</pre><br>
<br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00048" href="msg00048.html">Re: Proposed solution to bug #6503.</a></strong>
<ul><li><em>From:</em> Chris MacRaild</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00029" href="msg00029.html">Proposed solution to bug #6503.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00031" href="msg00031.html">Re: Proposed solution to bug #6503.</a></strong>
<ul><li><em>From:</em> Chris MacRaild</li></ul></li>
<li><strong><a name="00032" href="msg00032.html">Re: Proposed solution to bug #6503.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00034" href="msg00034.html">Re: Proposed solution to bug #6503.</a></strong>
<ul><li><em>From:</em> Chris MacRaild</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Aug 09 18:20:54 2006</div>  
</body>
</html>
