<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [sr #3211] Provide veusz plots as an alternative to grace -->
<!--X-From-R13: "Sqjneq q'Ohiretar" &#60;rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Mon, 09 Feb 2015 09:29:54 +0100 -->
<!--X-Message-Id: CAED9pY&#45;PsuiH=GFyG08CEFosqGWUTSmGSMVX0&#45;zb95XamjGohQ@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20150206&#45;103201.sv21202.91597@gna.org -->
<!--X-Reference: CAED9pY9&#45;yYnBW4gX8FX3w59ztXvq+Gh2R0B1D2RbEc7AbsNQuw@mail.gmail.com -->
<!--X-Reference: 54D4AC21.4050203@gentoo.org -->
<!--X-Reference: CAED9pY94j2s=oGZ2+qKPp9CgEhfpwaHPVmeNWHhNZUTLMT=HXg@mail.gmail.com -->
<!--X-Reference: CAED9pY_8cVWvHeg5=3ZLriYsFCfwCj6McpBds6Etnm_tex2tGQ@mail.gmail.com -->
<!--X-Reference: CAED9pY8FWmhGR9p=bcV&#45;tGAz5q89uFYqSYX5wb3CqP3EgkheuA@mail.gmail.com -->
<!--X-Reference: 54D85CE2.8000006@gentoo.org -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [sr #3211] Provide veusz plots as an alternative to grace -- February 09, 2015 - 09:29</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: [sr #3211] Provide veusz plots as an alternative to grace</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00029" class="tabs">Index by Date</a> | <a href="threads.html#00029" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00028.html">Date Prev</a>] [<a href="msg00030.html">Date Next</a>] [<a href="msg00028.html">Thread Prev</a>] [<a href="msg00024.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Justin (jlec)&quot; &lt;jlec@xxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Mon, 9 Feb 2015 09:29:30 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:date:message-id:subject :from:to:cc:content-type; bh=Rg1bLPEEoU5c/3A8MwV50LlBPL5Mm1vTsY8MmdWptRw=; b=cBSuzWsBrluIQdnq6hd7BdhXtr6UFjoQA/z3zB7pYb3Nvm+e4oZs5rWw2tshHmzZ9w CFmNDC/TNscZfTyv0Qh2mS/sCc+2yy6tpessGLGbiZ3fkyYscSmGr5k5XIuo4WQ8NgWG ZmD5HOFlAcbT2+s4EWo5fMlxfW8Rm4wgGRZuoS0itcYEseGb4mqSy6YcXsxcStXve9Dm 3VASRSWcwUpqfHM8kDtzsI5dnarpdwRb9BIOat3zT8WhyKrSLC3VqjkcwSMDzccxALqC wobicin74vlZ+BHDoPloVrvVEs9d/Le41VQyj7gCN0hv0HKizxbxFacuRj8PzASKQn/X nN7w==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;CAED9pY-PsuiH=GFyG08CEFosqGWUTSmGSMVX0-zb95XamjGohQ@mail.gmail.com&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00022.html">20150206-103201.sv21202.91597@gna.org</a>&gt; &lt;<a href="msg00023.html">CAED9pY9-yYnBW4gX8FX3w59ztXvq+Gh2R0B1D2RbEc7AbsNQuw@mail.gmail.com</a>&gt; &lt;54D4AC21.4050203@gentoo.org&gt; &lt;CAED9pY94j2s=oGZ2+qKPp9CgEhfpwaHPVmeNWHhNZUTLMT=HXg@mail.gmail.com&gt; &lt;CAED9pY_8cVWvHeg5=3ZLriYsFCfwCj6McpBds6Etnm_tex2tGQ@mail.gmail.com&gt; &lt;CAED9pY8FWmhGR9p=bcV-tGAz5q89uFYqSYX5wb3CqP3EgkheuA@mail.gmail.com&gt; &lt;54D85CE2.8000006@gentoo.org&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on February 09, 2015 - 09:29:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">On 9 February 2015 at 08:08, Justin (jlec) &lt;jlec@xxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">On 08/02/15 22:05, Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Justin,

Here is another resource that may be of assistance.  I have created a
basic initial relax wiki page describing the plotting API:

    <a  rel="nofollow" href="http://wiki.nmr-relax.com/Plotting_API">http://wiki.nmr-relax.com/Plotting_API</a>

Feel free to sign up to the wiki and modify this as you see fit
(<a  rel="nofollow" href="http://wiki.nmr-relax.com/index.php?title=Special:UserLogin&amp;returnto=Plotting+API&amp;type=signup">http://wiki.nmr-relax.com/index.php?title=Special:UserLogin&amp;returnto=Plotting+API&amp;type=signup</a>).
I'll expand this as the API is developed and refined.  It could
benefit from additional code examples, better API documentation
linking, and detailing specific graph types, etc.  Note that the API
documentation at <a  rel="nofollow" href="/api/3.3/">http://www.nmr-relax.com/api/3.3/</a> does not contain
the recent changes for the Grace plotting and the
pipe_control.plotting.write_xy() function.  This will be updated once
relax 3.3.7 is released (<a  rel="nofollow" href="http://wiki.nmr-relax.com/Relax_3.3.7">http://wiki.nmr-relax.com/Relax_3.3.7</a>).  The
code should now be the maximal simplicity for implementing new
functionality (<a  rel="nofollow" href="http://wiki.nmr-relax.com/Plotting_API#Development">http://wiki.nmr-relax.com/Plotting_API#Development</a>).

Regards,

Edward

</pre></blockquote><pre style="margin: 0em;">

Thank you Edward for all the mails and information!
</pre></blockquote><pre style="margin: 0em;">

No problems.  I'll use this myself to advance the plotting
capabilities.  I only recently added the gnuplot graph type for
creating a figure in paper I'm currently working on.  I've created
similar wiki pages to help design other parts of relax
(<a  rel="nofollow" href="http://wiki.nmr-relax.com/Relax_source_design#The_check_.2A.28.29_functions">http://wiki.nmr-relax.com/Relax_source_design#The_check_.2A.28.29_functions</a>
for example).


</pre><blockquote class="blockquote"><pre style="margin: 0em;">Things came along so I couldn't look into it until now. But I just started.
Creating something similar for veusz as for grace shouldn't be a problem.

As soon as I have some results, I will send you patches and edit the wiki 
page.
</pre></blockquote><pre style="margin: 0em;">

Hopefully you now have an easy way to play with the Veusz support.
Take your time though.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">Do you have sample data for the

plotting.write_iso3D()
</pre></blockquote><pre style="margin: 0em;">

For this one, the implementation is currently the dx.map user
function.  I haven't shifted the modules around yet
(<a  rel="nofollow" href="/api/3.2/lib.software.opendx-module.html">http://www.nmr-relax.com/api/3.2/lib.software.opendx-module.html</a> to
<a  rel="nofollow" href="/api/3.3/lib.plotting-module.html">http://www.nmr-relax.com/api/3.3/lib.plotting-module.html</a>).  The
sample data is generated via the pipe_control.opendx.map function and
the Map class 
(<a  rel="nofollow" href="/api/3.2/pipe_control.opendx-module.html#map">http://www.nmr-relax.com/api/3.2/pipe_control.opendx-module.html#map</a>).
This is more complicated as it uses the specific analysis API methods
(<a  rel="nofollow" href="/api/3.3/specific_analyses.api_base.API_base-class.html">http://www.nmr-relax.com/api/3.3/specific_analyses.api_base.API_base-class.html</a>)
to generate the data on the fly, see the Map class for details
(<a  rel="nofollow" href="/api/3.2/pipe_control.opendx.Map-class.html">http://www.nmr-relax.com/api/3.2/pipe_control.opendx.Map-class.html</a>).
It is used in a number of system tests:

$ grep dx test_suite/system_tests/*.py | grep def
test_suite/system_tests/frame_order.py:    def fixme_test_opendx_map(self):
test_suite/system_tests/model_free.py:    def test_opendx_s2_te_rex(self):
test_suite/system_tests/model_free.py:    def test_opendx_theta_phi_da(self):
test_suite/system_tests/model_free.py:    def test_opendx_tm_s2_te(self):
test_suite/system_tests/relax_disp.py:    def
test_cpmg_synthetic_dx_map_points(self):
test_suite/system_tests/relax_disp.py:    def test_dx_map_clustered(self):
test_suite/system_tests/relax_disp.py:    def
test_dx_map_clustered_create_par_file(self):
$

For example the 2nd would be run as:

$ relax -sd Model_free.test_opendx_s2_te_rex


</pre><blockquote class="blockquote"><pre style="margin: 0em;">plotting.write_2D_fitted_curves()
</pre></blockquote><pre style="margin: 0em;">

This is the current relax_disp.plot_disp_curves user function.  I also
haven't shifted this code around, as this is a more complicated task.
It will require creating new methods for the specific analysis API to
allow this graph type to be compatible with all analysis types which
implement the API methods
(<a  rel="nofollow" href="/api/3.3/specific_analyses.api_base.API_base-class.html">http://www.nmr-relax.com/api/3.3/specific_analyses.api_base.API_base-class.html</a>).
It is also similar to Troels' help.py script attached to
<a  rel="nofollow" href="http://gna.org/support/?3210">http://gna.org/support/?3210</a>.  One system test that checks the
relax_disp.plot_disp_curves user function is:

$ ./relax -sd Relax_disp.test_r1rho_kjaergaard_auto_check_graphs


</pre><blockquote class="blockquote"><pre style="margin: 0em;">ideas?
</pre></blockquote><pre style="margin: 0em;">

I hope this information helps and isn't too much.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">Second, I cannot figure out how to read in two saved data pipes. I would 
like to
write a sample script for J0 vs J0 on two fields plotting.
</pre></blockquote><pre style="margin: 0em;">

It might be better to start a new thread.  For this you should use the
results.write and results.read user functions.  These historical names
should probably one day be renamed to pipe.write and pipe.read.

Regards,

Edward


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00022" href="msg00022.html">[sr #3211] Provide veusz plots as an alternative to grace</a></strong>
<ul><li><em>From:</em> Justin</li></ul></li>
<li><strong><a name="00023" href="msg00023.html">Re: [sr #3211] Provide veusz plots as an alternative to grace</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00026" href="msg00026.html">Re: [sr #3211] Provide veusz plots as an alternative to grace</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00027" href="msg00027.html">Re: [sr #3211] Provide veusz plots as an alternative to grace</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00028" href="msg00028.html">Re: [sr #3211] Provide veusz plots as an alternative to grace</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Mon Feb 09 10:00:37 2015</div>  
</body>
</html>
