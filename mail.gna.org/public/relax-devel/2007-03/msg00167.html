<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: r3243 &#45; in /branches/multi_processor: ./ multi/ prompt/	specific_fns/ -->
<!--X-From-R13: "Unel E. Fubzcfba" <tnelgNozo.yrrqf.np.hx> -->
<!--X-Date: Fri, 30 Mar 2007 09:33:25 +0200 -->
<!--X-Message-Id: 460CBD20.2070007@bmb.leeds.ac.uk -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1HWrC8&#45;0002Jl&#45;Ii@subversion.gna.org -->
<!--X-Reference: 460B9BA0.1060402@bmb.leeds.ac.uk -->
<!--X-Reference: 7f080ed10703290839g1afb16c7k476b60bca781dca4@mail.gmail.com -->
<!--X-Reference: 460BE559.7010901@bmb.leeds.ac.uk -->
<!--X-Reference: f001463a0703291023l6145b88cs4ab84784c66524ab@mail.gmail.com -->
<!--X-Reference: 7f080ed10703291905m2e42d023m7ae0054fc60cf207@mail.gmail.com -->
<!--X-Reference: 460CB741.5010103@bmb.leeds.ac.uk -->
<!--X-Reference: 7f080ed10703300018n52df35d2lc5b9021bdb98d57@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: r3243 - in /branches/multi_processor: ./ multi/ prompt/	specific_fns/ -- March 30, 2007 - 09:33</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: r3243 - in /branches/multi_processor: ./ multi/ prompt/	specific_fns/</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00167" class="tabs">Index by Date</a> | <a href="threads.html#00167" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00166.html">Date Prev</a>] [<a href="msg00168.html">Date Next</a>] [<a href="msg00165.html">Thread Prev</a>] [<a href="msg00171.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Edward d'Auvergne &lt;edward.dauvergne@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Fri, 30 Mar 2007 08:32:48 +0100</li>
<li class="menuitem">
<em>Cc</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00167.html">460CBD20.2070007@bmb.leeds.ac.uk</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1HWrC8-0002Jl-Ii@subversion.gna.org&gt;	&lt;<a href="msg00148.html">460B9BA0.1060402@bmb.leeds.ac.uk</a>&gt;	&lt;<a href="msg00153.html">7f080ed10703290839g1afb16c7k476b60bca781dca4@mail.gmail.com</a>&gt;	&lt;<a href="msg00156.html">460BE559.7010901@bmb.leeds.ac.uk</a>&gt;	&lt;<a href="msg00157.html">f001463a0703291023l6145b88cs4ab84784c66524ab@mail.gmail.com</a>&gt;	&lt;<a href="msg00159.html">7f080ed10703291905m2e42d023m7ae0054fc60cf207@mail.gmail.com</a>&gt;	&lt;<a href="msg00162.html">460CB741.5010103@bmb.leeds.ac.uk</a>&gt;	&lt;<a href="msg00165.html">7f080ed10703300018n52df35d2lc5b9021bdb98d57@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Mozilla Thunderbird 1.0 (X11/20041206)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Gary S. Thompson</strong> on March 30, 2007 - 09:33:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Edward d'Auvergne wrote:</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">Hi,</pre><br>
<pre style="margin: 0em;">relax now operates fine on my machine.</pre><br>
<pre style="margin: 0em;">Cheers,</pre><br>
<pre style="margin: 0em;">Edward</pre><br>
</blockquote><pre style="margin: 0em;">much celebration!</pre><br>
<tt>do you have any thoughts on the question of grid searches and monte 
carlo runs and where to impliment them</tt><br>
<br>
<pre style="margin: 0em;"><br>regards
gary</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;"><br>On 3/30/07, Gary S. Thompson &lt;garyt@xxxxxxxxxxxxxxx&gt; wrote:</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">Edward d'Auvergne wrote:</pre><br>
<pre style="margin: 0em;">&gt; There were two problems I encountered.  The first was the import error
&gt; when mpi4py is not installed.</pre><br>
<pre style="margin: 0em;">there should be no need for this mpi4py should only be loaded when you
request mpi4py on the command line, the module is loaded on demand. This
is why modules processor and command have bee created to remove the
dependencies present in the alpha version of the code between the
generic multiprocessor objects and mpi4py_processor</pre><br>
<tt>&gt; This could possibly be handled by<br>
&gt; setting a flag in the importing module, printing a RelaxWarning<br>
&gt; message, and the defaulting to the uniprocessor code.  The second<br>
&gt; problem is that when mpi4py is installed but 'mpirun-lam' is not<br>
&gt; running, I get the message:<br>
&gt;<br>
&gt; [edward@p2800 multi_processor]$ ./relax<br>
&gt; 
----------------------------------------------------------------------------- </tt><br>
<br>
<tt>&gt;<br>
&gt;<br>
&gt; It seems that there is no lamd running on the host p2800.<br>
&gt;<br>
&gt; This indicates that the LAM/MPI runtime environment is not operating.<br>
&gt; The LAM/MPI runtime environment is necessary for MPI programs to run<br>
&gt; (the MPI program tired to invoke the &quot;MPI_Init&quot; function).<br>
&gt;<br>
&gt; Please run the &quot;lamboot&quot; command the start the LAM/MPI runtime<br>
&gt; environment.  See the LAM/MPI documentation for how to invoke<br>
&gt; &quot;lamboot&quot; across multiple machines.<br>
&gt; 
----------------------------------------------------------------------------- </tt><br>
<br>
<pre style="margin: 0em;">&gt;
&gt; [edward@p2800 multi_processor]$
&gt;
&gt; This should only happen if the user asks to run in MPI mode, normal
&gt; relax operation should remain as is.
&gt;
indeed everything should remian the same for the uni processor mode
using either</pre><br>
<pre style="margin: 0em;">relax
or
relax --multi uni (which is equivalent to the above)</pre><br>
<pre style="margin: 0em;">I have now done some updates to give r3249 which should cure these
problems (and does on all the computers I have) could you give the
latest revision a try</pre><br>
<pre style="margin: 0em;">I have done a check for MPI and mpi4py in all the files in the branch
and only mpi4py contains  these strings now so unless something very
weird it should all be fixed</pre><br>
<pre style="margin: 0em;">regards
gary</pre><br>
<tt>&gt; Cheers,<br>
&gt;<br>
&gt; Edward<br>
&gt;<br>
&gt;<br>
&gt; On 3/30/07, gary thompson &lt;garyt.and.sarahb@xxxxxxxxx&gt; wrote:<br>
&gt;<br>
&gt;&gt; On 3/29/07, Gary S. Thompson &lt;garyt@xxxxxxxxxxxxxxx&gt; wrote:<br>
&gt;&gt; &gt; Edward d'Auvergne wrote:<br>
&gt;&gt; [snip]<br>
&gt;&gt;<br>
&gt;&gt; &gt; &gt; One<br>
&gt;&gt; &gt; &gt; question I have is will there be a separate model-free minimise()<br>
&gt;&gt; &gt; &gt; function for normal and MPI operation?<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; no the non mpi version just calls the uniprocessor processor<br>
&gt;&gt; &gt; multi.uni_processor.  The current uniprocessor implimentation is 
non<br>
&gt;&gt; &gt; optimal by space on single processor machines but will have the 
same<br>
&gt;&gt; &gt; overhead by time as any other implimentations (barring the use of<br>
&gt;&gt; &gt; command cacheing which may save to object creation overhead)<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; &gt; Another point is that I can't<br>
&gt;&gt; &gt; &gt; run the code in the branch without having MPI up and running.<br>
&gt;&gt; &gt; &gt;<br>
&gt;&gt; &gt; &gt;<br>
&gt;&gt; &gt; you should be able to run relax without a --multi command line and<br>
&gt;&gt; &gt; without an mpirun and the uniprocessor implimentations should run.<br>
&gt;&gt; &gt; However, currently when I run it I get The dependency 'mpi4py' 
has not<br>
&gt;&gt; &gt; been installed is that the problem you have?? I will investigate<br>
&gt;&gt; the problem<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt;<br>
&gt;&gt; correction I have just gone home and run the command on the same<br>
&gt;&gt; machine remotely and get no messages about dependencies!. if this is<br>
&gt;&gt; the error you get please tell me.<br>
&gt;&gt;<br>
&gt;&gt; Ah revelation (realtime messaging and debugging!) in uni_processor I<br>
&gt;&gt; am using multi.mpi4py_processor.Result_command which will load the<br>
&gt;&gt; mpi4py_processor module which will result in  load of mpi4py 
(lines 14<br>
&gt;&gt; onwards in mpi4py_processor). This is just an oversight due to me<br>
&gt;&gt; being lazy and winging it while testing corrections on the way ;-)<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt; regards<br>
&gt;&gt; gary<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt; &gt; &gt;&gt; obviously there is consdiderable code cleanup and documentation<br>
&gt;&gt; still<br>
&gt;&gt; &gt; &gt;&gt; to be done and also implimentation of processors for 
threading and<br>
&gt;&gt; &gt; &gt;&gt; ssh tunnels<br>
&gt;&gt; &gt; &gt;<br>
&gt;&gt; &gt; &gt;<br>
&gt;&gt; &gt; &gt; The code is shaping up nicely.  With a good clean up it should be<br>
&gt;&gt; &gt; &gt; relatively easy to port to the 1.3 line later on.<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; yep time to go from alpha to beta, glad you like it<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; &gt; 1It looks like a<br>
&gt;&gt; &gt; &gt; great framework for the threading and grid computing via ssh<br>
&gt;&gt; tunnels.<br>
&gt;&gt; &gt; &gt;<br>
&gt;&gt; &gt; indeed thats the intention and design goal ;-)<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; &gt; Cheers,<br>
&gt;&gt; &gt; &gt;<br>
&gt;&gt; &gt; &gt; Edward<br>
&gt;&gt; &gt; &gt;<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; regards<br>
&gt;&gt; &gt; gary<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; &gt; _______________________________________________<br>
&gt;&gt; &gt; &gt; relax (<a  href="http://nmr-relax.com">http://nmr-relax.com</a>)<br>
&gt;&gt; &gt; &gt;<br>
&gt;&gt; &gt; &gt; This is the relax-devel mailing list<br>
&gt;&gt; &gt; &gt; relax-devel@xxxxxxx<br>
&gt;&gt; &gt; &gt;<br>
&gt;&gt; &gt; &gt; To unsubscribe from this list, get a password<br>
&gt;&gt; &gt; &gt; reminder, or change your subscription options,<br>
&gt;&gt; &gt; &gt; visit the list information page at<br>
&gt;&gt; &gt; &gt; <a  href="/mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a><br>
&gt;&gt; &gt; &gt;<br>
&gt;&gt; &gt; &gt; .<br>
&gt;&gt; &gt; &gt;<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; --<br>
&gt;&gt; &gt; -------------------------------------------------------------------<br>
&gt;&gt; &gt; Dr Gary Thompson<br>
&gt;&gt; &gt; Astbury Centre for Structural Molecular Biology,<br>
&gt;&gt; &gt; University of Leeds, Astbury Building,<br>
&gt;&gt; &gt; Leeds, LS2 9JT, West-Yorkshire, UK             Tel. +44-113-3433024<br>
&gt;&gt; &gt; email: garyt@xxxxxxxxxxxxxxx                   Fax  +44-113-2331407<br>
&gt;&gt; &gt; -------------------------------------------------------------------<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; _______________________________________________<br>
&gt;&gt; &gt; relax (<a  href="http://nmr-relax.com">http://nmr-relax.com</a>)<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; This is the relax-devel mailing list<br>
&gt;&gt; &gt; relax-devel@xxxxxxx<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; To unsubscribe from this list, get a password<br>
&gt;&gt; &gt; reminder, or change your subscription options,<br>
&gt;&gt; &gt; visit the list information page at<br>
&gt;&gt; &gt; <a  href="/mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a><br>
&gt;&gt; &gt;<br>
&gt;&gt;<br>
&gt;<br>
&gt; .<br>
&gt;</tt><br>
<br>
<pre style="margin: 0em;"><br>--
-------------------------------------------------------------------
Dr Gary Thompson
Astbury Centre for Structural Molecular Biology,
University of Leeds, Astbury Building,
Leeds, LS2 9JT, West-Yorkshire, UK             Tel. +44-113-3433024
email: garyt@xxxxxxxxxxxxxxx                   Fax  +44-113-2331407
-------------------------------------------------------------------</pre><br>
<pre style="margin: 0em;"><br></pre><br>
</blockquote><pre style="margin: 0em;"><br>.</pre><br>
</blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">--
-------------------------------------------------------------------
Dr Gary Thompson
Astbury Centre for Structural Molecular Biology,
University of Leeds, Astbury Building,
Leeds, LS2 9JT, West-Yorkshire, UK             Tel. +44-113-3433024
email: garyt@xxxxxxxxxxxxxxx                   Fax  +44-113-2331407
-------------------------------------------------------------------</pre><br>
<pre style="margin: 0em;"><br></pre><br>
<br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00171" href="msg00171.html">Re: r3243 - in /branches/multi_processor: ./ multi/ prompt/	specific_fns/</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00148" href="msg00148.html">Re: r3243 - in /branches/multi_processor: ./ multi/ prompt/	specific_fns/</a></strong>
<ul><li><em>From:</em> Gary S. Thompson</li></ul></li>
<li><strong><a name="00153" href="msg00153.html">Re: r3243 - in /branches/multi_processor: ./ multi/ prompt/	specific_fns/</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00156" href="msg00156.html">Re: r3243 - in /branches/multi_processor: ./ multi/ prompt/	specific_fns/</a></strong>
<ul><li><em>From:</em> Gary S. Thompson</li></ul></li>
<li><strong><a name="00157" href="msg00157.html">Re: r3243 - in /branches/multi_processor: ./ multi/ prompt/	specific_fns/</a></strong>
<ul><li><em>From:</em> gary thompson</li></ul></li>
<li><strong><a name="00159" href="msg00159.html">Re: r3243 - in /branches/multi_processor: ./ multi/ prompt/	specific_fns/</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00162" href="msg00162.html">Re: r3243 - in /branches/multi_processor: ./ multi/ prompt/	specific_fns/</a></strong>
<ul><li><em>From:</em> Gary S. Thompson</li></ul></li>
<li><strong><a name="00165" href="msg00165.html">Re: r3243 - in /branches/multi_processor: ./ multi/ prompt/	specific_fns/</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Mar 30 10:21:13 2007</div>  
</body>
</html>
