<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: r27012 &#45; /branches/nmrglue/test_suite/system_tests/nmrglue.py -->
<!--X-From-R13: "Sqjneq q'Ohiretar" &#60;rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Mon, 08 Dec 2014 15:14:37 +0100 -->
<!--X-Message-Id: CAED9pY8oO5zHwwU8KeLVzMHE7CiDaRfCeUOvJLNhCbjBtHtDTg@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1XxxcS&#45;00053Z&#45;Nu@subversion.gna.org -->
<!--X-Reference: CAED9pY_mHMH1B8Gz5w_QRqvqrgWa+DXr+nM8F6JaxQnquuZDyg@mail.gmail.com -->
<!--X-Reference: CA+CBx2PDF1JMx5hXO1&#45;wDr0+K=amf5+5zwSitOZ73tqpRA_jUA@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: r27012 - /branches/nmrglue/test_suite/system_tests/nmrglue.py -- December 08, 2014 - 15:14</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: r27012 - /branches/nmrglue/test_suite/system_tests/nmrglue.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00046" class="tabs">Index by Date</a> | <a href="threads.html#00046" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00045.html">Date Prev</a>] [<a href="msg00047.html">Date Next</a>] [<a href="msg00045.html">Thread Prev</a>] [<a href="msg00047.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Mon, 8 Dec 2014 15:14:04 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:date:message-id:subject :from:to:cc:content-type; bh=/3XHjdJYWt2aE4vBNCuJS7PgbTf2tS0UxqZuR1lJESw=; b=PYWii9aMJFqODKerI9soIUy24TBGfnyfAYmG5EtJgCQZHjQ6y+bNdWDf0t/EeQ1lvk zl7qrENLdCibFkje3oBtx3uVL6MmXOJH7hA0c2+8bsMeQDVOOjrWAmZDusW25SdYEUiz xjo9pq0QZ5+D81Iz6VYwsY5Oc14YItYYnFFmGsUyn77d5wecFF29UlFkj+uMCAlMZQfC jujS07t2+bJ6pWcfw7ubLMVVLWSdD2I1qDNVzVDMaDSQ8x0yIflFBCYFhyeRiUtuJQxX N5Jl1W71w+fgVvLYwMkjCV1gvF4Gh4Kp93ScGeN1L26PvmSOrw2ifDXPRH3d4qAb3VcX 1fIQ==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00046.html">CAED9pY8oO5zHwwU8KeLVzMHE7CiDaRfCeUOvJLNhCbjBtHtDTg@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1XxxcS-00053Z-Nu@subversion.gna.org&gt; &lt;<a href="msg00043.html">CAED9pY_mHMH1B8Gz5w_QRqvqrgWa+DXr+nM8F6JaxQnquuZDyg@mail.gmail.com</a>&gt; &lt;CA+CBx2PDF1JMx5hXO1-wDr0+K=amf5+5zwSitOZ73tqpRA_jUA@mail.gmail.com&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on December 08, 2014 - 15:14:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Troels,

</pre><blockquote class="blockquote"><pre style="margin: 0em;">I think I will have to leave the implementation in relax.
</pre></blockquote><pre style="margin: 0em;">

Would it take much to get the branch in a reasonable state for merging
back?  Even if not everything is implemented?  Well, apart from
bringing in nmrglue 0.5 when that is released.  I'm sure that in the
future some PhD student or postdoc will appreciate and take up what
you have already done and expand on it.  You've already put a lot of
polish on this, so it'd be a pity to not merge it.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">Time goes away from pursuing the analysis, and goes into rather annoying
stuff.
</pre></blockquote><pre style="margin: 0em;">

With coding, it's a bit hard to know what will be quick and what will
take a lot of time.  It's a problem I have too.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">The idea is simple.
Load one or two spectrum.
Plot the contour, or histogram.
Or make a correlation plot of the two spectra.

Store the data.
</pre></blockquote><pre style="margin: 0em;">

Storing the data in any other format always takes more effort when
combining data from different sources/software.  But this is pretty
much sorted out for the nmrglue data.  You could even store the
nmrglue data in the relax data store as a Base64 string and a new
variable for the ndarray shape, as a shortcut.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">Storing the axis plots is a different question.
<a  rel="nofollow" href="http://stackoverflow.com/questions/7290370/store-and-reload-matplotlib-pyplot-object">http://stackoverflow.com/questions/7290370/store-and-reload-matplotlib-pyplot-object</a>

I cannot actually do it at the moment.
So essentially, it just storing a numpy array
</pre></blockquote><pre style="margin: 0em;">

For matplotlib data, I don't think that storing these data structures
will ever be possible to implement in a compatible way.  The reason is
because matplotlib is too much of a moving target.  They do not have a
stable API!  So I would never recommend that you tackle such a problem
in this way.  That's just asking for pain ;)

There is a much better alternative which would be more compatible with
future matplotlib versions.  And that is that all the information
required to create the matplotlib plot is stored in a pure
data_store.data_classes.Element class container as simple variables
(str, bool, int, float, or a list, tuple or dict of these).  This is
similar to the GUI setting storage.  Then there could be a user
function to recreate the plot using the currently stored settings.
This would work much better.  And it would be orders of magnitude
quicker to implement than working with matplotlib data structures.

Regards,

Edward


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00047" href="msg00047.html">Re: r27012 - /branches/nmrglue/test_suite/system_tests/nmrglue.py</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00043" href="msg00043.html">Re: r27012 - /branches/nmrglue/test_suite/system_tests/nmrglue.py</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00045" href="msg00045.html">Re: r27012 - /branches/nmrglue/test_suite/system_tests/nmrglue.py</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Mon Dec 08 15:40:10 2014</div>  
</body>
</html>
