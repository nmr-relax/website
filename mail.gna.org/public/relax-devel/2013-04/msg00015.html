<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [bug #20674] UnboundLocalError in consistency_tests.py -->
<!--X-From-R13: zratwha.khrNznvyobk.gh&#45;oreyva.qr -->
<!--X-Date: Tue, 02 Apr 2013 18:28:45 +0200 -->
<!--X-Message-Id: 20130402182739.81693jff233mqz97@webmail.tu&#45;berlin.de -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20130328&#45;153752.sv0.83575@gna.org -->
<!--X-Reference: 20130328&#45;153921.sv0.90317@gna.org -->
<!--X-Reference: CAED9pY&#45;Q+&#45;rjWydtD4qmd+HwJorED84tXv_hfMuu=fYxwnzMYQ@mail.gmail.com -->
<!--X-Reference: CAED9pY984Q51_r0CA8cffe+ppz2S&#45;ffDCU__HTP=sxgXHnLXoQ@mail.gmail.com -->
<!--X-Reference: 20130328211044.10782ufmhkg9n26c@webmail.tu&#45;berlin.de -->
<!--X-Reference: CAED9pY&#45;_V+drB7dADOmOqZeGJNg2EcJUPwEpaaswcjSuk2NjEA@mail.gmail.com -->
<!--X-Reference: 20130329180309.11062rkkqtpqn5fx@webmail.tu&#45;berlin.de -->
<!--X-Reference: CAED9pY_hw9SD3VSdcnDANpapo3jGxuULZ&#45;Wtmq34LaHUCZM+Sg@mail.gmail.com -->
<!--X-Reference: 20130402161804.17855c7cn2inj3q4@webmail.tu&#45;berlin.de -->
<!--X-Reference: CAED9pY&#45;4mucmCz&#45;raBuSWtbMs0kS8GrU7YWXhbJLbzaK5CbTDg@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [bug #20674] UnboundLocalError in consistency_tests.py -- April 02, 2013 - 18:28</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: [bug #20674] UnboundLocalError in consistency_tests.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00015" class="tabs">Index by Date</a> | <a href="threads.html#00015" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00014.html">Date Prev</a>] [<a href="msg00016.html">Date Next</a>] [<a href="msg00012.html">Thread Prev</a>] [<a href="msg00016.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 02 Apr 2013 18:27:39 +0200</li>
<li class="menuitem">
<em>Cc</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00015.html">20130402182739.81693jff233mqz97@webmail.tu-berlin.de</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;20130328-153752.sv0.83575@xxxxxxx&gt;	&lt;20130328-153921.sv0.90317@xxxxxxx&gt;	&lt;CAED9pY-Q+-rjWydtD4qmd+HwJorED84tXv_hfMuu=fYxwnzMYQ@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY984Q51_r0CA8cffe+ppz2S-ffDCU__HTP=sxgXHnLXoQ@xxxxxxxxxxxxxx&gt;	&lt;20130328211044.10782ufmhkg9n26c@xxxxxxxxxxxxxxxxxxxx&gt;	&lt;CAED9pY-_V+drB7dADOmOqZeGJNg2EcJUPwEpaaswcjSuk2NjEA@xxxxxxxxxxxxxx&gt;	&lt;20130329180309.11062rkkqtpqn5fx@xxxxxxxxxxxxxxxxxxxx&gt;	&lt;CAED9pY_hw9SD3VSdcnDANpapo3jGxuULZ-Wtmq34LaHUCZM+Sg@xxxxxxxxxxxxxx&gt;	&lt;20130402161804.17855c7cn2inj3q4@xxxxxxxxxxxxxxxxxxxx&gt;	&lt;CAED9pY-4mucmCz-raBuSWtbMs0kS8GrU7YWXhbJLbzaK5CbTDg@xxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Internet Messaging Program (IMP) H3 (4.3.9)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>mengjun . xue</strong> on April 02, 2013 - 18:28:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hi Edward,

</pre><tt>Thank you so much for your explanations, now it is clear for me that  
</tt><tt>the 5 H of the first reside GLY is not from peptide bond, perhaps it  
</tt><tt>is better to deselect the first residue as you suggested. Thank you  
</tt><tt>very much.
</tt><pre style="margin: 0em;">

Regards,

Mengjun




Quoting Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">
Hi,

The script you use is trying to extract the atom with the name 'H'
from the file.  You will not find this for GLY1.  This PDB file has
atoms H1, H2, H3, etc, but no 'H'.  Therefore you won't be able to
define the N-H bond in this way.  Also note that the nitrogen is not
in a peptide bond, and will therefore likely to be charged and carry 2
protons.  In water these protons will be exchanging very quickly and
hence will be invisible in most systems.

Regards,

Edward



On 2 April 2013 16:18,  &lt;mengjun.xue@xxxxxxxxxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">
Hi Edward,

Thank you very much. I am a little bit confused, the pdb file
2QFK_MONOMERHabc5.pdb have been added H by software reduce, I also check the
first residue GLY, which has 5 H atoms. Perhaps I misunderstand your
meanings, do you mean the 2QFK_MONOMERHabc5.pdb file (I have submitted
before)? Thank you.


Regards,

Mengjun


Quoting Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">
Hi Mengjun,

This bug has now been fixed.  The problem was with the very first
residue, as the PDB file has no H atom for it.  Normally this is not
an issue because the first atom should normally not be visible in a
nitrogen HSQC.  So there are 3 ways of fixing the problem.  You could
wait until a new version of relax is released, though this could take
a while as the next version will be the first of a brand new 3.0
release series.  Alternatively you can check out a copy of the relax
trunk as described in the docs
(<a  rel="nofollow" href="http://www.nmr-relax.com/manual/Latest_sources_relax_repositories.html">http://www.nmr-relax.com/manual/Latest_sources_relax_repositories.html</a>).
 Or thirdly, you can deselect your first residue.

Regards,

Edward



On 29 March 2013 18:03,  &lt;mengjun.xue@xxxxxxxxxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Hi Edward,

Thank you so much for your suggestions. I will read it carefully.


Regards,

Mengjun


Quoting Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">
Hi,

The best way would be to read the manual.  Sebastien Morin has written
a nice guide with step-by-step instructions on what you need to do in
the manual.  You will need to read this as there are some manual steps
which relax does not automate for you which you should be aware of.
You should also read Sebastien's paper on the subject
(<a  rel="nofollow" href="http://dx.doi.org/10.1007/s10858-009-9381-4">http://dx.doi.org/10.1007/s10858-009-9381-4</a>).

Regards,

Edward


On 28 March 2013 21:10,  &lt;mengjun.xue@xxxxxxxxxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">


Hi Edward,

Thanks. I have submitted the pdb file. I understand that the
consistency
test is for 2 field nmr data, for example, by comparing the J(0) at 500
MHz
and J(0) at 700 MHz, so I loaded the two field data when using
consistency_tests.py. I am confused that if one field data is loaded in
consistency_tests.py, how can consistency_tests.py check the
consistency
between NMR data at 500 MHz and NMR data at 700 MHz? Thank you.

With best regards,

Mengjun





Quoting Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">
Hi again,

I was wondering if you have read the consistency testing part of the
relax manual written by Sebastien Morin (the person who implemented
this analysis).  Specifically this section:




<a  rel="nofollow" href="http://www.nmr-relax.com/manual/Consistency_testing_script_mode_relaxation_data_lo.html">http://www.nmr-relax.com/manual/Consistency_testing_script_mode_relaxation_data_lo.html</a>

Note the text, &quot;For this analysis, only data for a single field
strength can be loaded&quot;.  This may possibly be the source of some of
your problems.

Regards,

Edward



On 28 March 2013 20:02, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;
wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">



Hi Mengjun,

Could you also attach the PDB file?  I need it to be able to run the
script and replicate the problem.

Cheers,

Edward



On 28 March 2013 16:39, anonymous &lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt;
wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">



Additional Item Attachment, bug #20674 (project relax):

File name: T1 dhp 700.txt                 Size:74 KB
File name: T2 dhp 500.txt                 Size:67 KB
File name: T2 dhp 700.txt                 Size:68 KB
File name: logconsistency                 Size:371 KB


    _______________________________________________________

Reply to this item at:

  &lt;<a  rel="nofollow" href="http://gna.org/bugs/?20674">http://gna.org/bugs/?20674</a>&gt;

_______________________________________________
  Message sent via/by Gna!
  <a  rel="nofollow" href="http://gna.org/">http://gna.org/</a>


_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
</pre></blockquote></blockquote><pre style="margin: 0em;">





</pre></blockquote><pre style="margin: 0em;">


</pre></blockquote><pre style="margin: 0em;">


</pre></blockquote><pre style="margin: 0em;">



</pre></blockquote><pre style="margin: 0em;">


</pre></blockquote><pre style="margin: 0em;">



_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
</pre></blockquote><pre style="margin: 0em;">


</pre></blockquote><pre style="margin: 0em;">





</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00000" href="msg00000.html">Re: [bug #20674] UnboundLocalError in consistency_tests.py</a></strong>
<ul><li><em>From:</em> mengjun . xue</li></ul></li>
<li><strong><a name="00005" href="msg00005.html">Re: [bug #20674] UnboundLocalError in consistency_tests.py</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00010" href="msg00010.html">Re: [bug #20674] UnboundLocalError in consistency_tests.py</a></strong>
<ul><li><em>From:</em> mengjun . xue</li></ul></li>
<li><strong><a name="00012" href="msg00012.html">Re: [bug #20674] UnboundLocalError in consistency_tests.py</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Apr 04 00:00:08 2013</div>  
</body>
</html>
