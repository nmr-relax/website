<!-- MHonArc v2.6.16 -->
<!--X-Subject: r11687 &#45; in /branches/bieri_gui: ./ data/ generic_fns/	generic_fns/structure/	test_suite/shared_data/structures/diff_tensors... -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Thu, 18 Nov 2010 19:10:17 +0100 -->
<!--X-Message-Id: E1PJ8w5&#45;0000pV&#45;TF@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r11687 - in /branches/bieri_gui: ./ data/ generic_fns/	generic_fns/structure/	test_suite/shared_data/structures/diff_tensors... -- November 18, 2010 - 19:10</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r11687 - in /branches/bieri_gui: ./ data/ generic_fns/	generic_fns/structure/	test_suite/shared_data/structures/diff_tensors...</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00024" class="tabs">Index by Date</a> | <a href="threads.html#00024" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00023.html">Date Prev</a>] [<a href="msg00025.html">Date Next</a>] [<a href="msg00023.html">Thread Prev</a>] [<a href="msg00025.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Thu, 18 Nov 2010 18:10:17 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00024.html">E1PJ8w5-0000pV-TF@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on November 18, 2010 - 19:10:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Thu Nov 18 19:10:17 2010
New Revision: 11687

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=11687&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=11687&amp;view=rev</a>
Log:
Merged revisions 11661,11663-11685 via svnmerge from 
svn+ssh://bugman@xxxxxxxxxxx/svn/relax/1.3

........
  r11661 | bugman | 2010-10-25 10:10:42 +0200 (Mon, 25 Oct 2010) | 3 lines
  
  Added 6 system tests for the spheroidal diffusion tensor.
........
  r11663 | bugman | 2010-11-16 18:07:43 +0100 (Tue, 16 Nov 2010) | 5 lines
  
  Fix for the relatively unused calc_tensor_diag() for oblate tensors.
  
  The eigenvalues were incorrectly ordered for oblate spheroids.
........
  r11664 | bugman | 2010-11-17 15:04:52 +0100 (Wed, 17 Nov 2010) | 5 lines
  
  Fix for a failing diffusion tensor unit test.
  
  This was testing an unused element of the diffusion tensor data structure 
incorrectly.
........
  r11665 | bugman | 2010-11-17 16:03:54 +0100 (Wed, 17 Nov 2010) | 5 lines
  
  The rotation matrix for the spheroidal diffusion tensors is now correctly 
generated.
  
  Again this is a fix for currently unused code (it will be used for BMRB 
support though).
........
  r11666 | bugman | 2010-11-17 16:15:35 +0100 (Wed, 17 Nov 2010) | 5 lines
  
  Fixes for the diffusion tensor system tests.
  
  The spheroidal tensors are now correctly checked.
........
  r11667 | bugman | 2010-11-17 16:15:57 +0100 (Wed, 17 Nov 2010) | 3 lines
  
  Removed some debugging code.
........
  r11668 | bugman | 2010-11-17 16:45:32 +0100 (Wed, 17 Nov 2010) | 3 lines
  
  Some rotation matrix check fixes for the diffusion tensor unit tests.
........
  r11669 | bugman | 2010-11-17 16:48:20 +0100 (Wed, 17 Nov 2010) | 3 lines
  
  Dpar_unit is no longer passed into calc_rotation() for spheroidal 
diffusion, as it is not needed.
........
  r11670 | bugman | 2010-11-17 17:01:24 +0100 (Wed, 17 Nov 2010) | 5 lines
  
  Fix for the updating of the rotation and tensor MC sim objects for the 
spheroidal diffusion.
  
  This problem was only recently introduced.
........
  r11671 | bugman | 2010-11-17 17:05:46 +0100 (Wed, 17 Nov 2010) | 3 lines
  
  Similar fix as in r11670, but for setting MC sim data.
........
  r11672 | bugman | 2010-11-17 17:18:29 +0100 (Wed, 17 Nov 2010) | 3 lines
  
  Some more fixes for handling the diffusion tensor data structure 
'spheroid_type' variable properly.
........
  r11673 | bugman | 2010-11-17 19:14:57 +0100 (Wed, 17 Nov 2010) | 5 lines
  
  Fix for the creation of the oblate spheroid geometric object PDB file.
  
  The x and z axes need to be swapped now for the oblate tensor.
........
  r11674 | bugman | 2010-11-17 19:23:43 +0100 (Wed, 17 Nov 2010) | 6 lines
  
  For some reason, the diffusion tensor PDB file for the oblate tensor now 
has a slight rotation.
  
  This rotation is about the unique axis of the tensor, so this gives a 
different PDB file, but the
  representation is the same.
........
  r11675 | bugman | 2010-11-18 13:42:02 +0100 (Thu, 18 Nov 2010) | 3 lines
  
  Some small cosmetic changes to the spheroid diffusion tensor system tests.
........
  r11676 | bugman | 2010-11-18 13:51:23 +0100 (Thu, 18 Nov 2010) | 3 lines
  
  The hardcoded variables in get_spheroid() are now keyword args.
........
  r11677 | bugman | 2010-11-18 14:03:01 +0100 (Thu, 18 Nov 2010) | 3 lines
  
  Added 6 system tests for the initialisation of the prolate spheroid 
diffusion tensor.
........
  r11678 | bugman | 2010-11-18 16:52:49 +0100 (Thu, 18 Nov 2010) | 6 lines
  
  Fix for the spheroid diffusion tensors for a recently introduced bug.
  
  The oblate and prolate check was failing as the 'spheroid_type' variable 
was set to None after a
  call to diffusion_tensor.init().  'spheroid_type' is now automatically 
updated if Da is changed.
........
  r11679 | bugman | 2010-11-18 17:08:23 +0100 (Thu, 18 Nov 2010) | 5 lines
  
  The tensor is first twisted before rotating to PDB frame in the spheroid 
diffusion tensor system tests.
  
  The twisting rotation was not being correctly performed.
........
  r11680 | bugman | 2010-11-18 17:25:40 +0100 (Thu, 18 Nov 2010) | 5 lines
  
  Renamed test_init_spheroid_as_ellipsoid() to 
test_init_prolate_spheroid_as_ellipsoid().
  
  The print outs of the system test have been slightly improved.
........
  r11681 | bugman | 2010-11-18 17:38:09 +0100 (Thu, 18 Nov 2010) | 3 lines
  
  Alphabetical ordering of methods, and shifting of the spheroid to ellipsoid 
checks into a separate method.
........
  r11682 | bugman | 2010-11-18 18:20:02 +0100 (Thu, 18 Nov 2010) | 3 lines
  
  Added a new system test test_init_oblate_spheroid_as_ellipsoid().
........
  r11683 | bugman | 2010-11-18 18:25:51 +0100 (Thu, 18 Nov 2010) | 5 lines
  
  Fix for the ellipsoid eigenvalue and rotation matrix reordering for when 2 
eigenvalues are the same.
  
  This only affects the (Dxx, Dyy, Dzz, Dxy, Dxz, Dyz) parameter input into 
diffusion_tensor.init().
........
  r11684 | bugman | 2010-11-18 18:29:29 +0100 (Thu, 18 Nov 2010) | 5 lines
  
  Fix for the eigenvalue and rotation matrix sorting for (Dxx, Dyy, Dzz, Dxy, 
Dxz, Dyz).
  
  The eigenvalues were being converted to ints!
........
  r11685 | bugman | 2010-11-18 18:53:39 +0100 (Thu, 18 Nov 2010) | 6 lines
  
  Final bug fix for the input of (Dxx, Dyy, Dzz, Dxy, Dxz, Dyz) ellipsoidal 
diffusion parameters.
  
  The numpy eigenvalue decomposition has been replaced by SVD as the 
eigenvalue decomposition could
  generate a proper rotation matrix when 2 eigenvalues are the same.  The 
test suite now passes fully.
........

Modified:
    branches/bieri_gui/   (props changed)
    branches/bieri_gui/data/diff_tensor.py
    branches/bieri_gui/generic_fns/diffusion_tensor.py
    branches/bieri_gui/generic_fns/structure/geometric.py
    
branches/bieri_gui/test_suite/shared_data/structures/diff_tensors/spheroid.pdb
    branches/bieri_gui/test_suite/system_tests/diffusion_tensor.py
    branches/bieri_gui/test_suite/unit_tests/_data/test_diff_tensor.py

[This mail would be too long, it was shortened to contain the URLs only.]

Modified: branches/bieri_gui/data/diff_tensor.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/bieri_gui/data/diff_tensor.py?rev=11687&amp;r1=11686&amp;r2=11687&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/bieri_gui/data/diff_tensor.py?rev=11687&amp;r1=11686&amp;r2=11687&amp;view=diff</a>

Modified: branches/bieri_gui/generic_fns/diffusion_tensor.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/bieri_gui/generic_fns/diffusion_tensor.py?rev=11687&amp;r1=11686&amp;r2=11687&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/bieri_gui/generic_fns/diffusion_tensor.py?rev=11687&amp;r1=11686&amp;r2=11687&amp;view=diff</a>

Modified: branches/bieri_gui/generic_fns/structure/geometric.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/bieri_gui/generic_fns/structure/geometric.py?rev=11687&amp;r1=11686&amp;r2=11687&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/bieri_gui/generic_fns/structure/geometric.py?rev=11687&amp;r1=11686&amp;r2=11687&amp;view=diff</a>

Modified: 
branches/bieri_gui/test_suite/shared_data/structures/diff_tensors/spheroid.pdb
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/bieri_gui/test_suite/shared_data/structures/diff_tensors/spheroid.pdb?rev=11687&amp;r1=11686&amp;r2=11687&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/bieri_gui/test_suite/shared_data/structures/diff_tensors/spheroid.pdb?rev=11687&amp;r1=11686&amp;r2=11687&amp;view=diff</a>

Modified: branches/bieri_gui/test_suite/system_tests/diffusion_tensor.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/bieri_gui/test_suite/system_tests/diffusion_tensor.py?rev=11687&amp;r1=11686&amp;r2=11687&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/bieri_gui/test_suite/system_tests/diffusion_tensor.py?rev=11687&amp;r1=11686&amp;r2=11687&amp;view=diff</a>

Modified: branches/bieri_gui/test_suite/unit_tests/_data/test_diff_tensor.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/bieri_gui/test_suite/unit_tests/_data/test_diff_tensor.py?rev=11687&amp;r1=11686&amp;r2=11687&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/bieri_gui/test_suite/unit_tests/_data/test_diff_tensor.py?rev=11687&amp;r1=11686&amp;r2=11687&amp;view=diff</a>



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Nov 19 15:00:02 2010</div>  
</body>
</html>
