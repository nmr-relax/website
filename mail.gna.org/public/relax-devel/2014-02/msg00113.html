<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: r22214 &#45;	/trunk/test_suite/unit_tests/_specific_analyses/_relax_disp/test_disp_data.py -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Wed, 19 Feb 2014 17:33:08 +0100 -->
<!--X-Message-Id: CAED9pY9qi9RurifCyd7H9DfUuG1HUHUu_MrBVdC1p6W=ao0myQ@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1WG9vr&#45;00024M&#45;NL@subversion.gna.org -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: r22214 -	/trunk/test_suite/unit_tests/_specific_analyses/_relax_disp/test_disp_data.py -- February 19, 2014 - 17:33</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: r22214 -	/trunk/test_suite/unit_tests/_specific_analyses/_relax_disp/test_disp_data.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00113" class="tabs">Index by Date</a> | <a href="threads.html#00113" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00112.html">Date Prev</a>] [<a href="msg00114.html">Date Next</a>] [<a href="msg00110.html">Thread Prev</a>] [<a href="msg00114.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Wed, 19 Feb 2014 17:32:36 +0100</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:sender:in-reply-to:references:date:message-id:subject	:from:to:content-type;	bh=33pe2RINA7VcPJpR+5NqwZAcfU3Qcwk0Pu1kWdlQmIs=;	b=N/ecZCZQ5yx976goEVwdg05c5qlWaS8pADIbQxzlr7CHu6zV7f5X5zL7A9DNvWaSdQ	KDe1SgJtFSTGJmmZqLVVqF46IpOUqS/VZu8dlTYL/0qRd2K0V+xu8ibsMPlJYfFfqrD5	N+7eOTU3MBwHuq3m5YqKEjz6bWRa4ChTd1baRzdsqFprkojwWZHHZSs3mAvZCCHKxMEu	1WEzKY116VlkSn1WDzcge/yyidMNAlUo4zu1XbDT3XmfH1TBLMALJ4idvaYdKQHexV3s	PJWNMwCsD0/pyMm34HVULCdmLet7fSozAtuYUzYq1yhUC0CZSkpF5aOytxsOU3G1L8bE	tdCA==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00113.html">CAED9pY9qi9RurifCyd7H9DfUuG1HUHUu_MrBVdC1p6W=ao0myQ@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1WG9vr-00024M-NL@xxxxxxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on February 19, 2014 - 17:33:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Troels,

It would be better to name unit tests something to do with the
function they are testing.  To see the convention used, type:

$ cd test_suite/unit_tests
$ grep &quot;def test&quot; -r .

You will see that it is often the convention that when testing the
function X(), the test name will be test_X_*().  The text at the '*'
position is then a short optional word or two describing what the test
is doing, and is mainly used when there are multiple unit tests of the
same function.  If there is only one test for the X() function, the
test will be simply called test_X().  For more ideas on this, see for
example the cleanly presented
test_suite/unit_tests/align_tensor_testing_base.py file.

Cheers,

Edward

On 19 February 2014 17:23,  &lt;tlinnet@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Author: tlinnet
Date: Wed Feb 19 17:23:35 2014
New Revision: 22214

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=22214&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=22214&amp;view=rev</a>
Log:
Implemented unit test for catching the correct return of 
loop_exp_frq_offset_point_time.

Regarding bug #21665, (<a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/bugs/?21665">https://gna.org/bugs/?21665</a>) - Running a CPMG 
analysis with two fields at two delay times.

Modified:
    
trunk/test_suite/unit_tests/_specific_analyses/_relax_disp/test_disp_data.py

Modified: 
trunk/test_suite/unit_tests/_specific_analyses/_relax_disp/test_disp_data.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/test_suite/unit_tests/_specific_analyses/_relax_disp/test_disp_data.py?rev=22214&amp;r1=22213&amp;r2=22214&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/test_suite/unit_tests/_specific_analyses/_relax_disp/test_disp_data.py?rev=22214&amp;r1=22213&amp;r2=22214&amp;view=diff</a>
==============================================================================
--- 
trunk/test_suite/unit_tests/_specific_analyses/_relax_disp/test_disp_data.py
 (original)
+++ 
trunk/test_suite/unit_tests/_specific_analyses/_relax_disp/test_disp_data.py
 Wed Feb 19 17:23:35 2014
@@ -38,3 +38,31 @@

         # Create a dispersion data pipe.
         ds.add(pipe_name='orig', pipe_type='relax_disp')
+
+
+    def test_bug_21665_cpmg_two_fields_two_delaytimes_fail_calc(self):
+        &quot;&quot;&quot;U{Bug #21665&lt;<a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/bugs/?21665">https://gna.org/bugs/?21665</a>&gt;} catch, the failure 
due to a a CPMG analysis recorded at two fields at two delay times, using 
calc().&quot;&quot;&quot;
+
+        # Load the state.
+        statefile = status.install_path + 
sep+'test_suite'+sep+'shared_data'+sep+'dispersion'+sep+'bug_21665.bz2'
+        state.load_state(statefile, force=True)
+
+        # Original data
+        ncyc_1 = [20, 16, 10, 36, 2, 12, 4, 22, 18, 40, 14, 26, 8, 32, 24, 
6, 28]
+        sfrq_1 = 499.86214*1E6
+        time_T2_1 = 0.04
+        cpmg_1 = [ncyc/time_T2_1 for ncyc in ncyc_1]
+        cpmg_1.sort()
+
+        ncyc_2 = [28, 4, 32, 60, 2, 10, 16, 8, 20, 52, 18, 40, 6, 12, 24, 
14]
+        sfrq_2 = 599.8908587*1E6
+        time_T2_2 = 0.06
+        cpmg_2 = [ncyc/time_T2_2 for ncyc in ncyc_2]
+        cpmg_2.sort()
+
+        # Test the loop function.
+        for exp_type, frq, offset, point, time, ei, mi, oi, di, ti in 
loop_exp_frq_offset_point_time(return_indices=True):
+            if frq == sfrq_1:
+                self.assertEqual(time, time_T2_1)
+            if frq == sfrq_2:
+                self.assertEqual(time, time_T2_2)


_______________________________________________
relax (<a  rel="nofollow" href="/">http://www.nmr-relax.com</a>)

This is the relax-commits mailing list
relax-commits@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="/mail.gna.org/listinfo/relax-commits">https://mail.gna.org/listinfo/relax-commits</a>
</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Feb 19 18:40:17 2014</div>  
</body>
</html>
