<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: r8697	&#45;	/branches/relax_disp/test_suite/system_tests/scripts/relax_disp_cpmg_fast.py -->
<!--X-From-R13: Eéonfgvra [beva <fronfgvra.zbeva.1Nhyniny.pn> -->
<!--X-Date: Wed, 28 Jan 2009 19:56:56 +0100 -->
<!--X-Message-Id: 4980AA72.5090506@ulaval.ca -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1LSCxX&#45;0002D0&#45;RV@subversion.gna.org -->
<!--X-Reference: 7f080ed10901280933k21286907ha918178f5803ef21@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: r8697	-	/branches/relax_disp/test_suite/system_tests/scripts/relax_disp_cpmg_fast.py -- January 28, 2009 - 19:56</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: r8697	-	/branches/relax_disp/test_suite/system_tests/scripts/relax_disp_cpmg_fast.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00135" class="tabs">Index by Date</a> | <a href="threads.html#00135" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00134.html">Date Prev</a>] [<a href="msg00136.html">Date Next</a>] [<a href="msg00133.html">Thread Prev</a>] [<a href="msg00137.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Wed, 28 Jan 2009 13:56:50 -0500</li>
<li class="menuitem">
<em>Cc</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00135.html">4980AA72.5090506@ulaval.ca</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1LSCxX-0002D0-RV@xxxxxxxxxxxxxxxxxx&gt;	&lt;7f080ed10901280933k21286907ha918178f5803ef21@xxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Thunderbird 2.0.0.19 (X11/20081231)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Sébastien Morin</strong> on January 28, 2009 - 19:56:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Ed,

You're right. We should allow people to do what they want...

That means that we will have to test for single- and multiple-field
curve fitting...

Ciao !


Séb 



Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

I didn't think relaxation dispersion at 1 field strength was a good
idea.  But we shouldn't put any specific blocks to what people can do
with relax.  For normal model-free analysis, the user is allowed to do
what they like and screw up their analysis in an innumerable number of
ways!

As for identifying the field strength, all of this can be done through
the 'id' tags.  frq.set() uses this and so any id tag can be
associated with a frequency.  Then anything else that requires
frequency can be associated with one of these id labels.  For most of
the user functions you mention, this infrastructure is already in
place.

Regards,

Edward


On Wed, Jan 28, 2009 at 5:08 PM,  &lt;sebastien.morin.1@xxxxxxxxx&gt; wrote:
  
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Author: semor
Date: Wed Jan 28 17:08:11 2009
New Revision: 8697

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=8697&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=8697&amp;view=rev</a>
Log:
Started to make changes for multiple field relaxation disperison analysis.

This seems necessary, so maybe we should not support single field analysis 
of relaxation dispersion
at all.

-&gt; Kovrigin et al. (2006) JMagRes, 180: 93-104.

...

The changes made here are only a first draft and may not work. In 
particular, maybe the
spectrum.read_intensities(), relax_disp.cpmg_frq(), spectrum.replicated(),
spectrum.error_analysis(), and deselect.read() functions will need to know 
the magnetic field to
which the particular dataset is associated...

In fact, the different datasets should be input first and their R2eff 
calculated indepentantly. In
a second step, the actual relaxation dispersion curve fitting should be 
made with all data.


Modified:
   
branches/relax_disp/test_suite/system_tests/scripts/relax_disp_cpmg_fast.py

Modified: 
branches/relax_disp/test_suite/system_tests/scripts/relax_disp_cpmg_fast.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/test_suite/system_tests/scripts/relax_disp_cpmg_fast.py?rev=8697&amp;r1=8696&amp;r2=8697&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/relax_disp/test_suite/system_tests/scripts/relax_disp_cpmg_fast.py?rev=8697&amp;r1=8696&amp;r2=8697&amp;view=diff</a>
==============================================================================
--- 
branches/relax_disp/test_suite/system_tests/scripts/relax_disp_cpmg_fast.py
 (original)
+++ 
branches/relax_disp/test_suite/system_tests/scripts/relax_disp_cpmg_fast.py
 Wed Jan 28 17:08:11 2009
@@ -7,7 +7,8 @@
 pipe.create('rex', 'relax_disp')

 # The path to the data files.
-data_path = sys.path[-1] + 
'/test_suite/shared_data/curve_fitting_disp/Hansen/500_MHz'
+data_path_1 = sys.path[-1] + 
'/test_suite/shared_data/curve_fitting_disp/Hansen/500_MHz'
+data_path_2 = sys.path[-1] + 
'/test_suite/shared_data/curve_fitting_disp/Hansen/800_MHz'

 # Load the sequence.
 sequence.read('fake_sequence.in', dir=sys.path[-1] + 
'/test_suite/shared_data/curve_fitting_disp/Hansen')
@@ -23,6 +24,7 @@

 # Relaxation dispersion magnetic field (in Hz).
 frq.set(id='500', frq=500.0 * 1e6)
+frq.set(id='800', frq=800.0 * 1e6)

 # Spectrum names.
 names = [
@@ -49,6 +51,7 @@

 # Relaxation dispersion CPMG constant time delay T (in s).
 relax_disp.cpmg_delayT(id='500', delayT=0.030)
+relax_disp.cpmg_delayT(id='800', delayT=0.030)

 # Relaxation dispersion CPMG frequencies (in Hz).
 cpmg_frq = [
@@ -76,7 +79,8 @@
 # Loop over the spectra.
 for i in xrange(len(names)):
    # Load the peak intensities.
-    spectrum.read_intensities(file=names[i], dir=data_path, 
spectrum_id=names[i], int_method='height')
+    spectrum.read_intensities(file=names[i], dir=data_path_1, 
spectrum_id=names[i], int_method='height')
+    spectrum.read_intensities(file=names[i], dir=data_path_2, 
spectrum_id=names[i], int_method='height')

    # Set the relaxation dispersion CPMG frequencies.
    relax_disp.cpmg_frq(cpmg_frq=cpmg_frq[i], spectrum_id=names[i])
@@ -90,7 +94,8 @@
 spectrum.error_analysis()

 # Deselect unresolved spins.
-deselect.read(file='unresolved', dir=data_path)
+deselect.read(file='unresolved', dir=data_path_1)
+deselect.read(file='unresolved', dir=data_path_2)

 # Grid search.
 grid_search(inc=11)


_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-commits mailing list
relax-commits@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-commits">https://mail.gna.org/listinfo/relax-commits</a>

    
</pre></blockquote><pre style="margin: 0em;">

_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>

  
</pre></blockquote><pre style="margin: 0em;">



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00137" href="msg00137.html">Re: r8697 -	/branches/relax_disp/test_suite/system_tests/scripts/relax_disp_cpmg_fast.py</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00133" href="msg00133.html">Re: r8697 -	/branches/relax_disp/test_suite/system_tests/scripts/relax_disp_cpmg_fast.py</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Jan 29 09:40:38 2009</div>  
</body>
</html>
