<!-- MHonArc v2.6.16 -->
<!--X-Subject: r12329 &#45; in /branches/bieri_gui: ./ prompt/interpreter.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Thu, 13 Jan 2011 16:59:54 +0100 -->
<!--X-Message-Id: E1PdPac&#45;0006mv&#45;J2@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r12329 - in /branches/bieri_gui: ./ prompt/interpreter.py -- January 13, 2011 - 16:59</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r12329 - in /branches/bieri_gui: ./ prompt/interpreter.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00269" class="tabs">Index by Date</a> | <a href="threads.html#00269" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00268.html">Date Prev</a>] [<a href="msg00270.html">Date Next</a>] [<a href="msg00268.html">Thread Prev</a>] [<a href="msg00270.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Thu, 13 Jan 2011 15:59:54 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00269.html">E1PdPac-0006mv-J2@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on January 13, 2011 - 16:59:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Thu Jan 13 16:59:54 2011
New Revision: 12329

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=12329&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=12329&amp;view=rev</a>
Log:
Merged revisions 12328 via svnmerge from 
svn+ssh://bugman@xxxxxxxxxxx/svn/relax/1.3

........
  r12328 | bugman | 2011-01-13 16:59:12 +0100 (Thu, 13 Jan 2011) | 6 lines
  
  Fix for running scripts in certain versions of python.
  
  If a file with the same name as the script lies in one of the paths in 
sys.path, then that file will
  be executed rather than the script.  This affects only certain python 
versions.
........

Modified:
    branches/bieri_gui/   (props changed)
    branches/bieri_gui/prompt/interpreter.py

Propchange: branches/bieri_gui/
------------------------------------------------------------------------------
--- svnmerge-integrated (original)
+++ svnmerge-integrated Thu Jan 13 16:59:54 2011
@@ -1,1 +1,1 @@
-/1.3:1-12320
+/1.3:1-12328

Modified: branches/bieri_gui/prompt/interpreter.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/bieri_gui/prompt/interpreter.py?rev=12329&amp;r1=12328&amp;r2=12329&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/bieri_gui/prompt/interpreter.py?rev=12329&amp;r1=12328&amp;r2=12329&amp;view=diff</a>
==============================================================================
--- branches/bieri_gui/prompt/interpreter.py (original)
+++ branches/bieri_gui/prompt/interpreter.py Thu Jan 13 16:59:54 2011
@@ -367,6 +367,10 @@
 
     # Execute the module.
     try:
+        # Reverse the system path so that the script path is first.
+        sys.path.reverse()
+
+        # Execute the script as a module.
         runpy.run_module(module, globals)
     finally:
         # Switch back to the original working directory.
@@ -374,6 +378,7 @@
             chdir(orig_dir)
 
         # Remove the script path.
+        sys.path.reverse()
         sys.path.pop(sys.path.index(script_path))
 
     # Unlock execution if needed.



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Jan 14 13:40:02 2011</div>  
</body>
</html>
