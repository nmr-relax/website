<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: r11349 &#45; /branches/bieri_gui/auto_analyses/relax_fit.py -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 27 Jul 2010 09:37:11 +0200 -->
<!--X-Message-Id: AANLkTi=hESxZacjf63W0ECJYdMnpWw=8YdWXws9Fmqw0@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1OdZMp&#45;0000Ja&#45;2f@subversion.gna.org -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: r11349 - /branches/bieri_gui/auto_analyses/relax_fit.py -- July 27, 2010 - 09:37</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: r11349 - /branches/bieri_gui/auto_analyses/relax_fit.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00014" class="tabs">Index by Date</a> | <a href="threads.html#00014" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00013.html">Date Prev</a>] [<a href="msg00015.html">Date Next</a>] [<a href="msg00013.html">Thread Prev</a>] [<a href="msg00015.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Tue, 27 Jul 2010 09:36:33 +0200</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00014.html">AANLkTi=hESxZacjf63W0ECJYdMnpWw=8YdWXws9Fmqw0@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1OdZMp-0000Ja-2f@xxxxxxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on July 27, 2010 - 09:37:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Michael,

Again I have highlighted a few points to address below.


On 27 July 2010 03:54,  &lt;michael.bieri@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Author: michaelbieri
Date: Tue Jul 27 03:54:02 2010
New Revision: 11349

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=11349&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=11349&amp;view=rev</a>
Log:
Directory for saving files can be specified.

Default is None. Grace files will be saved in subdirectory 'grace'.

Modified:
   branches/bieri_gui/auto_analyses/relax_fit.py

Modified: branches/bieri_gui/auto_analyses/relax_fit.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/bieri_gui/auto_analyses/relax_fit.py?rev=11349&amp;r1=11348&amp;r2=11349&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/bieri_gui/auto_analyses/relax_fit.py?rev=11349&amp;r1=11348&amp;r2=11349&amp;view=diff</a>
==============================================================================
--- branches/bieri_gui/auto_analyses/relax_fit.py (original)
+++ branches/bieri_gui/auto_analyses/relax_fit.py Tue Jul 27 03:54:02 2010
@@ -29,13 +29,15 @@


 class Relax_fit:
-    def __init__(self, filename='rx', pipe_name='rx', seq_args=None, 
file_names=None, relax_times=None, pdb_file=None, view_plots=True, 
int_method='height', mc_num=500):
+    def __init__(self, filename='rx', pipe_name='rx', results_directory = 
None, seq_args=None, file_names=None, relax_times=None, pdb_file=None, 
view_plots=True, int_method='height', mc_num=500):
</pre></blockquote><pre style="margin: 0em;">

Here there should be no space around the '=' character in
'results_directory = None'.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">        &quot;&quot;&quot;Perform relaxation curve fitting.

        @keyword filename:      Name of the output file.
        @type filename:         str
        @keyword pipe_name:     The name of the data pipe to create.
        @type pipe_name:        str
+        @keyword directory:     The directory, where results files are 
saved.
+        @type directory:        str
</pre></blockquote><pre style="margin: 0em;">

This is a documentation bug, as the argument is called results_directory.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">        @keyword seq_args:      The sequence data (file name, dir, 
mol_name_col, res_num_col, res_name_col, spin_num_col, spin_name_col, sep). 
 These are the arguments to the  sequence.read() user function, for more 
information please see the documentation for that function.
        @type seq_args:         list of lists of [str, None or str, None or 
int, None or int, None or int, None or int, None or int, None or int, None 
or int, None or str]
        @keyword file_names:    A list of all the peak list file names.
@@ -55,6 +57,11 @@
        # Store the args.
        self.filename = filename
        self.pipe_name = pipe_name
+        self.results_directory = results_directory
+        if results_directory:
+            self.grace_dir = results_directory+sep+'grace'
+        else:
+            self.grace_dir = None
</pre></blockquote><pre style="margin: 0em;">

I would suggest passing in the 'grace_dir' argument, which could
default to &quot;grace_dir='grace'&quot;.  Having the directory 'grace' when the
results_directory is given but not when that arg is None is
inconsistent.  In any case, the behaviour should be described in the
docstring so someone using the code will get what the expect.

Cheers,

Edward


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Jul 27 10:00:21 2010</div>  
</body>
</html>
