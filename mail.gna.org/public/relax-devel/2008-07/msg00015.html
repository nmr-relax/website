<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: r6673 &#45; /1.3/sample_scripts/consistency_tests.py -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Fri, 04 Jul 2008 17:21:14 +0200 -->
<!--X-Message-Id: 7f080ed10807040754x75f30eaco7f68d14c770815ec@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1KEmPu&#45;0007WD&#45;3h@subversion.gna.org -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: r6673 - /1.3/sample_scripts/consistency_tests.py -- July 04, 2008 - 17:21</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: r6673 - /1.3/sample_scripts/consistency_tests.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00015" class="tabs">Index by Date</a> | <a href="threads.html#00015" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00014.html">Date Prev</a>] [<a href="msg00016.html">Date Next</a>] [<a href="msg00005.html">Thread Prev</a>] [<a href="msg00017.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Fri, 4 Jul 2008 16:54:24 +0200</li>
<li class="menuitem">
<em>Cc</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00015.html">7f080ed10807040754x75f30eaco7f68d14c770815ec@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1KEmPu-0007WD-3h@xxxxxxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on July 04, 2008 - 17:21:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Seb,

It looks like this script should now run.  One thing that is happening
with the sample scripts in the 1.3 line is that copyright notices are
being added.  The point isn't for legal reasons, it's just so that the
user of the script can see who wrote the script.  For example if relax
users submit scripts that others could benefit from, their names will
be credited within the script.  Importantly this also allows the user
to see how old the file is through the copyright date.  And you can
also identify immediately that this is a relax script.  So if you
could add a notice for yourself, that would be appreciated.

Cheers,

Edward




On Fri, Jul 4, 2008 at 4:37 PM,  &lt;sebastien.morin.1@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Author: semor
Date: Fri Jul  4 16:37:40 2008
New Revision: 6673

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=6673&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=6673&amp;view=rev</a>
Log:
Some changes towards the new design.

The script doesn't work yet and will be introduced into the test suite for 
further debugging.


Modified:
   1.3/sample_scripts/consistency_tests.py

Modified: 1.3/sample_scripts/consistency_tests.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/1.3/sample_scripts/consistency_tests.py?rev=6673&amp;r1=6672&amp;r2=6673&amp;view=diff">http://svn.gna.org/viewcvs/relax/1.3/sample_scripts/consistency_tests.py?rev=6673&amp;r1=6672&amp;r2=6673&amp;view=diff</a>
==============================================================================
--- 1.3/sample_scripts/consistency_tests.py (original)
+++ 1.3/sample_scripts/consistency_tests.py Fri Jul  4 16:37:40 2008
@@ -4,43 +4,44 @@
 name = 'consistency'
 pipe.create(name, 'ct')

-# Nuclei type
-nuclei('N')
-
 # Load the sequence.
-sequence.read(name, 'noe.600.out')
+sequence.read('noe.600.out')

 # Load the relaxation data.
-relax_data.read(name, 'R1', '600', 600.0 * 1e6, 'r1.600.out')
-relax_data.read(name, 'R2', '600', 600.0 * 1e6, 'r2.600.out')
-relax_data.read(name, 'NOE', '600', 600.0 * 1e6, 'noe.600.out')
+relax_data.read('R1', '600', 600.0 * 1e6, 'r1.600.out')
+relax_data.read('R2', '600', 600.0 * 1e6, 'r2.600.out')
+relax_data.read('NOE', '600', 600.0 * 1e6, 'noe.600.out')
+
+# Set the nuclei types
+value.set('15N', 'heteronucleus')
+value.set('1H', 'proton')

 # Set the bond length and CSA values.
-value.set(name, 1.02 * 1e-10, 'bond_length')
-value.set(name, -172 * 1e-6, 'csa')
+value.set(1.02 * 1e-10, 'bond_length')
+value.set(-172 * 1e-6, 'csa')

 # Set the angle between the 15N-1H vector and the principal axis of the 
15N chemical shift tensor
-value.set(name, 15.7, 'orientation')
+value.set(15.7, 'orientation')

 # Set the approximate correlation time.
-value.set(name, 13 * 1e-9, 'tc')
+value.set(13 * 1e-9, 'tc')

 # Set the frequency.
-consistency_tests.set_frq(name, frq=600.0 * 1e6)
+consistency_tests.set_frq(frq=600.0 * 1e6)

 # Consistency tests.
-calc(name)
+calc()

 # Monte Carlo simulations.
-monte_carlo.setup(name, number=500)
-monte_carlo.create_data(name)
-calc(name)
-monte_carlo.error_analysis(name)
+monte_carlo.setup(number=500)
+monte_carlo.create_data()
+calc()
+monte_carlo.error_analysis()

 # Create grace files.
-grace.write(name, y_data_type='j0', file='j0.agr', force=1)
-grace.write(name, y_data_type='f_eta', file='f_eta.agr', force=1)
-grace.write(name, y_data_type='f_r2', file='f_r2.agr', force=1)
+grace.write(y_data_type='j0', file='j0.agr', force=True)
+grace.write(y_data_type='f_eta', file='f_eta.agr', force=True)
+grace.write(y_data_type='f_r2', file='f_r2.agr', force=True)

 # View the grace files.
 grace.view(file='j0.agr')
@@ -48,5 +49,5 @@
 grace.view(file='f_r2.agr')

 # Finish.
-results.write(run=name, file='results', force=1)
-state.save('save', force=1)
+results.write(file='results', force=True)
+state.save('save', force=True)


_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-commits mailing list
relax-commits@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-commits">https://mail.gna.org/listinfo/relax-commits</a>

</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Jul 04 19:21:59 2008</div>  
</body>
</html>
