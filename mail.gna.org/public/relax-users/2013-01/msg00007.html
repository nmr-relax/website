<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Stage 2 of palmer.py -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 08 Jan 2013 11:19:57 +0100 -->
<!--X-Message-Id: CAED9pY&#45;xpTw37djrH5K9saSZ8L8VWsvNRC0a_YPWfcRfwVb9Hw@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 40feeecc6ebe4d239efdb96e9f6e1e6b.squirrel@webmail.andrew.cmu.edu -->
<!--X-Reference: CAED9pY_aUzPH0OkZhTc2H=trV1VZ074XMcfT8SHYmKH5Bq6T3Q@mail.gmail.com -->
<!--X-Reference: CAKCFyjJ+YWTWwppqN36Av_ooEE+K9FDpx&#45;iC9zOqaMHmK6Rv7A@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Stage 2 of palmer.py -- January 08, 2013 - 11:19</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Stage 2 of palmer.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00007" class="tabs">Index by Date</a> | <a href="threads.html#00007" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00006.html">Date Prev</a>] [<a href="msg00008.html">Date Next</a>] [<a href="msg00009.html">Thread Prev</a>] [<a href="msg00001.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Shantanu Bhattacharyya &lt;esesbee83@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 8 Jan 2013 11:19:27 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:x-received:sender:in-reply-to:references:date	:x-google-sender-auth:message-id:subject:from:to:cc:content-type;	bh=A9c6MUFne5vRNU7S8T10eTm86SlHwjSvPwtjNMBJP38=;	b=vhaWEJfMGUmm0fl5e8XwakCXFwD5uuRS0VqRAjqhvIbybm3hZohy2AZbugWsCvNXmi	uOkzysGQMHBGHZfzU1cJEaKHU7FVrwOdA5uiHhiYA0sQRYJweJRwQ4Wv593vN5NRh4N9	cYle0w1Raa/PhLnzmIeq0/Zk9OWC/a8n22iEpGDswnz4EvAxQAO9k0rUMfeptnvTDEHA	d73mp0JdVWq2hA9uk9RS9fdiaQwvYnoIQbIczQCUCYyymBwXsb9FGG5MDaEF+i9Y0JF1	ojpVlpOX6Wd2HqH4HxwzL+n0u8fNj9hKrlYGvlqj9lm24MxAWoOcSjUJlQG7G5XJrjo8	h8+A==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00007.html">CAED9pY-xpTw37djrH5K9saSZ8L8VWsvNRC0a_YPWfcRfwVb9Hw@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;40feeecc6ebe4d239efdb96e9f6e1e6b.squirrel@xxxxxxxxxxxxxxxxxxxxxx&gt;	&lt;CAED9pY_aUzPH0OkZhTc2H=trV1VZ074XMcfT8SHYmKH5Bq6T3Q@xxxxxxxxxxxxxx&gt;	&lt;CAKCFyjJ+YWTWwppqN36Av_ooEE+K9FDpx-iC9zOqaMHmK6Rv7A@xxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on January 08, 2013 - 11:19:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Thanks a lot for your reply and sorry for the delayed response.
</pre></blockquote><pre style="margin: 0em;">

Yours was a delayed response?  It didn't seem so to me ;)


</pre><blockquote class="blockquote"><pre style="margin: 0em;">1. You guessed absolutely correctly that I don't have data for the second
magnetic field yet. Having said that, I do have access to the 500 MHz magnet
except that my data with the 600 Mhz machine (with cryoprobe) was not too
great. I am worried about the quality of data from the 500 MHz non cryoprobe
spec.
</pre></blockquote><pre style="margin: 0em;">

500 MHz non-cryoprobe might take longer to collect good data for (1.5
weeks maybe), but it should still be fine if you perform proper
per-experiment temperature calibration and control
(<a  rel="nofollow" href="http://www.nmr-relax.com/manual/Temperature_control_calibration.html">http://www.nmr-relax.com/manual/Temperature_control_calibration.html</a>).
 I would highly recommend collecting data at two field strengths as
that is almost considered essential today.  There is so much
literature on the problems of single field strength data.  A summary
and references to all this literature can be found in my 2007 paper
(<a  rel="nofollow" href="http://www.nmr-relax.com/refs.html#dAuvergneGooley07">http://www.nmr-relax.com/refs.html#dAuvergneGooley07</a>).  With multiple
field strength data you are then able to take advantage of the
advanced protocol I developed in the 2007 and 2008 papers through the
dauvergne_protocol.py script.  This script is automatic and will makes
life much easier.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">2. I am indeed running the latest version of relax (2.1.2). The stage 2 of
palmer.py keeps failing as I reported in my original email. I believe it
might have something to do with the naming of the spin ids. it is just a
hunch though. I am using only residue numbers as yet instead of actual
residue names.
</pre></blockquote><pre style="margin: 0em;">

This is then a clear bug.  Would you be able to submit a bug report
for this?  The link is <a  rel="nofollow" href="https://gna.org/bugs/?func=additem&amp;group=relax">https://gna.org/bugs/?func=additem&amp;group=relax</a>.
 The more information included the better.  Ideally, if you could
create a subset of the data with 2 residues which still triggers the
bug and attach this data, the relax script, and a PDB file of those 2
residues if needed to the bug report.  I will then be able to very
quickly reproduce the bug, include the data and script in the relax
test suite, and should have a bug fix within 5 minutes.  Cheers!  You
can slightly randomise the data if you would like to keep it
confidential.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">3. I got the farthest by running mf_multimodel.py followed by modsel.py. I
am confused though about the diffusion tensor optimization part. If I run
the script, how will the script know about the model selection and and
elimination process that has already taken place. Is there a way I can tell
that to the diff_min.py to not worry about selection and elimination but use
the results from modsel.py ? Can I load the results ?
</pre></blockquote><pre style="margin: 0em;">

The new diff_min.py script in the relax repository is a combination of
the concepts in mf_multimodel.py and modsel.py with a final diffusion
tensor optimisation added.  It is a direct subset of the algorithm in
the figure of the new protocol I developed at
<a  rel="nofollow" href="http://www.nmr-relax.com/manual/Model_free_analysis_in_reverse.html">http://www.nmr-relax.com/manual/Model_free_analysis_in_reverse.html</a>.
It has the optimisation of the model-free models
(<a  rel="nofollow" href="http://dx.doi.org/10.1007/s10858-007-9214-2">http://dx.doi.org/10.1007/s10858-007-9214-2</a>), model elimination
(<a  rel="nofollow" href="http://dx.doi.org/10.1007/s10858-006-9007-z">http://dx.doi.org/10.1007/s10858-006-9007-z</a>), model selection
(<a  rel="nofollow" href="http://dx.doi.org/10.1023/A:1021902006114">http://dx.doi.org/10.1023/A:1021902006114</a>), and then diffusion tensor
optimisation (<a  rel="nofollow" href="http://dx.doi.org/10.1007/s10858-007-9214-2">http://dx.doi.org/10.1007/s10858-007-9214-2</a>).


</pre><blockquote class="blockquote"><pre style="margin: 0em;">4. I am certainly hoping to find a way to get an automated script or set of
scripts that perfectly handle the data at single magnetic field although
quite rightly data from two magnetic fields ought to be used whenever
possible. If I can do that, I will love to make it available as a part of
the relax sample scripts.
</pre></blockquote><pre style="margin: 0em;">

It would be better to have a simple interface such as in the
dauvergne_protocol.py sample script and then to implement most of it
in a single script as in the auto_analysis/dauvergne_protocol.py file.
 The auto_analysis files/modules are essentially very advanced relax
scripts implementing complex protocols.  It removes the ability of the
user to change the protocol which, for a complex protocol, is a good
thing as most users will end up breaking a published protocol and then
publish the broken results as if the results obtained using the
original protocol!  Those who would like to design new protocols will
be able to become a relax developer and add a new protocol to the
auto_analysis package.

If you really would like to do this, you will be required to learn how
to code in Python.  But you can use the example of the
auto_analysis/dauvergne_protocol.py file to help you.  I would
recommend that this is performed in a special relax branch which I can
give you developer access to.  I would also recommend that you fully
read the development chapter of the relax manual first
(<a  rel="nofollow" href="http://www.nmr-relax.com/manual/relax_development.html">http://www.nmr-relax.com/manual/relax_development.html</a> or the PDF
file), learn how to use svn, and start with the simple Python tutorial
to learn a little bit about Python
(<a  rel="nofollow" href="http://docs.python.org/3/tutorial/">http://docs.python.org/3/tutorial/</a>).  Note that relax now runs in
both Python 2 and 3.

You will also need to chose the protocol that you would like to
implement.  For example the Mandel et al., 1995 protocol (which will
require the implementation of chi-squared and F-tests within relax
(for example as the generic_fns.anova module), the protocol I
suggested at <a  rel="nofollow" href="http://www.nmr-relax.com/manual/diffusion_seeded_paradigm.html">http://www.nmr-relax.com/manual/diffusion_seeded_paradigm.html</a>
which I never implemented into a self contained auto_analysis module,
or one of the few other published protocols.  You should read all of
the model-free chapter of the relax manual as well
(<a  rel="nofollow" href="http://www.nmr-relax.com/manual/Model_free_analysis.html">http://www.nmr-relax.com/manual/Model_free_analysis.html</a>).

Note that I would recommend you start with the creation of a test
model consisting of synthetic data which can then be incorporated into
the relax test suite.  Synthetic data is important because you then
know the result that the protocol should find.  You will know that the
protocol succeeds and your code is complete once the test passes.
This would all go into your dedicated relax branch.

Your aim in coding should also be a publication that relax users who
use your code will then cite.  You should present it in the relax
manual.  And also say that this is an alternative analysis which users
of the protocol I developed (which is almost 100% of relax users)
which can be used to validate the results.  Or for a preliminary
analysis prior to collecting data at a second field.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">Forgive me if some of my queries sound too beginner level but any help at
this stage will be highly appreciated.
</pre></blockquote><pre style="margin: 0em;">

If you become a relax developer and create the code for such a
protocol, you will become an expert in NMR relaxation.  But it will
take a lot of time, a lot of learning (of Python, relaxation,
model-free, and relax), and a lot of literature reading.

Regards,

Edward


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00000" href="msg00000.html">Stage 2 of palmer.py</a></strong>
<ul><li><em>From:</em> Shantanu S. Bhattacharyya Mr</li></ul></li>
<li><strong><a name="00002" href="msg00002.html">Re: Stage 2 of palmer.py</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00009" href="msg00009.html">Re: Stage 2 of palmer.py</a></strong>
<ul><li><em>From:</em> Shantanu Bhattacharyya</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Jan 08 23:20:05 2013</div>  
</body>
</html>
