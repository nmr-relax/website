<!-- MHonArc v2.6.16 -->
<!--X-Subject: [sr #3118] Optimization for faster reading of state files -->
<!--X-From-R13: "Febryf S. Zvaarg" <@A&#45;DSBZK.W@HOZWR&#45;ORRDSEENtan.bet> -->
<!--X-Date: Fri, 14 Feb 2014 10:25:23 +0100 -->
<!--X-Message-Id: 20140214&#45;092522.sv20529.727@gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[sr #3118] Optimization for faster reading of state files -- February 14, 2014 - 10:25</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />[sr #3118] Optimization for faster reading of state files</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00070" class="tabs">Index by Date</a> | <a href="threads.html#00070" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00069.html">Date Prev</a>] [<a href="msg00071.html">Date Next</a>] [<a href="msg00059.html">Thread Prev</a>] [<a href="msg00073.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Troels E. Linnet&quot; &lt;tlinnet@xxxxxxxxxxxxx&gt;, relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Fri, 14 Feb 2014 09:25:23 +0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00070.html">20140214-092522.sv20529.727@gna.org</a>&gt;</li>
<li class="menuitem">
<em>References</em>: </li>
<li class="menuitem">
<em>User-agent</em>: Mozilla/5.0 (X11; Linux x86_64;	rv:24.0) Gecko/20100101 Firefox/24.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Troels E. Linnet</strong> on February 14, 2014 - 10:25:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">URL:
  &lt;<a  rel="nofollow" href="http://gna.org/support/?3118">http://gna.org/support/?3118</a>&gt;

                 Summary: Optimization for faster reading of state files
                 Project: relax
            Submitted by: tlinnet
            Submitted on: Fri 14 Feb 2014 09:25:22 AM UTC
                Category: None
                Priority: 5 - Normal
                Severity: 1 - Wish
                  Status: Postponed
             Assigned to: None
        Originator Email: 
             Open/Closed: Open
         Discussion Lock: Any
        Operating System: None

    _______________________________________________________

Details:

This follows the discussion in:
<a  rel="nofollow" href="http://thread.gmane.org/gmane.science.nmr.relax.devel/4999">http://thread.gmane.org/gmane.science.nmr.relax.devel/4999</a>

I am storing different runs of R2eff values into state files.
Their file size is app. 5 MB each.
The loading time is about 20-30 seconds for a state file.

After turning of comprepression, the file size reached ~70 MB.
But with no considerable increase in reading speed.

The optimization should probably be found here:

----------
Converting between data structures in the relax data store and the XML.  These
are all the to_xml() and from_xml() functions you can find in the 'data_store'
package.

There have been zero optimisations here and, in some parts, the code is likely
to be extremely inefficient (too much looping, inefficient ordering of loop
nesting, etc.).
This would be the best target for optimisations.
And the loops are where you will squeeze out the most.
To find the relevant functions/methods, just run:

$ grep -r &quot;def to_xml\|def from_xml&quot; . --exclude-dir=&quot;.svn&quot;

To perform any optimisations, the test suite must be used to make sure that
nothing breaks. 
If you notice a breakage in a save file you are using as a test for yourself
while the test suite passes, then a new
system test needs to be created using a heavily truncated save file.




    _______________________________________________________

Reply to this item at:

  &lt;<a  rel="nofollow" href="http://gna.org/support/?3118">http://gna.org/support/?3118</a>&gt;

_______________________________________________
  Message sent via/by Gna!
  <a  rel="nofollow" href="http://gna.org/">http://gna.org/</a>



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00073" href="msg00073.html">Re: [sr #3118] Optimization for faster reading of state files</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Feb 14 11:20:07 2014</div>  
</body>
</html>
