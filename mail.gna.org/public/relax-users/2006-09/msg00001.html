<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: relax in Windows -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Fri, 01 Sep 2006 12:48:23 +0200 -->
<!--X-Message-Id: 7f080ed10609010347r3f5fdc01mdb5b0b61bc883feb@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 44F7FFCF.4060102@mol.biol.ethz.ch -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: relax in Windows -- September 01, 2006 - 12:48</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: relax in Windows</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00001" class="tabs">Index by Date</a> | <a href="threads.html#00001" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00000.html">Date Prev</a>] [<a href="msg00002.html">Date Next</a>] [<a href="msg00000.html">Thread Prev</a>] [<a href="msg00002.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Daniel Perez&quot; &lt;daniel.perez@xxxxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Fri, 1 Sep 2006 20:47:44 +1000</li>
<li class="menuitem">
<em>Cc</em>: relax-users@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00001.html">7f080ed10609010347r3f5fdc01mdb5b0b61bc883feb@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00000.html">44F7FFCF.4060102@mol.biol.ethz.ch</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on September 01, 2006 - 12:48:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,</pre><br>
<pre style="margin: 0em;">Welcome to the relax-users mailing list.  I'll definitely try to help
to get relax running under Windows.  I don't have a Windows system to
test things on (I deleted my Windows partition after 2 years of disuse
to recover unused space) so the process may be a bit slow.  I'll
response to your specific queries below. Firstly I've created a bug
report for this issue at
<a  href="https://gna.org/bugs/?func=detailitem&amp;item_id=6841">https://gna.org/bugs/?func=detailitem&amp;item_id=6841</a>. The relax bug
tracker is located at <a  href="https://gna.org/bugs/?group=relax">https://gna.org/bugs/?group=relax</a>.</pre><br>
<pre style="margin: 0em;">There are a number of ways that these fixes can be added to your local
copy of the source code.  The first is that I'll post the code changes
required to fix the Windows issues onto this thread as a patch.  I
don't know though if there is a Windows equivalent of the patch
program.  The second option is to get a copy of the relax source code
straight from the repository in which I've already made the changes.
This requires the installation of subversion.  Then see section 3.4
'Latest sources - the relax repositories' of the relax manual for the
commands to type to retrieve the current sources for the 1.2 version.
Otherwise the patch files could be looked at (they're just diffs) and
you could make the changes to your files manually.</pre><br>
<tt>On 9/1/06, Daniel Perez &lt;daniel.perez@xxxxxxxxxxxxxxxx&gt; wrote:
</tt><blockquote class="blockquote"><pre style="margin: 0em;">Hi Ed,</pre><br>
<pre style="margin: 0em;">I hope you have a couple of minutes to help me.</pre><br>
<pre style="margin: 0em;">I'm trying to install relax in Windows XP. First, I installed Python 2.4
with an interpreter for Windows named ActivePython. I also installed the
extensions Numeric_23.8 and ScientificPython-2.4.9.</pre><br>
<pre style="margin: 0em;">Then I got relax-1.2.6.src.tar.bz2, uncompressed it and copied the files
to my laptop.</pre><br>
<pre style="margin: 0em;">After adding the extension &quot;.py&quot; to the excecutable &quot;relax&quot;, I could
sort of run it, well, I only got the python compiled versions for the
executables in the base directory (color, data, errors, io and processes
&quot;.pyc&quot;) and that was all. No command window phython-looking-like or
anything similar.
</pre></blockquote><pre style="margin: 0em;"><br>I don't know exactly what to do here to get a properly executable file
here but I have been talking with Andrew Perry and it seems like an
executable batch file 'relax.bat' might be the simplest option.  It
may need to open a python prompt within a window though, then again
the Windows version of python might do that automatically.</pre><br>
<br>
<blockquote class="blockquote"><pre style="margin: 0em;">I tried to run &quot;relax.py&quot; from the Python IDE (using the &quot;friendly&quot;
ActivePython). The result was the same but I got some more information
from Python. The problem so far is that processes.py is trying to import
some linux commands (namely: kill, popopen3, and system)</pre><br>
<pre style="margin: 0em;">Here is the output from python:</pre><br>
<pre style="margin: 0em;">    exec codeObject in __main__.__dict__
   File &quot;D:\Program Files\NMR\relax-1.2.6\relax.py&quot;, line 71, in ?
     from generic_fns.main import Generic
   File &quot;D:\Program Files\NMR\relax-1.2.6\generic_fns\main.py&quot;, line 31,
in ?
     from minimise import Minimise
   File &quot;D:\Program Files\NMR\relax-1.2.6\generic_fns\minimise.py&quot;, line
27, in ?
     from processes import RelaxPopen3
   File &quot;D:\Program Files\NMR\relax-1.2.6\processes.py&quot;, line 23, in ?
     from os import kill, popen3, system
ImportError: cannot import name kill
</pre></blockquote><pre style="margin: 0em;"><br>Yep, that 'kill' module definitely won't work under Windows.  I think
I'll kill it.  You could just delete the text 'kill, ' from the 'from
os import kill, popen3, system' statement in &quot;D:\Program
Files\NMR\relax-1.2.6\processes.py&quot; and that problem should be solved.
It's used when you run things threaded but as that code is broken you
can't even run threading code.  So the change should have zero effect.
I'll work on a proper solution for the program though.</pre><br>
<pre style="margin: 0em;">The 'os' module is supposed to be platform independent but there are a
few things which are UNIX only.  'kill' is one such object.  There are
other that are likely to cause new ImportError messages and my guess
is the next error will be 'devnull'.  After deleting the 'kill, '
text, do you experience new ImportErrors?  Unfortunately I can't test
for that.</pre><br>
<br>
<blockquote class="blockquote"><pre style="margin: 0em;">I greped the scripts looking for more importing features and I got:</pre><br>
<pre style="margin: 0em;">processes.py:                     from os import kill, popen3, system</pre><br>
<pre style="margin: 0em;">relax:                            from os import F_OK, access, getpid,
putenv</pre><br>
<pre style="margin: 0em;">io.py:                            from os import devnull</pre><br>
<pre style="margin: 0em;">io.py:                            from os import F_OK, access, makedirs,
remove, stat</pre><br>
<pre style="margin: 0em;">sconstruct:                       from os import F_OK, access, chdir,
getcwd, lstat, path, remove, rmdir, sep, symlink, system, walk</pre><br>
<pre style="margin: 0em;">generic_fns/dasha.py:             from os import F_OK, access, chdir,
getcwd, system</pre><br>
<pre style="margin: 0em;">generic_fns/grace.py:             from os import system</pre><br>
<pre style="margin: 0em;">generic_fns/molmol.py:            from os import popen</pre><br>
<pre style="margin: 0em;">generic_fns/palmer.py:            from os import F_OK, P_WAIT, access,
chdir, chmod, getcwd, listdir, remove, spawnlp, system</pre><br>
<pre style="margin: 0em;">generic_fns/pdb.py:               from os import F_OK, access</pre><br>
<pre style="margin: 0em;">generic_fns/selection.py:         from os import F_OK, access</pre><br>
<pre style="margin: 0em;">prompt/interpreter.py:            from os import F_OK, access</pre><br>
<pre style="margin: 0em;">sample_scripts/full_analysis.py:  from os import getcwd, listdir</pre><br>
<pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">For me it is kind of weird the phython did not complain about the
importing from os in the file relax (the second grep entry).
</pre></blockquote><pre style="margin: 0em;"><br>The only problematic imports that I can see are 'kill' and 'devnull'.
The rest should all work under Windows.  'symlink' may be an issue as
well but that is located in the 'sconstruct' script which isn't part
of the program.</pre><br>
<pre style="margin: 0em;">I hope this helps,</pre><br>
<pre style="margin: 0em;">Edward</pre><br>
<pre style="margin: 0em;">P.S.  Don't forget to hit 'reply to all' when responding so that the
relax-users mailing list is on the CC line.</pre><br>
<br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00003" href="msg00003.html">Re: relax in Windows</a></strong>
<ul><li><em>From:</em> Chris MacRaild</li></ul></li>
<li><strong><a name="00002" href="msg00002.html">Re: relax in Windows</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00000" href="msg00000.html">relax in Windows</a></strong>
<ul><li><em>From:</em> Daniel Perez</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Sep 01 13:40:17 2006</div>  
</body>
</html>
