<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: gui  vs  wx python -->
<!--X-From-R13: Eéonfgvra [beva <fronfgvra.zbeva.1Nhyniny.pn> -->
<!--X-Date: Mon, 25 Apr 2011 15:19:07 +0200 -->
<!--X-Message-Id: 4DB574AB.4040706@ulaval.ca -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 4DB47A25.3000605@unibas.ch -->
<!--X-Reference: 4DB53313.7060505@ulaval.ca -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: gui  vs  wx python -- April 25, 2011 - 15:19</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: gui  vs  wx python</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00053" class="tabs">Index by Date</a> | <a href="threads.html#00053" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00052.html">Date Prev</a>] [<a href="msg00054.html">Date Next</a>] [<a href="msg00052.html">Thread Prev</a>] [Thread Next]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Sébastien Morin &lt;sebastien.morin.1@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Mon, 25 Apr 2011 15:18:35 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00053.html">4DB574AB.4040706@ulaval.ca</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;4DB47A25.3000605@xxxxxxxxx&gt; &lt;4DB53313.7060505@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US;	rv:1.9.2.15) Gecko/20110303 Lightning/1.0b2 Thunderbird/3.1.9	ThunderBrowse/3.3.5</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Sébastien Morin</strong> on April 25, 2011 - 15:19:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hi,

</pre><tt>Instead of switching the system python installation to its 32-bit 
</tt><tt>version using &quot;export VERSIONER_PYTHON_PREFER_32_BIT=yes&quot;, as stated 
</tt><tt>before, I manually switched to using 32-bit python (2.6.6), numpy 
</tt><tt>(1.5.1) and scipy (0.9.0) from fink (instead of 64-bit python 2.6.1, 
</tt><tt>numpy 2.0.0, and scipy 0.10.0 directly under Mac OS X). As relax uses 
</tt><tt>the &quot;/usr/bin/env python&quot; in order to get the python path (header of 
</tt><tt>executable file &quot;relax&quot;), I had to manually change it to 
</tt><tt>&quot;/sw/bin/python2.6&quot; (the fink path for python-2.6 binary) to do so.
</tt><pre style="margin: 0em;">

</pre><tt>The unit tests all passed without the warnings discussed before (post at 
</tt><tt><a  rel="nofollow" href="https://mail.gna.org/public/relax-devel/2011-04/msg00050.html">https://mail.gna.org/public/relax-devel/2011-04/msg00050.html</a> ; 
</tt><tt>Message-id: &lt;4DB419A4.1030201@xxxxxxxxx&gt;). The warnings were also absent 
</tt><tt>from the system tests, although 9 errors arose because of the 
</tt><tt>unavailability of the C modules:
</tt><pre style="margin: 0em;">

====
</pre><tt>RelaxError: RelaxError: Relaxation curve fitting is not available.  Try 
</tt><tt>compiling the C modules on your platform.
</tt><pre style="margin: 0em;">
====

</pre><tt>The C modules, however, compiled without error using scons-1.2.0-2 (also 
</tt><tt>from fink). However, when starting the relax prompt, the following error 
</tt><tt>arose:
</tt><pre style="margin: 0em;">

====
</pre><tt>ImportError: 
</tt><tt>dlopen(/Users/semor/Documents/pse-4/collaborations/relax/relax-1.3/maths_fns/relax_fit.so, 
</tt><tt>2): no suitable image found.  Did find:
</tt><tt>    
</tt><tt>/Users/semor/Documents/pse-4/collaborations/relax/relax-1.3/maths_fns/relax_fit.so: 
</tt><tt>mach-o, but wrong architecture
</tt><pre style="margin: 0em;">
Relaxation curve fitting is unavailable, try compiling the C modules.
====

</pre><tt>It is as if, although python is switched to the 32-bit version from 
</tt><tt>fink, scons still compiles the executables for the 64-bit Mac OS X 
</tt><tt>system... Indeed, the command file yields the following output:
</tt><pre style="margin: 0em;">

====
./maths_fns/relax_fit.so: Mach-O 64-bit bundle x86_64
./maths_fns/c_chi2.os:      Mach-O 64-bit object x86_64
./maths_fns/exponential.os: Mach-O 64-bit object x86_64
./maths_fns/relax_fit.os:   Mach-O 64-bit object x86_64
====

</pre><tt>Moreover, in addition to the C modules not being compiled properly, it 
</tt><tt>turns out that fink does not allow the installation of wxPython. Hence, 
</tt><tt>I had to use the module installed for the system 64-bit python. In 
</tt><tt>32-bit python, this module loaded without error. However, when starting 
</tt><tt>the gui (&quot;relax -g&quot;, the following error arose:
</tt><pre style="margin: 0em;">

====
This program needs access to the screen.
Please run with 'pythonw', not 'python', and only when you are logged
in on the main display of your Mac.
====

</pre><tt>Apparently, pythonw is present for the system (which is, unfortunately, 
</tt><tt>64-bit, thus incompatible to wxPython), but not present with the fink 
</tt><tt>installation (which is 32-bit, but since lacks pythonw, can't have 
</tt><tt>access to the graphical interface)...
</tt><pre style="margin: 0em;">

This situaiton is becoming more and more complicated...
</pre><tt>Maybe a simpler fix would be to find  simple way to really use a 32-bit 
</tt><tt>version of the system python installation...
</tt><pre style="margin: 0em;">
Any idea how to solve this ?


Séb  :)



On 11-04-25 10:38 AM, Sébastien Morin wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">
Hi,

In order to test the gui by manually changing to 32-bit python, I typed
the following command:

      export VERSIONER_PYTHON_PREFER_32_BIT=yes

Python was then working in 32-bit mode, which allowed the import of wx
within python, hence allowing the dependency check for wx to pass and
the launch of the gui.

However, I then got the following error:

====
ImportError:
dlopen(/Library/Python/2.6/site-packages/scipy-0.10.0.dev_20110325-py2.6-macosx-10.6-universal.egg/scipy/special/_cephes.so,
2): Symbol not found: _aswfa_
    Referenced from:
/Library/Python/2.6/site-packages/scipy-0.10.0.dev_20110325-py2.6-macosx-10.6-universal.egg/scipy/special/_cephes.so
    Expected in: flat namespace
   in
/Library/Python/2.6/site-packages/scipy-0.10.0.dev_20110325-py2.6-macosx-10.6-universal.egg/scipy/special/_cephes.so
====

Testing further, it turns out that the relax prompt yields the same
error, similarly to the relax test-suite (i.e. the following commands
all yield the same error: &quot;relax&quot;, &quot;relax -g&quot;, &quot;relax -u&quot;, &quot;relax -s&quot;,
&quot;relax -t&quot;, &quot;relax -h&quot;, etc).

My scipy version is 0.10.0.dev (running under python 6.2.1, now in
32-bit mode). As reported in a recent post at
<a  rel="nofollow" href="https://mail.gna.org/public/relax-devel/2011-04/msg00050.html">https://mail.gna.org/public/relax-devel/2011-04/msg00050.html</a>
(Message-id:&lt;4DB419A4.1030201@xxxxxxxxx&gt;), testing scipy yielded some
errors and failures which could be related to the current problem (or not).

Any idea what this could be a problem with running 32-bit python under
Mac OS X, or a problem specific to relax ???

Anyway, it turns out that simply switching from 64-bit to 32-bit python
under Mac OS X does not allow the use of the gui...

Thanks a lot !!!!!!


Séb  :)



On 11-04-24 9:29 PM, Sébastien Morin wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">
Hi,

I just installed wxPython on my Mac running OS X in order to be able to
run the relax gui.

I installed &quot;wxPython2.8-osx-unicode-py2.6&quot; from
&quot;<a  rel="nofollow" href="http://www.wxpython.org/download.php#stable&quot">http://www.wxpython.org/download.php#stable&quot</a>;.

When trying to start the gui, I get the following message:

       &quot;&quot;RelaxError: To use the GUI, the wx python module must be installed.&quot;

When I try to import wx withon python, the module seems there, but not
working, as I get the following error:

====
import wx
Traceback (most recent call last):
     File &quot;&lt;stdin&gt;&quot;, line 1, in&lt;module&gt;
     File
&quot;//usr/local/lib/wxPython-unicode-2.8.12.0/lib/python2.6/site-packages/wx-2.8-mac-unicode/wx/__init__.py&quot;,
line 45, in&lt;module&gt;
       from wx._core import *
     File
&quot;//usr/local/lib/wxPython-unicode-2.8.12.0/lib/python2.6/site-packages/wx-2.8-mac-unicode/wx/_core.py&quot;,
line 4, in&lt;module&gt;
       import _core_
ImportError:
/usr/local/lib/wxPython-unicode-2.8.12.0/lib/python2.6/site-packages/wx-2.8-mac-unicode/wx/_core_.so:
no appropriate 64-bit architecture (see &quot;man python&quot; for running in
32-bit mode)
====

On the wx python website, it is said that &quot;These binaries should work on
all versions of OSX from 10.3.9 onwards on either PPC or i386
architectures. Since they use the Carbon API they are limited to running
in 32-bit mode.&quot;

However, my machine, a Macbook pro, is 64 bit and python runs in 64 bits
by default. I found that python can be set to use 32 or 64 bits.
However, I am afraid that these settings are system-wide. Would there be
a way that relax tells the system to run python in 32 bit mode, maybe
only when the gui is invoked ?

Maybe this is too much asked... However, if it is simple, I guess it
would simplify the life of many users with recent Mac computers...

Thanks a lot !


Séb  :)

</pre></blockquote></blockquote><pre style="margin: 0em;">

--
Sébastien Morin, Ph.D.
Postdoctoral fellow
S. Grzesiek NMR Laboratory
Biozentrum, Universität Basel
Basel, Switzerland



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00051" href="msg00051.html">gui  vs  wx python</a></strong>
<ul><li><em>From:</em> Sébastien Morin</li></ul></li>
<li><strong><a name="00052" href="msg00052.html">Re: gui  vs  wx python</a></strong>
<ul><li><em>From:</em> Sébastien Morin</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Mon Apr 25 15:40:13 2011</div>  
</body>
</html>
