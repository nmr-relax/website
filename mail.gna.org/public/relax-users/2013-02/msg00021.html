<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: m0 models -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 12 Feb 2013 15:10:06 +0100 -->
<!--X-Message-Id: CAED9pY9d1e+BcaS2XUJphaynyQKvQ6nrY6pUo2AyD3raYksf4Q@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: C9F76B95&#45;81A2&#45;4400&#45;8639&#45;6B2F6D8580C6@fmp&#45;berlin.de -->
<!--X-Reference: CAED9pY8FE0s5Dnag=z+Urhj9G_5Fcjo0TZoRsyfOYOGXHC0OvQ@mail.gmail.com -->
<!--X-Reference: B679CA23&#45;C45A&#45;45E7&#45;BF00&#45;4A7C6895FD67@fmp&#45;berlin.de -->
<!--X-Reference: CAED9pY9w3Tz7TYvDnxeW5WCO18WBUZXBKDVd0ktA848nED99mw@mail.gmail.com -->
<!--X-Reference: 9D1C53DF&#45;FBC5&#45;4746&#45;9AFF&#45;6782B2D71BC8@fmp&#45;berlin.de -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: m0 models -- February 12, 2013 - 15:10</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: m0 models</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00021" class="tabs">Index by Date</a> | <a href="threads.html#00021" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00020.html">Date Prev</a>] [<a href="msg00022.html">Date Next</a>] [<a href="msg00019.html">Thread Prev</a>] [<a href="msg00027.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Martin Ballaschk &lt;ballaschk@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 12 Feb 2013 15:09:34 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:x-received:sender:in-reply-to:references:date	:x-google-sender-auth:message-id:subject:from:to:cc:content-type	:content-transfer-encoding;	bh=H8QPqrO5ONmwCzrgOZ+mM6NCYh5ePLKXfCD81NHvL3I=;	b=VPewvczZx8xV6y1LmP7zn6p9Ldyp3VdYu28r16q3GpuEGzmMeQdTCrLFFj8NsKMYq0	jpxlqGuj70Kn3mGR4Ko/nkNFPAu7uZMuTB638WwQq7Kvz7PIf0G4Ha8FHImR1cu535dR	Ju8ZYgPi9+TfudI3I/L1nanUoIvWlVtnBqqRMcnMt+kZA1CCqVCX3hZAkSKJKObApRyZ	WFGTABzViLJAxd+G00Ay274vzCfUV9dJDIsnOP67QcwTeeJR2NmU2Zzy0xsJZ5ctG4ja	lwZzKI103vs+TrPeBw78v0iiKzMr7hDNp5OJvNQGBoGFcdSIz2hQQ3pEZ5YS8bt+NUHW	E8zA==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00021.html">CAED9pY9d1e+BcaS2XUJphaynyQKvQ6nrY6pUo2AyD3raYksf4Q@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;C9F76B95-81A2-4400-8639-6B2F6D8580C6@xxxxxxxxxxxxx&gt;	&lt;CAED9pY8FE0s5Dnag=z+Urhj9G_5Fcjo0TZoRsyfOYOGXHC0OvQ@xxxxxxxxxxxxxx&gt;	&lt;B679CA23-C45A-45E7-BF00-4A7C6895FD67@xxxxxxxxxxxxx&gt;	&lt;CAED9pY9w3Tz7TYvDnxeW5WCO18WBUZXBKDVd0ktA848nED99mw@xxxxxxxxxxxxxx&gt;	&lt;9D1C53DF-FBC5-4746-9AFF-6782B2D71BC8@xxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on February 12, 2013 - 15:10:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">Neighbouring regions have a lot of &quot;m0&quot; (in 62 of ~220 assigned residues 
minus 28 unresolved) and in the ellipsoidal diffusion model there is also 
a lot of strange Rex = 0.0000 terms, the other models show Rex of around 
10^-18 (=nearly zero). Convergence is reached in 20-30 rounds for each 
diffusion model, no oscillations are visible.
</pre></blockquote><pre style="margin: 0em;">

Is this Rex in the results file or in the extracted version?  Note
that relax stores Rex internally as the field strength independent
value of:

sigma_ex = Rex / omega**2
</pre></blockquote><pre style="margin: 0em;">

I extract Rex with the following command, I guess this is then the already 
field-corrected value?
        &gt; value.write( param = 'rex', file = 'example/rex.txt')
</pre></blockquote><pre style="margin: 0em;">

This is clearly a bug!  For example on an 800, you should multiply
1e-18 with the value of ~2.6e17.  Could you file a bug report for
this?  A value of 1e-18 should give a significant, yet low, Rex value
of 0.15-0.3 rad.s^-1.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">I also forgot to mention, that while for the spherical and spheroid models 
convergence was reached pretty soon, the ellipsoidal calculations are still 
ongoing for two days now, but I can see that the parameter values are not 
really changing anymore, and chi^2 and AIC values do not converge but 
differ by only a factor of 10^10 from each other in the last ~20 rounds. I 
guess it is safe to pull the plug here?
</pre></blockquote><pre style="margin: 0em;">

How many rounds is it up to?  If it runs infinitely, then maybe you
have run into a chaotic system.  Now that would be fascinating!
Theoretically anyway, biologically it would be irrelevant.

I'm guessing you mean 1e-10.  Can you see which models are changing?
Can you find any chi2 or AIC values which match between the rounds?
If you make a table of total parameter number, chi2, and AIC, can you
see any patterns?  At some point, an optimisation problem should have
a solution which, when calculated on a computer, should result in
numerically identical solutions (parameter values, chi2, diffusion
tensor, etc) between two iterations.  In this case, we have a combined
optimisation/modelling problem.  This can result in a circling around
the minimum, which has been seen a number of times before by relax
users.  The protocol now detects this and terminates.  However I don't
think I've seen a problem which runs forever - that would just be
theoretically weird.  If none of this makes sense, you should have a
read of my 2007 paper
(<a  rel="nofollow" href="/refs.html#dAuvergneGooley07">http://www.nmr-relax.com/refs.html#dAuvergneGooley07</a>).


</pre><blockquote class="blockquote"><pre style="margin: 0em;">Will the &quot;final&quot; run of relax still be able to see the final optimization 
results?
</pre></blockquote><pre style="margin: 0em;">

You can set a maximum number of iterations for this protocol.
Otherwise when using the prompt/script modes you can kill relax, and
restart it again (though this will result in a few extra rounds of
optimisation of each global model before relax realises that
convergence has occurred).  Only after rerunning after killing will
you have 'final' results.


</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">Also note that
currently in all model-free software, Rex is assumed to be fast and
hence scales quadratically with field strength - this might be another
source of problems for your analysis.
</pre></blockquote><pre style="margin: 0em;">

You mean, because my Rex is too slow or because I have too few fields 
available (600 &amp; 750 MHz)?
</pre></blockquote><pre style="margin: 0em;">

No, this is just the underlying and fixed assumption in all model-free
analysis software.  The reason is because what you measure is not the
pure chemical exchange but a mix of a few different things.  You don't
need to worry about this.


</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">R1 temperature compensation is generally not needed as it is quite a
cold experiment, hence will almost always match the normal
spectrometer calibration.
</pre></blockquote><pre style="margin: 0em;">

No, what I meant is off-resonance &quot;heating pulses&quot; that make my R1 
experiment just as warm as the R2 experiment which heats the sample due to 
the CPMG train in the relaxation period. In practice I just irradiate for 
~100 ms (which is the mean of the delay times I have during my R2 
experiments) before the actual pulse sequence begins, i.e. during d0.
</pre></blockquote><pre style="margin: 0em;">

You shouldn't need to warm up your experiment to the level of the R2
in this way.  For one, this will not work because the time for a 1D is
much, much longer in the R1 than in the R2.  Therefore the real-time
cooling from the VT unit will probably make these heating pulses
irrelevant.  Actually you could end up with a temperature gradient
over the R1 evolution time - this would not be good.  Note that for
BMRB submission, this technique is not in the recommend list of
options for temperature compensation.  The best way to do this is to
run the R1 experiment on a MeOH/ethylene glycol sample.  Then
calibrate the temperature as you would normally calibrate a
spectrometer, just using shortened R1/R2/NOE pulse sequences.


</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">Relaxation dispersion might be interesting, but from what you describe
I don't think dispersion data will tell you much other than what you
already see with weak peaks.  Actually, as your system is 45 kDa, I
would not expect that you would see much dispersion at all - your weak
peaks are due to protein size and not Rex.
</pre></blockquote><pre style="margin: 0em;">

I don't get that â€“ certainly the protein size is determining signal 
intensity but Rex is an additional factor, right?
</pre></blockquote><pre style="margin: 0em;">

True, but don't make the mistake of concluding that differentially
weakened peaks is due to a slow process on the Rex timescale.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">And I have 4 highly similar complexes â€“ two different proteins which are 
mutated at one position which each bind two identical peptides. X-ray 
crystal data show virtually identical structures. Chemical shifts are also 
mostly very, very similar, but â€“ with everything else totally the same â€“ 
strips of signals go missing in one set of the complexes, and *not* the 
other.
</pre></blockquote><pre style="margin: 0em;">

It could be due to slow motions, but you will have to prove that ;)


</pre><blockquote class="blockquote"><pre style="margin: 0em;">So there are definitely differences between highly similar complexes, which 
is breathtakingly interesting (and which no-one showed before with 
experimental data), but what I reached out for is to quantify these 
differences. S2 or Rex values from mf analysis seemed like a good bet ;)
</pre></blockquote><pre style="margin: 0em;">

S2 and Rex would be an important part of understanding what is
happening.  I would suggest the internal correlation times, as well as
diffusion tensors, could also be quite interesting, if you see
differences.  Really any dynamical differences would be of interest.
Relaxation dispersion may also give interesting information, but there
is a chance that you will not see much.


</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">I don't know if this is completely relevant to your question, but
noise is another issue which affects the reliability of the te
parameters.  As te increases, so does the errors.  [...]
</pre></blockquote><pre style="margin: 0em;">

So do you think if my data are too noisy this could be a consequence? I 
already reached the limit in terms of scans, protein concentration and 
measuring time. Maybe I should write a grant for two new magnets ...
</pre></blockquote><pre style="margin: 0em;">

For the spins where m0 are selected, do their errors look larger than
the other spins?
</pre></blockquote><pre style="margin: 0em;">

I wouldn't say so:
<a  rel="nofollow" href="https://dl.dropbox.com/u/4019316/boxplot.error.pdf">https://dl.dropbox.com/u/4019316/boxplot.error.pdf</a>
</pre></blockquote><pre style="margin: 0em;">

For referencing files, it is best to create a relax support request
for this and attach the files there
(<a  rel="nofollow" href="https://gna.org/support/?func=additem&amp;group=relax">https://gna.org/support/?func=additem&amp;group=relax</a>).  That way there
will be a permanent, non-deletable copy that relax users can view in
the future when reading the archives of these messages.  Cheers.


</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">Or if you plot the I0 values from the relaxation
exponential curve-fitting, are these residues much lower than the
rest?
</pre></blockquote><pre style="margin: 0em;">

There definitely seems to be a tendency:
<a  rel="nofollow" href="https://dl.dropbox.com/u/4019316/boxplot.pdf">https://dl.dropbox.com/u/4019316/boxplot.pdf</a>
</pre></blockquote><pre style="margin: 0em;">

Those are quite interesting plots.  Though I'm not sure why m0 is
selected so often.  I've never seen such a phenomenon.


</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">I can only recommend switching to Sparky for this type of analysis.
</pre></blockquote><pre style="margin: 0em;">

The main reason for not using sparky was that it cannot read Bruker pseudo 
3D data and converting the individual planes from all the different data 
sets without mixing up the different delay times I tried is a incredible 
pain. Also, I'd have duplicate data where I could easily mix up file names 
and lose information where a specific set of data originally came from. 
Additionally, there is the assignment that has been done in CCPN, and which 
has to be exported into Sparky. I hope that it is possible, I guess I have 
to write and read and validate shift lists.

*But* I will give it a try. It seems like CCPN can't help me here.
</pre></blockquote><pre style="margin: 0em;">


You can use Topspin to split up the file and create a set of 2D fids.
These can then be used for processing in nmrPipe, if you like, and
converted to Sparky format.


</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">Then if m0 is still
present, consider if you should blame it on the size of your system
hiding data (more field strengths should then help uncover the
dynamics).
</pre></blockquote><pre style="margin: 0em;">

Too bad the console for our 900MHz magnet is so old. I'd have to measure 
non-interleaved spectra, which is probably as good as just not doing it at 
all.
</pre></blockquote><pre style="margin: 0em;">

If you do single FID interleaving with temperature compensation blocks
in the R2 pulse sequence, the data is usually good enough for a
model-fre eanalysis..


</pre><blockquote class="blockquote"><pre style="margin: 0em;">Regarding solving a maybe unsolvable statistical / applied physics / 
mathematical problem: I'm not sure if I'm the right person to go after it, 
I'd need somebody with better stat / physics / math skills ;)
</pre></blockquote><pre style="margin: 0em;">

Well, I was a pure biochemist before I looked at performing a
model-free analysis of a protein!  So it's not impossible.

Regards,

Edward


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00027" href="msg00027.html">Re: m0 models</a></strong>
<ul><li><em>From:</em> Martin Ballaschk</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00008" href="msg00008.html">m0 models</a></strong>
<ul><li><em>From:</em> Martin Ballaschk</li></ul></li>
<li><strong><a name="00010" href="msg00010.html">Re: m0 models</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00013" href="msg00013.html">Re: m0 models</a></strong>
<ul><li><em>From:</em> Martin Ballaschk</li></ul></li>
<li><strong><a name="00017" href="msg00017.html">Re: m0 models</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00018" href="msg00018.html">Re: m0 models</a></strong>
<ul><li><em>From:</em> Martin Ballaschk</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Feb 20 17:40:08 2013</div>  
</body>
</html>
