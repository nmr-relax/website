<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: relax on Mac with fink -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 23 Feb 2010 14:58:09 +0100 -->
<!--X-Message-Id: 7f080ed11002230557p22a978bdl39687e53f9e8aea@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 4B8190BB.6040404@ulaval.ca -->
<!--X-Reference: 7f080ed11002212349s3a4d3d77g956cfc2f2f734c0a@mail.gmail.com -->
<!--X-Reference: 4B82A187.5000000@ulaval.ca -->
<!--X-Reference: 7f080ed11002220930v2fc66423r25ddd8d687035f2b@mail.gmail.com -->
<!--X-Reference: 7f080ed11002220941l4cfcef0flaf4824c1c2148570@mail.gmail.com -->
<!--X-Reference: 4B82CA16.3010509@ulaval.ca -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: relax on Mac with fink -- February 23, 2010 - 14:58</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: relax on Mac with fink</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00013" class="tabs">Index by Date</a> | <a href="threads.html#00013" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00012.html">Date Prev</a>] [<a href="msg00014.html">Date Next</a>] [<a href="msg00012.html">Thread Prev</a>] [<a href="msg00014.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Sébastien Morin &lt;sebastien.morin.1@xxxxxxxxx&gt;, 	Jack Howarth &lt;howarth@xxxxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 23 Feb 2010 14:57:23 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00013.html">7f080ed11002230557p22a978bdl39687e53f9e8aea@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;4B8190BB.6040404@xxxxxxxxx&gt;	&lt;7f080ed11002212349s3a4d3d77g956cfc2f2f734c0a@xxxxxxxxxxxxxx&gt;	&lt;4B82A187.5000000@xxxxxxxxx&gt;	&lt;7f080ed11002220930v2fc66423r25ddd8d687035f2b@xxxxxxxxxxxxxx&gt;	&lt;7f080ed11002220941l4cfcef0flaf4824c1c2148570@xxxxxxxxxxxxxx&gt;	&lt;4B82CA16.3010509@xxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on February 23, 2010 - 14:58:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

It might be worth talking with Jack Howarth (howarth att bromo dott
med dott uc dott edu) as he is the maintainer of the relax fink
packages.  You can see our previous discussions about fink at:

<a  rel="nofollow" href="http://www.google.com/search?q=fink&amp;btnG=Google+Search&amp;domains=http%3A%2F%2Fnmr-relax.com&amp;sitesearch=https%3A%2F%2Fmail.gna.org%2Fpublic%2Frelax-users">http://www.google.com/search?q=fink&amp;btnG=Google+Search&amp;domains=http%3A%2F%2Fnmr-relax.com&amp;sitesearch=https%3A%2F%2Fmail.gna.org%2Fpublic%2Frelax-users</a>

He modified the sconstruct script for this, but I don't think this was
merged upstream (it's not in the 1.3 line).  Maybe all of these
problems is because one of the other essential components of fink have
been upgraded (numpy, python, etc.) causing a breakage in the relax C
modules and in the Scientific python module.

I you have the time and would like to try to get the 1.3 line test
suite passing 100% and attempt to deposit the newest relax versions
into fink, this would be appreciated.  relax should run without
problems on Mac OS X, and it shouldn't be too hard to modify relax for
100% compatibility.  The only problem for me is that I don't have Mac
hardware.

Cheers,

Edward


On 22 February 2010 19:16, Sébastien Morin &lt;sebastien.morin.1@xxxxxxxxx&gt; 
wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Ed,

Unfortunately, the problem here arises from the fink version of relax, i.e.
1.3.4.
Hence, the '-i' option is unavailable.

For python, I indeed have two versions installed...
   2.6: standard version
   2.5: for rdiff-backup...

For the sconstruct file, it was modified by fink. Hence, it seems the fink
version of relax might be problematic...

...

In order to see if the repository version is also having troubles, I
installed it (as well as the minfx repository version) and tested it.
The compilation with scons worked fine and relax does not complain anymore
about the relax_fit.so file...
However, there are still 12 errors from the unit tests and 1 failure and 16
errors from the system tests.

It is better than with the fink version, although ScientificPython still not
works...
How should ScientificPython be installed ?
Presently, it is installed from fink...

...

Here is the output from 'relax -i':

==========
Hardware information:
   Machine:                 i386
   Processor:               i386

System information:
   System:                  Darwin
   Release:                 10.2.0
   Version:                 Darwin Kernel Version 10.2.0: Tue Nov  3
10:37:10 PST 2009; root:xnu-1486.2.11~1/RELEASE_I386
   Mac version:             10.6.2 (, , ) i386
   Distribution:
   Full platform string:    Darwin-10.2.0-i386-64bit

Software information:
   Architecture:            64bit
   Python version:          2.6.1
   Python branch:           tags/r261
   Python build:            r261:67515, Jul  7 2009 23:51:51
   Python compiler:         GCC 4.2.1 (Apple Inc. build 5646)
   Python implementation:   CPython
   Python revision:         67515
   Numpy version:           1.2.1
   Libc version:
   Network name:            dhcp-160-189.rsvs.ulaval.ca
==========

Any idea ?


Séb  :)




On 10-02-22 12:41 PM, Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Hi Seb,

Could you paste the output of 'relax -i'?  This will help in working
out what is happening and will be useful to have on record.

Cheers,

Edward


On 22 February 2010 18:30, Edward d'Auvergne&lt;edward@xxxxxxxxxxxxx&gt;  wrote:

</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">

I just installed relax on a Mac using fink.
    relax-py26    1.3.4-2    Protein dynamics by NMR relax. data
analysis

I also installed the dependencies using fink.
    minfx-py26    1.0.2-1    The minfx optimisation library
    numpy-py26    [virtual package]
    python26    1:2.6.4-101    Interpreted, object-oriented language
    scientificpython-py26    2.8-1    Python modules for scientific
computing
    scons    0.98.3-1    Python-based build tool

I created a link in the relax directory pointing to the minfx
directory:
    minfx@ -&gt;    /sw/lib/python2.6/site-packages/minfx/


</pre></blockquote><pre style="margin: 0em;">

This should not be necessary.  If there are any strange optimisation
issues, this should be the first place to look.



</pre></blockquote><pre style="margin: 0em;">

In fact, if the link is not present, relax complains about minfx not
being
installed...

</pre></blockquote><pre style="margin: 0em;">

Ah, this is an indication that there are 2 python versions present!!!
I have just added a new command line option to relax to help work out
what is happening.  I'm guessing you have a repository copy from the
1.3 line?  If so, update this copy (for those who don't know, you
type):

$ svn up

and then run one of:

$ relax -i
$ relax --info

This should tell you all you need to know about versions, etc.!  I can
add other useful info later on - i.e. modules installed or missing and
their versions.




</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">

After, I launched relax but got the following warning:

========
ImportError: dlopen(/sw/lib/relax-py26/maths_fns/relax_fit.so, 2): no
suitable image found.  Did find:
    /sw/lib/relax-py26/maths_fns/relax_fit.so: mach-o, but wrong
architecture
Relaxation curve fitting is unavailable, try compiling the C modules.
========


</pre></blockquote><pre style="margin: 0em;">

Try &quot;scons clean_all&quot; followed by &quot;scons&quot;.  Does the file
/sw/lib/relax-py26/maths_fns/relax_fit.so exist?  This will be a
problem for curve-fitting!


</pre></blockquote><pre style="margin: 0em;">

&quot;scons clean_all&quot; works fine and then, &quot;scons&quot; creates the
&quot;relax_fit.so&quot;
executable. The file type (obtained from the command &quot;file&quot;) is as
follows:
&quot;Mach-O bundle i386&quot;.

Is it what it's supposed to be ?
(I am really new to Mac...)

</pre></blockquote><pre style="margin: 0em;">

I really have no idea either.  Maybe someone else on this list knows
something?  It could actually be a version issue again as maybe relax
is running with an old python version but scons build the module for
the 2.6 version?



</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">

Concerning the test-suite, there were nultiple errors:
    System tests
        4 failures + 20 errors
    Unit tests
        12 errors

The unit tests errors were all the same:

======
Traceback (most recent call last):
  File


&quot;/sw/lib/relax-py26/test_suite/unit_tests/_generic_fns/_structure/test_scientific.py&quot;,
line 54, in setUp
    self.data = Scientific_data()
  File &quot;/sw/lib/relax-py26/generic_fns/structure/scientific.py&quot;, line
60, in __init__
    raise RelaxError, &quot;The Scientific python PDB module
Scientific.IO.PDB could not be imported.&quot;
RelaxError: RelaxError: The Scientific python PDB module
Scientific.IO.PDB could not be imported.
======

...


I guess all these errors are not normal...

Any idea to help me debug this issue ?

Thank you !!!


</pre></blockquote><pre style="margin: 0em;">

This is normal as Scientific python is not installed.  Maybe it would
be good to add a new section to the test suite listing the installed
and missing modules, and then disabling the relevant system and unit
tests (scientific-python, relax curve-fitting C modules, etc.) if
missing.  This will be a bit of work though, hence why I haven't done
it yet!  I would guess that all the failures are due to these 2
missing pieces, but it's hard to tell.


</pre></blockquote><pre style="margin: 0em;">

Scientific Python is installed...
   scientificpython-py26    2.8-1    Python modules for scientific
computing

Maybe, yes, it would be good to simply give a warning for missing
dependencies and avoid the tests to be performed...

Thanks for your insights !

</pre></blockquote><pre style="margin: 0em;">

This could be again related to Python versions, with Scientific Python
installed for Python 2.6 but relax running with Python 1.5 (Mac Unix
software versions are painfully old :P).  I hope this helps.

Regards,

Edward


</pre></blockquote></blockquote><pre style="margin: 0em;">

--
Sébastien Morin
PhD Student
S. Gagné NMR Laboratory
Université Laval&amp;  PROTEO
Québec, Canada


</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00020" href="msg00020.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Jack Howarth</li></ul></li>
<li><strong><a name="00018" href="msg00018.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Jack Howarth</li></ul></li>
<li><strong><a name="00014" href="msg00014.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Olivier Serve</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00004" href="msg00004.html">relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Sébastien Morin</li></ul></li>
<li><strong><a name="00006" href="msg00006.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00007" href="msg00007.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Sébastien Morin</li></ul></li>
<li><strong><a name="00009" href="msg00009.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00011" href="msg00011.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00012" href="msg00012.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Sébastien Morin</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Feb 25 02:40:33 2010</div>  
</body>
</html>
