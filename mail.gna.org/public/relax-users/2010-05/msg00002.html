<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Ellipsoid minimization does not converge -->
<!--X-From-R13: Eéonfgvra [beva <fronfgvra.zbeva.1Nhyniny.pn> -->
<!--X-Date: Thu, 06 May 2010 15:29:22 +0200 -->
<!--X-Message-Id: 4BE2C420.3090906@ulaval.ca -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: mailman.51.1272448858.7016.relax&#45;users@gna.org -->
<!--X-Reference: 86C54C0B&#45;6D74&#45;420A&#45;90BF&#45;B9A8B49C96C7@mol.biol.ethz.ch -->
<!--X-Reference: w2v7f080ed11005050203n74661080l54e85a5277b17c82@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Ellipsoid minimization does not converge -- May 06, 2010 - 15:29</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Ellipsoid minimization does not converge</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00002" class="tabs">Index by Date</a> | <a href="threads.html#00002" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00001.html">Date Prev</a>] [<a href="msg00003.html">Date Next</a>] [<a href="msg00001.html">Thread Prev</a>] [<a href="msg00003.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 06 May 2010 09:29:04 -0400</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;,	Daniel Pérez &lt;daniel.perez@xxxxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00002.html">4BE2C420.3090906@ulaval.ca</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;mailman.51.1272448858.7016.relax-users@xxxxxxx&gt;	&lt;86C54C0B-6D74-420A-90BF-B9A8B49C96C7@xxxxxxxxxxxxxxxx&gt;	&lt;w2v7f080ed11005050203n74661080l54e85a5277b17c82@xxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.1.9)	Gecko/20100317 Lightning/1.0b1 Thunderbird/3.0.4</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Sébastien Morin</strong> on May 06, 2010 - 15:29:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hi Daniel,

</pre><tt>I agree with Ed that cycling through 2-3-4-5 different, but very similar 
</tt><tt>solutions is an issue with this protocol. You can manually check in the 
</tt><tt>logs with the chi2 value... The cycling should be quite evident as in 
</tt><tt>this case we encountered recently for the sphere diffusion tensor:
</tt><pre style="margin: 0em;">

i 23706.631648749521
1 462.59288287282465
2 466.46983971466807
3 466.46983971466801
4 466.4698397146683
5 466.46983983218593
6 466.46983971466784
7 466.46983971466773 cycle_I -&gt; pseudo-CONVERGENCE sphere
8 466.46983971466801 as_3 cycle_I
9 466.46983982041428 cycle_I
10 466.46983971466864 cycle_I
11 466.46983971466778 cycle_I
12 466.46983971466773 as_7 cycle_II
13 466.46983971466801 as_3_8 cycle_II
14 466.46983982041428 as_9 cycle_II
15 466.46983971466864 as_10 cycle_II
16 466.46983971466778 as_11 cycle_II
17 466.46983971466773 as_7_12 cycle_III
18 466.46983971466801 as_3_8_13 cycle_III

</pre><tt>In this example, we chose the first repetitive part as the converged 
</tt><tt>iteration (i.e. the first run in the first cycle).
</tt><pre style="margin: 0em;">

...

</pre><tt>If this can be of any help, I suggest you have a look at the 
</tt><tt>supplementary material of a paper we recently published in Biophysical 
</tt><tt>Journal:
</tt><pre style="margin: 0em;">

</pre><tt>Fisette, Morin, Savard, Lagüe &amp; Gagné (2010) TEM-1 Backbone Dynamics — 
</tt><tt>Insights from Combined Molecular Dynamics and Nuclear Magnetic 
</tt><tt>Resonance. Biophysical Journal, 98: 637–645.
</tt><pre style="margin: 0em;">

</pre><tt>Table S3 on page 21 shows the details of different runs of this protocol 
</tt><tt>with different slightly different protein structures... As you will see, 
</tt><tt>the number of iterations for the ellipsoid model was between 4 and 12 
</tt><tt>for all runs, except for a run not converged after &gt;30 iterations... 
</tt><tt>hence, the number of iterations is very variable...
</tt><pre style="margin: 0em;">

Good luck !


Séb :)




On 10-05-05 5:03 AM, Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">
Hi,

For the ellipsoid model, my experience is that ~15 rounds of
optimisation are required.  I can't reinforce enough how complex the
model-free combined optimisation and model selection problem actually
is (all explained in d'Auvergne E. J., Gooley P. R. (2007). Set theory
formulation of the model-free problem and the diffusion seeded
model-free paradigm. Mol. Biosyst., 3(7), 483-494.
<a  rel="nofollow" href="http://dx.doi.org/10.1039/b702202f">http://dx.doi.org/10.1039/b702202f</a>)!  This can take up to 2 weeks
depending on how fast your computer is (at 2.4 GHz, I would expect 2
weeks).  Note that later iterations are much faster than the start.  I
haven't tested the convergence of the global model with simplex
optimisation, so I have no idea how long this will take and if
convergence can always be reached.  One issue that can occur is a 3 to
4 iteration cycle around the universal solution (combined optimisation
minimum and model selection minimum, see the ref).  This you can
manually check in the results files to see if any 2 are identical.  If
so, you can stop the calculation.  Any of the positions in the cycle
should be ok, as the models and values should be very similar for all
members.  I really should add this check to the script!  I hope this
helps,

Regards,

Edward



2010/5/5 Daniel Pérez&lt;daniel.perez@xxxxxxxxxxxxxxxx&gt;:
</pre><tt>   
</tt><blockquote class="blockquote"><pre style="margin: 0em;">
Hi everyone,

I've been running a full_analysis script with relaxation data at two fields 
(600 and 900MHz). The calculations with models I to IV run successfully. 
However, the ellipsoid model does not converge even after 7 rounds and more 
than one week of calculation time.

I checked the mailing list and found one similar situation that happened to Sebastien (October 
24, 2007. Vol.17 issue 8 ... Extremely long optimization times). I followed the suggestion by 
Edward in order to change the minimization protocol from &quot;newton&quot; to 
&quot;simplex&quot;. The result is that after two weeks and 27 rounds the model ellipsoid still 
does not converge, and with each next round the minimization becomes slower and slower.

The protein is an homodimer of 36KDa. For the model free analysis I'm using 
the pdb structure of the monomer (18KDa), and I might have wrong assigned 
resonances.

I'm running relax 1.3.4 on 2 cores Intel(R) Core(TM)2 CPU,  6600 @ 2.4GHz, 4M 
cache, and 4G ram.

Do you have any idea?. I'll appreciate any suggestion to follow with the 
analysis.

Thanks

Daniel

Dr. Daniel Pérez
Institut für Molekularbiologie und Biophysik
Schafmattstrasse 20
ETH-Hönggerberg, HPK G 5
CH-8093 Zürich
Phone: +41 44 633 25 37
E-mail: daniel.perez@xxxxxxxxxxxxxxxx
_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>

</pre><tt>     
</tt></blockquote><pre style="margin: 0em;">
_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>
</pre><tt>   
</tt></blockquote><pre style="margin: 0em;">

--
Sébastien Morin
PhD Student
S. Gagné NMR Laboratory
Université Laval&amp;  PROTEO
Québec, Canada




</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00000" href="msg00000.html">Ellipsoid minimization does not converge</a></strong>
<ul><li><em>From:</em> Daniel Pérez</li></ul></li>
<li><strong><a name="00001" href="msg00001.html">Re: Ellipsoid minimization does not converge</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Mon May 17 17:20:14 2010</div>  
</body>
</html>
