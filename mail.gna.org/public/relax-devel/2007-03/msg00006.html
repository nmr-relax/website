<!-- MHonArc v2.6.10 -->
<!--X-Subject: Synchronisation of the 'relax', 'scons',	and 'unit_test_runner.py' systems -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 06 Mar 2007 09:17:04 +0100 -->
<!--X-Message-Id: 7f080ed10703060016t1bc0cd4by7a3fd42eaaeef12e@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Synchronisation of the 'relax', 'scons',	and 'unit_test_runner.py' systems -- March 06, 2007 - 09:17</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Synchronisation of the 'relax', 'scons',	and 'unit_test_runner.py' systems</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00006" class="tabs">Index by Date</a> | <a href="threads.html#00006" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00005.html">Date Prev</a>] [<a href="msg00007.html">Date Next</a>] [<a href="msg00004.html">Thread Prev</a>] [<a href="msg00012.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Tue, 6 Mar 2007 19:16:02 +1100</li>
<li class="menuitem">
<em>Dkim-signature</em>: a=rsa-sha1; c=relaxed/relaxed; d=gmail.com; s=beta;	h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition:x-google-sender-auth;	b=RyQrYSffDb+g3uwOzI42XArjpmvDYE6I7KB324dx921/L8RKn6AGvAmwdhof5BiD0wHsX4NPiTpA36bv1w2V3VLH0jqGwxNESPykwiSQzb8d8sU9RrJPKEcNDxpPldWUnoRhUiBgDecuDDrEYwvB+yeEKrqEPrnHt7bz4eiGxOw=</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00006.html">7f080ed10703060016t1bc0cd4by7a3fd42eaaeef12e@mail.gmail.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on March 06, 2007 - 09:17:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,</pre><br>
<pre style="margin: 0em;">This message is a logical follow on from Gary's post at
<a  href="http://www.nmr-relax.com/mail.gna.org/public/relax-devel/2007-03/msg00004.html">https://mail.gna.org/public/relax-devel/2007-03/msg00004.html</a>
(Message-id: &lt;45EBEA6A.7030809@xxxxxxxxxxxxxxx&gt;) and relates to the
changes of r3080
(<a  href="http://www.nmr-relax.com/mail.gna.org/public/relax-commits/2007-03/msg00021.html">https://mail.gna.org/public/relax-commits/2007-03/msg00021.html</a>),
specifically the addition of the usage string.</pre><br>
<pre style="margin: 0em;">I think it would be useful to synchronise the 'relax', 'scons', and
'unit_test_runner.py' systems.  For both 'relax' and 'scons' there is
a simple message printed when the usage is incorrect:</pre><br>
<pre style="margin: 0em;">-----
$ relax -x
usage: relax [options] [script_file]</pre><br>
<pre style="margin: 0em;">RelaxError: no such option: -x
-----</pre><br>
<pre style="margin: 0em;"><br>-----
$ scons -x
usage: scons [OPTION] [TARGET] ...</pre><br>
<pre style="margin: 0em;">SCons error: no such option: -x
-----</pre><br>
<pre style="margin: 0em;"><br>They also have help systems:</pre><br>
<pre style="margin: 0em;">-----
$ relax --help
usage: relax [options] [script_file]</pre><br>
<pre style="margin: 0em;">options:
 -h, --help            show this help message and exit
 -d, --debug           enable debugging output
 -l LOG_FILE, --log=LOG_FILE
                       log relax output to the file LOG_FILE
 --licence             display the licence
 -t LOG_FILE, --tee=LOG_FILE
                       tee relax output to stdout and the file LOG_FILE
 -p, --pedantic        escalate all warnings to errors
 --test                run relax in test mode
 --test-suite          execute the relax test suite
 --unit-test           execute the relax unit tests (part of the test suite)
 --thread              run relax in threading mode (this mode should not be
                       invoked by a user)
 -v, --version         show the version number and exit
-----</pre><br>
<pre style="margin: 0em;"><br>-----
$ scons --help
scons: Reading SConscript files ...
scons: done reading SConscript files.</pre><br>
<pre style="margin: 0em;">Help for using Scons to build the various components of relax.</pre><br>
<pre style="margin: 0em;">usage: scons [target]</pre><br>
<pre style="margin: 0em;">No target:
 compile the C modules</pre><br>
<pre style="margin: 0em;">Standard targets:
 install                  install relax
 uninstall                uninstall relax
 binary_dist              create the binary distribution packages
 source_dist              create the source distribution packages
 clean                    remove the compiled and temporary files
 user_manual_pdf          create the user manual (PDF version)
 user_manual_pdf_nofetch  create the user manual (PDF version,
without fetching the docstrings)
 user_manual_html         create the user manual (HTML version)
 user_manual_html_nofetch create the user manual (HTML version,
without fetching the docstrings)
 api_manual_html          create the API documentation manual (HTML version)</pre><br>
<pre style="margin: 0em;">Specific targets:
 package_bin              package the binary distribution
 package_src              package the source distribution
 gpg_bin                  GPG sign the binary distribution file
 gpg_src                  GPG sign the source distribution file
 version_check            check the relax version number
 clean_temp               remove the temporary files
 manual_version_file      create the relax version number LaTeX file
 fetch_docstrings         fetch and LaTeX format the docstrings
 compile_user_manual_pdf  compile the PDF version of the user manual
from the LaTeX sources
 compile_user_manual_html compile the HTML version of the user manual
from the LaTeX sources
 compile_api_manual_html  compile the HTML version of the API
documentation manual using Epydoc
 manual_clean             remove the temporary manual files
 manual_clean_nodeps      remove the temporary manual files (with no
manual environments dependent on it)</pre><br>
<pre style="margin: 0em;">Use scons -H for help about command-line options.
-----</pre><br>
<pre style="margin: 0em;"><br>On the other hand, 'unit_test_runner.py' has the following incorrect
usage and help messages:</pre><br>
<pre style="margin: 0em;">-----
$ ./unit_test_runner.py -x
usage:
unit_test_runner.py [options] [&lt;file-or-dir&gt;...]</pre><br>
<pre style="margin: 0em;"> a program to find and run subsets of the relax unit test suite using pyunit.
 (details of how to write pyunit tests can be found in your python
distributions
 library reference)</pre><br>
<pre style="margin: 0em;"><br>arguments:
 &lt;file-or-dir&gt; = &lt;file-path&gt; | &lt;dir-path&gt; is a list which can contain
                 inter-mixed directories and files</pre><br>
<pre style="margin: 0em;"> &lt;file-path&gt;  =  a file containing a test case class files of the same
                 name with the first letter capitalised</pre><br>
<pre style="margin: 0em;">                 e.g. maths_fns/test_chi2.py will be assumed to contain
                 a test case class called Test_chi2</pre><br>
<pre style="margin: 0em;"> &lt;dir-path&gt;   =  a path which will be recursivley searched for &lt;file-path&gt;s
                 which end in py</pre><br>
<pre style="margin: 0em;"><br>unit_test_runner.py: error: no such option: -x
-----</pre><br>
<pre style="margin: 0em;"><br>-----
$ ./unit_test_runner.py --help
usage:
unit_test_runner.py [options] [&lt;file-or-dir&gt;...]</pre><br>
<pre style="margin: 0em;"> a program to find and run subsets of the relax unit test suite using pyunit.
 (details of how to write pyunit tests can be found in your python
distributions
 library reference)</pre><br>
<pre style="margin: 0em;"><br>arguments:
 &lt;file-or-dir&gt; = &lt;file-path&gt; | &lt;dir-path&gt; is a list which can contain
                 inter-mixed directories and files</pre><br>
<pre style="margin: 0em;"> &lt;file-path&gt;  =  a file containing a test case class files of the same
                 name with the first letter capitalised</pre><br>
<pre style="margin: 0em;">                 e.g. maths_fns/test_chi2.py will be assumed to contain
                 a test case class called Test_chi2</pre><br>
<pre style="margin: 0em;"> &lt;dir-path&gt;   =  a path which will be recursivley searched for &lt;file-path&gt;s
                 which end in py</pre><br>
<pre style="margin: 0em;"><br>options:
 -h, --help     show this help message and exit
 -v, --verbose  verbose test ouput
-----</pre><br>
<pre style="margin: 0em;"><br>All three systems should have very similar output for the two
conditions - the help system and incorrect usage.  An idea would be to
mimic the GNU tools setup.  For example incorrect usage of 'ls' gives:</pre><br>
<pre style="margin: 0em;">-----
$ ls -e
ls: invalid option -- e
Try `ls --help' for more information.
-----</pre><br>
<pre style="margin: 0em;">and:</pre><br>
<pre style="margin: 0em;">-----
$ cat -q
cat: invalid option -- q
Try `cat --help' for more information.
-----</pre><br>
<pre style="margin: 0em;">We could leave the 'Usage: ...' part when an error occurs though.  The
full help can then be returned when the '-h' or '--help' options are
given.  What do you think?</pre><br>
<pre style="margin: 0em;">Cheers,</pre><br>
<pre style="margin: 0em;">Edward</pre><br>
<br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Mar 08 10:40:20 2007</div>  
</body>
</html>
