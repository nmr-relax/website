<!-- MHonArc v2.6.18 -->
<!--X-Subject: r25458 &#45; /trunk/test_suite/system_tests/relax_disp.py -->
<!--X-From-R13: gyvaargNaze&#45;erynk.pbz -->
<!--X-Date: Fri, 29 Aug 2014 22:11:42 +0200 -->
<!--X-Message-Id: E1XNSWM&#45;0002BJ&#45;8q@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r25458 - /trunk/test_suite/system_tests/relax_disp.py -- August 29, 2014 - 22:11</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r25458 - /trunk/test_suite/system_tests/relax_disp.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00592" class="tabs">Index by Date</a> | <a href="threads.html#00592" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00591.html">Date Prev</a>] [<a href="msg00593.html">Date Next</a>] [<a href="msg00591.html">Thread Prev</a>] [<a href="msg00593.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Fri, 29 Aug 2014 20:11:42 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00592.html">E1XNSWM-0002BJ-8q@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>tlinnet</strong> on August 29, 2014 - 22:11:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: tlinnet
Date: Fri Aug 29 22:11:41 2014
New Revision: 25458

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=25458&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=25458&amp;view=rev</a>
Log:
Improved systemtest test_bug_negative_intensities_cpmg, by counting number of 
R2eff points.

Spin 4, which has one negative intensity, is expected to have one less R2eff 
point.

This makes sure, that all CPMG data set can be loaded and analysed, even if 
some peaks are very weak
are fluctuating with error level.

Modified:
    trunk/test_suite/system_tests/relax_disp.py

Modified: trunk/test_suite/system_tests/relax_disp.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/test_suite/system_tests/relax_disp.py?rev=25458&amp;r1=25457&amp;r2=25458&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/test_suite/system_tests/relax_disp.py?rev=25458&amp;r1=25457&amp;r2=25458&amp;view=diff</a>
==============================================================================
--- trunk/test_suite/system_tests/relax_disp.py (original)
+++ trunk/test_suite/system_tests/relax_disp.py Fri Aug 29 22:11:41 2014
@@ -1825,14 +1825,13 @@
         # Execute
         relax_disp.Relax_disp(pipe_name='relax_disp', 
results_dir=results_dir, models=MODELS, grid_inc=GRID_INC, mc_sim_num=MC_NUM, 
modsel=MODSEL)
 
-        # Check spin has been de selected.
-        #for cur_spin, mol_name, resi, resn, spin_id in 
spin_loop(full_info=True, return_id=True, skip_desel=False):
-        #    print(spin_id, cur_spin.select)
-        #    if spin_id == ':3@N':
-        #        #self.assertEqual(cur_spin.select, True)
-        #        print cur_spin
-        #    else:
-        #        self.assertEqual(cur_spin.select, True)
+        # Check spin less R2eff points.
+        for cur_spin, mol_name, resi, resn, spin_id in 
spin_loop(full_info=True, return_id=True, skip_desel=False):
+            # Assert that spin 4, has one less R2eff point, since one of the 
intensities are negative.
+            if spin_id == ':4@N':
+                self.assertEqual(len(cur_spin.r2eff), 14)
+            else:
+                self.assertEqual(len(cur_spin.r2eff), 15)
 
 
     def test_check_missing_r1(self):



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Aug 29 23:20:03 2014</div>  
</body>
</html>
