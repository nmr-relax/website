<!-- MHonArc v2.6.18 -->
<!--X-Subject: r25213 &#45; /trunk/test_suite/system_tests/structure.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Fri, 22 Aug 2014 14:09:14 +0200 -->
<!--X-Message-Id: E1XKnec&#45;0001wx&#45;Ko@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r25213 - /trunk/test_suite/system_tests/structure.py -- August 22, 2014 - 14:09</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r25213 - /trunk/test_suite/system_tests/structure.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00347" class="tabs">Index by Date</a> | <a href="threads.html#00347" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00346.html">Date Prev</a>] [<a href="msg00348.html">Date Next</a>] [<a href="msg00346.html">Thread Prev</a>] [<a href="msg00348.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Fri, 22 Aug 2014 12:09:14 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00347.html">E1XKnec-0001wx-Ko@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on August 22, 2014 - 14:09:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Fri Aug 22 14:09:14 2014
New Revision: 25213

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=25213&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=25213&amp;view=rev</a>
Log:
Improved data checking for all of the Structure system tests.

Before looping over the structural data, the number of lines in the real file 
and the newly
generated file are compared.  This avoids the situation whereby an empty file 
is produced,
accidentally allowing the test to pass.


Modified:
    trunk/test_suite/system_tests/structure.py

Modified: trunk/test_suite/system_tests/structure.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/test_suite/system_tests/structure.py?rev=25213&amp;r1=25212&amp;r2=25213&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/test_suite/system_tests/structure.py?rev=25213&amp;r1=25212&amp;r2=25213&amp;view=diff</a>
==============================================================================
--- trunk/test_suite/system_tests/structure.py  (original)
+++ trunk/test_suite/system_tests/structure.py  Fri Aug 22 14:09:14 2014
@@ -143,6 +143,7 @@
         # Check the created PDB file.
         lines = file.readlines()
         self.strip_remarks(lines)
+        self.assertEqual(len(contents), len(lines))
         for i in range(len(lines)):
             self.assertEqual(contents[i], lines[i])
 
@@ -204,6 +205,7 @@
         # Check the created PDB file.
         lines = file.readlines()
         self.strip_remarks(lines)
+        self.assertEqual(len(contents), len(lines))
         for i in range(len(lines)):
             self.assertEqual(contents[i], lines[i])
 
@@ -3359,6 +3361,7 @@
 
         # Check the data.
         self.strip_remarks(lines)
+        self.assertEqual(len(real_data), len(lines))
         for i in range(len(real_data)):
             self.assertEqual(real_data[i], lines[i])
 
@@ -3637,6 +3640,7 @@
         # Check the created PDB file.
         lines = file.readlines()
         self.strip_remarks(lines)
+        self.assertEqual(len(result), len(lines))
         for i in range(len(lines)):
             self.assertEqual(result[i]+'\n', lines[i])
 
@@ -3694,6 +3698,7 @@
         # Check the created PDB file.
         lines = file.readlines()
         self.strip_remarks(lines)
+        self.assertEqual(len(result), len(lines))
         for i in range(len(lines)):
             self.assertEqual(result[i]+'\n', lines[i])
 
@@ -3767,5 +3772,6 @@
         # Check the created PDB file.
         lines = file.readlines()
         self.strip_remarks(lines)
+        self.assertEqual(len(result), len(lines))
         for i in range(len(lines)):
             self.assertEqual(result[i]+'\n', lines[i])



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Aug 22 15:00:02 2014</div>  
</body>
</html>
