<!-- MHonArc v2.6.16 -->
<!--X-Subject: r13632 &#45; /1.3/data/__init__.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Thu, 14 Jul 2011 20:09:51 +0200 -->
<!--X-Message-Id: E1QhQMA&#45;0003PB&#45;TK@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r13632 - /1.3/data/__init__.py -- July 14, 2011 - 20:09</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r13632 - /1.3/data/__init__.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00275" class="tabs">Index by Date</a> | <a href="threads.html#00275" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00274.html">Date Prev</a>] [<a href="msg00276.html">Date Next</a>] [<a href="msg00274.html">Thread Prev</a>] [<a href="msg00276.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Thu, 14 Jul 2011 18:09:50 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00275.html">E1QhQMA-0003PB-TK@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on July 14, 2011 - 20:09:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Thu Jul 14 20:09:47 2011
New Revision: 13632

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=13632&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=13632&amp;view=rev</a>
Log:
Fix for the loading of saved state files prior to r13631 - the cdp is now set 
to the last pipe.

The earlier saved state files did not store the current data pipe info, so 
the current data pipe was
set by default to the last data pipe.  This behaviour was broken with r13631 
but is now restored for
the old state files.


Modified:
    1.3/data/__init__.py

Modified: 1.3/data/__init__.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/1.3/data/__init__.py?rev=13632&amp;r1=13631&amp;r2=13632&amp;view=diff">http://svn.gna.org/viewcvs/relax/1.3/data/__init__.py?rev=13632&amp;r1=13631&amp;r2=13632&amp;view=diff</a>
==============================================================================
--- 1.3/data/__init__.py (original)
+++ 1.3/data/__init__.py Thu Jul 14 20:09:47 2011
@@ -305,7 +305,10 @@
                 pipe_type = pipe_node.getAttribute('type')
 
                 # Add the data pipe.
-                self.add(pipe_name, pipe_type, switch=False)
+                switch = False
+                if self.current_pipe == None:
+                    switch = True
+                self.add(pipe_name, pipe_type, switch=switch)
 
                 # Fill the pipe.
                 self[pipe_name].from_xml(pipe_node, 
file_version=file_version, dir=dir)



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Jul 15 09:40:02 2011</div>  
</body>
</html>
