<!-- MHonArc v2.6.16 -->
<!--X-Subject: [bug #20174] run mf_multimodel.py in relax -->
<!--X-From-R13: nabalzbhf <@A&#45;DSBZK.W@HOZWR&#45;ORRDSEENtan.bet> -->
<!--X-Date: Mon, 17 Sep 2012 18:30:18 +0200 -->
<!--X-Message-Id: 20120917&#45;163017.sv0.97297@gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[bug #20174] run mf_multimodel.py in relax -- September 17, 2012 - 18:30</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />[bug #20174] run mf_multimodel.py in relax</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00058" class="tabs">Index by Date</a> | <a href="threads.html#00058" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00057.html">Date Prev</a>] [<a href="msg00059.html">Date Next</a>] [<a href="msg00053.html">Thread Prev</a>] [<a href="msg00059.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Mon, 17 Sep 2012 18:30:18 +0200</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00058.html">20120917-163017.sv0.97297@gna.org</a>&gt;</li>
<li class="menuitem">
<em>References</em>: </li>
<li class="menuitem">
<em>User-agent</em>: Mozilla/4.0 (compatible; MSIE 8.0; Windows NT 5.1; Trident/4.0;	.NET CLR 2.0.50727; .NET CLR 3.0.4506.2152; .NET CLR 3.5.30729;	AskTbFXTV5/5.11.3.15590; yie8)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>anonymous</strong> on September 17, 2012 - 18:30:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">URL:
  &lt;<a  rel="nofollow" href="http://gna.org/bugs/?20174">http://gna.org/bugs/?20174</a>&gt;

                 Summary: run mf_multimodel.py in relax
                 Project: relax
            Submitted by: None
            Submitted on: Mon 17 Sep 2012 04:30:17 PM UTC
                Category: relax sample scripts
                Severity: 3 - Normal
                Priority: 5 - Normal
                  Status: None
                 Privacy: Public
             Assigned to: None
         Originator Name: 
        Originator Email: mengjun.xue@xxxxxxxxxxxxxxxxxxxx 
             Open/Closed: Open
         Discussion Lock: Any
                 Release: 2.1.0
        Operating System: Microsoft Windows

    _______________________________________________________

Details:

I started relax script mode by clicking the relax.py, and type mf_multimodel,
but Relax did not continue to perform calculations, and a error window came
up:



                                  relax 2.1.0

                    Molecular dynamics by NMR data analysis

                   Copyright (C) 2001-2006 Edward d'Auvergne
              Copyright (C) 2006-2012 the relax development team

This is free software which you are welcome to modify and redistribute under
the conditions of the GNU General Public License (GPL).  This program,
including all modules, is licensed under the GPL and comes with absolutely no
warranty.  For details type 'GPL' within the relax prompt.

Assistance in using the relax prompt and scripting interface can be accessed
by
typing 'help' within the prompt.

Processor fabric:  Uni-processor.

mf_multimodel.py
Traceback (most recent call last):
  File &quot;&lt;input&gt;&quot;, line 1, in &lt;module&gt;
NameError: name 'mf_multimodel' is not defined



the text version of  mf_multimodel.py is shown in following:

###############################################################################
#                                                                            
#
# Copyright (C) 2003-2012 Edward d'Auvergne                                  
#
#                                                                            
#
# This file is part of the program relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>).         
#
#                                                                            
#
# This program is free software: you can redistribute it and/or modify       
#
# it under the terms of the GNU General Public License as published by       
#
# the Free Software Foundation, either version 3 of the License, or          
#
# (at your option) any later version.                                        
#
#                                                                            
#
# This program is distributed in the hope that it will be useful,            
#
# but WITHOUT ANY WARRANTY; without even the implied warranty of             
#
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the              
#
# GNU General Public License for more details.                               
#
#                                                                            
#
# You should have received a copy of the GNU General Public License          
#
# along with this program.  If not, see &lt;<a  rel="nofollow" href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.      
#
#                                                                            
#
###############################################################################

&quot;&quot;&quot;This script performs a model-free analysis for the models 'm0' to 'm9' (or
'tm0' to 'tm9').&quot;&quot;&quot;


# Set the data pipe names (also the names of preset model-free models).
#pipes = ['tm0', 'tm1', 'tm2', 'tm3', 'tm4', 'tm5', 'tm6', 'tm7', 'tm8',
'tm9']
pipes = ['m0', 'm1', 'm2', 'm3', 'm4', 'm5', 'm6', 'm7', 'm8', 'm9']

# Loop over the pipes.
for name in pipes:
    # Create the data pipe.
    pipe.create(name, 'mf')

    # Set up the 15N spins.
    sequence.read('noe.500.out', res_num_col=1)
    spin.name('N')
    spin.element(element='N', spin_id='@N')
    spin.isotope('15N', spin_id='@N')

    # Load a PDB file.
    structure.read_pdb(file='C:\\Documents and Settings\\Mengjun
Xue\\Desktop\\Relax bugs\\Relax\\tutorial_pdc\\tutorial_pdc\\1UBQ_H.pdb',
dir=None, read_mol=None, set_mol_name=None, read_model=None,
set_model_num=None, parser='internal')

    # Load the relaxation data.
    bruker.read(ri_id='noe_600', file='C:\\Documents and Settings\\Mengjun
Xue\\Desktop\\Relax bugs\\Relax\\NOE demo.txt', dir=None)  
bruker.read(ri_id='r1_600', file='C:\\Documents and Settings\\Mengjun
Xue\\Desktop\\Relax bugs\\Relax\\T1 demo.txt', dir=None)  
bruker.read(ri_id='r2_600', file='C:\\Documents and Settings\\Mengjun
Xue\\Desktop\\Relax bugs\\Relax\\T2 demo.txt', dir=None) # Set up the
diffusion tensor.
    diffusion_tensor.init(1e-8, fixed=True)
    #diffusion_tensor.init((1e-8, 1.0, 60, 290), param_types=0,
spheroid_type='oblate', fixed=True)

    # Generate the 1H spins for the magnetic dipole-dipole relaxation
interaction.
    sequence.attach_protons()

    # Define the magnetic dipole-dipole relaxation interaction.
    dipole_pair.define(spin_id1='@N', spin_id2='@H', direct_bond=True)
    dipole_pair.set_dist(spin_id1='@N', spin_id2='@H', ave_dist=1.02 * 1e-10)
    structure.get_pos('@N')
    structure.get_pos('@H')
    dipole_pair.unit_vectors()

    # Define the chemical shift relaxation interaction.
    value.set(-172 * 1e-6, 'csa', spin_id='@N')

    # Select the model-free model.
    model_free.select_model(model=name)

    # Minimise.
    grid_search(inc=11)
    minimise('newton')

    # Write the results.
    results.write(file='results', force=True)

# Save the program state.
state.save('save', force=True)





    _______________________________________________________

File Attachments:


-------------------------------------------------------
Date: Mon 17 Sep 2012 04:30:17 PM UTC  Name: mf_multimodel.py  Size: 4kB   By:
None

&lt;<a  rel="nofollow" href="http://gna.org/bugs/download.php?file_id=16587">http://gna.org/bugs/download.php?file_id=16587</a>&gt;

    _______________________________________________________

Reply to this item at:

  &lt;<a  rel="nofollow" href="http://gna.org/bugs/?20174">http://gna.org/bugs/?20174</a>&gt;

_______________________________________________
  Message sent via/by Gna!
  <a  rel="nofollow" href="http://gna.org/">http://gna.org/</a>



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00059" href="msg00059.html">[bug #20174] run mf_multimodel.py in relax</a></strong>
<ul><li><em>From:</em> Edward d Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Sep 26 19:00:11 2012</div>  
</body>
</html>
