<!-- MHonArc v2.6.18 -->
<!--X-Subject: r23369 &#45; /trunk/test_suite/system_tests/relax_disp.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Fri, 23 May 2014 10:10:47 +0200 -->
<!--X-Message-Id: E1WnkYx&#45;00034C&#45;6s@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r23369 - /trunk/test_suite/system_tests/relax_disp.py -- May 23, 2014 - 10:10</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r23369 - /trunk/test_suite/system_tests/relax_disp.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00472" class="tabs">Index by Date</a> | <a href="threads.html#00472" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00471.html">Date Prev</a>] [<a href="msg00473.html">Date Next</a>] [<a href="msg00471.html">Thread Prev</a>] [<a href="msg00473.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Fri, 23 May 2014 08:10:47 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00472.html">E1WnkYx-00034C-6s@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on May 23, 2014 - 10:10:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Fri May 23 10:10:46 2014
New Revision: 23369

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=23369&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=23369&amp;view=rev</a>
Log:
Fixes for 3 dispersion system tests for the change in default parameter 
values.

The default values are used in the auto-analysis in the test suite to avoid 
the grid search.  The
changed values affected the optimisation of two spins from Flemming Hansen's 
data located at
test_suite/shared_data/dispersion/Hansen/, residue 4 used as an example of no 
exchange and residue
70 used as an example where data is only available at one field.  The system 
test
Relax_disp.test_set_grid_r20_from_min_r2eff_cpmg was also modified as it was 
directly checking these
default values.


Modified:
    trunk/test_suite/system_tests/relax_disp.py

Modified: trunk/test_suite/system_tests/relax_disp.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/test_suite/system_tests/relax_disp.py?rev=23369&amp;r1=23368&amp;r2=23369&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/test_suite/system_tests/relax_disp.py?rev=23369&amp;r1=23368&amp;r2=23369&amp;view=diff</a>
==============================================================================
--- trunk/test_suite/system_tests/relax_disp.py (original)
+++ trunk/test_suite/system_tests/relax_disp.py Fri May 23 10:10:46 2014
@@ -1887,18 +1887,18 @@
         print(&quot;%-20s %20.15g %20.15g&quot; % (&quot;dw&quot;, spin70.dw, spin71.dw))
         print(&quot;%-20s %20.15g %20.15g&quot; % (&quot;kex&quot;, spin70.kex, spin71.kex))
         print(&quot;%-20s %20.15g %20.15g\n&quot; % (&quot;chi2&quot;, spin70.chi2, spin71.chi2))
-        self.assertAlmostEqual(spin70.r2[r20_key1], 6.95820070286795, 3)
-        self.assertAlmostEqual(spin70.r2[r20_key2], 9.39657836325177, 3)
-        self.assertAlmostEqual(spin70.pA, 0.989701009272583, 3)
-        self.assertAlmostEqual(spin70.dw, 5.67326272877785, 3)
-        self.assertAlmostEqual(spin70.kex/10000, 1713.54848022381/10000, 3)
-        self.assertAlmostEqual(spin70.chi2, 52.5106852884892, 3)
-        self.assertAlmostEqual(spin71.r2[r20_key1], 4.99887619838854, 3)
-        self.assertAlmostEqual(spin71.r2[r20_key2], 6.89817579107423, 3)
-        self.assertAlmostEqual(spin71.pA, 0.986695947044873, 3)
-        self.assertAlmostEqual(spin71.dw, 2.09130944488215, 3)
-        self.assertAlmostEqual(spin71.kex/10000, 2438.42961328059/10000, 3)
-        self.assertAlmostEqual(spin71.chi2, 15.1644963157243, 3)
+        self.assertAlmostEqual(spin70.r2[r20_key1], 6.95815351460902, 3)
+        self.assertAlmostEqual(spin70.r2[r20_key2], 9.39649535771294, 3)
+        self.assertAlmostEqual(spin70.pA, 0.989701014493195, 3)
+        self.assertAlmostEqual(spin70.dw, 5.67314464776128, 3)
+        self.assertAlmostEqual(spin70.kex/10000, 1713.65380495429/10000, 3)
+        self.assertAlmostEqual(spin70.chi2, 52.5106880917473, 3)
+        self.assertAlmostEqual(spin71.r2[r20_key1], 4.99889337382435, 3)
+        self.assertAlmostEqual(spin71.r2[r20_key2], 6.89822887466673, 3)
+        self.assertAlmostEqual(spin71.pA, 0.986709050819695, 3)
+        self.assertAlmostEqual(spin71.dw, 2.09238266766502, 3)
+        self.assertAlmostEqual(spin71.kex/10000, 2438.27019901422/10000, 3)
+        self.assertAlmostEqual(spin71.chi2, 15.1644906963987, 3)
 
         # The final data pipe checks.
         self.interpreter.pipe.switch(pipe_name='final - relax_disp')
@@ -2048,23 +2048,23 @@
         print(&quot;%-20s %20.15g %20.15g %20.15g&quot; % (&quot;dw&quot;, spin4.dw, spin70.dw, 
spin71.dw))
         print(&quot;%-20s %20.15g %20.15g %20.15g&quot; % (&quot;kex&quot;, spin4.kex, 
spin70.kex, spin71.kex))
         print(&quot;%-20s %20.15g %20.15g %20.15g\n&quot; % (&quot;chi2&quot;, spin4.chi2, 
spin70.chi2, spin71.chi2))
-        self.assertAlmostEqual(spin4.r2[r20_key1], 1.58622828626709, 2)
-        self.assertAlmostEqual(spin4.r2[r20_key2], 1.58592122315687, 3)
-        self.assertAlmostEqual(spin4.pA, 0.51276361588332, 3)
-        self.assertAlmostEqual(spin4.dw, 0.0677279657953332, 3)
-        self.assertAlmostEqual(spin4.kex/10000, 2448.82586714642/10000, 3)
-        self.assertAlmostEqual(spin4.chi2, 20.4855900585583, 3)
-        self.assertAlmostEqual(spin70.r2[r20_key1], 6.97252087724882, 3)
-        self.assertAlmostEqual(spin70.r2[r20_key2], 9.40960089079409, 3)
-        self.assertAlmostEqual(spin70.pA, 0.989857038532724, 3)
-        self.assertAlmostEqual(spin70.dw, 5.60897947735102, 3)
-        self.assertAlmostEqual(spin70.kex/10000, 1752.98845226051/10000, 3)
-        self.assertAlmostEqual(spin70.chi2, 53.8382162820491, 3)
-        self.assertAlmostEqual(spin71.r2[r20_key1], 4.98111206240747, 3)
-        self.assertAlmostEqual(spin71.pA, 0.996607989009612, 3)
-        self.assertAlmostEqual(spin71.dw, 4.34436483888832, 3)
-        self.assertAlmostEqual(spin71.kex/10000, 1936.74679136572/10000, 3)
-        self.assertAlmostEqual(spin71.chi2, 5.5170374277749, 3)
+        self.assertAlmostEqual(spin4.r2[r20_key1], 1.60462456409508, 2)
+        self.assertAlmostEqual(spin4.r2[r20_key2], 1.63221781206148, 3)
+        self.assertAlmostEqual(spin4.pA, 0.899911303159742, 3)
+        self.assertAlmostEqual(spin4.dw, 0.000048303116437, 3)
+        self.assertAlmostEqual(spin4.kex/10000, 0.0796851577904277/10000, 3)
+        self.assertAlmostEqual(spin4.chi2, 26.7356693257612, 3)
+        self.assertAlmostEqual(spin70.r2[r20_key1], 6.97235130701478, 3)
+        self.assertAlmostEqual(spin70.r2[r20_key2], 9.40988386796136, 3)
+        self.assertAlmostEqual(spin70.pA, 0.989856745034836, 3)
+        self.assertAlmostEqual(spin70.dw, 5.60878828496508, 3)
+        self.assertAlmostEqual(spin70.kex/10000, 1752.93345983946/10000, 3)
+        self.assertAlmostEqual(spin70.chi2, 53.8382172686916, 3)
+        self.assertAlmostEqual(spin71.r2[r20_key1], 4.98111647969012, 3)
+        self.assertAlmostEqual(spin71.pA, 0.996608013844177, 3)
+        self.assertAlmostEqual(spin71.dw, 4.34425685338434, 3)
+        self.assertAlmostEqual(spin71.kex/10000, 1937.21776309767/10000, 3)
+        self.assertAlmostEqual(spin71.chi2, 5.51703749012473, 3)
 
 
     def test_hansen_cpmg_data_to_cr72(self):
@@ -4529,9 +4529,9 @@
             # Testing the r2 values.
             self.assertEqual(spin.r2[r20_key_600], 10.00)
             self.assertEqual(spin.r2[r20_key_500], 10.00)
-            self.assertEqual(spin.pA, 0.5)
-            self.assertEqual(spin.dw, 0.0)
-            self.assertEqual(spin.kex, 10000.0)
+            self.assertEqual(spin.pA, 0.9)
+            self.assertEqual(spin.dw, 1.0)
+            self.assertEqual(spin.kex, 1000.0)
 
         print(&quot;###########################################&quot;)
         print(&quot;Trying GRID SEARCH for standard R2eff values&quot;)



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri May 23 10:20:03 2014</div>  
</body>
</html>
