<!-- MHonArc v2.6.10 -->
<!--X-Subject: Update of the data model redesign document. -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Sun, 04 Mar 2007 09:27:01 +0100 -->
<!--X-Message-Id: 7f080ed10703040026n38423494pf47f953a91715746@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Update of the data model redesign document. -- March 04, 2007 - 09:27</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Update of the data model redesign document.</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00003" class="tabs">Index by Date</a> | <a href="threads.html#00003" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00002.html">Date Prev</a>] [<a href="msg00004.html">Date Next</a>] [<a href="msg00001.html">Thread Prev</a>] [<a href="msg00004.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Sun, 4 Mar 2007 19:26:22 +1100</li>
<li class="menuitem">
<em>Dkim-signature</em>: a=rsa-sha1; c=relaxed/relaxed; d=gmail.com; s=beta;	h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition:x-google-sender-auth;	b=bwRxLCG9KIKjRLd5jBTlL6rxYtXpv84x0J2sCBPPcEi7YSDrIL2rf0nCe0fkuipQnwY1sKjoYp4Adg0JMxeG5lEO+vRaHzMjZuUgb5eMGk6tryZ3mLSXFjosFBf1i0RsrAnzSsp0PYl50SLInhEWe/FH8BRyBHYhN//pVucwWIg=</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00003.html">7f080ed10703040026n38423494pf47f953a91715746@mail.gmail.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on March 04, 2007 - 09:27:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,</pre><br>
<pre style="margin: 0em;">I have now reread all of the posts relating to the data model redesign
and have updated the planning document.  I have cut and paste the
current version to the end of this email.  If you notice any omissions
or errors, please say.</pre><br>
<pre style="margin: 0em;">Thanks,</pre><br>
<pre style="margin: 0em;">Edward</pre><br>
<pre style="margin: 0em;"><br>P.S.  Here is the entire text of the planning document:</pre><br>
<pre style="margin: 0em;">######################################################
# The relax data model redesign -- planning document #
######################################################</pre><br>
<pre style="margin: 0em;"><br># The proposal.
###############</pre><br>
<pre style="margin: 0em;">The proposal was split into multiple posts to relax-devel.  The posts are:</pre><br>
<pre style="margin: 0em;">* The parent message 'Redesign of the relax data model:  A HOWTO for
breaking relax'.
Located at <a  href="https://mail.gna.org/public/relax-devel/2006-10/msg00053.html">https://mail.gna.org/public/relax-devel/2006-10/msg00053.html</a>
(Message-id: &lt;1160550133.9523.54.camel@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&gt;).</pre><br>
<pre style="margin: 0em;">* Section 1 'Redesign of the relax data model:  1.  Why change?'.
Located at <a  href="https://mail.gna.org/public/relax-devel/2006-10/msg00054.html">https://mail.gna.org/public/relax-devel/2006-10/msg00054.html</a>
(Message-id: &lt;1160551172.9523.60.camel@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&gt;).</pre><br>
<pre style="margin: 0em;">* Section 2 'Subject: Redesign of the relax data model:  2.  A new run 
concept'.
Located at <a  href="https://mail.gna.org/public/relax-devel/2006-10/msg00056.html">https://mail.gna.org/public/relax-devel/2006-10/msg00056.html</a>
(Message-id: &lt;1160555137.9523.70.camel@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&gt;).</pre><br>
<pre style="margin: 0em;">* Section 3 'Redesign of the relax data model:  3.  Molecules,
residues, and spins'.
Located at <a  href="https://mail.gna.org/public/relax-devel/2006-10/msg00057.html">https://mail.gna.org/public/relax-devel/2006-10/msg00057.html</a>
(Message-id: &lt;1160557041.9523.74.camel@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&gt;).</pre><br>
<pre style="margin: 0em;">* Section 4 'Redesign of the relax data model:  4.  Conclusion'.
Located at <a  href="https://mail.gna.org/public/relax-devel/2006-10/msg00058.html">https://mail.gna.org/public/relax-devel/2006-10/msg00058.html</a>
(Message-id: &lt;1160557876.9523.79.camel@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&gt;).</pre><br>
<pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;"># Preparation.
##############</pre><br>
<pre style="margin: 0em;">1 [Done].  Firstly release relax version 1.3.0 prior to any changes
(to allow a functional version which handles RNA better, has the
tensor PDB representation code, etc).</pre><br>
<pre style="margin: 0em;">2.  Redesign 'self.relax.data'.</pre><br>
<pre style="margin: 0em;">3.  Create the data pipe looping function for the 'pipes' argument
(Chris MacRaild,
<a  href="https://mail.gna.org/public/relax-devel/2006-10/msg00060.html">https://mail.gna.org/public/relax-devel/2006-10/msg00060.html</a>,
Message-id: &lt;1160562239.14487.98.camel@mrspell&gt;).  The user functions
could be implemented as functors (Chris MacRaild,
<a  href="https://mail.gna.org/public/relax-devel/2007-01/msg00020.html">https://mail.gna.org/public/relax-devel/2007-01/msg00020.html</a>,
Message-ID: &lt;1168432131.7569.338.camel@mrspell&gt;).  The design will
need to take into account the user function docstrings, relax help
system, and the relax manual docstring fetching code.</pre><br>
<pre style="margin: 0em;">4.  Create the spin_loop function (Edward d'Auvergne,
<a  href="https://mail.gna.org/public/relax-devel/2006-10/msg00057.html">https://mail.gna.org/public/relax-devel/2006-10/msg00057.html</a>,
Message-id: &lt;1160557041.9523.74.camel@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&gt;).
Use a generator function, using the yield statement, to return the
spin data containers which are essentially pointers to the data (Gary
Thompson, <a  href="https://mail.gna.org/public/relax-devel/2007-01/msg00014.html">https://mail.gna.org/public/relax-devel/2007-01/msg00014.html</a>,
Message-id: &lt;f001463a0701071417w6bd7927cp8fdd052e698575ec@xxxxxxxxxxxxxx&gt;).
The implementation was essentially given by Chris MacRaild at
<a  href="https://mail.gna.org/public/relax-devel/2007-01/msg00036.html">https://mail.gna.org/public/relax-devel/2007-01/msg00036.html</a>
(Message-ID: &lt;1168883717.7569.511.camel@mrspell&gt;).</pre><br>
<pre style="margin: 0em;">5.  Implement a parser for the following molecule/residue/spin
selection syntax (Gary Thompson,
<a  href="https://mail.gna.org/public/relax-devel/2007-01/msg00014.html">https://mail.gna.org/public/relax-devel/2007-01/msg00014.html</a>,
Message-id: &lt;f001463a0701071417w6bd7927cp8fdd052e698575ec@xxxxxxxxxxxxxx&gt;):
   #&lt;molecule number&gt; |
&lt;molecule_name&gt;:&lt;residue_selection&gt;[,&lt;residue_selection&gt;...]@&lt;atom_selection&gt;
[,&lt;atom_selection&gt;]
   residue_selection=&lt;residue_number&gt; | &lt;residue_range&gt; | &lt;residue_type&gt;
   residue_selection=&lt;residue_number&gt;-&lt;residue_number&gt;
   atom_selection=&lt;string_and_wildcards&gt;
This syntax will need to be properly referenced (in addition to being
fully described) in the user function docstrings.  I.e. the reference
for Molmol syntax, the reference for UCSF syntax, etc.  We need to
find the source and name of the syntax.</pre><br>
<pre style="margin: 0em;">6.  Convert the methods of the class 'Selection' from the file
'generic_fns/selection.py' into methods and then add the following
functions (Chris MacRaild at
<a  href="https://mail.gna.org/public/relax-devel/2007-01/msg00036.html">https://mail.gna.org/public/relax-devel/2007-01/msg00036.html</a>
Message-ID: &lt;1168883717.7569.511.camel@mrspell&gt;; Edward d'Auvergne,
<a  href="https://mail.gna.org/public/relax-devel/2007-01/msg00041.html">https://mail.gna.org/public/relax-devel/2007-01/msg00041.html</a>,
Message-ID: &lt;7f080ed10701190408i8a5dee3y8ccbe1aba11bcba@xxxxxxxxxxxxxx&gt;):
   parse_token()
   tokenise()</pre><br>
<pre style="margin: 0em;">7.  Create the spin_command function (Chris MacRaild,
<a  href="https://mail.gna.org/public/relax-devel/2007-01/msg00036.html">https://mail.gna.org/public/relax-devel/2007-01/msg00036.html</a>,
Message-ID: &lt;1168883717.7569.511.camel@mrspell&gt;).</pre><br>
<pre style="margin: 0em;">8.  Rename 'prompt/run.py' to 'prompt/pipe.py'.  Rename
'generic_fns/runs.py' to 'generic_fns/pipes.py'.</pre><br>
<pre style="margin: 0em;">9.  Create the new pipe user functions (from the old run user functions):
   pipe.copy()         # Create a new pipe with the current contents
of another pipe.
   pipe.create()       # Create a new pipe.  Switch to this pipe by default.
   pipe.current()      # Print the current pipe name.
   pipe.delete()       # Delete the pipe.
   pipe.delete_all()   # Delete all pipes.  Essentially deleting
'self.relax.data'.
   pipe.hybridise()    # Fuse two pipes into the current pipe.
Overlapping data in the two pipes must be identical!
   pipe.list()         # Print the details of all pipes.
   pipe.switch()       # Switch to a different pipe.</pre><br>
<pre style="margin: 0em;">10.  Create the 'molecule' user function class:
   molecule.add()</pre><br>
<br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Mar 09 04:20:23 2007</div>  
</body>
</html>
