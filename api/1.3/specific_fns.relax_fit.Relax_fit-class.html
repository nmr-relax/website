<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>specific_fns.relax_fit.Relax_fit</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://nmr-relax.com">relax</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="specific_fns-module.html">Package&nbsp;specific_fns</a> ::
        <a href="specific_fns.relax_fit-module.html">Module&nbsp;relax_fit</a> ::
        Class&nbsp;Relax_fit
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="specific_fns.relax_fit.Relax_fit-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class Relax_fit</h1><p class="nomargin-top"><span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit">source&nbsp;code</a></span></p>
<center>
<center>  <map id="uml_class_diagram_for_specific_17" name="uml_class_diagram_for_specific_17">
<area shape="rect" id="node610" href="specific_fns.relax_fit.Relax_fit-class.html#assemble_param_vector" title="Assemble the exponential curve parameter vector (as a numpy array)." alt="" coords="17,376,1225,395"/>
<area shape="rect" id="node610" href="specific_fns.relax_fit.Relax_fit-class.html#assemble_scaling_matrix" title="Create and return the scaling matrix." alt="" coords="17,395,1225,413"/>
<area shape="rect" id="node610" href="specific_fns.relax_fit.Relax_fit-class.html#back_calc" title="Back&#45;calculation of peak intensity for the given relaxation time." alt="" coords="17,413,1225,432"/>
<area shape="rect" id="node610" href="specific_fns.relax_fit.Relax_fit-class.html#create_mc_data" title="Create the Monte Carlo peak intensity data." alt="" coords="17,432,1225,451"/>
<area shape="rect" id="node610" href="specific_fns.relax_fit.Relax_fit-class.html#data_init" title="Initialise the spin specific data structures." alt="" coords="17,451,1225,469"/>
<area shape="rect" id="node610" href="specific_fns.relax_fit.Relax_fit-class.html#data_names" title="Function for returning a list of names of data structures." alt="" coords="17,469,1225,488"/>
<area shape="rect" id="node610" href="specific_fns.relax_fit.Relax_fit-class.html#default_value" title="Relaxation curve fitting default values ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~" alt="" coords="17,488,1225,507"/>
<area shape="rect" id="node610" href="specific_fns.relax_fit.Relax_fit-class.html#disassemble_param_vector" title="Disassemble the parameter vector." alt="" coords="17,507,1225,525"/>
<area shape="rect" id="node610" href="specific_fns.relax_fit.Relax_fit-class.html#grid_search" title="The exponential curve fitting grid search function." alt="" coords="17,525,1225,544"/>
<area shape="rect" id="node610" href="specific_fns.relax_fit.Relax_fit-class.html#grid_search_setup" title="The grid search setup function." alt="" coords="17,544,1225,563"/>
<area shape="rect" id="node610" href="specific_fns.relax_fit.Relax_fit-class.html#linear_constraints" title="Set up the relaxation curve fitting linear constraint matrices A and b." alt="" coords="17,563,1225,581"/>
<area shape="rect" id="node610" href="specific_fns.relax_fit.Relax_fit-class.html#minimise" title="Relaxation curve fitting function." alt="" coords="17,581,1225,600"/>
<area shape="rect" id="node610" href="specific_fns.relax_fit.Relax_fit-class.html#model_setup" title="Update various model specific data structures." alt="" coords="17,600,1225,619"/>
<area shape="rect" id="node610" href="specific_fns.relax_fit.Relax_fit-class.html#sim_pack_data" title="Pack the Monte Carlo simulation data." alt="" coords="17,637,1225,656"/>
<area shape="rect" id="node1" href="specific_fns.relax_fit.Relax_fit-class.html" title="Class containing functions for relaxation curve fitting." alt="" coords="5,345,1237,663"/>
<area shape="rect" id="node611" href="specific_fns.base_class.Common_functions-class.html#base_data_loop" title="Generator method for looping over the base data of the specific analysis &#160;type." alt="" coords="431,37,812,56"/>
<area shape="rect" id="node611" href="specific_fns.base_class.Common_functions-class.html#eliminate" title="Dummy method for model elimination." alt="" coords="431,56,812,75"/>
<area shape="rect" id="node611" href="specific_fns.base_class.Common_functions-class.html#has_errors" title="Function for testing if errors exist for the run." alt="" coords="431,75,812,93"/>
<area shape="rect" id="node611" href="specific_fns.base_class.Common_functions-class.html#is_spin_param" title="Determine whether the given parameter is spin specific." alt="" coords="431,93,812,112"/>
<area shape="rect" id="node611" href="specific_fns.base_class.Common_functions-class.html#model_loop" title="Default generator method for looping over the models." alt="" coords="431,112,812,131"/>
<area shape="rect" id="node611" href="specific_fns.base_class.Common_functions-class.html#num_instances" title="Function for returning the number of instances." alt="" coords="431,131,812,149"/>
<area shape="rect" id="node611" href="specific_fns.base_class.Common_functions-class.html#return_conversion_factor" title="Dummy function for returning 1.0." alt="" coords="431,149,812,168"/>
<area shape="rect" id="node611" href="specific_fns.base_class.Common_functions-class.html#return_value" title="Return the value and error corresponding to the parameter &#39;param&#39;." alt="" coords="431,168,812,187"/>
<area shape="rect" id="node611" href="specific_fns.base_class.Common_functions-class.html#set_error" title="Set the parameter errors." alt="" coords="431,187,812,205"/>
<area shape="rect" id="node611" href="specific_fns.base_class.Common_functions-class.html#set_non_spin_params" title="Base class method which complains loudly if anything is supplied to it." alt="" coords="431,205,812,224"/>
<area shape="rect" id="node611" href="specific_fns.base_class.Common_functions-class.html#set_selected_sim" title="Set the simulation selection flag for the spin." alt="" coords="431,224,812,243"/>
<area shape="rect" id="node611" href="specific_fns.base_class.Common_functions-class.html#set_update" title="Dummy function to do nothing!" alt="" coords="431,243,812,261"/>
<area shape="rect" id="node611" href="specific_fns.base_class.Common_functions-class.html#sim_init_values" title="Initialise the Monte Carlo parameter values." alt="" coords="431,261,812,280"/>
<area shape="rect" id="node611" href="specific_fns.base_class.Common_functions-class.html#test_grid_ops" title="Function for testing that the grid search options are reasonable." alt="" coords="431,299,812,317"/>
<area shape="rect" id="node2" href="specific_fns.base_class.Common_functions-class.html" title="Base class containing simple methods used by some a number of the specific analysis types." alt="" coords="419,6,824,325"/>
</map>
  <img src="uml_class_diagram_for_specific_17.gif" alt='' usemap="#uml_class_diagram_for_specific_17" ismap="ismap" class="graph-without-title" />
</center>
</center>
<hr />
<p>Class containing functions for relaxation curve fitting.</p>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">numpy array</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="specific_fns.relax_fit.Relax_fit-class.html#assemble_param_vector" class="summary-sig-name">assemble_param_vector</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">spin</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">sim_index</span>=<span class="summary-sig-default">None</span>)</span><br />
      Assemble the exponential curve parameter vector (as a numpy array).</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.assemble_param_vector">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">numpy diagonal matrix</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="specific_fns.relax_fit.Relax_fit-class.html#assemble_scaling_matrix" class="summary-sig-name">assemble_scaling_matrix</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">spin</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">scaling</span>=<span class="summary-sig-default">True</span>)</span><br />
      Create and return the scaling matrix.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.assemble_scaling_matrix">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">float</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="specific_fns.relax_fit.Relax_fit-class.html#back_calc" class="summary-sig-name">back_calc</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">spin</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">relax_time_index</span>=<span class="summary-sig-default">None</span>)</span><br />
      Back-calculation of peak intensity for the given relaxation time.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.back_calc">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of floats</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="specific_fns.relax_fit.Relax_fit-class.html#create_mc_data" class="summary-sig-name">create_mc_data</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">spin_id</span>)</span><br />
      Create the Monte Carlo peak intensity data.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.create_mc_data">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="specific_fns.relax_fit.Relax_fit-class.html#data_init" class="summary-sig-name">data_init</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">spin</span>)</span><br />
      Initialise the spin specific data structures.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.data_init">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of str</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="specific_fns.relax_fit.Relax_fit-class.html#data_names" class="summary-sig-name">data_names</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">set</span>=<span class="summary-sig-default"><code class="variable-quote">'</code><code class="variable-string">all</code><code class="variable-quote">'</code></span>,
        <span class="summary-sig-arg">error_names</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">sim_names</span>=<span class="summary-sig-default">False</span>)</span><br />
      Function for returning a list of names of data structures.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.data_names">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="specific_fns.relax_fit.Relax_fit-class.html#default_value" class="summary-sig-name">default_value</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">param</span>)</span><br />
      Relaxation curve fitting default values
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.default_value">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="specific_fns.relax_fit.Relax_fit-class.html#disassemble_param_vector" class="summary-sig-name">disassemble_param_vector</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">param_vector</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">spin</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">sim_index</span>=<span class="summary-sig-default">None</span>)</span><br />
      Disassemble the parameter vector.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.disassemble_param_vector">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="specific_fns.relax_fit.Relax_fit-class.html#grid_search" class="summary-sig-name">grid_search</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">lower</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">upper</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">inc</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">constraints</span>=<span class="summary-sig-default">True</span>,
        <span class="summary-sig-arg">verbosity</span>=<span class="summary-sig-default">1</span>,
        <span class="summary-sig-arg">sim_index</span>=<span class="summary-sig-default">None</span>)</span><br />
      The exponential curve fitting grid search function.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.grid_search">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">(int, list of lists [int, float, float])</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="specific_fns.relax_fit.Relax_fit-class.html#grid_search_setup" class="summary-sig-name">grid_search_setup</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">spin</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">param_vector</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">lower</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">upper</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">inc</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">scaling_matrix</span>=<span class="summary-sig-default">None</span>)</span><br />
      The grid search setup function.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.grid_search_setup">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="specific_fns.relax_fit.Relax_fit-class.html#linear_constraints" class="summary-sig-name">linear_constraints</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">spin</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">scaling_matrix</span>=<span class="summary-sig-default">None</span>)</span><br />
      Set up the relaxation curve fitting linear constraint matrices A and 
      b.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.linear_constraints">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="specific_fns.relax_fit.Relax_fit-class.html#minimise" class="summary-sig-name">minimise</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">min_algor</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">min_options</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">func_tol</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">grad_tol</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">max_iterations</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">constraints</span>=<span class="summary-sig-default">False</span>,
        <span class="summary-sig-arg">scaling</span>=<span class="summary-sig-default">True</span>,
        <span class="summary-sig-arg">verbosity</span>=<span class="summary-sig-default">0</span>,
        <span class="summary-sig-arg">sim_index</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">lower</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">upper</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">inc</span>=<span class="summary-sig-default">None</span>)</span><br />
      Relaxation curve fitting function.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.minimise">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="specific_fns.relax_fit.Relax_fit-class.html#model_setup" class="summary-sig-name">model_setup</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">model</span>,
        <span class="summary-sig-arg">params</span>)</span><br />
      Update various model specific data structures.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.model_setup">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="specific_fns.relax_fit.Relax_fit-class.html#overfit_deselect" class="summary-sig-name">overfit_deselect</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Deselect spins which have insufficient data to support minimisation.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.overfit_deselect">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="specific_fns.relax_fit.Relax_fit-class.html#relax_time" class="summary-sig-name">relax_time</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">time</span>=<span class="summary-sig-default">0.0</span>,
        <span class="summary-sig-arg">spectrum_id</span>=<span class="summary-sig-default">None</span>)</span><br />
      Set the relaxation time period associated with a given spectrum.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.relax_time">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of float</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="specific_fns.relax_fit.Relax_fit-class.html#return_data" class="summary-sig-name">return_data</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">spin</span>)</span><br />
      Function for returning the peak intensity data structure.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.return_data">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">list of float</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="specific_fns.relax_fit.Relax_fit-class.html#return_error" class="summary-sig-name">return_error</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">spin_id</span>)</span><br />
      Return the standard deviation data structure.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.return_error">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="specific_fns.relax_fit.Relax_fit-class.html#return_data_name" class="summary-sig-name">return_data_name</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">name</span>)</span><br />
      Relaxation curve fitting data type string matching patterns
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.return_data_name">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a name="return_grace_string"></a><span class="summary-sig-name">return_grace_string</span>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">data_type</span>)</span><br />
      Function for returning the Grace string representing the data type 
      for axis labelling.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.return_grace_string">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">None</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="specific_fns.relax_fit.Relax_fit-class.html#return_units" class="summary-sig-name">return_units</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">stat_types</span>,
        <span class="summary-sig-arg">spin_id</span>=<span class="summary-sig-default">None</span>)</span><br />
      Dummy function which returns None as the stats have no units.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.return_units">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="specific_fns.relax_fit.Relax_fit-class.html#select_model" class="summary-sig-name">select_model</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">model</span>=<span class="summary-sig-default"><code class="variable-quote">'</code><code class="variable-string">exp</code><code class="variable-quote">'</code></span>)</span><br />
      Function for selecting the model of the exponential curve.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.select_model">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="specific_fns.relax_fit.Relax_fit-class.html#set_doc" class="summary-sig-name">set_doc</a>(<span class="summary-sig-arg">self</span>)</span><br />
      Relaxation curve fitting set details
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.set_doc">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="specific_fns.relax_fit.Relax_fit-class.html#sim_pack_data" class="summary-sig-name">sim_pack_data</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">spin_id</span>,
        <span class="summary-sig-arg">sim_data</span>)</span><br />
      Pack the Monte Carlo simulation data.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.sim_pack_data">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="specific_fns.base_class.Common_functions-class.html">base_class.Common_functions</a></code></b>:
      <code><a href="specific_fns.base_class.Common_functions-class.html#base_data_loop">base_data_loop</a></code>,
      <code><a href="specific_fns.base_class.Common_functions-class.html#eliminate">eliminate</a></code>,
      <code><a href="specific_fns.base_class.Common_functions-class.html#has_errors">has_errors</a></code>,
      <code><a href="specific_fns.base_class.Common_functions-class.html#is_spin_param">is_spin_param</a></code>,
      <code><a href="specific_fns.base_class.Common_functions-class.html#model_loop">model_loop</a></code>,
      <code><a href="specific_fns.base_class.Common_functions-class.html#num_instances">num_instances</a></code>,
      <code><a href="specific_fns.base_class.Common_functions-class.html#return_conversion_factor">return_conversion_factor</a></code>,
      <code><a href="specific_fns.base_class.Common_functions-class.html#return_value">return_value</a></code>,
      <code><a href="specific_fns.base_class.Common_functions-class.html#set_error">set_error</a></code>,
      <code><a href="specific_fns.base_class.Common_functions-class.html#set_non_spin_params">set_non_spin_params</a></code>,
      <code><a href="specific_fns.base_class.Common_functions-class.html#set_selected_sim">set_selected_sim</a></code>,
      <code><a href="specific_fns.base_class.Common_functions-class.html#set_update">set_update</a></code>,
      <code><a href="specific_fns.base_class.Common_functions-class.html#sim_init_values">sim_init_values</a></code>,
      <code><a href="specific_fns.base_class.Common_functions-class.html#sim_return_chi2">sim_return_chi2</a></code>,
      <code><a href="specific_fns.base_class.Common_functions-class.html#sim_return_param">sim_return_param</a></code>,
      <code><a href="specific_fns.base_class.Common_functions-class.html#sim_return_selected">sim_return_selected</a></code>,
      <code><a href="specific_fns.base_class.Common_functions-class.html#test_grid_ops">test_grid_ops</a></code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="assemble_param_vector"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">assemble_param_vector</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">spin</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">sim_index</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.assemble_param_vector">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Assemble the exponential curve parameter vector (as a numpy 
  array).</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>spin</code></strong> (SpinContainer instance) - The spin data container.</li>
        <li><strong class="pname"><code>sim_index</code></strong> (int) - The optional MC simulation index.</li>
    </ul></dd>
    <dt>Returns: numpy array</dt>
        <dd>An array of the parameter values of the exponential model.</dd>
  </dl>
</td></tr></table>
</div>
<a name="assemble_scaling_matrix"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">assemble_scaling_matrix</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">spin</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">scaling</span>=<span class="sig-default">True</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.assemble_scaling_matrix">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Create and return the scaling matrix.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>spin</code></strong> (SpinContainer instance) - The spin data container.</li>
        <li><strong class="pname"><code>scaling</code></strong> (bool) - A flag which if false will cause the identity matrix to be 
          returned.</li>
    </ul></dd>
    <dt>Returns: numpy diagonal matrix</dt>
        <dd>The diagonal and square scaling matrix.</dd>
  </dl>
</td></tr></table>
</div>
<a name="back_calc"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">back_calc</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">spin</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">relax_time_index</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.back_calc">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Back-calculation of peak intensity for the given relaxation time.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>spin</code></strong> (SpinContainer instance) - The spin container.</li>
        <li><strong class="pname"><code>relax_time_index</code></strong> (int) - The index for the desired relaxation time.</li>
    </ul></dd>
    <dt>Returns: float</dt>
        <dd>The peak intensity for the desired relaxation time.</dd>
  </dl>
</td></tr></table>
</div>
<a name="create_mc_data"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">create_mc_data</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">spin_id</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.create_mc_data">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Create the Monte Carlo peak intensity data.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>spin_id</code></strong> (str) - The spin identification string, as yielded by the 
          base_data_loop() generator method.</li>
    </ul></dd>
    <dt>Returns: list of floats</dt>
        <dd>The Monte Carlo simulation data.</dd>
  </dl>
</td></tr></table>
</div>
<a name="data_init"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">data_init</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">spin</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.data_init">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Initialise the spin specific data structures.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>spin</code></strong> (SpinContainer instance) - The spin container.</li>
    </ul></dd>
    <dt>Overrides:
        <a href="specific_fns.base_class.Common_functions-class.html#data_init">base_class.Common_functions.data_init</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="data_names"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">data_names</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">set</span>=<span class="sig-default"><code class="variable-quote">'</code><code class="variable-string">all</code><code class="variable-quote">'</code></span>,
        <span class="sig-arg">error_names</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">sim_names</span>=<span class="sig-default">False</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.data_names">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Function for returning a list of names of data structures.</p>
  <h1 class="heading">Description</h1>
    <p>The names are as follows:</p>
    <ul>
      <li>
        'params', an array of the parameter names associated with the 
        model.
      </li>
      <li>
        'rx', either the R1 or R2 relaxation rate.
      </li>
      <li>
        'i0', the initial intensity.
      </li>
      <li>
        'iinf', the intensity at infinity.
      </li>
      <li>
        'chi2', chi-squared value.
      </li>
      <li>
        'iter', iterations.
      </li>
      <li>
        'f_count', function count.
      </li>
      <li>
        'g_count', gradient count.
      </li>
      <li>
        'h_count', hessian count.
      </li>
      <li>
        'warning', minimisation warning.
      </li>
    </ul>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>set</code></strong> (str) - The set of object names to return.  This can be set to 'all' for 
          all names, to 'generic' for generic object names, 'params' for 
          model-free parameter names, or to 'min' for minimisation specific
          object names.</li>
        <li><strong class="pname"><code>error_names</code></strong> (bool) - A flag which if True will add the error object names as well.</li>
        <li><strong class="pname"><code>sim_names</code></strong> (bool) - A flag which if True will add the Monte Carlo simulation object 
          names as well.</li>
    </ul></dd>
    <dt>Returns: list of str</dt>
        <dd>The list of object names.</dd>
  </dl>
</td></tr></table>
</div>
<a name="default_value"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">default_value</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">param</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.default_value">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Relaxation curve fitting default values
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

These values are completely arbitrary as peak heights (or volumes) are extremely variable
and the Rx value is a compensation for both the R1 and R2 values.
___________________________________________________________________
|                        |               |                        |
| Data type              | Object name   | Value                  |
|________________________|_______________|________________________|
|                        |               |                        |
| Relaxation rate        | 'rx'          | 8.0                    |
|                        |               |                        |
| Initial intensity      | 'i0'          | 10000.0                |
|                        |               |                        |
| Intensity at infinity  | 'iinf'        | 0.0                    |
|                        |               |                        |
|________________________|_______________|________________________|

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="disassemble_param_vector"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">disassemble_param_vector</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">param_vector</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">spin</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">sim_index</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.disassemble_param_vector">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Disassemble the parameter vector.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>param_vector</code></strong> (numpy array) - The parameter vector.</li>
        <li><strong class="pname"><code>spin</code></strong> (SpinContainer instance) - The spin data container.</li>
        <li><strong class="pname"><code>sim_index</code></strong> (int) - The optional MC simulation index.</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="grid_search"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">grid_search</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">lower</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">upper</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">inc</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">constraints</span>=<span class="sig-default">True</span>,
        <span class="sig-arg">verbosity</span>=<span class="sig-default">1</span>,
        <span class="sig-arg">sim_index</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.grid_search">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>The exponential curve fitting grid search function.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>lower</code></strong> (array of numbers) - The lower bounds of the grid search which must be equal to the 
          number of parameters in the model.</li>
        <li><strong class="pname"><code>upper</code></strong> (array of numbers) - The upper bounds of the grid search which must be equal to the 
          number of parameters in the model.</li>
        <li><strong class="pname"><code>inc</code></strong> (array of int) - The increments for each dimension of the space for the grid 
          search. The number of elements in the array must equal to the 
          number of parameters in the model.</li>
        <li><strong class="pname"><code>constraints</code></strong> (bool) - If True, constraints are applied during the grid search 
          (eliminating parts of the grid).  If False, no constraints are 
          used.</li>
        <li><strong class="pname"><code>verbosity</code></strong> (int) - A flag specifying the amount of information to print.  The higher
          the value, the greater the verbosity.</li>
        <li><strong class="pname"><code>sim_index</code></strong> (int) - The index of the simulation to apply the grid search to.  If 
          None, the normal model is optimised.</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="grid_search_setup"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">grid_search_setup</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">spin</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">param_vector</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">lower</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">upper</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">inc</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">scaling_matrix</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.grid_search_setup">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>The grid search setup function.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>spin</code></strong> (SpinContainer instance) - The spin data container.</li>
        <li><strong class="pname"><code>param_vector</code></strong> (numpy array) - The parameter vector.</li>
        <li><strong class="pname"><code>lower</code></strong> (array of numbers) - The lower bounds of the grid search which must be equal to the 
          number of parameters in the model.  This optional argument is 
          only used when doing a grid search.</li>
        <li><strong class="pname"><code>upper</code></strong> (array of numbers) - The upper bounds of the grid search which must be equal to the 
          number of parameters in the model.  This optional argument is 
          only used when doing a grid search.</li>
        <li><strong class="pname"><code>inc</code></strong> (array of int) - The increments for each dimension of the space for the grid 
          search.  The number of elements in the array must equal to the 
          number of parameters in the model.  This argument is only used 
          when doing a grid search.</li>
        <li><strong class="pname"><code>scaling_matrix</code></strong> (numpy diagonal matrix) - The scaling matrix.</li>
    </ul></dd>
    <dt>Returns: (int, list of lists [int, float, float])</dt>
        <dd>A tuple of the grid size and the minimisation options.  For the 
          minimisation options, the first dimension corresponds to the 
          model parameter.  The second dimension is a list of the number of
          increments, the lower bound, and upper bound.</dd>
  </dl>
</td></tr></table>
</div>
<a name="linear_constraints"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">linear_constraints</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">spin</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">scaling_matrix</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.linear_constraints">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Set up the relaxation curve fitting linear constraint matrices A and 
  b.</p>
  <h1 class="heading">Standard notation</h1>
    <p>The relaxation rate constraints are:</p>
<pre class="literalblock">
   Rx &gt;= 0
</pre>
    <p>The intensity constraints are:</p>
<pre class="literalblock">
   I0 &gt;= 0
   Iinf &gt;= 0
</pre>
  <h1 class="heading">Matrix notation</h1>
    <p>In the notation A.x &gt;= b, where A is an matrix of coefficients, x
    is an array of parameter values, and b is a vector of scalars, these 
    inequality constraints are:</p>
<pre class="literalblock">
   | 1  0  0 |     |  Rx  |      |    0    |
   |         |     |      |      |         |
   | 1  0  0 |  .  |  I0  |  &gt;=  |    0    |
   |         |     |      |      |         |
   | 1  0  0 |     | Iinf |      |    0    |
</pre>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>spin</code></strong> (SpinContainer instance) - The spin data container.</li>
        <li><strong class="pname"><code>scaling_matrix</code></strong> (numpy diagonal matrix) - The diagonal, square scaling matrix.</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="minimise"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">minimise</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">min_algor</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">min_options</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">func_tol</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">grad_tol</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">max_iterations</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">constraints</span>=<span class="sig-default">False</span>,
        <span class="sig-arg">scaling</span>=<span class="sig-default">True</span>,
        <span class="sig-arg">verbosity</span>=<span class="sig-default">0</span>,
        <span class="sig-arg">sim_index</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">lower</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">upper</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">inc</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.minimise">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Relaxation curve fitting function.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>min_algor</code></strong> (str) - The minimisation algorithm to use.</li>
        <li><strong class="pname"><code>min_options</code></strong> (array of str) - An array of options to be used by the minimisation algorithm.</li>
        <li><strong class="pname"><code>func_tol</code></strong> (None or float) - The function tolerance which, when reached, terminates 
          optimisation. Setting this to None turns of the check.</li>
        <li><strong class="pname"><code>grad_tol</code></strong> (None or float) - The gradient tolerance which, when reached, terminates 
          optimisation. Setting this to None turns of the check.</li>
        <li><strong class="pname"><code>max_iterations</code></strong> (int) - The maximum number of iterations for the algorithm.</li>
        <li><strong class="pname"><code>constraints</code></strong> (bool) - If True, constraints are used during optimisation.</li>
        <li><strong class="pname"><code>scaling</code></strong> (bool) - If True, diagonal scaling is enabled during optimisation to allow
          the problem to be better conditioned.</li>
        <li><strong class="pname"><code>verbosity</code></strong> (int) - The amount of information to print.  The higher the value, the 
          greater the verbosity.</li>
        <li><strong class="pname"><code>sim_index</code></strong> (None or int) - The index of the simulation to optimise.  This should be None if 
          normal optimisation is desired.</li>
        <li><strong class="pname"><code>lower</code></strong> (array of numbers) - The lower bounds of the grid search which must be equal to the 
          number of parameters in the model.  This optional argument is 
          only used when doing a grid search.</li>
        <li><strong class="pname"><code>upper</code></strong> (array of numbers) - The upper bounds of the grid search which must be equal to the 
          number of parameters in the model.  This optional argument is 
          only used when doing a grid search.</li>
        <li><strong class="pname"><code>inc</code></strong> (array of int) - The increments for each dimension of the space for the grid 
          search. The number of elements in the array must equal to the 
          number of parameters in the model.  This argument is only used 
          when doing a grid search.</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="model_setup"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">model_setup</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">model</span>,
        <span class="sig-arg">params</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.model_setup">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Update various model specific data structures.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>model</code></strong> (str) - The exponential curve type.</li>
        <li><strong class="pname"><code>params</code></strong> (list of str) - A list consisting of the model parameters.</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="overfit_deselect"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">overfit_deselect</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.overfit_deselect">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Deselect spins which have insufficient data to support 
  minimisation.</p>
  <dl class="fields">
    <dt>Overrides:
        <a href="specific_fns.base_class.Common_functions-class.html#overfit_deselect">base_class.Common_functions.overfit_deselect</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="relax_time"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">relax_time</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">time</span>=<span class="sig-default">0.0</span>,
        <span class="sig-arg">spectrum_id</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.relax_time">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Set the relaxation time period associated with a given spectrum.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>time</code></strong> (float) - The time, in seconds, of the relaxation period.</li>
        <li><strong class="pname"><code>spectrum_id</code></strong> (str) - The spectrum identification string.</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="return_data"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">return_data</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">spin</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.return_data">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Function for returning the peak intensity data structure.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>spin</code></strong> (SpinContainer instance) - The spin container.</li>
    </ul></dd>
    <dt>Returns: list of float</dt>
        <dd>The peak intensity data structure.</dd>
    <dt>Overrides:
        <a href="specific_fns.base_class.Common_functions-class.html#return_data">base_class.Common_functions.return_data</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="return_error"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">return_error</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">spin_id</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.return_error">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Return the standard deviation data structure.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>spin_id</code></strong> (str) - The spin identification string, as yielded by the 
          base_data_loop() generator method.</li>
    </ul></dd>
    <dt>Returns: list of float</dt>
        <dd>The standard deviation data structure.</dd>
    <dt>Overrides:
        <a href="specific_fns.base_class.Common_functions-class.html#return_error">base_class.Common_functions.return_error</a>
    </dt>
  </dl>
</td></tr></table>
</div>
<a name="return_data_name"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">return_data_name</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">name</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.return_data_name">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Relaxation curve fitting data type string matching patterns
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

__________________________________________________________________________________________
|                                   |                      |                             |
| Data type                         | Object name          | Patterns                    |
|___________________________________|______________________|_____________________________|
|                                   |                      |                             |
| Relaxation rate                   | 'rx'                 | '^[Rr]x$'                   |
|                                   |                      |                             |
| Peak intensities (series)         | 'intensities'        | '^[Ii]nt$'                  |
|                                   |                      |                             |
| Initial intensity                 | 'i0'                 | '^[Ii]0$'                   |
|                                   |                      |                             |
| Intensity at infinity             | 'iinf'               | '^[Ii]inf$'                 |
|                                   |                      |                             |
| Relaxation period times (series)  | 'relax_times'        | '^[Rr]elax[ -_][Tt]imes$'   |
|___________________________________|______________________|_____________________________|

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="return_units"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">return_units</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">stat_types</span>,
        <span class="sig-arg">spin_id</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.return_units">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Dummy function which returns None as the stats have no units.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>stat_type</code></strong> (None) - Not used.</li>
        <li><strong class="pname"><code>spin_id</code></strong> (None) - Not used.</li>
    </ul></dd>
    <dt>Returns: None</dt>
        <dd>Nothing.</dd>
  </dl>
</td></tr></table>
</div>
<a name="select_model"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">select_model</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">model</span>=<span class="sig-default"><code class="variable-quote">'</code><code class="variable-string">exp</code><code class="variable-quote">'</code></span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.select_model">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Function for selecting the model of the exponential curve.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>model</code></strong> (str) - The exponential curve type.  Can be one of 'exp' or 'inv'.</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="set_doc"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">set_doc</span>(<span class="sig-arg">self</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.set_doc">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">

Relaxation curve fitting set details
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Only three parameters can be set, the relaxation rate (Rx), the initial intensity (I0), and
the intensity at infinity (Iinf).  Setting the parameter Iinf has no effect if the chosen
model is that of the exponential curve which decays to zero.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="sim_pack_data"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">sim_pack_data</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">spin_id</span>,
        <span class="sig-arg">sim_data</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="specific_fns.relax_fit-pysrc.html#Relax_fit.sim_pack_data">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Pack the Monte Carlo simulation data.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>spin_id</code></strong> (str) - The spin identification string, as yielded by the 
          base_data_loop() generator method.</li>
        <li><strong class="pname"><code>sim_data</code></strong> (list of float) - The Monte Carlo simulation data.</li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://nmr-relax.com">relax</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Fri Aug 14 09:42:39 2009
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
