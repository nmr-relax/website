<!-- MHonArc v2.6.16 -->
<!--X-Subject: r17229 &#45; in /trunk/sample_scripts: ./ model_free/ n_state_model/ -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Wed, 11 Jul 2012 15:31:08 +0200 -->
<!--X-Message-Id: E1Sox0W&#45;0002aa&#45;Qk@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r17229 - in /trunk/sample_scripts: ./ model_free/ n_state_model/ -- July 11, 2012 - 15:31</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r17229 - in /trunk/sample_scripts: ./ model_free/ n_state_model/</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00115" class="tabs">Index by Date</a> | <a href="threads.html#00115" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00114.html">Date Prev</a>] [<a href="msg00116.html">Date Next</a>] [<a href="msg00114.html">Thread Prev</a>] [<a href="msg00116.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Wed, 11 Jul 2012 13:31:08 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00115.html">E1Sox0W-0002aa-Qk@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on July 11, 2012 - 15:31:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Wed Jul 11 15:31:08 2012
New Revision: 17229

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=17229&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=17229&amp;view=rev</a>
Log:
Shifted some of the sample scripts into the analysis specific sub-directories.


Added:
    trunk/sample_scripts/model_free/generate_ri.py
      - copied unchanged from r17228, trunk/sample_scripts/generate_ri.py
    trunk/sample_scripts/n_state_model/stereochem_analysis.py
      - copied unchanged from r17228, 
trunk/sample_scripts/stereochem_analysis.py
Removed:
    trunk/sample_scripts/generate_ri.py
    trunk/sample_scripts/stereochem_analysis.py

Removed: trunk/sample_scripts/generate_ri.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/sample_scripts/generate_ri.py?rev=17228&amp;view=auto">http://svn.gna.org/viewcvs/relax/trunk/sample_scripts/generate_ri.py?rev=17228&amp;view=auto</a>
==============================================================================
--- trunk/sample_scripts/generate_ri.py (original)
+++ trunk/sample_scripts/generate_ri.py (removed)
@@ -1,120 +1,0 @@
-###############################################################################
-#                                                                            
 #
-# Copyright (C) 2004-2012 Edward d'Auvergne                                  
 #
-#                                                                            
 #
-# This file is part of the program relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>).         
 #
-#                                                                            
 #
-# This program is free software: you can redistribute it and/or modify       
 #
-# it under the terms of the GNU General Public License as published by       
 #
-# the Free Software Foundation, either version 3 of the License, or          
 #
-# (at your option) any later version.                                        
 #
-#                                                                            
 #
-# This program is distributed in the hope that it will be useful,            
 #
-# but WITHOUT ANY WARRANTY; without even the implied warranty of             
 #
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the              
 #
-# GNU General Public License for more details.                               
 #
-#                                                                            
 #
-# You should have received a copy of the GNU General Public License          
 #
-# along with this program.  If not, see &lt;<a  rel="nofollow" href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.      
 #
-#                                                                            
 #
-###############################################################################
-
-&quot;&quot;&quot;Script for back-calculating the relaxation data.&quot;&quot;&quot;
-
-# relax module imports.
-from generic_fns.mol_res_spin import spin_loop
-
-
-def back_calc():
-    &quot;&quot;&quot;Function for back calculating the relaxation data.&quot;&quot;&quot;
-
-    relax_data.back_calc(ri_id='NOE_600', ri_type='NOE', frq=600e6)
-    relax_data.back_calc(ri_id='R1_600',  ri_type='R1',  frq=600e6)
-    relax_data.back_calc(ri_id='R2_600',  ri_type='R2',  frq=600e6)
-    relax_data.back_calc(ri_id='NOE_500', ri_type='NOE', frq=500e6)
-    relax_data.back_calc(ri_id='R1_500',  ri_type='R1',  frq=500e6)
-    relax_data.back_calc(ri_id='R2_500',  ri_type='R2',  frq=500e6)
-
-
-def errors():
-    &quot;&quot;&quot;Function for generating relaxation data errors.&quot;&quot;&quot;
-
-    # Loop over the sequence.
-    for spin in spin_loop():
-        # Loop over the relaxation data.
-        for ri_id in cdp.ri_ids:
-            # No data.
-            if spin.ri_data_bc[ri_id] == None:
-                continue
-
-            # Set up the error relaxation data structure if needed.
-            if not hasattr(spin, 'ri_data_err'):
-                spin.ri_data_err = {}
-
-            # 600 MHz NOE.
-            if ri_id == 'NOE_600':
-                spin.ri_data_err[ri_id] = 0.04
-
-            # 500 MHz NOE.
-            elif ri_id == 'NOE_500':
-                spin.ri_data_err[ri_id] = 0.05
-
-            # All other data.
-            else:
-                spin.ri_data_err[ri_id] = spin.ri_data_bc[ri_id] * 0.02
-
-
-def write():
-    &quot;&quot;&quot;Function for writing the relaxation data to file.&quot;&quot;&quot;
-
-    relax_data.write(ri_id='NOE_600', file='noe.600.out', force=True)
-    relax_data.write(ri_id='R1_600',  file='r1.600.out', force=True)
-    relax_data.write(ri_id='R2_600',  file='r2.600.out', force=True)
-    relax_data.write(ri_id='NOE_500', file='noe.500.out', force=True)
-    relax_data.write(ri_id='R1_500',  file='r1.500.out', force=True)
-    relax_data.write(ri_id='R2_500',  file='r2.500.out', force=True)
-
-
-# Create the data pipe.
-pipe.create('test', 'mf')
-
-# Load a PDB file.
-structure.read_pdb('example.pdb')
-
-# Load the spins from the structure.
-structure.load_spins(spin_id='@N')
-structure.load_spins(spin_id='@H')
-
-# Define the magnetic dipole-dipole relaxation interaction.
-dipole_pair.define(spin_id1='@N', spin_id2='@H', direct_bond=True)
-dipole_pair.set_dist(spin_id1='@N', spin_id2='@H', ave_dist=1.02 * 1e-10)
-dipole_pair.unit_vectors()
-
-# Define the CSA relaxation interaction.
-value.set(val=-172e-6, param='csa')
-
-# Set the diffusion tensor in the PDB frame (Dxx, Dyy, Dzz, Dxy, Dxz, Dyz).
-diffusion_tensor.init((1.340e7, 1.516e7, 1.691e7, 0.000e7, 0.000e7, 
0.000e7), param_types=3)
-
-# Set the spin information.
-spin.isotope('15N', spin_id='@N')
-spin.isotope('1H', spin_id='@H')
-
-# Set the required values.
-value.set(val=0.8, param='s2')
-value.set(val=20e-12, param='te')
-
-# Select model-free model m2.
-model_free.select_model(model='m2')
-
-# Back calculate the relaxation data (using the function defined in this 
script).
-back_calc()
-
-# Generate the errors (using the function defined in this script).
-errors()
-
-# Write the data (using the function defined in this script).
-write()
-
-# Write the relaxation data to file.
-results.write()

Removed: trunk/sample_scripts/stereochem_analysis.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/sample_scripts/stereochem_analysis.py?rev=17228&amp;view=auto">http://svn.gna.org/viewcvs/relax/trunk/sample_scripts/stereochem_analysis.py?rev=17228&amp;view=auto</a>
==============================================================================
--- trunk/sample_scripts/stereochem_analysis.py (original)
+++ trunk/sample_scripts/stereochem_analysis.py (removed)
@@ -1,141 +1,0 @@
-###############################################################################
-#                                                                            
 #
-# Copyright (C) 2010-2012 Edward d'Auvergne                                  
 #
-#                                                                            
 #
-# This file is part of the program relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>).         
 #
-#                                                                            
 #
-# This program is free software: you can redistribute it and/or modify       
 #
-# it under the terms of the GNU General Public License as published by       
 #
-# the Free Software Foundation, either version 3 of the License, or          
 #
-# (at your option) any later version.                                        
 #
-#                                                                            
 #
-# This program is distributed in the hope that it will be useful,            
 #
-# but WITHOUT ANY WARRANTY; without even the implied warranty of             
 #
-# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the              
 #
-# GNU General Public License for more details.                               
 #
-#                                                                            
 #
-# You should have received a copy of the GNU General Public License          
 #
-# along with this program.  If not, see &lt;<a  rel="nofollow" href="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</a>&gt;.      
 #
-#                                                                            
 #
-###############################################################################
-
-&quot;&quot;&quot;Script for the determination of relative stereochemistry.
-
-The analysis is preformed by using multiple ensembles of structures, 
randomly sampled from a given
-set of structures.  The discrimination is performed by comparing the sets of 
ensembles using NOE
-violations and RDC Q-factors.
-
-This script is split into multiple stages:
-
-    1.  The random sampling of the snapshots to generate the N ensembles 
(NUM_ENS, usually 10,000 to
-    100,000) of M members (NUM_MODELS, usually ~10).  The original snapshot 
files are expected to be
-    named the SNAPSHOT_DIR + CONFIG + a number from SNAPSHOT_MIN to 
SNAPSHOT_MAX + &quot;.pdb&quot;, e.g.
-    &quot;snapshots/R647.pdb&quot;.  The ensembles will be placed into the &quot;ensembles&quot; 
directory.
-
-    2.  The NOE violation analysis.
-
-    3.  The superimposition of ensembles.  For each ensemble, Molmol is used 
for superimposition
-    using the fit to first algorithm.  The superimposed ensembles will be 
placed into the
-    &quot;ensembles_superimposed&quot; directory.  This stage is not necessary for the 
NOE analysis.
-
-    4.  The RDC Q-factor analysis.
-
-    5.  Generation of Grace graphs.
-
-    6.  Final ordering of ensembles using the combined RDC and NOE 
Q-factors, whereby the NOE
-    Q-factor is defined as::
-
-        Q^2 = U / sum(NOE_i^2),
-
-    where U is the quadratic flat bottom well potential - the NOE violation 
in Angstrom^2. The
-    denominator is the sum of all squared NOEs - this must be given as the 
value of NOE_NORM.  The
-    combined Q is given by::
-
-        Q_total^2 = Q_NOE^2 + Q_RDC^2.
-&quot;&quot;&quot;
-
-# relax module imports.
-from auto_analyses.stereochem_analysis import Stereochem_analysis
-
-
-# Stage of analysis (see the docstring above for the options).
-STAGE = 1
-
-# Number of ensembles.
-NUM_ENS = 100000
-
-# Ensemble size.
-NUM_MODELS = 10
-
-# Configurations.
-CONFIGS = [&quot;R&quot;, &quot;S&quot;]
-
-# Snapshot directories (corresponding to CONFIGS).
-SNAPSHOT_DIR = [&quot;snapshots&quot;, &quot;snapshots&quot;]
-
-# Min and max number of the snapshots (corresponding to CONFIGS).
-SNAPSHOT_MIN = [0, 0]
-SNAPSHOT_MAX = [76, 71]
-
-# Pseudo-atoms.
-PSEUDO = [
-[&quot;Q7&quot;, [&quot;@H16&quot;, &quot;@H17&quot;, &quot;@H18&quot;]],
-[&quot;Q9&quot;, [&quot;@H20&quot;, &quot;@H21&quot;, &quot;@H22&quot;]],
-[&quot;Q10&quot;, [&quot;@H23&quot;, &quot;@H24&quot;, &quot;@H25&quot;]]
-]
-
-# NOE info.
-NOE_FILE = &quot;noes&quot;
-NOE_NORM = 50 * 4**2    # The NOE normalisation factor (sum of all NOEs 
squared).
-
-# RDC file info.
-RDC_NAME = &quot;PAN&quot;
-RDC_FILE = &quot;pan_rdcs&quot;
-RDC_SPIN_ID1_COL = 1
-RDC_SPIN_ID2_COL = 2
-RDC_DATA_COL = 2
-RDC_ERROR_COL = None
-
-# Bond length.
-BOND_LENGTH = 1.117 * 1e-10
-
-# Log file output (only for certain stages).
-LOG = True
-
-# Number of buckets for the distribution plots.
-BUCKET_NUM = 200
-
-# Distribution plot limits.
-LOWER_LIM_NOE = 0.0
-UPPER_LIM_NOE = 600.0
-LOWER_LIM_RDC = 0.0
-UPPER_LIM_RDC = 1.0
-
-
-# Set up and code execution.
-analysis = Stereochem_analysis(
-    stage=STAGE,
-    num_ens=NUM_ENS,
-    num_models=NUM_MODELS,
-    configs=CONFIGS,
-    snapshot_dir=SNAPSHOT_DIR,
-    snapshot_min=SNAPSHOT_MIN,
-    snapshot_max=SNAPSHOT_MAX,
-    pseudo=PSEUDO,
-    noe_file=NOE_FILE,
-    noe_norm=NOE_NORM,
-    rdc_name=RDC_NAME,
-    rdc_file=RDC_FILE,
-    rdc_spin_id1_col=RDC_SPIN_ID1_COL,
-    rdc_spin_id2_col=RDC_SPIN_ID2_COL,
-    rdc_data_col=RDC_DATA_COL,
-    rdc_error_col=RDC_ERROR_COL,
-    bond_length=BOND_LENGTH,
-    log=LOG,
-    bucket_num=BUCKET_NUM,
-    lower_lim_noe=LOWER_LIM_NOE,
-    upper_lim_noe=UPPER_LIM_NOE,
-    lower_lim_rdc=LOWER_LIM_RDC,
-    upper_lim_rdc=UPPER_LIM_RDC
-)
-analysis.run()



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Jul 11 17:00:01 2012</div>  
</body>
</html>
