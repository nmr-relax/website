<!-- MHonArc v2.6.10 -->
<!--X-Subject: [bug #7241] Problem with reading RNA PDBs -->
<!--X-From-R13: Oyrk Vnafra <@A&#45;DSBZK.W@HOZWR&#45;ORRDSEENtan.bet> -->
<!--X-Date: Fri, 29 Sep 2006 19:23:53 +0200 -->
<!--X-Message-Id: 20060929&#45;172352.sv6347.19654@gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[bug #7241] Problem with reading RNA PDBs -- September 29, 2006 - 19:23</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />[bug #7241] Problem with reading RNA PDBs</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00038" class="tabs">Index by Date</a> | <a href="threads.html#00038" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00037.html">Date Prev</a>] [<a href="msg00039.html">Date Next</a>] [<a href="msg00035.html">Thread Prev</a>] [<a href="msg00039.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Alex Hansen &lt;viochemist@xxxxxxxxx&gt;, relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Fri, 29 Sep 2006 19:23:52 +0200</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00038.html">20060929-172352.sv6347.19654@gna.org</a>&gt;</li>
<li class="menuitem">
<em>References</em>: </li>
<li class="menuitem">
<em>User-agent</em>: Mozilla/5.0 (Windows; U; Windows NT 5.1; en-US;	rv:1.8.0.7) Gecko/20060909 Firefox/1.5.0.7</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Alex Hansen</strong> on September 29, 2006 - 19:23:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">

URL:
  &lt;<a  href="http://gna.org/bugs/?7241">http://gna.org/bugs/?7241</a>&gt;

                 Summary: Problem with reading RNA PDBs
                 Project: relax
            Submitted by: viochemist
            Submitted on: Friday 09/29/2006 at 17:23
                Category: None
                Priority: 5 - Normal
                Severity: 4 - Important
                  Status: None
                 Privacy: Private
             Assigned to: None
         Originator Name: 
        Originator Email: 
             Open/Closed: Open
                 Release: 1.2.7
        Operating System: GNU/Linux

    _______________________________________________________

Details:

Full post at <a  href="http://www.nmr-relax.com/mail.gna.org/public/relax-users/2006-09/msg00041.html">https://mail.gna.org/public/relax-users/2006-09/msg00041.html</a>

&lt;481156b20609281057o4fe80f47wc1dda6ea6516498d@xxxxxxxxxxxxxx&gt;

See below for pdb and input.

Lines changed in full_analysis.py:

128:  'sphere'
174:  pdb(name, 'etar.pdb', heteronuc='N1', proton='H1')
380:  pdb(name, 'etar.pdb', heteronuc='N1', proton='H1')

$ python relax full_analysis.py

Results:


relax&gt; run.create(run='sphere', run_type='mf')

relax&gt; results.read(run='sphere', file='results', dir='local_tm/aic',
format='columnar')
Opening the file 'local_tm/aic/results.bz2' for reading.

relax&gt; model_free.remove_tm(run='sphere', res_num=None)

relax&gt; pdb(run='sphere', file='etar.pdb', dir=None, model=None,
heteronuc='N1', proton='H1', load_seq=1)
Loading all structures from the PDB file.
Structure('etar.pdb', model=1):
  Nucleotide chain of length 1


Calculating unit XH vectors.


Structure 1

Traceback (most recent call last):
  File &quot;relax&quot;, line 458, in ?
    Relax()
  File &quot;relax&quot;, line 170, in __init__
    self.interpreter.run()
  File &quot;/local/home/viochem/relax_1.2.7/prompt/interpreter.py&quot;, line 213, in
run
    run_script(intro=self.relax.intro_string, local=self.local,
script_file=self.relax.script_file, quit=1)
  File &quot;/local/home/viochem/relax_1.2.7/prompt/interpreter.py&quot;, line 388, in
run_script
    console.interact(intro, local, script_file, quit)
  File &quot;/local/home/viochem/relax_1.2.7/prompt/interpreter.py&quot;, line 340, in
interact_script
    execfile(script_file, local)
  File &quot;full_analysis.py&quot;, line 412, in ?
    Main()
  File &quot;full_analysis.py&quot;, line 174, in __init__
    pdb(name, 'etar.pdb', heteronuc='N1', proton='H1')
  File &quot;/local/home/viochem/relax_1.2.7/prompt/pdb.py&quot;, line 129, in pdb
    self.relax.generic.pdb.load(run=run, file=file, dir=dir, model=model,
heteronuc=heteronuc, proton=proton, load_seq=load_seq)
  File &quot;/local/home/viochem/relax_1.2.7/generic_fns/pdb.py&quot;, line 198, in
load
    self.vectors()
  File &quot;/local/home/viochem/relax_1.2.7/generic_fns/pdb.py&quot;, line 229, in
vectors
    pdb_residues =
self.relax.data.pdb[self.run].structures[i].peptide_chains[0].residues
IndexError: list index out of range

==================
Simplify the PDB
==================

Identical output.


Curious line is at the end where it says:
self.relax.data.pdb[self.run].structures[i].peptide_chains[0].residues




************
My Input
************
R1:

Num  Name   Value       Error                         
1    G     0.738       0.022

R2:

Num  Name   Value       Error                         
1    G     23.74       0.33


NOE:

Num  Name   Value       Error                         
1    G     0.686        0.018


*******************
 whole residue PDB
*******************

etar.pdb

MODEL        1
ATOM      1  P   G       1      -2.918 -16.615 -49.930  1.00  0.00          
P
ATOM      2  O1P G       1      -3.505 -17.162 -51.178  1.00  0.00          
O
ATOM      3  O2P G       1      -1.490 -16.217 -50.016  1.00  0.00          
O
ATOM      4  O5' G       1      -3.782 -15.376 -49.413  1.00  0.00          
O
ATOM      5  O3' G       1      -6.236 -12.842 -50.659  1.00  0.00          
O
ATOM      6  C1' G       1      -5.187 -12.610 -47.168  1.00  0.00          
C
ATOM      7  C2' G       1      -5.658 -11.918 -48.451  1.00  0.00          
C
ATOM      8  C3' G       1      -5.445 -13.010 -49.490  1.00  0.00          
C
ATOM      9  C4' G       1      -5.829 -14.263 -48.722  1.00  0.00          
C
ATOM     10  C5' G       1      -5.195 -15.566 -49.213  1.00  0.00          
C
ATOM     11  O4' G       1      -5.357 -14.014 -47.368  1.00  0.00          
O
ATOM     12  O2' G       1      -7.043 -11.646 -48.287  1.00  0.00          
O
ATOM     13  N2  G       1      -3.764  -7.849 -44.958  1.00  0.00          
N
ATOM     14  O6  G       1       0.310  -9.848 -46.253  1.00  0.00          
O
ATOM     15  C6  G       1      -0.956  -9.976 -46.221  1.00  0.00          
C
ATOM     16  C5  G       1      -1.781 -11.085 -46.692  1.00  0.00          
C
ATOM     17  N7  G       1      -1.395 -12.320 -47.327  1.00  0.00          
N
ATOM     18  C8  G       1      -2.570 -12.950 -47.544  1.00  0.00          
C
ATOM     19  N9  G       1      -3.710 -12.226 -47.102  1.00  0.00          
N
ATOM     20  C4  G       1      -3.184 -11.015 -46.550  1.00  0.00          
C
ATOM     21  N3  G       1      -3.964  -9.991 -45.989  1.00  0.00          
N
ATOM     22  C2  G       1      -3.196  -8.955 -45.542  1.00  0.00          
C
ATOM     23  N1  G       1      -1.768  -8.924 -45.646  1.00  0.00          
N
ATOM     24  H1' G       1      -5.799 -12.337 -46.307  1.00  0.00          
H
ATOM     25  H2' G       1      -5.074 -11.028 -48.681  1.00  0.00          
H
ATOM     26  H3' G       1      -4.411 -13.056 -49.833  1.00  0.00          
H
ATOM     27  H4' G       1      -6.911 -14.367 -48.796  1.00  0.00          
H
ATOM     28 1H5' G       1      -5.363 -16.346 -48.472  1.00  0.00          
H
ATOM     29 2H5' G       1      -5.663 -15.858 -50.154  1.00  0.00          
H
ATOM     30 HO2' G       1      -7.555 -12.532 -48.168  1.00  0.00          
H
ATOM     31 1H2  G       1      -4.818  -7.792 -44.843  1.00  0.00          
H
ATOM     32 2H2  G       1      -3.151  -7.049 -44.622  1.00  0.00          
H
ATOM     33  H8  G       1      -2.640 -13.960 -48.032  1.00  0.00          
H
ATOM     34  H1  G       1      -1.267  -8.064 -45.271  1.00  0.00          
H
ENDMDL
END                       


****************
 Simplified PDB
****************

MODEL        1
ATOM     23  N1  G       1      -1.768  -8.924 -45.646  1.00  0.00          
N
ATOM     34  H1  G       1      -1.267  -8.064 -45.271  1.00  0.00          
H
ENDMDL
END                       









    _______________________________________________________

Reply to this item at:

  &lt;<a  href="http://gna.org/bugs/?7241">http://gna.org/bugs/?7241</a>&gt;

_______________________________________________
  Message sent via/by Gna!
  <a  href="http://gna.org/">http://gna.org/</a>



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00047" href="msg00047.html">Re: [bug #7241] Problem with reading RNA PDBs</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00040" href="msg00040.html">Re: [bug #7241] Problem with reading RNA PDBs</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00039" href="msg00039.html">[bug #7241] Problem with reading RNA PDBs</a></strong>
<ul><li><em>From:</em> Edward d Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sat Sep 30 17:00:44 2006</div>  
</body>
</html>
