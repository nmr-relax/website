<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: numeric values of d and c -->
<!--X-From-R13: "Sqjneq q'Ohiretar" &#60;rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 18 Mar 2014 17:15:50 +0100 -->
<!--X-Message-Id: CAED9pY82uGSVbzZ6VLYmjXSt=yhT9y2sz0yQp6Eusfbmkf6fMA@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: B26484E7&#45;DEA1&#45;40E7&#45;B4CB&#45;06F92E64BD2D@unibo.it -->
<!--X-Reference: CAED9pY_oqMEsdXhdEsXmZH7Wf&#45;9Vj_e8KsuODOxO9drtJWfXpA@mail.gmail.com -->
<!--X-Reference: 486C3C57&#45;73B9&#45;411F&#45;89F5&#45;4BB7882A37AF@unibo.it -->
<!--X-Reference: CAED9pY8HhfRsNpeyzCDt_nevuYsK3H5TDjvPF0zMuC4OUXSfLQ@mail.gmail.com -->
<!--X-Reference: DF2C0E91&#45;4BEC&#45;4C91&#45;8AA8&#45;4365093182EF@unibo.it -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: numeric values of d and c -- March 18, 2014 - 17:15</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: numeric values of d and c</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00034" class="tabs">Index by Date</a> | <a href="threads.html#00034" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00033.html">Date Prev</a>] [<a href="msg00035.html">Date Next</a>] [<a href="msg00033.html">Thread Prev</a>] [<a href="msg00035.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Stefano Luciano Ciurli &lt;stefano.ciurli@xxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 18 Mar 2014 17:15:17 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:date:message-id:subject :from:to:cc:content-type; bh=6jm/T189tRWPaj0mjQNqN4Eu4N5TOOEgZ8CkwoyeWMo=; b=LKD9+4wCTrzAqLbzFAa0ktzJSIh8aDdajqKSxwYAH+cSsMOO7hR3Ub2jiAUx1iP9TX ueFhCBLrhTXA4vMFA3kIvwCKjoOfp5MN0zAXQ7k5nMQbyrOF0/NyVE75moEB1C2ImP4R UrJb8oak7rEPQRZ+zn5tAwX74ifUjPXJSgSPwR6kgJAuiVY0erRaL4eZ3Ot526X5WKLy DRKCvcTiCbGIq4FSMyzWUtBXxwGFDpminbfa101vz2n8JQMrkw3pjzn62HRujJ72JST2 JjcoqRZUbr5xxa4bNXKHLPROITxaTdXdcY7HlO+o452yorexOggRMsYJ98KnE3pDUkPj I/Yg==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;CAED9pY82uGSVbzZ6VLYmjXSt=yhT9y2sz0yQp6Eusfbmkf6fMA@mail.gmail.com&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00015.html">B26484E7-DEA1-40E7-B4CB-06F92E64BD2D@unibo.it</a>&gt; &lt;<a href="msg00025.html">CAED9pY_oqMEsdXhdEsXmZH7Wf-9Vj_e8KsuODOxO9drtJWfXpA@mail.gmail.com</a>&gt; &lt;<a href="msg00028.html">486C3C57-73B9-411F-89F5-4BB7882A37AF@unibo.it</a>&gt; &lt;<a href="msg00029.html">CAED9pY8HhfRsNpeyzCDt_nevuYsK3H5TDjvPF0zMuC4OUXSfLQ@mail.gmail.com</a>&gt; &lt;<a href="msg00033.html">DF2C0E91-4BEC-4C91-8AA8-4365093182EF@unibo.it</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on March 18, 2014 - 17:15:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Stefano,

When running relax, you should avoid putting any files in the relax
source code directories.  These should be kept separate at all times -
otherwise the result could be severe problems that are very difficult
to understand.  To see the output of the script when running in GUI
mode, you will have to open the relax controller window were all
messages are displayed.  To do this, perform one of:

- Select the 'View-&gt;Controller' menu item.
- Click on the 'relax controller' button in the toolbar.
- Type Ctrl-Z.

The two numbers should be printed at the bottom.  If you see errors,
then there is likely to be word wrapping problems - one line has been
split into two in the email text.

Regards,

Edward


On 18 March 2014 17:06, Stefano Luciano Ciurli &lt;stefano.ciurli@xxxxxxxx&gt; 
wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward,
thank you for the exhaustive answer.
I have saved the script as a filename.py file in the 
/relax/Contents/Resources/user_functions directory and tried to run in from 
within relax using the menu user functions (n-z) -&gt; script
However, it does not appear to do anything.
Any hint?
Stefano

On Mar 18, 2014, at 10:04 AM, Edward d'Auvergne wrote:

# Python module imports.
from numpy import float64, zeros

# relax module imports.
from lib.auto_relaxation.ri_comps import calc_fixed_csa,
calc_fixed_dip, comp_csa_const_func, comp_dip_const_func
from lib.physical_constants import h_bar, mu0, return_gyromagnetic_ratio


class Data:
   &quot;&quot;&quot;Dummy class for storing data.&quot;&quot;&quot;

# Initialise the data container.
data = Data()

# The spectrometer frequency (Hz).
frq = 500e6

# The dynamically averaged bond length (m) and chemical shift tensor 
anisotropy.
r = 1.02e-10
csa = -172e-6

# Add the needed physical constants to the data storage.
data.gx = return_gyromagnetic_ratio('15N')
data.gh = return_gyromagnetic_ratio('1H')
data.mu0 = mu0
data.h_bar = h_bar

# The number of frequencies.
data.num_frq = 1

# Initialise dipolar and CSA data structures.
data.dip_const_fixed = 0.0
data.csa_const_fixed = [0.0]
data.dip_const_func = 0.0
data.csa_const_func = zeros(1, float64)

# Nuclear frequencies.
frq = frq * 2 * pi
frqX = frq * data.gx / data.gh

# Calculate the five frequencies which cause R1, R2, and NOE relaxation.
data.frq_list = zeros((1, 5), float64)
data.frq_list[0, 1] = frqX
data.frq_list[0, 2] = frq - frqX
data.frq_list[0, 3] = frq
data.frq_list[0, 4] = frq + frqX
data.frq_sqrd_list = data.frq_list ** 2

# Calculate the fixed component of the dipolar and CSA constants.
calc_fixed_dip(data)
calc_fixed_csa(data)

# Calculate the dipolar and CSA constants.
comp_dip_const_func(data, r)
comp_csa_const_func(data, csa)

# Rename the dipolar and CSA constants.
d = data.dip_const_func
c = data.csa_const_func[0]

# Printout.
print(&quot;d: %s&quot; % d)
print(&quot;c: %s&quot; % c)

</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00036" href="msg00036.html">Re: numeric values of d and c</a></strong>
<ul><li><em>From:</em> Stefano Luciano Ciurli</li></ul></li>
<li><strong><a name="00035" href="msg00035.html">Re: numeric values of d and c</a></strong>
<ul><li><em>From:</em> Troels Emtek√¶r Linnet</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00015" href="msg00015.html">error message</a></strong>
<ul><li><em>From:</em> Stefano Luciano Ciurli</li></ul></li>
<li><strong><a name="00025" href="msg00025.html">Re: error message</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00028" href="msg00028.html">numeric values of d and c</a></strong>
<ul><li><em>From:</em> Stefano Luciano Ciurli</li></ul></li>
<li><strong><a name="00029" href="msg00029.html">Re: numeric values of d and c</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00033" href="msg00033.html">Re: numeric values of d and c</a></strong>
<ul><li><em>From:</em> Stefano Luciano Ciurli</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Mar 18 17:40:13 2014</div>  
</body>
</html>
