<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: full_analysys problem: 'All parameters are fixed' -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 10 Feb 2009 17:29:11 +0100 -->
<!--X-Message-Id: 7f080ed10902100828u4f1e7e4fre4137d31b50cd979@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 4991A4A6.5070309@bcm.ulaval.ca -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: full_analysys problem: 'All parameters are fixed' -- February 10, 2009 - 17:29</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: full_analysys problem: 'All parameters are fixed'</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00002" class="tabs">Index by Date</a> | <a href="threads.html#00002" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00001.html">Date Prev</a>] [<a href="msg00003.html">Date Next</a>] [<a href="msg00001.html">Thread Prev</a>] [<a href="msg00003.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Pierre-Yves Savard &lt;Pierre-Yves.Savard@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 10 Feb 2009 17:28:35 +0100</li>
<li class="menuitem">
<em>Cc</em>: relax-users@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00002.html">7f080ed10902100828u4f1e7e4fre4137d31b50cd979@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;4991A4A6.5070309@xxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on February 10, 2009 - 17:29:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

The addition of spin_id='@N' should not be necessary if the sequence
data you have loaded using this script has the atom/spin name set to
'N'.  If not, I have modified the full_analysis.py script in the
repository 1.3 line to name your spins in that way.  The problem is
that the spins are unnamed so they cannot be matched to anything in
the PDB file.  Hence the NH bond vectors are not extracted for any
spins.  Then when it comes to optimisation, all the spins without bond
vector information are deselected.  But as this is all spins, then
there are essentially no model-free models to optimise and there is
only the diffusion tensor.  But this is fixed by the fix() function,
the one you can't fix and can't be fixed.  So as the only parameters
remaining are those of the diffusion tensor, and these are fixed,
relax cannot do anything.  There should be warning messages describing
this problem much further up in the script.  I would guess thought
that they have been suppressed by your addition in point one, as there
are no spins with a spin id of '@N' and hence no NH bond vectors will
be loaded.

Regards,

Edward


On Tue, Feb 10, 2009 at 5:00 PM, Pierre-Yves Savard
&lt;Pierre-Yves.Savard@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

I am starting a new relax analysis with the full_analysis.py script,
together with relax 1.3 revision 8769. I performed the first step,
'local_tm', with success.

However, for what concerns diffusion models 'sphere', 'prolate', 'oblate
and 'ellipsoid', I encountered the following errors:

   1. I had to add: &quot;spin_id='@N'&quot; in the function structure.vector()
in order to read the pdb and extract vectors properly:


      # Load the PDB file and calculate the unit vectors parallel to
the XH bond.
           if not local_tm and PDB_FILE:
               structure.read_pdb(PDB_FILE)
               structure.vectors(attached='H', spin_id='@N')

      ...

      # Load the PDB file and calculate the unit vectors parallel to
the XH bond.
                   if PDB_FILE:
                       structure.read_pdb(PDB_FILE)
                       structure.vectors(attached='H', spin_id='@N')


   2. Then, I encountered the following error message (using the debug
option -d) when trying to optimise models 'prolate', 'oblate' and
'ellipsoid':

         Traceback (most recent call last):
 File &quot;full_analysis_prolate.py&quot;, line 640, in &lt;module&gt;
   Main(self.relax)
 File &quot;full_analysis_prolate.py&quot;, line 267, in __init__
   self.multi_model()
 File &quot;full_analysis_prolate.py&quot;, line 631, in multi_model
   grid_search(inc=GRID_INC)
 File &quot;/usr/local/packages/relax-1.3/prompt/minimisation.py&quot;, line 156,
in grid_search
   minimise.grid_search(lower=lower, upper=upper, inc=inc,
constraints=constraints, verbosity=verbosity)
 File &quot;/usr/local/packages/relax-1.3/generic_fns/minimise.py&quot;, line
185, in grid_search
   grid_search(lower=lower, upper=upper, inc=inc,
constraints=constraints, verbosity=verbosity)
 File
&quot;/usr/local/packages/relax-1.3/specific_fns/model_free/mf_minimise.py&quot;,
line 479, in grid_search
   self.minimise(min_algor='grid', lower=lower, upper=upper, inc=inc,
constraints=constraints, verbosity=verbosity, sim_index=sim_index)
 File
&quot;/usr/local/packages/relax-1.3/specific_fns/model_free/mf_minimise.py&quot;,
line 788, in minimise
   model_type = self.determine_model_type()
 File &quot;/usr/local/packages/relax-1.3/specific_fns/model_free/main.py&quot;,
line 1026, in determine_model_type
   raise RelaxError, &quot;All parameters are fixed.&quot;
RelaxError: RelaxError: All parameters are fixed.


There seems to be a problem with the fix() function, although I was not
able to fix (!) it...

Thank you very much for your help,


Pierre-Yves

_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="/mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>

</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00003" href="msg00003.html">Re: full_analysys problem: 'All parameters are fixed'</a></strong>
<ul><li><em>From:</em> Pierre-Yves Savard</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00001" href="msg00001.html">full_analysys problem: 'All parameters are fixed'</a></strong>
<ul><li><em>From:</em> Pierre-Yves Savard</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Feb 10 20:00:15 2009</div>  
</body>
</html>
