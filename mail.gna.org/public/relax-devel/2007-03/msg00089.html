<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: r3236 &#45; /branches/multi_processor/relax -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Mon, 19 Mar 2007 16:39:48 +0100 -->
<!--X-Message-Id: 7f080ed10703190839j6b556240g51047a57a0475a13@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1HTFZK&#45;0005mx&#45;CN@subversion.gna.org -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: r3236 - /branches/multi_processor/relax -- March 19, 2007 - 16:39</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: r3236 - /branches/multi_processor/relax</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00089" class="tabs">Index by Date</a> | <a href="threads.html#00089" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00088.html">Date Prev</a>] [<a href="msg00090.html">Date Next</a>] [<a href="msg00088.html">Thread Prev</a>] [<a href="msg00090.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;garyt@xxxxxxxxxxxxxxx&quot; &lt;garyt@xxxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 20 Mar 2007 02:39:10 +1100</li>
<li class="menuitem">
<em>Cc</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Dkim-signature</em>: a=rsa-sha1; c=relaxed/relaxed; d=gmail.com; s=beta;	h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references:x-google-sender-auth;	b=BFjaBSZQm33+kRGfGC8DjWyU7zr/U8KsyoL1LgxPJStfAUfigrDMTcoUT50u8bw+xJvWTtSBc/OFRc3kye52WynbjL97Sg4lgDsli6ymXOwQks4LqZqUb4xqz0Z/tzGXsHWB0A/CBZG7YWl4TJJ28wvY3tysj81tlosRURLerOw=</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00089.html">7f080ed10703190839j6b556240g51047a57a0475a13@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1HTFZK-0005mx-CN@subversion.gna.org&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on March 19, 2007 - 16:39:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Gary,</pre><br>
<pre style="margin: 0em;">It might be important to note that the code that you commented out was
actually grid computing code rather than threading code.
Unfortunately I called my grid computing code 'threading'!  Half of it
could probably kept as is although relabelled to 'grid'.  For example
the 'threading' user function class which sets up grid computing.  In
the future I'll probably want to use my algorithm for handling very
slow machines on a grid (which avoids relax having to wait for a slow
machine to terminate) and the setting up of slave relax processes
(using the 'relax --thread' invocation).  Although the grid computing
code is currently broken, this is only because there is a problem with
the handling of SSH tunnel breakages.  I also have in mind some
optimisations for minimising data flow through the tunnel and Andrew
Perry has had ideas about using heartbeats from the grid machine relax
processes to probe for dead tunnels and processes.</pre><br>
<pre style="margin: 0em;">The model-free threads, which are true threads, could possibly also be
kept and utilised by the MPI implementation.  They could be optimised
though and any grid computing code separated from it.</pre><br>
<pre style="margin: 0em;">Cheers,</pre><br>
<pre style="margin: 0em;">Edward</pre><br>
<pre style="margin: 0em;"><br></pre><br>
<tt>On 3/19/07, garyt@xxxxxxxxxxxxxxx &lt;garyt@xxxxxxxxxxxxxxx&gt; wrote:
</tt><blockquote class="blockquote"><pre style="margin: 0em;">Author: varioustoxins
Date: Mon Mar 19 11:58:24 2007
New Revision: 3236</pre><br>
<pre style="margin: 0em;">URL: <a  href="http://svn.gna.org/viewcvs/relax?rev=3236&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=3236&amp;view=rev</a>
Log:
marked more threading code for reletion</pre><br>
<pre style="margin: 0em;"><br>Modified:
    branches/multi_processor/relax</pre><br>
<pre style="margin: 0em;">Modified: branches/multi_processor/relax
URL: 
<a  href="http://svn.gna.org/viewcvs/relax/branches/multi_processor/relax?rev=3236&amp;r1=3235&amp;r2=3236&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/multi_processor/relax?rev=3236&amp;r1=3235&amp;r2=3236&amp;view=diff</a>
==============================================================================
--- branches/multi_processor/relax (original)
+++ branches/multi_processor/relax Mon Mar 19 11:58:24 2007
@@ -171,23 +171,25 @@
             # Run the interpreter.
             self.interpreter = Interpreter(self)
             self.interpreter.run()
-
+            print 'exit'
+
+        # FIXME no more threading
         # Threading mode.
-        elif mode == 'thread':
-            # Print the PID prior to IO redirection, and then flush the 
buffer to send it to the parent.
-            print self.pid
-            sys.stdout.flush()
-
-            # Logging (silent IO redirection).
-            if self.log_file:
-                self.IO.log(log_file, print_flag=0)
-
-            # Tee (silent IO redirection).
-            elif self.tee_file:
-                self.IO.tee(tee_file, print_flag=0)
-
-            # Execute the script.
-            self.threading.execute()
+#        elif mode == 'thread':
+#            # Print the PID prior to IO redirection, and then flush the 
buffer to send it to the parent.
+#            print self.pid
+#            sys.stdout.flush()
+#
+#            # Logging (silent IO redirection).
+#            if self.log_file:
+#                self.IO.log(log_file, print_flag=0)
+#
+#            # Tee (silent IO redirection).
+#            elif self.tee_file:
+#                self.IO.tee(tee_file, print_flag=0)
+#
+#            # Execute the script.
+#            self.threading.execute()</pre><br>
<pre style="margin: 0em;">         # Execute the relax test suite
         elif mode == 'test suite':
@@ -553,8 +555,8 @@
     module_path = '.'.join(('multi',processor_name))</pre><br>
<pre style="margin: 0em;"><br>-    modules = import_module(module_path,verbose=True)
-    print modules
+    modules = import_module(module_path)
+    #print modules
     if hasattr(modules[-1],class_name):
         clazz =  getattr(modules[-1], class_name)
     else:</pre><br>
<pre style="margin: 0em;"><br>_______________________________________________
relax (<a  href="http://nmr-relax.com">http://nmr-relax.com</a>)</pre><br>
<pre style="margin: 0em;">This is the relax-commits mailing list
relax-commits@xxxxxxx</pre><br>
<pre style="margin: 0em;">To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-commits">https://mail.gna.org/listinfo/relax-commits</a></pre><br>
</blockquote><pre style="margin: 0em;"><br></pre><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00090" href="msg00090.html">Re: r3236 - /branches/multi_processor/relax</a></strong>
<ul><li><em>From:</em> Gary S. Thompson</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Mar 27 18:23:13 2007</div>  
</body>
</html>
