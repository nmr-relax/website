<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.1//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>structure.align</TITLE>
<META NAME="description" CONTENT="structure.align">
<META NAME="keywords" CONTENT="relax">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">

  <!--Google analytics JS-->
  <script type="text/javascript">
  
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-30096326-1']);
    _gaq.push(['_setDomainName', 'nmr-relax.com']);
    _gaq.push(['_trackPageview']);
  
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  
  </script>

<LINK REL="STYLESHEET" HREF="relax.css">

<LINK REL="next" HREF="structure_com.html">
<LINK REL="previous" HREF="structure_add_model.html">
<LINK REL="up" HREF="The_list_of_functions.html">
<LINK REL="next" HREF="structure_com.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html20253"
  HREF="structure_com.html">
<IMG WIDTH="48" HEIGHT="48" TITLE="Next" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html20247"
  HREF="The_list_of_functions.html">
<IMG WIDTH="48" HEIGHT="48" TITLE="Up" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html20241"
  HREF="structure_add_model.html">
<IMG WIDTH="48" HEIGHT="48" TITLE="Previous" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html20249"
  HREF="Contents.html">
<IMG WIDTH="48" HEIGHT="48" TITLE="Contents" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html20251"
  HREF="Index.html">
<IMG WIDTH="48" HEIGHT="48" TITLE="Index" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html1"
  HREF="http://download.gna.org/relax/manual/relax.pdf"><IMG
 ALIGN="BOTTOM" BORDER="0" SRC="http://www.nmr-relax.com/images/pdf_icon_nav.png"
 ALT="pdf_icon_nav.png"></A><A NAME="tex2html2"
  HREF="http://www.nmr-relax.com"><IMG
 ALIGN="BOTTOM" BORDER="0" SRC="http://www.nmr-relax.com/images/relax_logo_nav.png"
 ALT="relax_logo_nav.png"></A>
<BR>
<B> Next:</B> <A NAME="tex2html20254"
  HREF="structure_com.html">structure.com</A>
<B> Up:</B> <A NAME="tex2html20248"
  HREF="The_list_of_functions.html">The list of functions</A>
<B> Previous:</B> <A NAME="tex2html20242"
  HREF="structure_add_model.html">structure.add_model</A>
 &nbsp; <B>  <A NAME="tex2html20250"
  HREF="Contents.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html20252"
  HREF="Index.html">Index</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL CLASS="ChildLinks">
<LI><A NAME="tex2html20255"
  HREF="structure_align.html#SECTION0812225100000000000000">Synopsis</A>
<LI><A NAME="tex2html20256"
  HREF="structure_align.html#SECTION0812225200000000000000">Defaults</A>
<LI><A NAME="tex2html20257"
  HREF="structure_align.html#SECTION0812225300000000000000">Keyword arguments</A>
<LI><A NAME="tex2html20258"
  HREF="structure_align.html#SECTION0812225400000000000000">Description</A>
<LI><A NAME="tex2html20259"
  HREF="structure_align.html#SECTION0812225500000000000000">Prompt examples</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H2><A NAME="SECTION0812225000000000000000"></A> <A NAME="uf:_structure.align"></A>
<BR>
structure.align
</H2>
<IMG
  WIDTH="128" HEIGHT="128" ALIGN="BOTTOM" BORDER="0"
 SRC="./structure.png"
 ALT="Image structure"> 

<P>

<H3><A NAME="SECTION0812225100000000000000">
Synopsis</A>
</H3>

<P>
Align and superimpose different structures.

<P>

<H3><A NAME="SECTION0812225200000000000000">
Defaults</A>
</H3>

<P>
<DIV ALIGN="LEFT">
<SPAN  CLASS="textsf"><SPAN  CLASS="textbf">structure.align</SPAN>(pipes=None, models=None, method=`fit to mean', atom_id=None, centre_type=`centroid', centroid=None)</SPAN>

</DIV>

<P>

<H3><A NAME="SECTION0812225300000000000000">
Keyword arguments</A>
</H3>

<P>
 <SPAN  CLASS="textsf">pipes:</SPAN>  The data pipes to include in the alignment and superimposition.

<P>
 <SPAN  CLASS="textsf">models:</SPAN>  The list of models for each data pipe to superimpose.  The number of elements must match the pipes argument.

<P>
 <SPAN  CLASS="textsf">method:</SPAN>  The superimposition method.

<P>
 <SPAN  CLASS="textsf">atom_id:</SPAN>  The atom identification string.

<P>
 <SPAN  CLASS="textsf">centre_type:</SPAN>  The type of centre to user for the superimposition, <SPAN CLASS="MATH"><I>i</I></SPAN>.e. either the standard centroid superimposition or a superimposition using the centre of mass (CoM).

<P>
 <SPAN  CLASS="textsf">centroid:</SPAN>  The alternative position of the centroid.

<P>

<H3><A NAME="SECTION0812225400000000000000">
Description</A>
</H3>

<P>
This allows a set of related structures to be superimposed to each other.  The current algorithm will only use atoms with the same residue name and number and atom name in the superimposition, hence this is not a true sequence<A NAME="39416"></A> alignment.  Just as with the structure.superimpose user function two methods are currently supported:

<P>
<DL>
<DT><STRONG>`<TT>fit to mean</TT>' -</STRONG></DT>
<DD>All models are fit to the mean structure.  This is the default and most accurate method for an ensemble description.  It is an iterative method which first calculates a mean structure and then fits each model to the mean structure using the Kabsch algorithm.  This is repeated until convergence.
  
</DD>
<DT><STRONG>`<TT>fit to first</TT>' -</STRONG></DT>
<DD>This is quicker but is not as accurate for an ensemble description.  The Kabsch algorithm is used to rotate and translate each model to be superimposed onto the first model of the first data pipe.
</DD>
</DL>

<P>
If the list of models is not supplied, then all models of all data pipes will be superimposed.

<P>
The atom ID, which uses the same notation as the spin ID strings, can be used to restrict the superimpose calculation to certain molecules,<A NAME="39421"></A> residues, or atoms.  For example to only superimpose backbone heavy atoms in a protein, use the atom ID of `<TT>@N,C,CA,O</TT>', assuming those are the names of the atoms from the structural file.

<P>
By supplying the position of the centroid, an alternative position than the standard rigid body centre is used as the focal point of the superimposition.  The allows, for example, the superimposition about a pivot point.

<P>

<H3><A NAME="SECTION0812225500000000000000">
Prompt examples</A>
</H3>

<P>
To superimpose all sets of models, exactly as in the structure.superimpose user function, type one of:

<P>
<PRE>[numbers=none]
relax&gt; structure.align()
</PRE>

<P>
<PRE>[numbers=none]
relax&gt; structure.align(method='fit to mean')
</PRE>

<P>
To superimpose the models 1, 2, 3, 5 onto model 4, type:

<P>
<PRE>[numbers=none]
relax&gt; structure.align(models=[4, 1, 2, 3, 5], method='fit to first')
</PRE>

<P>
To superimpose an ensemble of protein structures using only the backbone heavy atoms, type one of:

<P>
<PRE>[numbers=none]
relax&gt; structure.align(atom_id='@N,C,CA,O')
</PRE>

<P>
<PRE>[numbers=none]
relax&gt; structure.align(method='fit to mean', atom_id='@N,C,CA,O')
</PRE>

<P>
To superimpose the structures in the `<TT>A</TT>' data pipe onto the structures of the `<TT>B</TT>' data pipe using backbone heavy atoms, type one of:

<P>
<PRE>[numbers=none]
relax&gt; structure.align(['B', 'A'], None, 'fit to first', '@N,C,CA,O')
</PRE>

<P>
<PRE>[numbers=none]
relax&gt; structure.align(pipes=['B', 'A'], method='fit to first', atom_id='@N,C,CA,O')
</PRE>

<P>

<BR>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html20253"
  HREF="structure_com.html">
<IMG WIDTH="48" HEIGHT="48" TITLE="Next" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html20247"
  HREF="The_list_of_functions.html">
<IMG WIDTH="48" HEIGHT="48" TITLE="Up" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html20241"
  HREF="structure_add_model.html">
<IMG WIDTH="48" HEIGHT="48" TITLE="Previous" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html20249"
  HREF="Contents.html">
<IMG WIDTH="48" HEIGHT="48" TITLE="Contents" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html20251"
  HREF="Index.html">
<IMG WIDTH="48" HEIGHT="48" TITLE="Index" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html1"
  HREF="http://download.gna.org/relax/manual/relax.pdf"><IMG
 ALIGN="BOTTOM" BORDER="0" SRC="http://www.nmr-relax.com/images/pdf_icon_nav.png"
 ALT="pdf_icon_nav.png"></A><A NAME="tex2html2"
  HREF="http://www.nmr-relax.com"><IMG
 ALIGN="BOTTOM" BORDER="0" SRC="http://www.nmr-relax.com/images/relax_logo_nav.png"
 ALT="relax_logo_nav.png"></A>
<BR>
<B> Next:</B> <A NAME="tex2html20254"
  HREF="structure_com.html">structure.com</A>
<B> Up:</B> <A NAME="tex2html20248"
  HREF="The_list_of_functions.html">The list of functions</A>
<B> Previous:</B> <A NAME="tex2html20242"
  HREF="structure_add_model.html">structure.add_model</A>
 &nbsp; <B>  <A NAME="tex2html20250"
  HREF="Contents.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html20252"
  HREF="Index.html">Index</A></B> </DIV>
<!--End of Navigation Panel-->
<ADDRESS>
The <a href="http://www.nmr-relax.com">relax</a> <a href="http://www.nmr-relax.com/manual/">user manual</a> (<a href="http://download.gna.org/relax/manual/relax.pdf">PDF</a>), created 2014-11-24.
</ADDRESS>
</BODY>
</HTML>
