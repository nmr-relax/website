<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: R2 from R1rho &#38; R1 -->
<!--X-From-R13: "Sqjneq q'Ohiretar" &#60;rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Thu, 27 Mar 2014 09:20:14 +0100 -->
<!--X-Message-Id: CAED9pY_=hfU&#45;Gjm6TBR1kc8KEt=5D=BzyBSt98A2AOJn4m++aQ@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 5332B7B4.3030001@fz&#45;juelich.de -->
<!--X-Reference: CA+CBx2OX9_wUX2XZi45rG+ZCeFfGtxaOB_2gCKzAZKOo4vYxrA@mail.gmail.com -->
<!--X-Reference: 5332C0D0.2030505@fz&#45;juelich.de -->
<!--X-Reference: CAED9pY&#45;+msx3ht68sn0Rb7aMWO_C2L_v7y50tm_8n+6KvunUMQ@mail.gmail.com -->
<!--X-Reference: 5332D4A6.8000901@fz&#45;juelich.de -->
<!--X-Reference: CA+CBx2N&#45;GrzRGNUTMCMdM+ca1xJp20auYv8RZYnDHhvJM=XFqQ@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: R2 from R1rho &amp; R1 -- March 27, 2014 - 09:20</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: R2 from R1rho &amp; R1</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00065" class="tabs">Index by Date</a> | <a href="threads.html#00065" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00064.html">Date Prev</a>] [<a href="msg00066.html">Date Next</a>] [<a href="msg00066.html">Thread Prev</a>] [<a href="msg00055.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 27 Mar 2014 09:19:39 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:date:message-id:subject :from:to:cc:content-type; bh=SqV8TxEsNwBX9KZnLXFOpoKDHUICMRyzE7dnaQ6x7sM=; b=IFUtDXYzdxNdt3w/fS0M1PzLyBj9IVCxIcEvfQKg+le4qP9aaxvzmKNw1qdirRyQSj sDTJq7NC28CnmmSWGBlLQAzwof2yrVoqptXq1WondId7SIN7LXuSTGbHyOzKo0SRsgnw MCK5FwI5WvNC9w/pvHvWpcSyfoAShS5Gxj+dc8rT1RwrKN63ee1d64+GdNeplckiOOtx QoloXswbukeMRrY0m+PX0cqOrIHA8iYY1N0PaMVdcNPaP3Qs1urNZkJzpdr+RBeXdg3p +HccpnF1/z7UZRiRijlM7tRjZv05HgOedeekIE5q980cJxRhgXA5/uXdP8nJcOGYrDcE 2zRA==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;CAED9pY_=hfU-Gjm6TBR1kc8KEt=5D=BzyBSt98A2AOJn4m++aQ@mail.gmail.com&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00051.html">5332B7B4.3030001@fz-juelich.de</a>&gt; &lt;<a href="msg00052.html">CA+CBx2OX9_wUX2XZi45rG+ZCeFfGtxaOB_2gCKzAZKOo4vYxrA@mail.gmail.com</a>&gt; &lt;<a href="msg00053.html">5332C0D0.2030505@fz-juelich.de</a>&gt; &lt;<a href="msg00054.html">CAED9pY-+msx3ht68sn0Rb7aMWO_C2L_v7y50tm_8n+6KvunUMQ@mail.gmail.com</a>&gt; &lt;<a href="msg00056.html">5332D4A6.8000901@fz-juelich.de</a>&gt; &lt;CA+CBx2N-GrzRGNUTMCMdM+ca1xJp20auYv8RZYnDHhvJM=XFqQ@mail.gmail.com&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on March 27, 2014 - 09:20:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Troels,

Please see below:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">But I aimed for the auto generation of these plots as grace files, and was
stuck until realizing what needed to be modified in relax, since just making
the graphs looked wrong.
</pre></blockquote><pre style="margin: 0em;">

It's a pity that this doesn't work yet because the implementation is
so close.  All of the planning has been completed and you have written
most of the code for the required infrastructure.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">For an implementation in relax, we need something like:
Function to ramp field values
</pre></blockquote><pre style="margin: 0em;">

This spin-lock field strength interpolation (and extension) code
exists, but just needs to be shifted into its own function to simplify
things.  Well, there is a different interpolation used for the
analytic and numeric CPMG models for the nu_CPMG values, so additional
functions would be required (this could be put into one or two
functions, that is not important).


</pre><blockquote class="blockquote"><pre style="margin: 0em;">Function to ramp offset values
</pre></blockquote><pre style="margin: 0em;">

After shifting the field strength interpolation into its own function,
this can be duplicated and changed from the spin-lock field strength
into the spin-lock offset.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">Make function that return calculated R1rho data accept interpolated data
</pre></blockquote><pre style="margin: 0em;">

This already exists.  The current code of the back_calc_r2eff()
function only needs a single line of code for the calculation of the
offsets shifted into the earlier function where the interpolation
happens, and then the data passed back into this function with or
without interpolation, and then everything will just work.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">Make back calculation accept as well
</pre></blockquote><pre style="margin: 0em;">

There is nothing to do here, once the single line of code has been
shifted.  If the interpolated data structures are created and passed
into it, this will just work.  This code will not even know the
difference.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">Expand the grace write function
</pre></blockquote><pre style="margin: 0em;">

This also requires zero work, everything is already in place and the
code should not be changed :)  If you mean the
relax_disp.plot_disp_curves user function, then this just needs to
call the interpolation functions above to change the list of offsets.
If the matplotlib plotting infrastructure was added to relax, it would
be then easy to have this user function create a 3D surface graph of
the R1rho dispersion curves.

Cheers,

Edward


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00051" href="msg00051.html">R2 from R1rho &amp; R1</a></strong>
<ul><li><em>From:</em> Justin Lecher</li></ul></li>
<li><strong><a name="00052" href="msg00052.html">Re: R2 from R1rho &amp; R1</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00053" href="msg00053.html">Re: R2 from R1rho &amp; R1</a></strong>
<ul><li><em>From:</em> Justin Lecher</li></ul></li>
<li><strong><a name="00054" href="msg00054.html">Re: R2 from R1rho &amp; R1</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00056" href="msg00056.html">Re: R2 from R1rho &amp; R1</a></strong>
<ul><li><em>From:</em> Justin Lecher</li></ul></li>
<li><strong><a name="00061" href="msg00061.html">Re: R2 from R1rho &amp; R1</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Mar 27 09:40:11 2014</div>  
</body>
</html>
