<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [task #7807] Speed&#45;up of dispersion models for Clustered analysis -->
<!--X-From-R13: "Sqjneq q'Ohiretar" &#60;rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Sun, 15 Jun 2014 15:19:18 +0200 -->
<!--X-Message-Id: CAED9pY_pLtmgvVCiTq9L0LMDiKSg_O2YwZC2WyB2s4CdDt7q_Q@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20140606&#45;164034.sv20529.18004@gna.org -->
<!--X-Reference: 20140606&#45;203152.sv20529.82733@gna.org -->
<!--X-Reference: 20140607&#45;192042.sv20529.55008@gna.org -->
<!--X-Reference: 20140608&#45;115339.sv20529.22097@gna.org -->
<!--X-Reference: 20140608&#45;175211.sv20529.15019@gna.org -->
<!--X-Reference: 20140608&#45;182605.sv20529.57278@gna.org -->
<!--X-Reference: 20140608&#45;183428.sv20529.91269@gna.org -->
<!--X-Reference: 20140608&#45;184803.sv20529.12856@gna.org -->
<!--X-Reference: 20140608&#45;214642.sv20529.45231@gna.org -->
<!--X-Reference: 20140608&#45;224658.sv20529.82233@gna.org -->
<!--X-Reference: 20140609&#45;230256.sv20529.53904@gna.org -->
<!--X-Reference: 20140610&#45;170645.sv20529.74988@gna.org -->
<!--X-Reference: 20140611&#45;154047.sv2782.24206@gna.org -->
<!--X-Reference: 20140615&#45;083021.sv2782.41765@gna.org -->
<!--X-Reference: CA+CBx2M1CGZtseyrmprC2&#45;UgEArNoxU6v8fPYeVwkxCtxUKdsg@mail.gmail.com -->
<!--X-Reference: CAED9pY_vm2WBR5AR2UUbOJ4t=NoAjd3Svyj7BS02=MHC6Nhotg@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [task #7807] Speed-up of dispersion models for Clustered analysis -- June 15, 2014 - 15:19</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: [task #7807] Speed-up of dispersion models for Clustered analysis</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00231" class="tabs">Index by Date</a> | <a href="threads.html#00231" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00230.html">Date Prev</a>] [<a href="msg00232.html">Date Next</a>] [<a href="msg00229.html">Thread Prev</a>] [<a href="msg00228.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Sun, 15 Jun 2014 15:18:47 +0200</li>
<li class="menuitem">
<em>Cc</em>: Edward d Auvergne &lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt;, &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:date:message-id:subject :from:to:cc:content-type:content-transfer-encoding; bh=NptuuLnKuA1LJL54hESMplWgFUItSJUutPzStApDoyw=; b=gTOEfx40+REXGdK2+rS+i4nHaxYsgrFvDbciInGIRKh8Mk2HvLqejP1/treP81+00t k1CZj8fecwEaiZMBMK5bkHUuiE03iSlggU+rgDNtd5mYTikKDwPg2qzcxFoDHPDX+vav +nskwDW21kmax3lws6bN9rMR1MKOJKO3kmDuXYYvRBQnXVpVy302QsXDct5YIx90sWTN wl6E9075vrCCPfNnHhUB32+lZ/SzdyE5ol7P/5LlocN+UiNeZPAwaWBmFbApoZ6jcw1k 8d4b+VrJmBIIRVyKoBj2AH06KvbgRZtOBw4wmaPp6nWkgY2PZaZZ53RoL280XYB/Ah3N EENQ==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00231.html">CAED9pY_pLtmgvVCiTq9L0LMDiKSg_O2YwZC2WyB2s4CdDt7q_Q@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00069.html">20140606-164034.sv20529.18004@gna.org</a>&gt; &lt;<a href="msg00071.html">20140606-203152.sv20529.82733@gna.org</a>&gt; &lt;<a href="msg00072.html">20140607-192042.sv20529.55008@gna.org</a>&gt; &lt;<a href="msg00073.html">20140608-115339.sv20529.22097@gna.org</a>&gt; &lt;<a href="msg00074.html">20140608-175211.sv20529.15019@gna.org</a>&gt; &lt;<a href="msg00075.html">20140608-182605.sv20529.57278@gna.org</a>&gt; &lt;<a href="msg00076.html">20140608-183428.sv20529.91269@gna.org</a>&gt; &lt;<a href="msg00077.html">20140608-184803.sv20529.12856@gna.org</a>&gt; &lt;<a href="msg00078.html">20140608-214642.sv20529.45231@gna.org</a>&gt; &lt;<a href="msg00079.html">20140608-224658.sv20529.82233@gna.org</a>&gt; &lt;<a href="msg00082.html">20140609-230256.sv20529.53904@gna.org</a>&gt; &lt;<a href="msg00131.html">20140610-170645.sv20529.74988@gna.org</a>&gt; &lt;<a href="msg00177.html">20140611-154047.sv2782.24206@gna.org</a>&gt; &lt;<a href="msg00222.html">20140615-083021.sv2782.41765@gna.org</a>&gt; &lt;<a href="msg00227.html">CA+CBx2M1CGZtseyrmprC2-UgEArNoxU6v8fPYeVwkxCtxUKdsg@mail.gmail.com</a>&gt; &lt;CAED9pY_vm2WBR5AR2UUbOJ4t=NoAjd3Svyj7BS02=MHC6Nhotg@mail.gmail.com&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on June 15, 2014 - 15:19:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">If that script works for you, then the numpy.dot() out argument will
work for you.  Note!  This is not a keyword argument.  Therefore the
following is wrong:

dot(a, b, out=c)

The following is correct:

dot(a, b, c)

You absolutely have to get the out argument working as, for large
arrays of high rank, this is one of the most important features of
numpy!

Regards,

Edward




On 15 June 2014 15:00, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

Does the test script work
(<a  rel="nofollow" href="https://gna.org/support/download.php?file_id=21021">https://gna.org/support/download.php?file_id=21021</a>)?  You should see
the same matrix printed 3 times.

Regards,

Edward

On 15 June 2014 14:57, Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward.

I have tried the &quot;out&quot; argument, but it wont work ???

dot(A, B, out=C)
dot(C, A, out=C)
The C would evaluate to zero, if I use it both in function, and in the out.

I dont know why!



2014-06-15 10:30 GMT+02:00 Edward d Auvergne
&lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt;:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Follow-up Comment #199, task #7807 (project relax):

The following python script, to be placed in the base relax directory, and
the
corresponding log file, demonstrate the speed differences of various dot
product operations.  This is to help make the numeric dispersion models
faster.

The script tests 3 different operations:

1) Sequential dot products (a = dot(b, c); a = dot(a, d)).
2) Chained dot products (a = b.dot(c).dot(d)).
3) Using the out argument to avoid memory allocation and garbage
collection
(dot(b, c, a); dot(a, d, a)).

The timings are:

1) 3.71 s.
2) 4.05 s.
3) 1.99 s.

As option 1) is the implementation used in the relax trunk, clearly option
3
has the potential to significantly speed up the models.


(file #21021, file #21022)
    _______________________________________________________

Additional Item Attachment:

File name: dot_speed.py                   Size:2 KB
File name: dot_speed.log                  Size:0 KB


    _______________________________________________________

Reply to this item at:

  &lt;<a  rel="nofollow" href="http://gna.org/task/?7807">http://gna.org/task/?7807</a>&gt;

_______________________________________________
  Message sent via/by Gna!
  <a  rel="nofollow" href="http://gna.org/">http://gna.org/</a>

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00069" href="msg00069.html">[task #7807] Speed-up of dispersion models for Clustered analysis</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00071" href="msg00071.html">[task #7807] Speed-up of dispersion models for Clustered analysis</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00072" href="msg00072.html">[task #7807] Speed-up of dispersion models for Clustered analysis</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00073" href="msg00073.html">[task #7807] Speed-up of dispersion models for Clustered analysis</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00074" href="msg00074.html">[task #7807] Speed-up of dispersion models for Clustered analysis</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00075" href="msg00075.html">[task #7807] Speed-up of dispersion models for Clustered analysis</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00076" href="msg00076.html">[task #7807] Speed-up of dispersion models for Clustered analysis</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00077" href="msg00077.html">[task #7807] Speed-up of dispersion models for Clustered analysis</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00078" href="msg00078.html">[task #7807] Speed-up of dispersion models for Clustered analysis</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00079" href="msg00079.html">[task #7807] Speed-up of dispersion models for Clustered analysis</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00082" href="msg00082.html">[task #7807] Speed-up of dispersion models for Clustered analysis</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00131" href="msg00131.html">[task #7807] Speed-up of dispersion models for Clustered analysis</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00177" href="msg00177.html">[task #7807] Speed-up of dispersion models for Clustered analysis</a></strong>
<ul><li><em>From:</em> Edward d Auvergne</li></ul></li>
<li><strong><a name="00222" href="msg00222.html">[task #7807] Speed-up of dispersion models for Clustered analysis</a></strong>
<ul><li><em>From:</em> Edward d Auvergne</li></ul></li>
<li><strong><a name="00227" href="msg00227.html">Re: [task #7807] Speed-up of dispersion models for Clustered analysis</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00229" href="msg00229.html">Re: [task #7807] Speed-up of dispersion models for Clustered analysis</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sun Jun 15 15:40:13 2014</div>  
</body>
</html>
