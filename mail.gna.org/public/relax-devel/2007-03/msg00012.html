<!-- MHonArc v2.6.10 -->
<!--X-Subject: The singleton design pattern for the old 'self.relax.data' data	structure. -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Wed, 07 Mar 2007 09:07:27 +0100 -->
<!--X-Message-Id: 7f080ed10703070006s309a1e1do38e621f48d8f6d9e@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>The singleton design pattern for the old 'self.relax.data' data	structure. -- March 07, 2007 - 09:07</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />The singleton design pattern for the old 'self.relax.data' data	structure.</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00012" class="tabs">Index by Date</a> | <a href="threads.html#00012" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00011.html">Date Prev</a>] [<a href="msg00013.html">Date Next</a>] [<a href="msg00006.html">Thread Prev</a>] [<a href="msg00013.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Wed, 7 Mar 2007 19:06:51 +1100</li>
<li class="menuitem">
<em>Dkim-signature</em>: a=rsa-sha1; c=relaxed/relaxed; d=gmail.com; s=beta;	h=domainkey-signature:received:received:message-id:date:from:sender:to:subject:mime-version:content-type:content-transfer-encoding:content-disposition:x-google-sender-auth;	b=aubEIDxkW7MxsFhiD+3PUPyXYn8O5Zpab7txYpl90WFEawJ4/tBrX8vF0QpuZOd9wdCiT4oYMFUFN7+aweSFtGI1NgVCH3A8LM+dfWYXjXwU1a5mNbDscOM544H7Y+tSwnKiNP5f1gt/qTDlltvSqbny4M8f/PmvykzW01NWSgU=</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00012.html">7f080ed10703070006s309a1e1do38e621f48d8f6d9e@mail.gmail.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on March 07, 2007 - 09:07:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,</pre><br>
<pre style="margin: 0em;">After careful thought about design patterns, I've decided to try to
use the singleton pattern for the old 'self.relax.data' data
structure.  See <a  href="http://en.wikipedia.org/wiki/Singleton_pattern">http://en.wikipedia.org/wiki/Singleton_pattern</a> for
more information about this design pattern.  I'll try to use the
second simple example under the heading 'Python Borg pattern'.  The
benefit of this pattern is that each module can use the code:</pre><br>
<pre style="margin: 0em;">from data import Data
relax_data = Data()</pre><br>
<pre style="margin: 0em;">As Data will be a singleton if two modules used by relax instantiate
the Data class then the global 'relax_data' in both modules will be
the same instance.  Therefore if a method from the
'special_fns.model_free' module modifies the data structure, all the
other relax modules using the singleton will see the changes.  The
benefit of this pattern is that the data structure is similar in
concept to a global variable but only modules utilising it will have
it in one of their namespaces.  Also 'self.relax.data' will not need
to be passed around inside the program, simplifying the code.  What do
you think of the idea?</pre><br>
<pre style="margin: 0em;">Cheers,</pre><br>
<pre style="margin: 0em;">Edward</pre><br>
<pre style="margin: 0em;"><br>P.S.  Another idea would be to create the variable
'relax_data.current_run'.  The 'relax_data' singleton structure will
be a dictionary type as proposed in the redesign discussions, hence
you would have say 'relax_data['m5']' being another object containing
all the model-free model m5 data, but the variable could be part of
the singleton data structure.  The data object of the current run
could then be accessed as 'data = relax_data[relax_data.current_run]'.
This is probably an anti-pattern so please feel free to suggest
better ideas.</pre><br>
<br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00013" href="msg00013.html">Re: The singleton design pattern for the old 'self.relax.data' data	structure.</a></strong>
<ul><li><em>From:</em> Chris MacRaild</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Mar 08 13:00:27 2007</div>  
</body>
</html>
