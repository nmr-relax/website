<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: r8353 &#45; /branches/relax_disp/specific_fns/relax_disp.py -->
<!--X-From-R13: Eéonfgvra [beva <fronfgvra.zbeva.1Nhyniny.pn> -->
<!--X-Date: Fri, 09 Jan 2009 21:56:14 +0100 -->
<!--X-Message-Id: 4967B9E4.7060109@ulaval.ca -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1LLO6B&#45;0005NY&#45;Ar@subversion.gna.org -->
<!--X-Reference: 7f080ed10901091243k76e08449ld2d1a4d273b97f71@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: r8353 - /branches/relax_disp/specific_fns/relax_disp.py -- January 09, 2009 - 21:56</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: r8353 - /branches/relax_disp/specific_fns/relax_disp.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00046" class="tabs">Index by Date</a> | <a href="threads.html#00046" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00045.html">Date Prev</a>] [<a href="msg00047.html">Date Next</a>] [<a href="msg00045.html">Thread Prev</a>] [<a href="msg00048.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Fri, 09 Jan 2009 15:56:04 -0500</li>
<li class="menuitem">
<em>Cc</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00046.html">4967B9E4.7060109@ulaval.ca</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1LLO6B-0005NY-Ar@xxxxxxxxxxxxxxxxxx&gt;	&lt;7f080ed10901091243k76e08449ld2d1a4d273b97f71@xxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Thunderbird 2.0.0.19 (X11/20081231)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Sébastien Morin</strong> on January 09, 2009 - 21:56:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Ed,

I was pretty sure there was something about this... Where whould the
lower case names be in the code ? And where the mixed lower/upper case
names should be ?

Also, this code is, for sure, not functionnal for now since I'll have to
think about how the parameters are stored (etc) when selecting the slow-
or fast-exchange regime... Of course, no model all parameters R2, Rex,
kex, R2A, kA and dw...

Regards,


Séb  :)



Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

I think this change conflicts with the rest of relax.  The parameters
like Rex as stored in the lower case data structures 'rex', etc. but
when a user is selecting models or asks for parameter values, the
natural mix of lower and upper case should be used.  For example to
ask for the S2f parameter in model-free analysis, you use the string
'S2f' in the value.write() user function.  These strings are the
interface for the user, and hence the natural cases should be used.
Internally in relax it doesn't matter.

Regards,

Edward


On Fri, Jan 9, 2009 at 9:36 PM,  &lt;sebastien.morin.1@xxxxxxxxx&gt; wrote:
  
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Author: semor
Date: Fri Jan  9 21:36:55 2009
New Revision: 8353

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=8353&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=8353&amp;view=rev</a>
Log:
Corrected a few formatting issues and still added parameters for the slow- 
and fast-exchange regime.


Modified:
   branches/relax_disp/specific_fns/relax_disp.py

Modified: branches/relax_disp/specific_fns/relax_disp.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/specific_fns/relax_disp.py?rev=8353&amp;r1=8352&amp;r2=8353&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/relax_disp/specific_fns/relax_disp.py?rev=8353&amp;r1=8352&amp;r2=8353&amp;view=diff</a>
==============================================================================
--- branches/relax_disp/specific_fns/relax_disp.py (original)
+++ branches/relax_disp/specific_fns/relax_disp.py Fri Jan  9 21:36:55 2009
@@ -62,7 +62,7 @@
        # Loop over the model parameters.
        for i in xrange(len(spin.params)):
            # Transversal relaxation rate.
-            if spin.params[i] == 'R2':
+            if spin.params[i] == 'r2':
                if sim_index != None:
                    param_vector.append(spin.r2_sim[sim_index])
                elif spin.r2 == None:
@@ -71,7 +71,7 @@
                    param_vector.append(spin.r2)

            # Chemical exchange contribution to 'R2'.
-            elif spin.params[i] == 'Rex':
+            elif spin.params[i] == 'rex':
                if sim_index != None:
                    param_vector.append(spin.rex_sim[sim_index])
                elif spin.rex == None:
@@ -89,7 +89,7 @@
                    param_vector.append(spin.kex)

            # Relaxation rate for state A.
-            if spin.params[i] == 'R2A':
+            if spin.params[i] == 'r2a':
                if sim_index != None:
                    param_vector.append(spin.r2a_sim[sim_index])
                elif spin.r2a == None:
@@ -334,11 +334,11 @@
        The names are as follows:

            - 'params', an array of the parameter names associated with 
the model.
-            - 'R2', the transversal relaxation rate.
-            - 'Rex', the chemical exchange contribution to 'R2'.
+            - 'r2', the transversal relaxation rate.
+            - 'rex', the chemical exchange contribution to 'R2'.
            - 'kex', the exchange rate.
-            - 'R2A', the transversal relaxation rate for state A.
-            - 'kA', the exchange rate from state A to state B.
+            - 'r2a', the transversal relaxation rate for state A.
+            - 'ka', the exchange rate from state A to state B.
            - 'dw', the chemical shift difference between states A and B.
            - 'chi2', chi-squared value.
            - 'iter', iterations.
@@ -419,15 +419,15 @@
        | Data type                                         | Object name  
 | Value    |
        
|___________________________________________________|_______________|__________|
        |                                                   |              
 |          |
-        | Transversal relaxation rate                       | 'R2'        
  | 8.0      |
+        | Transversal relaxation rate                       | 'r2'        
  | 8.0      |
        |                                                   |              
 |          |
-        | Chemical exchange contribution to 'R2'            | 'Rex'       
  | 2.0      |
+        | Chemical exchange contribution to 'R2'            | 'rex'       
  | 2.0      |
        |                                                   |              
 |          |
        | Exchange rate                                     | 'kex'        
 | 10000.0  |
        |                                                   |              
 |          |
-        | Relaxation rate for state A                       | 'R2A'       
  | 0.0      |
+        | Transversal relaxation rate for state A           | 'r2a'       
  | 8.0      |
        |                                                   |              
 |          |
-        | Exchange rate from state A to state B             | 'kA'        
  | 10000.0  |
+        | Exchange rate from state A to state B             | 'ka'        
  | 10000.0  |
        |                                                   |              
 |          |
        | Chemical shift difference between states A and B  | 'dw'         
 | 100      |
        |                                                   |              
 |          |
@@ -435,17 +435,29 @@

        &quot;&quot;&quot;

-        # Relaxation rate.
-        if param == 'rx':
+        # Transversal relaxation rate.
+        if param == 'r2':
            return 8.0

-        # Initial intensity.
-        if param == 'i0':
+        # Chemical exchange contribution to 'R2'.
+        if param == 'rex':
+            return 2.0
+
+        # Exchange rate.
+        if param == 'kes':
            return 10000.0

-        # Intensity at infinity.
-        if param == 'iinf':
-            return 0.0
+        # Transversal relaxation rate for state A.
+        if param == 'r2a' :
+            return 8.0
+
+        # Exchange rate from state A to state B.
+        if param == 'ka' :
+            return 10000
+
+        # Chemical shift difference between states A and B.
+        if param == 'dw' :
+            return 100


    def disassemble_param_vector(self, param_vector=None, spin=None, 
sim_index=None):
@@ -1003,15 +1015,15 @@
        | Data type                                         | Object name  
| Patterns                 |
        
|___________________________________________________|______________|__________________________|
        |                                                   |              
|                          |
-        | Transversal relaxation rate                       | 'R2'        
 | '^[Rr]2$'                |
+        | Transversal relaxation rate                       | 'r2'        
 | '^[Rr]2$'                |
        |                                                   |              
|                          |
-        | Chemical exchange contribution to 'R2'            | 'Rex'       
 | '^[Rr]ex$'               |
+        | Chemical exchange contribution to 'R2'            | 'rex'       
 | '^[Rr]ex$'               |
        |                                                   |              
|                          |
        | Exchange rate                                     | 'kex'        
| '^[Kk]ex$'               |
        |                                                   |              
|                          |
-        | Relaxation rate for state A                       | 'R2A'       
 | '^[Rr]2A$'               |
+        | Transversal relaxation rate for state A           | 'r2a'       
 | '^[Rr]2A$'               |
        |                                                   |              
|                          |
-        | Exchange rate from state A to state B             | 'kA'        
 | '^[Kk]A$'                |
+        | Exchange rate from state A to state B             | 'ka'        
 | '^[Kk]A$'                |
        |                                                   |              
|                          |
        | Chemical shift difference between states A and B  | 'dw'         
| '^[Dd]w$'                |
        |                                                   |              
|                          |
@@ -1103,12 +1115,12 @@
        # Fast-exchange regime.
        if model == 'fast':
            print &quot;Two parameter exponential fit.&quot;
-            params = ['R2', 'Rex', 'kex']
+            params = ['r2', 'rex', 'kex']

        # Slow-exchange regime.
        elif model == 'slow':
            print &quot;Three parameter inversion recovery fit.&quot;
-            params = ['R2A', 'kA', 'dw']
+            params = ['r2a', 'ka', 'dw']

        # Invalid model.
        else:


_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-commits mailing list
relax-commits@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="/mail.gna.org/listinfo/relax-commits">https://mail.gna.org/listinfo/relax-commits</a>

    
</pre></blockquote><pre style="margin: 0em;">

_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="/mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>

  
</pre></blockquote><pre style="margin: 0em;">



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00048" href="msg00048.html">Re: r8353 - /branches/relax_disp/specific_fns/relax_disp.py</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00045" href="msg00045.html">Re: r8353 - /branches/relax_disp/specific_fns/relax_disp.py</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Jan 09 22:20:15 2009</div>  
</body>
</html>
