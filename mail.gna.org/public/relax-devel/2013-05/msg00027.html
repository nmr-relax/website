<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Development of the relax&#45;disp branch. -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 14 May 2013 10:09:26 +0200 -->
<!--X-Message-Id: CAED9pY&#45;qcm3G+&#45;H5FynFp2trTZmFQrGwhX5N&#45;zgFnV6871&#45;woA@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CAED9pY9kV+O_p19tRmhh3ESWWpc9k6VrtkCeKFY9&#45;ijbQrJ70Q@mail.gmail.com -->
<!--X-Reference: CAED9pY&#45;MnbcyDHZ0T6mLCbGaU9LpFArvA9d_1pGf6kA6Bcsh3A@mail.gmail.com -->
<!--X-Reference: CA+CBx2PdT6ZfOrVsGqLJgiwmH0xxu8rh9ef41TPeSW76&#45;RtuBg@mail.gmail.com -->
<!--X-Reference: CAED9pY&#45;iYo2NWDSBsw77mMENeBt0tiKKyjLOLbdbb9+bucy3oA@mail.gmail.com -->
<!--X-Reference: CA+CBx2OjKjGaUx9XsDyEL+&#45;mQ9B==6rj+U3O6swjR7jnwg=b6g@mail.gmail.com -->
<!--X-Reference: CAED9pY8Kyiv4d05pD4x6_C=H_mnW2FLHY0futeHEGHEex4tnSQ@mail.gmail.com -->
<!--X-Reference: CA+CBx2O8FG56SAbxgpZ6o0qU+OZNpDoS3rLkh4pJ0ydaOi4swQ@mail.gmail.com -->
<!--X-Reference: CAED9pY_o6WQbPzTEi90sb5HJNb2sTALpcPKBWdOWDS9BTc_TUw@mail.gmail.com -->
<!--X-Reference: CAED9pY8y47rKH_ykmjrUdDXPWj=VOj3SAOO7PUd04QszBS3xFA@mail.gmail.com -->
<!--X-Reference: CA+CBx2O+3v3WpPs0YAth7U2ipqA1mZfDKPAchCVN2DMojW2hTQ@mail.gmail.com -->
<!--X-Reference: CAED9pY9zyHATZoAsht5CJQei9zENRuSfom0tec3wvGs0QEFo0Q@mail.gmail.com -->
<!--X-Reference: CA+CBx2Osd0h3s95ny=LfnfoKc+yTUPXC3Fp5LouBe+QA_2_1xg@mail.gmail.com -->
<!--X-Reference: CAED9pY8ue+UaZbHAxwezykrZusCremz_ia15EzLFL+05RKv9Cg@mail.gmail.com -->
<!--X-Reference: CAED9pY&#45;PTnazo9Z5VgveGvfKb5CwKryygdC+5KuaryU5=5s&#45;=A@mail.gmail.com -->
<!--X-Reference: CA+CBx2Pj1GmMcmVn6ocDQ1yFYs4EQVePdSLE2CQci9LpuT=4xg@mail.gmail.com -->
<!--X-Reference: CAED9pY_C4YjfqGK0mwm0vXnpcM=kXjefx3y=o&#45;RrP_yvn5g9tg@mail.gmail.com -->
<!--X-Reference: CAED9pY&#45;s4w0pRTq4OfC0Q1C2_9YzRqYrj8THBs2qQaja4vz_iw@mail.gmail.com -->
<!--X-Reference: CA+CBx2Ni06eWPYqZp7H9KnkxBk&#45;zqGNNVF3z7K0dQE3QPfsCog@mail.gmail.com -->
<!--X-Reference: CA+CBx2NCppjkDv7toftpuWzso9iWfFopp2dmYs1KqpvcRhomBA@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Development of the relax-disp branch. -- May 14, 2013 - 10:09</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Development of the relax-disp branch.</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00027" class="tabs">Index by Date</a> | <a href="threads.html#00027" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00026.html">Date Prev</a>] [<a href="msg00028.html">Date Next</a>] [<a href="msg00026.html">Thread Prev</a>] [<a href="msg00029.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 14 May 2013 10:08:54 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:x-received:sender:in-reply-to:references:date	:x-google-sender-auth:message-id:subject:from:to:cc:content-type	:content-transfer-encoding;	bh=o4bPDtCITU8khqqEGAayK68K3uIzG5lZSsTx3Pn3RNs=;	b=UsEgzf0KZoslrRIPZ27n1MQchH5oBJt1wBwNFRNFVL/ywAnpXsKWJ4FzBqr3CoIU7i	SBQDVIv/RpcrhSt7gRoAlYLb0Fab8taDUPIeWrGJMVjm+cOuYJzWhslGsiMYt28ZWh/d	eD3xNDu3tPoHNztTqgqKE/sG8KY0CKP+4ujFjN6BYWZUGfBgiaqhjlk0R26e0n2vBIcz	UOTOGc03ojJPV1Zd2VlZ076lbfpEael2gDqsO0GAiPE8x0tkb/2NLAbo2Aw+hslfJW3o	Fr0MijxSOYWrpBZEnOZ50MRemwg5LqU0JmXVwZTk6C0EREW3m0AWiTRocA1IyimEhW8m	vehg==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00027.html">CAED9pY-qcm3G+-H5FynFp2trTZmFQrGwhX5N-zgFnV6871-woA@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;CAED9pY9kV+O_p19tRmhh3ESWWpc9k6VrtkCeKFY9-ijbQrJ70Q@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY-MnbcyDHZ0T6mLCbGaU9LpFArvA9d_1pGf6kA6Bcsh3A@xxxxxxxxxxxxxx&gt;	&lt;CA+CBx2PdT6ZfOrVsGqLJgiwmH0xxu8rh9ef41TPeSW76-RtuBg@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY-iYo2NWDSBsw77mMENeBt0tiKKyjLOLbdbb9+bucy3oA@xxxxxxxxxxxxxx&gt;	&lt;CA+CBx2OjKjGaUx9XsDyEL+-mQ9B==6rj+U3O6swjR7jnwg=b6g@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY8Kyiv4d05pD4x6_C=H_mnW2FLHY0futeHEGHEex4tnSQ@xxxxxxxxxxxxxx&gt;	&lt;CA+CBx2O8FG56SAbxgpZ6o0qU+OZNpDoS3rLkh4pJ0ydaOi4swQ@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY_o6WQbPzTEi90sb5HJNb2sTALpcPKBWdOWDS9BTc_TUw@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY8y47rKH_ykmjrUdDXPWj=VOj3SAOO7PUd04QszBS3xFA@xxxxxxxxxxxxxx&gt;	&lt;CA+CBx2O+3v3WpPs0YAth7U2ipqA1mZfDKPAchCVN2DMojW2hTQ@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY9zyHATZoAsht5CJQei9zENRuSfom0tec3wvGs0QEFo0Q@xxxxxxxxxxxxxx&gt;	&lt;CA+CBx2Osd0h3s95ny=LfnfoKc+yTUPXC3Fp5LouBe+QA_2_1xg@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY8ue+UaZbHAxwezykrZusCremz_ia15EzLFL+05RKv9Cg@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY-PTnazo9Z5VgveGvfKb5CwKryygdC+5KuaryU5=5s-=A@xxxxxxxxxxxxxx&gt;	&lt;CA+CBx2Pj1GmMcmVn6ocDQ1yFYs4EQVePdSLE2CQci9LpuT=4xg@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY_C4YjfqGK0mwm0vXnpcM=kXjefx3y=o-RrP_yvn5g9tg@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY-s4w0pRTq4OfC0Q1C2_9YzRqYrj8THBs2qQaja4vz_iw@xxxxxxxxxxxxxx&gt;	&lt;CA+CBx2Ni06eWPYqZp7H9KnkxBk-zqGNNVF3z7K0dQE3QPfsCog@xxxxxxxxxxxxxx&gt;	&lt;CA+CBx2NCppjkDv7toftpuWzso9iWfFopp2dmYs1KqpvcRhomBA@xxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on May 14, 2013 - 10:09:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

You got it!  The problem was the 64 vs. 32-bit mismatch.  When I
compile the MS Windows distribution package
(<a  rel="nofollow" href="/download.html#MS_Windows">http://www.nmr-relax.com/download.html#MS_Windows</a>) on 32-bit Windows
2000 with MSVS 2005 and 32-bit Python 2.7, the modules there are
32-bit.  This 32-bit module should run fine on 64-bit MS Windows
machines.  I also have a vm with 64-bit Win7 with MSVS 2010 and 64-bit
Python 2.7 where I can compile 64-bit relax modules.  Using stock MSVS
with the stock Python from <a  rel="nofollow" href="http://python.org/">http://python.org/</a>, this compilation issue
is not encountered.

A good test would be to now check out the relax trunk and to run the
full test suite.  The trunk is kept in a state whereby the test suite
always passes (well, I try anyway).  You can run the full test suite
with:

$ relax --test-suite

For the relax trunk, this should pass.  Note that the test suite is
incredibly extensive - it can take up to 30 minutes to 1 hour to
complete on a relatively modern computer.  You will need to install
the minfx (<a  rel="nofollow" href="https://gna.org/projects/minfx/">https://gna.org/projects/minfx/</a>) and bmrblib
(<a  rel="nofollow" href="http://gna.org/projects/bmrblib/">http://gna.org/projects/bmrblib/</a>) Python modules.  These are included
within the relax distribution packages, but for the source code
repository you will need to install them as regular Python packages.
You will also need scipy and wxPython.  A second good test would be to
launch the relax GUI with:

$ relax --gui

If you do this for the relax_disp branch, you can test if you can
start a relaxation dispersion analysis.  For the relax trunk, you
could also try running the test suite again from within the GUI via
the menu system.

You may have noticed that I have updated the MS Windows development
platform webpage (<a  rel="nofollow" href="/windows_devel.html">http://www.nmr-relax.com/windows_devel.html</a>) as we
have been battling this problem.  It should now be more up to date.  I
was wondering if you had HTML coding skills?  The HTML code for the
relax website is quite basic.  I was thinking that we could create a
new section for that page titled &quot;1. Python&quot; and then shift the
numbers of all the others down.  Then &quot;1.1 Official Python&quot; would
describe the installation of the stock Python for <a  rel="nofollow" href="http://python.org/">http://python.org/</a>,
and all the 1.1.x subsections could describe the setup and
installation of the Python modules required (minfx -
<a  rel="nofollow" href="https://gna.org/projects/minfx/">https://gna.org/projects/minfx/</a>, bmrblib -
<a  rel="nofollow" href="http://gna.org/projects/bmrblib/">http://gna.org/projects/bmrblib/</a>, numpy, scipy, and wxPython).
Section &quot;1.2 WinPython&quot; could then describe that setup and how to
install the modules.  Section &quot;1.3 EPD&quot; may no longer be necessary.
We could also add a new section &quot;2.4.4&quot; or &quot;3.4.4&quot; after the
renumbering for the 64-bit vs. 32-bit compilation issue with
WinPython.  I have also modified section 4 to be about different code
editors rather than just Vim.  So your editor of choice could also be
described there, including the settings required for coding for relax.
 Most of the text from your relax.txt file (see the end of
<a  rel="nofollow" href="http://thread.gmane.org/gmane.science.nmr.relax.devel/3835/focus=3854">http://thread.gmane.org/gmane.science.nmr.relax.devel/3835/focus=3854</a>)
could be incorporated into this webpage, just modified for WinPython
rather than EPD.  For other relax users in the future, it would be
great to have this information permanently added to
<a  rel="nofollow" href="/windows_devel.html">http://www.nmr-relax.com/windows_devel.html</a>.  If you would like to
help incorporate the details of your relax.txt file into this webpage,
you can check out the entire relax website with the command:

$ svn co <a  rel="nofollow" href="https://svn.gna.org/svn/relax/website">https://svn.gna.org/svn/relax/website</a>

Just be wary that, because SVN minimally keeps 2 copies of each file,
the entire website when checked out currently takes 1.6 Gb of disk
space.  This includes 1.5 Gb of API documentation
(<a  rel="nofollow" href="/api/">http://www.nmr-relax.com/api/</a>).

Cheers,

Edward




On 13 May 2013 19:54, Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">I succeded with the 32 bit ! :-)

--------------------------------

C:\WinPython27\packages_32bit\relax_disp&gt;scons
scons: Reading SConscript files ...
scons: done reading SConscript files.
scons: Building targets ...


###########################
# Compiling the C modules #
###########################


Building the relaxation curve fitting module
'target_functions\\relax_fit.pyd'

cl /Fotarget_functions\c_chi2.obj /c target_functions\c_chi2.c /nologo
/I&quot;C:\Win
Python27\WinPython-32bit-2.7.4.1\python-2.7.4\include&quot;
c_chi2.c
cl /Fotarget_functions\exponential.obj /c target_functions\exponential.c
/nologo
 /I&quot;C:\WinPython27\WinPython-32bit-2.7.4.1\python-2.7.4\include&quot;
exponential.c
cl /Fotarget_functions\relax_fit.obj /c target_functions\relax_fit.c /nologo
/I&quot;
C:\WinPython27\WinPython-32bit-2.7.4.1\python-2.7.4\include&quot;
relax_fit.c
c:\winpython27\packages_32bit\relax_disp\target_functions\relax_fit.c(137) :
war
ning C4700: uninitialized local variable 'params' used
link /nologo /dll /out:target_functions\relax_fit.pyd
/implib:target_functions\r
elax_fit.lib
/LIBPATH:C:\WinPython27\WinPython-32bit-2.7.4.1\python-2.7.4\libs t
arget_functions\c_chi2.obj target_functions\exponential.obj
target_functions\rel
ax_fit.obj
   Creating library target_functions\relax_fit.lib and object
target_functions\r
elax_fit.exp
scons: done building targets.

C:\WinPython27\packages_32bit\relax_disp&gt;relax



                       relax repository checkout r19681
                svn://svn.gna.org/svn/relax/branches/relax_disp

                    Molecular dynamics by NMR data analysis

                   Copyright (C) 2001-2006 Edward d'Auvergne
              Copyright (C) 2006-2013 the relax development team

This is free software which you are welcome to modify and redistribute under
the conditions of the GNU General Public License (GPL).  This program,
including all modules, is licensed under the GPL and comes with absolutely
no
warranty.  For details type 'GPL' within the relax prompt.

Assistance in using the relax prompt and scripting interface can be accessed
by
typing 'help' within the prompt.

Processor fabric:  Uni-processor.

relax&gt;


2013/5/13 Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxx&gt;
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Hi Edward.

Let's then do it with the winpython.
<a  rel="nofollow" href="http://code.google.com/p/winpython/">http://code.google.com/p/winpython/</a>

It's free for all, and you can setup a &quot;local&quot; version of python.
I even like this distribution better than epd, since it is more &quot;free&quot;.
(It just came to my attention, some days ago)
And you have the spyder gui packed in, ready for coding scientific in
windows.

I downloaded the 64 bit.
I opened the Winpython control panel, in the extracted folder. See info
here: <a  rel="nofollow" href="http://code.google.com/p/winpython/wiki/WPPM">http://code.google.com/p/winpython/wiki/WPPM</a>
Downloaded and &quot;Dragged&quot; in minfx (as tar.gz), into the control panel to
install.
Downloaded scons 64 bit from Gohlke:
<a  rel="nofollow" href="http://www.lfd.uci.edu/~gohlke/pythonlibs/">http://www.lfd.uci.edu/~gohlke/pythonlibs/</a>
Also dragged the .exe file into control panel to install.
Opened the short cut to windows command (fixes path issues), and tested
the call to scons. (where scons).
Fixed the scons bug thing in the python file.
After confirming it was using the right scons, I navigated to the
relax-disp folder.
Did a scons clean_all, and then scons

Same issues last night.

I will try the 32 bit version, a little later today.

Best
Troels

Troels Emtekær Linnet


2013/5/13 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Oh, one slight problem with EPD - I don't have a university email and
do not work at a university.  The Canopy Express version which is free
does not support 64-bit.  I might have a problem replicating this!  Do
you use 64-bit Windows 7 with the 64-bit EPD?

Regards,

Edward



On 13 May 2013 15:06, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

Sorry I didn't see the attached file.  It's better to copy and paste
such text directly in an email, or attach it to one of the relax
trackers (support request, bug tracker, or task tracker).  For example
for relaxation dispersion there is the task at
<a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/task/?6401">https://gna.org/task/?6401</a>.  In some cases it is better to create a
support request for just that specific file.  Attaching files to
messages sent to mailing lists is not a good idea as the number of
copies of that attachment will be massively amplified and sent out to
all people on the mailing list.  It is a strain on the open source
infrastructure of Gna! and on the infrastructure of the mailing list
archivers:

<a  rel="nofollow" href="/mail.gna.org/public/relax-devel/2013-05/msg00021.html">https://mail.gna.org/public/relax-devel/2013-05/msg00021.html</a>
<a  rel="nofollow" href="http://thread.gmane.org/gmane.science.nmr.relax.devel/3835/focus=3854">http://thread.gmane.org/gmane.science.nmr.relax.devel/3835/focus=3854</a>
<a  rel="nofollow" href="http://www.mail-archive.com/relax-devel@xxxxxxx/msg03785.html">http://www.mail-archive.com/relax-devel@xxxxxxx/msg03785.html</a>
<a  rel="nofollow" href="http://marc.info/?l=relax-devel&amp;m=136844948831132&amp;w=2">http://marc.info/?l=relax-devel&amp;m=136844948831132&amp;w=2</a>

I'll install EPD and see if I can reproduce the issue.  To do that I
need to install exactly the same software and software versions.

Cheers,

Edward



On 13 May 2013 14:50, Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward.

I have the EPD dist. installed. (Not the Canopy)
(The detailed install instructions, I have specified in the attached
text
file.)

I also tried with the winpython dist. yesterday, with the same result.

I am about to try out the win32 distribution of these.

Best
Troels

Troels Emtekær Linnet


2013/5/13 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Hi Troels,

I'm looking at replicating your setup in a virtual machine, but there
is one piece of information missing.  Did you use Anaconda
(<a  rel="nofollow" href="http://continuum.io">http://continuum.io</a>) or Enthought Python Distribution (EPD,
<a  rel="nofollow" href="https://www.enthought.com/canopy-express/">https://www.enthought.com/canopy-express/</a>) in combination with
IPython?  This might be where the problem lies, one of these might
not
be compatible with compiling the C modules or may require settings to
be changes to allow it to run with the MSVS compilers.

Cheers,

Edward




On 12 May 2013 21:21, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

Maybe I could try to set up MSVS 2012 tomorrow in a virtual machine
with
64-bit Win7 and see if I can reproduce the problem.  It is clear
that
the
relax sconstruct script is pointing to all the correct locations.
If
you
type out the compiler commands by hand, they should just work.
Therefore
the problem is very unlikely to be with relax itself, but rather
with
the
Microsoft 2012 C++ toolchain and/or its interaction with IPython.
I'm
wondering if it is a 64 vs. 32-bit mismatch issue.  Do you have a
64-bit
Windows install?  Is the compiler toolchain (MSVS) 64-bit?  Is the
Python
version bundled with IPython 64-bit?  I really hope the issue is
not
because
IPython is incompatible with MSVS!  I think we are narrowing the
problem
down a bit and we should get to the bottom of it soon.  For me
replicating
the issue, could you list the exact version and bit number of the
operating
system, MSVS, and IPython.

Cheers,

Edward




On Sunday, 12 May 2013, Troels Emtekær Linnet wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Hi Edward.

I have a the file
python27.lib
in C:\Python27\libs.

I still don't have a clue whats wrong.
Could it be something with Visual C++ 2005 Express Edition?

I am not sure the installation went correct, since when I do
Windows Start button-&gt;Microsoft Windows SDK v7.1-&gt;Visual Studio
Registration-&gt;Windows SDK Configuration Tool
Change &quot;Installed Windows SDK Versions:&quot; from v7.1 to 8.0
I get an error:
&quot;Your system does not have Visual Studio 2005 or  Visual Studio
2008
installed&quot;

Best

Troels Emtekær Linnet


2013/5/11 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;

Hi,

We should be able to get to the bottom of the problem and make
this
run.  But setting up the development platform on MS Windows of the
MSVS compiler and Python is always painful.  Because of this I set
up
a virtual machine image of Windows 2000 with MSVS 2005 many years
ago
and have been using this to build the Windows pre-compiled relax
distributions (<a  rel="nofollow" href="/download.html#MS_Windows">http://www.nmr-relax.com/download.html#MS_Windows</a>)
ever
since.  I have updated Python to version 2.7 on this vm, but the
compiler setup works and I don't want to have to set up another
environment.

From the error messages, it is clear that this 2012 version of the
Microsoft compiler catches more problems in the code.  The
warning:

c:\python27\github\relax_disp\target_functions\relax_fit.c(137) :
warning C4700: uninitialized local variable 'params' used

may be an issue.  I think this is harmless, but you could try to
comment out line 137 of that file (the call to the exponential()
function) and see if that makes a difference.  This is inside the
dfunc() function which is both non-functional and not used.  This
is
supposed to return the gradient of the exponential curve but is
not
implemented yet as simplex optimisation, which does not require
the
gradient or Hessian, was sufficient for finding the solution for
this
2 parameter problem.

From these new messages, it is clear that the Python.h file is
being
found.  The include /I&quot;C:\Python27\Scripts\..\include&quot; is
interesting
as this implies that sys.prefix as seen by scons is set to
&quot;C:\Python27\Scripts\..&quot;.  Although strange, this may not be an
issue.
 But when you run Python, you see sys.prefix as &quot;C:\Python27&quot;.
Hmmmm.....

Maybe the problem is not that Python.h cannot be found, but that
the
python32.lib file cannot be found.  Can you see this file in your
C:\Python27\libs\ directory?  You can see that this is used in the
linking command:

link /nologo /dll /out:target_functions\relax_fit.pyd
/implib:target_functions\relax_fit.lib /LIBPATH:C:\Python27\libs
target_functions\c_chi2.obj target_functions\exponential.obj
target_functions\relax_fit.obj

On Windows, there should be a python32.lib file in the LIBPATH.

Regards,

Edward






On 11 May 2013 12:41, Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxx&gt;
wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward.

Sigh.

I have looked around for
&quot;error LNK2019: unresolved external symbol&quot;
and it seems that many experience the problem.

But there don't seem to be an universal explanation/bug fix.
And if I find a thing I would like to try, I really don't know
where
to
start. ? :-)

- &quot;In Visual-Studio most linkage problems are related to forget
adding
.cpp
files.&quot;
- Url 2,  Url3, Url4, Url5, Url6

In the last Url, there is this solution:
---
in the Project properties, set the Platform Toolset to VS2008
(v90)
and
the
correct directories depending on your installation (ie : include
=&gt;
C:\Program Files (x86)\Windows
Kits\8.0\Include\shared;C:\Program
Files
(x86)\Windows Kits\8.0\Include\um;$(IncludePath) and Libraries
=&gt;
C:\Program
Files (x86)\Windows Kits\8.0\Lib\win8\um\x64;$(LibraryPath)).
Don't
forget
to set the .lib in Link entries.
---

After installation of Visual Studio 2012, I do have the folder:
C:\Program Files (x86)\Windows Kits\8.0

I have  attached a text file, how I have installed until now.

I hope we can break this &quot;annoying behaviour?&quot;
Where should I look, if .ccp files is added ??

Best
Troels
------------------------

C:\Python27\github\relax_disp&gt;scons clean_all
scons: Reading SConscript files ...
scons: done reading SConscript files.
scons: Building targets ...
clean_manual_files([&quot;manual_clean&quot;], [])

##########################################
# Cleaning up the temporary manual files #
##########################################





</pre></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">


</pre></blockquote></blockquote></blockquote><pre style="margin: 0em;">


</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00029" href="msg00029.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00002" href="msg00002.html">Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00003" href="msg00003.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00005" href="msg00005.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00007" href="msg00007.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00008" href="msg00008.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00009" href="msg00009.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00012" href="msg00012.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00013" href="msg00013.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00015" href="msg00015.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00016" href="msg00016.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00017" href="msg00017.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00018" href="msg00018.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00019" href="msg00019.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00020" href="msg00020.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00021" href="msg00021.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00022" href="msg00022.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00023" href="msg00023.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00024" href="msg00024.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00025" href="msg00025.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue May 14 18:00:07 2013</div>  
</body>
</html>
