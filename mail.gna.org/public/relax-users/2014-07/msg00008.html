<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: dimer -->
<!--X-From-R13: "Sqjneq q'Ohiretar" &#60;rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Thu, 31 Jul 2014 17:33:24 +0200 -->
<!--X-Message-Id: CAED9pY_DX6jj&#45;2rj_u1vt2We2ue4bQR8oprCgfG6c=SRR&#45;=pyw@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 2A3F8BA1&#45;F36F&#45;4BEE&#45;8715&#45;F213CB9BE79F@unibo.it -->
<!--X-Reference: CAED9pY_MH6O6rumv4bQNriFj70G0CFMjk=3r88DnXWJ&#45;8AbPLQ@mail.gmail.com -->
<!--X-Reference: C8570266&#45;A275&#45;440E&#45;B784&#45;3CFEC8E1A6B4@unibo.it -->
<!--X-Reference: CAED9pY8vi00sHr=xT3DRSgGpvDtF1t6+_xU0ay4hYRuu8_Y1Ag@mail.gmail.com -->
<!--X-Reference: 5D3DDACF&#45;9DE1&#45;4C53&#45;B8CE&#45;B4CD4254D4EC@unibo.it -->
<!--X-Reference: CAED9pY82WQWVfzEE0tiBh0nPrz2mdRVyDunVXAuwnCEkp&#45;2=Og@mail.gmail.com -->
<!--X-Reference: C76ED20F&#45;0DA7&#45;4F06&#45;BCC1&#45;DC1C0A23F2CF@unibo.it -->
<!--X-Reference: 8D2116FA9ED44F4592084C018222B23C73E16DC2@E10&#45;MBX4&#45;DR.personale.dir.unibo.it -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: dimer -- July 31, 2014 - 17:33</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: dimer</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00008" class="tabs">Index by Date</a> | <a href="threads.html#00008" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00007.html">Date Prev</a>] [<a href="msg00009.html">Date Next</a>] [<a href="msg00007.html">Thread Prev</a>] [<a href="msg00009.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Olena Dobrovolska &lt;olena.dobrovolska@xxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 31 Jul 2014 17:32:53 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;, Stefano Luciano Ciurli &lt;stefano.ciurli@xxxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:date:message-id:subject :from:to:cc:content-type:content-transfer-encoding; bh=rlgc0iZ215WAo7t0EKmDkrhRQgJ4gI/fOrTHuvDdoDU=; b=AUXutAxGI2/clXg3FU/nyc+ofILn5+eBQUvqno7YMAcRUcyAhXCRCKK6VBAGffTUmU jgjG4kMmZFZitcOBZTIaVQCgJbBdJhocGUkQF3y9Mp+QC5kqUtG/CRCd8mz4n6Ps7VsV GdLZyPUZ/3dNbiW8tDVq5rREq7LRfXvHfwDNkaaZTXcpqEuxmufpCjTwnh6iTNrzqBnL /5NKUrWcB9ekzPiQPkKb7soiriv/pwYW2rfItTGY+fXiG0OCxDWxLPPAmfXD/Xyi6sZ6 yz59piLTmHKGFYHlqxwEHW/iRtwx2xvN4eKJrhy0tTQZ+yEXu1wVqYWz8x+R5Z/7r2eN ewww==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;CAED9pY_DX6jj-2rj_u1vt2We2ue4bQR8oprCgfG6c=SRR-=pyw@mail.gmail.com&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;2A3F8BA1-F36F-4BEE-8715-F213CB9BE79F@unibo.it&gt; &lt;CAED9pY_MH6O6rumv4bQNriFj70G0CFMjk=3r88DnXWJ-8AbPLQ@mail.gmail.com&gt; &lt;C8570266-A275-440E-B784-3CFEC8E1A6B4@unibo.it&gt; &lt;CAED9pY8vi00sHr=xT3DRSgGpvDtF1t6+_xU0ay4hYRuu8_Y1Ag@mail.gmail.com&gt; &lt;5D3DDACF-9DE1-4C53-B8CE-B4CD4254D4EC@unibo.it&gt; &lt;CAED9pY82WQWVfzEE0tiBh0nPrz2mdRVyDunVXAuwnCEkp-2=Og@mail.gmail.com&gt; &lt;C76ED20F-0DA7-4F06-BCC1-DC1C0A23F2CF@unibo.it&gt; &lt;<a href="msg00007.html">8D2116FA9ED44F4592084C018222B23C73E16DC2@E10-MBX4-DR.personale.dir.unibo.it</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on July 31, 2014 - 17:33:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Olena,

The problem here looks like a badly formatted Bruker DC file, or maybe
it's a newer version that has changed the format slightly.  Did you
edit the file in a text editor?  The best was to have this problem
solved would be to submit a bug report using the link
<a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/bugs/?func=additem&amp;group=relax">https://gna.org/bugs/?func=additem&amp;group=relax</a>.  If you could attach
an example Bruker DC file containing the data for 1 or 2 residues but
still causes this IndexError, then it should take ~5 minute for me to
find a solution.  However as I'm going on holiday tomorrow, you may
have to wait for 2 weeks.

Cheers,

Edward




On 31 July 2014 17:27, Olena Dobrovolska &lt;olena.dobrovolska@xxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Dear Edward,

I have doubled the spins for the NOE, T1, T2 files to run the analysis for 
the dimer. The analysis took more than a month, and it was not completed 
(stopped at the 'prolate' step), I believe because we were running it on a 
virtual machine (Xubuntu), and not on a Linux computer, which we are going 
to do.
However, I wanted also to try running Relax on the separate protein parts. 
The protein we are working with is composed of the domains arranged as 
N-C-C-N. And I would like to run the first calculation for the C-C part, 
for which I prepared the NOE, T1 and T2 files (output from DC) by doubling 
the spins and cutting off the N-terminal parts (in the same way I have 
prepared also the data for the N-terminal domain of the protein). However, 
I can not load the data and therefore start the calculations. Whereas the 
NOE files loading went well, for the T1 or T2 files upload Relax gives me 
the following error message:

relax&gt; bruker.read(ri_id='T1_700_N', 
file='/home/olena/Desktop/BpUreE_domains/T1_UreE_700_Nterm.txt', dir=None)
Opening the file '/home/olena/Desktop/BpUreE_domains/T1_UreE_700_Nterm.txt' 
for reading.
Traceback (most recent call last):
  File &quot;/usr/local/relax-3.2.1/gui/wizards/wiz_objects.py&quot;, line 670, in 
_go_next
    self._pages[self._current_page]._apply(event)
  File &quot;/usr/local/relax-3.2.1/gui/wizards/wiz_objects.py&quot;, line 164, in 
_apply
    self.exec_status = self.on_execute()
  File &quot;/usr/local/relax-3.2.1/gui/uf_objects.py&quot;, line 887, in on_execute
    return_status = self.execute(self.name, **kargs)
  File &quot;/usr/local/relax-3.2.1/gui/uf_objects.py&quot;, line 809, in execute
    return_status = interpreter.apply(uf, *args, **kwds)
  File &quot;/usr/local/relax-3.2.1/gui/interpreter.py&quot;, line 109, in apply
    apply(fn, args, kwds)
  File &quot;/usr/local/relax-3.2.1/pipe_control/bruker.py&quot;, line 54, in read
    values, errors, res_nums, int_type, frq, ri_type, spin_name, isotope, 
version = parse_file(file=file, dir=dir)
  File &quot;/usr/local/relax-3.2.1/lib/software/bruker_dc.py&quot;, line 164, in 
parse_file
    rx = float(row[-2])
IndexError: list index out of range

Therefore, I couldn't even load the dataset for this protein part, or 
precisely the T1 and T2 data. The files format is identical to those used 
for the full protein. Why then it doesn't want to load? For me it is 
unclear in this message where could be the problem. Could you please help? 
If you want I can send you only the files I prepared and would appreciate 
if you have a look.

Thank you.
Olena


________________________________________
From: Stefano Luciano Ciurli
Sent: 10 June 2014 13:39
To: Edward d'Auvergne
Cc: relax-users@xxxxxxx; Olena Dobrovolska
Subject: Re: dimer

Hi Edward,
thinking about it, and considering that we erroneously run Relax using the 
full PDB for the homodimer but provided only the T1, T2 and NOE data for 
one monomer, as output of Dynamics Center, could you tell us how to modify 
the .txt files from Dynamics Center so that Relax &quot;thinks&quot; it has a full 
set of data for the full homodimer? The PDB that we used has residues 
already numbered consecutively from residue 1 to the last residue of the 
dimer.
We really need to change the input files for T1, T2 and NOE in order to 
decide which part of the protein we are looking at, but we would like to 
know which parts of the output files from DC should be duplicated. If you 
want and need it, I can send you the files in a private email to you only.
Looking forward to hearing from you
Stefano

On Jun 6, 2014, at 8:35 AM, Edward d'Auvergne wrote:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Stefano,

It will be interesting to see the results in your final publication.
Especially considering that the relaxation data you observe is the
average of two states experiencing different global tumbling (the two
vectors intersect different parts of a single Brownian diffusion
tensor), but the assumption is made that they only sample one.  Maybe
you should perform a full analysis on one monomer, and then another
full analysis on the second, and compare.  Are you sure there are no
published theoretical treatments of such a situation?

As for the PyMOL or MOLMOL macros, I've had a look at the PDB file you
attached to <a  rel="nofollow" href="http://gna.org/support/?3110">http://gna.org/support/?3110</a>, and this might be difficult.
Although both molecules are represented as different chains, the
residue numbers are not reset between the A to B transition:

&quot;&quot;&quot;
ATOM   2437  HE1 HIS A 147      14.544 -14.592  44.384  1.00142.09         
  H
ATOM   2438  C   HIS A 147      15.448 -12.825  50.108  1.00142.09         
  C
ATOM   2439  O   HIS A 147      16.622 -12.826  50.563  1.00142.09         
  O
ATOM   2440  OXT HIS A 147      14.601 -13.730  50.336  1.00142.09         
  O
TER    2441      HIS A 147
ATOM   2442  N   MET B 148      34.965   4.924 102.588  1.00 83.68         
  N
ATOM   2443  H   MET B 148      35.604   5.224 103.352  1.00 83.68         
  H
ATOM   2444  CA  MET B 148      33.567   5.117 103.004  1.00 83.68         
  C
&quot;&quot;&quot;

Do you have the ability to renumber residues?  This is rather simple
in relax, though not so obvious as it plays directly with the relax
data store object and uses Python programming:

&quot;&quot;&quot;
# Create a data pipe.
pipe.create('renumber', 'N-state')

# Load the original PDB as two molecules.
structure.read_pdb('BpUreE_apo_model_full.pdb')

# Renumber all residues of the second molecule directly in the
internal structural object.
for i in range(len(cdp.structure.structural_data[0].mol[1].res_num)):
   cdp.structure.structural_data[0].mol[1].res_num[i] -= 147

# Write out the renumbered structure as a PDB file.
structure.write_pdb('BpUreE_apo_renumbered.pdb', force=True)
&quot;&quot;&quot;

If the residues are all the same, then the PyMOL or MOLMOL macros
should apply to both structures.  I just had a look and the macros
from the model-free analysis apply to residue numbers:

<a  rel="nofollow" href="/api/3.2/specific_analyses.model_free.pymol-pysrc.html#Pymol.classic_colour">http://www.nmr-relax.com/api/3.2/specific_analyses.model_free.pymol-pysrc.html#Pymol.classic_colour</a>
<a  rel="nofollow" href="/api/3.2/specific_analyses.model_free.molmol-pysrc.html#Molmol.classic_colour">http://www.nmr-relax.com/api/3.2/specific_analyses.model_free.molmol-pysrc.html#Molmol.classic_colour</a>

Regards,

Edward



On 5 June 2014 23:32, Stefano Luciano Ciurli &lt;stefano.ciurli@xxxxxxxx&gt; 
wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward,
I reached the end of the calculation of our protein dimer, and everything 
went smooth. We used two fields, and tomorrow I am about to start 
collecting the third field data. I wonder how to make it so that the 
molmol or pymol macros used to visualize the various parameters along the 
protein backbone can be twisted so that these are applied to both 
monomers instead of just one.
Cheers,
Stefano
</pre></blockquote></blockquote></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00009" href="msg00009.html">Re: dimer</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00007" href="msg00007.html">RE: dimer</a></strong>
<ul><li><em>From:</em> Olena Dobrovolska</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Jul 31 18:40:11 2014</div>  
</body>
</html>
