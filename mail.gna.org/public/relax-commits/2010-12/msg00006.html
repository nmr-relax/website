<!-- MHonArc v2.6.16 -->
<!--X-Subject: r11706 &#45; /branches/cst/maths_fns/mf.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Mon, 06 Dec 2010 19:16:39 +0100 -->
<!--X-Message-Id: E1PPfc7&#45;0002iA&#45;H0@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r11706 - /branches/cst/maths_fns/mf.py -- December 06, 2010 - 19:16</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r11706 - /branches/cst/maths_fns/mf.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00006" class="tabs">Index by Date</a> | <a href="threads.html#00006" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00005.html">Date Prev</a>] [<a href="msg00007.html">Date Next</a>] [<a href="msg00005.html">Thread Prev</a>] [<a href="msg00007.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Mon, 06 Dec 2010 18:16:39 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00006.html">E1PPfc7-0002iA-H0@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on December 06, 2010 - 19:16:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Mon Dec  6 19:16:39 2010
New Revision: 11706

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=11706&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=11706&amp;view=rev</a>
Log:
Bug fix for a number of missing ':' characters, and comment improvements.


Modified:
    branches/cst/maths_fns/mf.py

Modified: branches/cst/maths_fns/mf.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/cst/maths_fns/mf.py?rev=11706&amp;r1=11705&amp;r2=11706&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/cst/maths_fns/mf.py?rev=11706&amp;r1=11705&amp;r2=11706&amp;view=diff</a>
==============================================================================
--- branches/cst/maths_fns/mf.py (original)
+++ branches/cst/maths_fns/mf.py Mon Dec  6 19:16:39 2010
@@ -259,8 +259,7 @@
             # The ratio of gyromagnetic ratios.
             g_ratio = gh[i] / gx[i]
 
-
-            # loop over interactions
+            # Loop over the relaxation interactions.
             for j in xrange(self.num_interactions[i]):
                 self.data[i].append(Data())
                 self.data[i][j].interactions=interactions[i][j]
@@ -412,7 +411,8 @@
         if self.scaling_flag:
             params = dot(params, self.scaling_matrix)
 
-        for j in xrange(self.num_interactions[0])
+        # Loop over the relaxation interactions.
+        for j in xrange(self.num_interactions[0]):
             # Direction cosine calculations.
             if self.diff_data.calc_di:
                 self.diff_data.calc_di(data[j], self.diff_data)
@@ -467,7 +467,8 @@
         # Diffusion tensor parameters.
         self.diff_data.params = params[0:1]
 
-        for j in xrange(self.num_interactions[0])
+        # Loop over the relaxation interactions.
+        for j in xrange(self.num_interactions[0]):
             # Diffusion tensor weight calculations.
             self.diff_data.calc_ci(data[j], self.diff_data)
 
@@ -527,7 +528,9 @@
         for i in xrange(self.num_spins):
             # Set self.data[i] to data.
             data = self.data[i]
-            for j in xrange(self.num_interactions[i])
+
+            # Loop over the relaxation interactions.
+            for j in xrange(self.num_interactions[i]):
                 # Direction cosine calculations.
                 if self.diff_data.calc_di:
                     self.diff_data.calc_di(data[j], self.diff_data)
@@ -594,7 +597,9 @@
         for i in xrange(self.num_spins):
             # Set self.data[i] to data.
             data = self.data[i]
-            for j in xrange(self.num_interactions[i])
+
+            # Loop over the relaxation interactions.
+            for j in xrange(self.num_interactions[i]):
                 # Direction cosine calculations.
                 if self.diff_data.calc_di:
                     self.diff_data.calc_di(data[j], self.diff_data)
@@ -657,16 +662,16 @@
         if self.scaling_flag:
             params = dot(params, self.scaling_matrix)
 
-        # Loop over the interactions
-        for k in xrange(self.num_interactions[0])
+        # Loop over the relaxation interactions.
+        for k in xrange(self.num_interactions[0]):
             # Calculate the spectral density gradient components.
             if data[k].calc_djw_comps:
                 data[k].calc_djw_comps(data[k], params)
 
         # Loop over the gradient.
         for j in xrange(data.total_num_params):
-            # Loop over the interactions
-            for k in xrange(self.num_interactions[0])
+            # Loop over the relaxation interactions.
+            for k in xrange(self.num_interactions[0]):
                 # Calculate the spectral density gradients.
                 if data[k].calc_djw[j]:
                     data[k].djw = data[k].calc_djw[j](data[k], params, j)
@@ -719,8 +724,8 @@
         # Diffusion tensor parameters.
         self.diff_data.params = params[0:1]
 
-        # Loop over the interactions
-        for k in xrange(self.num_interactions[0])
+        # Loop over the relaxation interactions.
+        for k in xrange(self.num_interactions[0]):
             # Calculate the spectral density gradient components.
             if data.calc_djw_comps:
                 data.calc_djw_comps(data[k], params)
@@ -730,8 +735,8 @@
 
         # Loop over the gradient.
         for j in xrange(data.total_num_params):
-            # Loop over the interactions
-            for k in xrange(self.num_interactions[0])
+            # Loop over the relaxation interactions.
+            for k in xrange(self.num_interactions[0]):
                 # Calculate the spectral density gradients.
                 if data[k].calc_djw[j]:
                     data[k].djw = data[k].calc_djw[j](data[k], params, j)
@@ -802,16 +807,16 @@
             # Diffusion tensor correlation times.
             self.diff_data.calc_dti(data, self.diff_data)
 
-            # Loop over the interactions
-            for k in xrange(self.num_interactions[i])
+            # Loop over the relaxation interactions.
+            for k in xrange(self.num_interactions[i]):
                 # Calculate the spectral density gradient components.
                 if data[k].calc_djw_comps:
                     data[k].calc_djw_comps(data[k], data[k].param_values)
 
             # Loop over the gradient.
             for j in xrange(data.total_num_params):
-                # Loop over the interactions
-                for k in xrange(self.num_interactions[i])
+                # Loop over the relaxation interactions.
+                for k in xrange(self.num_interactions[i]):
                     # Calculate the spectral density gradients.
                     if data[k].calc_djw[j]:
                         data[k].djw = data[k].calc_djw[j](data[k], 
data[k].param_values, j)
@@ -893,8 +898,8 @@
 
             # Loop over the gradient.
             for j in xrange(data.total_num_params):
-                # Loop over the interactions
-                for k in xrange(self.num_interactions[i])
+                # Loop over the relaxation interactions.
+                for k in xrange(self.num_interactions[i]):
                     # Calculate the spectral density gradients.
                     if data[k].calc_djw[j]:
                         data[k].djw = data[k].calc_djw[j](data[k], params, j)
@@ -953,8 +958,8 @@
         # Loop over the lower triangle of the Hessian.
         for j in xrange(data.total_num_params):
             for k in xrange(j + 1):
-                # Loop over the interactions
-                for m in xrange(self.num_interactions[0])
+                # Loop over the relaxation interactions.
+                for m in xrange(self.num_interactions[0]):
                     # Calculate the spectral density Hessians.
                     if data[m].calc_d2jw[j][k]:
                         data[m].d2jw = data[m].calc_d2jw[j][k](data[m], 
params, j, k)
@@ -1008,8 +1013,8 @@
         # Loop over the lower triangle of the Hessian.
         for j in xrange(data.total_num_params):
             for k in xrange(j + 1):
-                # Loop over the interactions
-                for m in xrange(self.num_interactions[0])
+                # Loop over the relaxation interactions.
+                for m in xrange(self.num_interactions[0]):
                     # Calculate the spectral density Hessians.
                     if data[m].calc_d2jw[j][k]:
                         data[m].d2jw = data[m].calc_d2jw[j][k](data[m], 
params, j, k)
@@ -1081,8 +1086,8 @@
             # Loop over the lower triangle of the Hessian.
             for j in xrange(data.total_num_params):
                 for k in xrange(j + 1):
-                    # Loop over the interactions
-                    for m in xrange(self.num_interactions[i])
+                    # Loop over the relaxation interactions.
+                    for m in xrange(self.num_interactions[i]):
                         # Calculate the spectral density Hessians.
                         if data[m].calc_d2jw[j][k]:
                             data[m].d2jw = data[m].calc_d2jw[j][k](data[m], 
data[m].param_values, j, k)
@@ -1157,8 +1162,8 @@
             # Loop over the lower triangle of the Hessian.
             for j in xrange(data.total_num_params):
                 for k in xrange(j + 1):
-                    # Loop over the interactions
-                    for m in xrange(self.num_interactions[i])
+                    # Loop over the relaxation interactions.
+                    for m in xrange(self.num_interactions[i]):
                         # Calculate the spectral density Hessians.
                         if data[m].calc_d2jw[j][k]:
                             data[m].d2jw = data[m].calc_d2jw[j][k](data[m], 
params, j, k)



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Mon Dec 06 21:00:02 2010</div>  
</body>
</html>
