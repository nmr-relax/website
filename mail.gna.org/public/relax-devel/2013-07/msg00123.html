<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Suggested faster development with Git, keeping GNA infrastructure -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Wed, 24 Jul 2013 10:39:50 +0200 -->
<!--X-Message-Id: CAED9pY&#45;H2s72du=NJbKnsOSMzV_WHtJaeOt07TGPPBCcvficMA@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CA+CBx2OqxGTSyo1M7N5KVmq2WNk7J5+YSen_k0B+O6Tun7NHDA@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Suggested faster development with Git, keeping GNA infrastructure -- July 24, 2013 - 10:39</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Suggested faster development with Git, keeping GNA infrastructure</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00123" class="tabs">Index by Date</a> | <a href="threads.html#00123" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00122.html">Date Prev</a>] [<a href="msg00124.html">Date Next</a>] [<a href="msg00122.html">Thread Prev</a>] [<a href="msg00124.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Wed, 24 Jul 2013 10:39:19 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:sender:in-reply-to:references:date	:x-google-sender-auth:message-id:subject:from:to:cc:content-type	:content-transfer-encoding;	bh=tmhUanqm7n1tSv7N2IUj4KYbes5Hhx0mScLBxCyeciQ=;	b=fHUrUePWmmgXx7IAGdlRb30BqX3hMFmzImg6uaQxqjy+QvNyQ6849vLC3JgQSsxqh6	N9LNkzLFIVNLY6onAypjqVy0HuPhXIqC62ems+CE32wihGAOlqRfRJ1mp/vb9QvmLd1b	lgunPEgry/IqTitlWLmPcxb2EVg7zd9S2DV7VEbUaMHNnM3gtxoX/SddY/sl96q0YPnh	FPy1z66P/zp5AZZi4OeDchuc729KGvaw6b9VusAo1UzUgmlOUhJYmOuMch3TCqB9Y7ef	g1TIpo6MJ82v50e2CKi2GKYcRNH3QIW4DGm8hmG5288n65P8780eo1x9cIwaazqZr1V0	Xslg==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00123.html">CAED9pY-H2s72du=NJbKnsOSMzV_WHtJaeOt07TGPPBCcvficMA@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;CA+CBx2OqxGTSyo1M7N5KVmq2WNk7J5+YSen_k0B+O6Tun7NHDA@xxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on July 24, 2013 - 10:39:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Troels,

Before reading this, note that I will write two responses.  The first
one, this one, you will find a little negative.  The second, which
will come a little later, will be git-positive.  So, to the first
post:

I'm sorry I didn't explain the process properly at the start.  Most of
the difficulties you have encountered are only in the initiation
stages of joining the relax project.  But it is only temporary!  Once
a someone has been voted in as a developer - after the contribution of
a certain amount of code so that trust can be built up - then the
commit process becomes much easier.  The process once full commit
access has been granted would be:

0)  Maybe first discuss the idea on the mailing list, if it is a major change,
1)  Write the code,
2)  Commit.

That's it!  It's very simple.  There are some post commit steps, but
these are independent of the version control system.  For example
maybe the code is not the best solution, or it breaks other parts of
relax.  Then the commit needs to be reverted.  And then there is the
responding to feedback on the commit.  This is much easier, and there
is no waiting (unless there are discussions).

One thing I agree with is that this process is a little painful.  But
the simplest way for new developers is:

0)  Simply bite the bullet and use subversion (for now),
1)  Make a change according to discussions on the mailing list,
2)  Use 'svn diff &gt; patch' to create a patch,
3)  Submit the patch for review,
3b)  At the same time write a suitable commit message - also for review,
4)  Once reviewed and changed are needed, go back to step 1,
4b)  Otherwise once reviewed and everything is ok, it will be
committed by a relax developer,
5)  Run 'svn up',
6)  Only then can you go back to step 1.

This is difficult and the pace is painfully slow at the start.  But
this does have a huge advantage that git does not.  With git you start
at a running pace.  But when you start up with an established project,
you must start at a slow walking pace!  This is important because all
new developers need to be pointed in the right direction.  The first
code someone writes will, without question, require major revision and
modifications (the commit messages as well).

So this is one aspect that I strongly disagree with in the git
philosophy.  The initial review process for git is not ideal for a new
developer.  They will have run too far (too many commits) in the wrong
direction before they receive feedback.  I do not like this!  The git
philosophy is to ignore these rogue developers and don't pull from
them.  This I also don't like - it is not very productive.  And the
new developer will be very unhappy when their code is rejected and not
being pulled upstream.  I have seen this process in action, and it is
very effective in loosing new developers.  I would prefer to help the
developer take the correct direction at the start.  And this requires
a very slow process with thorough review.  Step 4 above, the waiting
game, is frustrating.  But this step 4 is essential for the initial
training.

Once the initial training is over and you are a full developer, then
there will be no more waiting.  Until then, you can drastically
decrease the waiting time by prompting me via Google Chat, MSN, etc.
(assuming I'm not on holiday, as I was at the start of this month).  A
good target would be to have the NMRPipe seriesTab support in the
trunk functional, and maybe also adding the Tollinger/Kay equation to
the relax_disp branch.  This will clearly show your abilities to the
relax developers and that you can be trusted, and we can then hold the
private vote.  This is not all inclusive like git (let us ignore the
fact that many are ignored in the git system), but it is a meritocracy
and anyone can prove themselves and become a developer.  Code speaks
louder than words (unless you are adding text to the manual).  There
is nothing stopping anyone from joining.  And the barrier of entry is
about the same with svn and git, despite being free to run in any
direction within the git system.  Linus Torvalds is free to ignore new
developers in the Linux project
(<a  rel="nofollow" href="https://www.youtube.com/watch?v=4XpnKHJAok8">https://www.youtube.com/watch?v=4XpnKHJAok8</a>) but, in a small project
like relax, we are not at liberty to take such an approach.

Now, as for using git itself, that is something I have considered for
many, many years now.  I have also considered GNU Arch and Mercurial.
The only reason there has not been a shift is because the Gna!
infrastructure does not currently support this.  The other is that the
initial developer training is much more difficult.  I will start a
second thread about the benefits of using git as this is a separate,
very much unrelated issue.

Regards,

Edward

On 24 July 2013 01:54, Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi relax developers.

I would like to suggest yet another development possibility by using Git.

Motivation:
Subversion needs an online repository, to store each commits.
Subsequent calls to svn diff &gt; patch will generate the difference
according to the last revision.
Therefore the development at the moment require to:
* make some lines of code
* make a path file and a commit message
* use the support tracker to upload patch and commit message
wait for acceptance
wait for commit to official repository
then do an svn update
then return to point 1

This takes time, and require that repository maintainer is online.
If the above scheme is not followed, the patch files will come out of sync.

I suggest to introduce yet another development possibility by using Git.

I do not suggest to shift away from the GNA! infrasctructure,
I merely suggest to use the powers of Git, to collaborate on a feature
development, before
releasing a patch for review and commit to SVN repository.

This is maintained by a server, who tracks the relax-commit messages at
<a  rel="nofollow" href="http://www.mail-archive.com/relax-commits@xxxxxxx/">http://www.mail-archive.com/relax-commits@xxxxxxx/</a>

That server translates the history, and commits to github.

Here a range of developers can pull the latest changes.
Make feature branches. Share those branches.
Make edits online. Use android/iphone apps.
Work on trains/planes etc. Allowing offline commits.

When the feature is ready, easily make a patch file, and upload
to the GNA trackers.

The patch file contains all the commit messages, and
changes between each commit.

That should make it easy to review, and comment on.

Git also allow to squash commits and rewrite commits.
A feature highly appreciated, based on the review comments.

I have made a wiki page, from where we can start discussing.
Here I tried to make an image of my idea.
I am very skilled in MS paint. :-)

<a  rel="nofollow" href="http://wiki.nmr-relax.com/Git_development">http://wiki.nmr-relax.com/Git_development</a>

Best
Troels Emtekær Linnet

_______________________________________________
relax (<a  rel="nofollow" href="/">http://www.nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="/mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00122" href="msg00122.html">Suggested faster development with Git, keeping GNA infrastructure</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Jul 24 12:00:11 2013</div>  
</body>
</html>
