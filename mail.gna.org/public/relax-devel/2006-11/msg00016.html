<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: PyMOL is now supported. -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneq.qnhiretarNtznvy.pbz> -->
<!--X-Date: Tue, 31 Oct 2006 16:12:27 +0100 -->
<!--X-Message-Id: 7f080ed10610310711wc9db3e2se13eef5398e0c1fc@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 7f080ed10610292317p43613fc9x2c5a021a77085658@mail.gmail.com -->
<!--X-Reference: 1162289141.26731.16.camel@pc172&#45;31&#45;2&#45;63.biochem.unimelb.edu.au -->
<!--X-Reference: 1162304784.3525.133.camel@mrspell -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: PyMOL is now supported. -- October 31, 2006 - 16:12</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: PyMOL is now supported.</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00016" class="tabs">Index by Date</a> | <a href="threads.html#00016" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00015.html">Date Prev</a>] [<a href="msg00017.html">Date Next</a>] [<a href="msg00012.html">Thread Prev</a>] [<a href="msg00022.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Chris MacRaild&quot; &lt;c.a.macraild@xxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Wed, 1 Nov 2006 02:11:39 +1100</li>
<li class="menuitem">
<em>Cc</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00016.html">7f080ed10610310711wc9db3e2se13eef5398e0c1fc@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;7f080ed10610292317p43613fc9x2c5a021a77085658@mail.gmail.com&gt;	&lt;<a href="msg00007.html">1162289141.26731.16.camel@pc172-31-2-63.biochem.unimelb.edu.au</a>&gt;	&lt;<a href="msg00012.html">1162304784.3525.133.camel@mrspell</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on October 31, 2006 - 16:12:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<blockquote class="blockquote"><pre style="margin: 0em;">A couple of issues...</pre><br>
<pre style="margin: 0em;">Stupidly doing pdb.create_tensor_pdb('test') before defining a tensor
gives the fairly criptic:
Traceback (most recent call last):
  File &quot;&lt;console&gt;&quot;, line 1, in ?
  File &quot;/home/chris/relax_devel/pdb_tensor/prompt/pdb.py&quot;, line 113, in
create_tensor_pdb
    self.__relax__.generic.pdb.create_tensor_pdb(run=run, scale=scale,
file=file, dir=dir, force=force)
  File &quot;/home/chris/relax_devel/pdb_tensor/generic_fns/pdb.py&quot;, line
257, in create_tensor_pdb
    if self.relax.data.diff[self.run].type == 'spheroid':
KeyError: 'test'</pre><br>
<tt>A case worth checking for and throwing a more informative error.
</tt></blockquote><pre style="margin: 0em;"><br>Ta, I forgot to test if the diffusion tensor was loaded.  I've made
the fix to my working copy of the sources and will commit it tomorrow.</pre><br>
<br>
<blockquote class="blockquote"><pre style="margin: 0em;">doing pymol.tensor_pdb(), everything seems to work, but I get:</pre><br>
<pre style="margin: 0em;">relax&gt; PyMOL&gt;reinitialise
Traceback (most recent call last):
  File &quot;/home/chris/bin/pymol/modules/pymol/parser.py&quot;, line 370, in
parse
    exec(com2[nest]+&quot;\n&quot;,pymol_names,pymol_names)
  File &quot;&lt;string&gt;&quot;, line 1, in ?
NameError: name 'reinitialise' is not defined
PyMOL&gt;load ../abp_600MHz_tensorFrame.pdb
 CmdLoad: &quot;../abp_600MHz_tensorFrame.pdb&quot; loaded as
&quot;abp_600MHz_tensorFrame&quot;.
PyMOL&gt;load tensor.pdb
 CmdLoad: &quot;tensor.pdb&quot; loaded as &quot;tensor&quot;.
</pre></blockquote><pre style="margin: 0em;"><br>Doh, I spelt the word a different way to what it expected.  I should
have checked the PyMOL stdout printouts.</pre><br>
<br>
<blockquote class="blockquote"><pre style="margin: 0em;">pymol.cartoon() doesn't work for me. The commands go to pymol (they
appear in the tcl gui at least) but have no apparent effect. Just doing:</pre><br>
<pre style="margin: 0em;">hide everything
show cartoon</pre><br>
<tt>on the pymol cmd line has the expected effect.
</tt></blockquote><pre style="margin: 0em;"><br>This could be a PyMOL version issue.  Which version are you using?
I'm using the open source v0.99rc6 version (that you have to compile
yourself).  The PyMOL 'cmd.hide()' function also works on the non open
source binary build of the same version.</pre><br>
<br>
<blockquote class="blockquote"><pre style="margin: 0em;">And finally, if I do pymol.tensor_pdb(), then close pymol and then do
pymol.view() in the same run, I get the tensor back again (I was just
expecting to get my protein).
</pre></blockquote><pre style="margin: 0em;"><br>This is a feature.  The PyMOL functions have inherited the command
history feature of the Molmol code.  Any commands generated by relax
are rerun if you reopen PyMOL from relax.  There is the user function
'pymol.clear_history()' which I forgot to mention in the original
email.</pre><br>
<br>
<blockquote class="blockquote"><pre style="margin: 0em;">Oh, and one last thought. It would be nice to automatically scale the
tensor size for the size of the protein, so we don't have to do
trial-and-error adjustments of the scaling factor. The current fixed
default scaling factor means larger proteins will have smaller tensors
and vice-versa. This is something I could have a go at implimenting if
others think its a godd idea?
</pre></blockquote><pre style="margin: 0em;"><br>The reason I have used a scaling factor is twofold.  Firstly for
comparing two states or systems, you need to have exactly the same
scaling in both analyses.  Secondly the scaling factor should probably
be given with the figure.  The value is important - it is the
diffusion rate per Angstrom within the figure.  I should add this to
the user function docstring.</pre><br>
<pre style="margin: 0em;">Edward</pre><br>
<br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00022" href="msg00022.html">Re: PyMOL is now supported.</a></strong>
<ul><li><em>From:</em> Chris MacRaild</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00007" href="msg00007.html">PyMOL is now supported.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00012" href="msg00012.html">Re: PyMOL is now supported.</a></strong>
<ul><li><em>From:</em> Chris MacRaild</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Nov 01 00:01:52 2006</div>  
</body>
</html>
