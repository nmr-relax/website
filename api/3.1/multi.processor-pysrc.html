<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>multi.processor</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
  <!--Google analytics JS-->
  <script type="text/javascript">

    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-30096326-1']);
    _gaq.push(['_setDomainName', 'nmr-relax.com']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

  </script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://www.nmr-relax.com">relax</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="multi-module.html">Package&nbsp;multi</a> ::
        Module&nbsp;processor
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="multi.processor-pysrc.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<h1 class="epydoc">Source Code for <a href="multi.processor-module.html">Module multi.processor</a></h1>
<pre class="py-src">
<a name="L1"></a><tt class="py-lineno">  1</tt>  <tt class="py-line"><tt class="py-comment">###############################################################################</tt> </tt>
<a name="L2"></a><tt class="py-lineno">  2</tt>  <tt class="py-line"><tt class="py-comment">#                                                                             #</tt> </tt>
<a name="L3"></a><tt class="py-lineno">  3</tt>  <tt class="py-line"><tt class="py-comment"># Copyright (C) 2007 Gary S Thompson (https://gna.org/users/varioustoxins)    #</tt> </tt>
<a name="L4"></a><tt class="py-lineno">  4</tt>  <tt class="py-line"><tt class="py-comment"># Copyright (C) 2011-2012 Edward d'Auvergne                                   #</tt> </tt>
<a name="L5"></a><tt class="py-lineno">  5</tt>  <tt class="py-line"><tt class="py-comment">#                                                                             #</tt> </tt>
<a name="L6"></a><tt class="py-lineno">  6</tt>  <tt class="py-line"><tt class="py-comment"># This file is part of the program relax (http://www.nmr-relax.com).          #</tt> </tt>
<a name="L7"></a><tt class="py-lineno">  7</tt>  <tt class="py-line"><tt class="py-comment">#                                                                             #</tt> </tt>
<a name="L8"></a><tt class="py-lineno">  8</tt>  <tt class="py-line"><tt class="py-comment"># This program is free software: you can redistribute it and/or modify        #</tt> </tt>
<a name="L9"></a><tt class="py-lineno">  9</tt>  <tt class="py-line"><tt class="py-comment"># it under the terms of the GNU General Public License as published by        #</tt> </tt>
<a name="L10"></a><tt class="py-lineno"> 10</tt>  <tt class="py-line"><tt class="py-comment"># the Free Software Foundation, either version 3 of the License, or           #</tt> </tt>
<a name="L11"></a><tt class="py-lineno"> 11</tt>  <tt class="py-line"><tt class="py-comment"># (at your option) any later version.                                         #</tt> </tt>
<a name="L12"></a><tt class="py-lineno"> 12</tt>  <tt class="py-line"><tt class="py-comment">#                                                                             #</tt> </tt>
<a name="L13"></a><tt class="py-lineno"> 13</tt>  <tt class="py-line"><tt class="py-comment"># This program is distributed in the hope that it will be useful,             #</tt> </tt>
<a name="L14"></a><tt class="py-lineno"> 14</tt>  <tt class="py-line"><tt class="py-comment"># but WITHOUT ANY WARRANTY; without even the implied warranty of              #</tt> </tt>
<a name="L15"></a><tt class="py-lineno"> 15</tt>  <tt class="py-line"><tt class="py-comment"># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the               #</tt> </tt>
<a name="L16"></a><tt class="py-lineno"> 16</tt>  <tt class="py-line"><tt class="py-comment"># GNU General Public License for more details.                                #</tt> </tt>
<a name="L17"></a><tt class="py-lineno"> 17</tt>  <tt class="py-line"><tt class="py-comment">#                                                                             #</tt> </tt>
<a name="L18"></a><tt class="py-lineno"> 18</tt>  <tt class="py-line"><tt class="py-comment"># You should have received a copy of the GNU General Public License           #</tt> </tt>
<a name="L19"></a><tt class="py-lineno"> 19</tt>  <tt class="py-line"><tt class="py-comment"># along with this program.  If not, see &lt;http://www.gnu.org/licenses/&gt;.       #</tt> </tt>
<a name="L20"></a><tt class="py-lineno"> 20</tt>  <tt class="py-line"><tt class="py-comment">#                                                                             #</tt> </tt>
<a name="L21"></a><tt class="py-lineno"> 21</tt>  <tt class="py-line"><tt class="py-comment">###############################################################################</tt> </tt>
<a name="L22"></a><tt class="py-lineno"> 22</tt>  <tt class="py-line"> </tt>
<a name="L23"></a><tt class="py-lineno"> 23</tt>  <tt class="py-line"><tt class="py-comment"># Module docstring.</tt> </tt>
<a name="L24"></a><tt class="py-lineno"> 24</tt>  <tt class="py-line"><tt class="py-docstring">"""The processor class is the central class in the multi python multiprocessor framework.</tt> </tt>
<a name="L25"></a><tt class="py-lineno"> 25</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L26"></a><tt class="py-lineno"> 26</tt>  <tt class="py-line"><tt class="py-docstring">Overview</tt> </tt>
<a name="L27"></a><tt class="py-lineno"> 27</tt>  <tt class="py-line"><tt class="py-docstring">========</tt> </tt>
<a name="L28"></a><tt class="py-lineno"> 28</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L29"></a><tt class="py-lineno"> 29</tt>  <tt class="py-line"><tt class="py-docstring">The framework has two main responsibilities:</tt> </tt>
<a name="L30"></a><tt class="py-lineno"> 30</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L31"></a><tt class="py-lineno"> 31</tt>  <tt class="py-line"><tt class="py-docstring">     1. Process management - if needed the processor can create the slave processes it manages if</tt> </tt>
<a name="L32"></a><tt class="py-lineno"> 32</tt>  <tt class="py-line"><tt class="py-docstring">        they haven't been created by the operating system. It is also responsible for reporting</tt> </tt>
<a name="L33"></a><tt class="py-lineno"> 33</tt>  <tt class="py-line"><tt class="py-docstring">        exceptions and shutting down the multiprocessor in the face of errors.</tt> </tt>
<a name="L34"></a><tt class="py-lineno"> 34</tt>  <tt class="py-line"><tt class="py-docstring">     2. Scheduling commands on the slave processors via an interprocess communication fabric (MPI,</tt> </tt>
<a name="L35"></a><tt class="py-lineno"> 35</tt>  <tt class="py-line"><tt class="py-docstring">        PVM, threads etc) and processing returned text and result commands.</tt> </tt>
<a name="L36"></a><tt class="py-lineno"> 36</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L37"></a><tt class="py-lineno"> 37</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L38"></a><tt class="py-lineno"> 38</tt>  <tt class="py-line"><tt class="py-docstring">Using the processor framework</tt> </tt>
<a name="L39"></a><tt class="py-lineno"> 39</tt>  <tt class="py-line"><tt class="py-docstring">=============================</tt> </tt>
<a name="L40"></a><tt class="py-lineno"> 40</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L41"></a><tt class="py-lineno"> 41</tt>  <tt class="py-line"><tt class="py-docstring">Users of the processor framework will typically use the following methodology:</tt> </tt>
<a name="L42"></a><tt class="py-lineno"> 42</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L43"></a><tt class="py-lineno"> 43</tt>  <tt class="py-line"><tt class="py-docstring">     1. At application startup determine the name of the required processor implementation and the number of slave processors requested.</tt> </tt>
<a name="L44"></a><tt class="py-lineno"> 44</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L45"></a><tt class="py-lineno"> 45</tt>  <tt class="py-line"><tt class="py-docstring">     2. Create an Application_callback object.  For example:</tt> </tt>
<a name="L46"></a><tt class="py-lineno"> 46</tt>  <tt class="py-line"><tt class="py-docstring">            relax_instance = Relax()</tt> </tt>
<a name="L47"></a><tt class="py-lineno"> 47</tt>  <tt class="py-line"><tt class="py-docstring">            callbacks = Application_callback(master=relax_instance)</tt> </tt>
<a name="L48"></a><tt class="py-lineno"> 48</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L49"></a><tt class="py-lineno"> 49</tt>  <tt class="py-line"><tt class="py-docstring">     3. Dynamically load a processor implementation using the name of the processor and the number of required slave processors.  For example:</tt> </tt>
<a name="L50"></a><tt class="py-lineno"> 50</tt>  <tt class="py-line"><tt class="py-docstring">            processor = Processor.load_multiprocessor(relax_instance.multiprocessor_type, callbacks, processor_size=relax_instance.n_processors)</tt> </tt>
<a name="L51"></a><tt class="py-lineno"> 51</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L52"></a><tt class="py-lineno"> 52</tt>  <tt class="py-line"><tt class="py-docstring">     4. Call run on the processor instance returned above and handle all Exceptions.  For example:</tt> </tt>
<a name="L53"></a><tt class="py-lineno"> 53</tt>  <tt class="py-line"><tt class="py-docstring">            processor.run()</tt> </tt>
<a name="L54"></a><tt class="py-lineno"> 54</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L55"></a><tt class="py-lineno"> 55</tt>  <tt class="py-line"><tt class="py-docstring">     5. After calling run, the processor will call back to Application_callback.init_master from which you should call you main program (Application_callback defaults to self.master.run()).</tt> </tt>
<a name="L56"></a><tt class="py-lineno"> 56</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L57"></a><tt class="py-lineno"> 57</tt>  <tt class="py-line"><tt class="py-docstring">     6. Once in the main program you should call processor.add_to_queue with a series of multi.Slave_command objects you wish to be run across the slave processor pool and then call processor.run_queue to actually execute the commands remotely while blocking.</tt> </tt>
<a name="L58"></a><tt class="py-lineno"> 58</tt>  <tt class="py-line"><tt class="py-docstring">        &gt;&gt;&gt;</tt> </tt>
<a name="L59"></a><tt class="py-lineno"> 59</tt>  <tt class="py-line"><tt class="py-docstring">        example here...</tt> </tt>
<a name="L60"></a><tt class="py-lineno"> 60</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L61"></a><tt class="py-lineno"> 61</tt>  <tt class="py-line"><tt class="py-docstring">     7. Processor.Slave_commands will then run remotely on the slaves and any thrown exceptions and processor.result_commands queued to processor.return_object will be returned to the master processor and handled or executed. The slave processors also provide facilities for capturing the STDERR and STDOUT streams and returning their contents as strings for display on the master's STDOUT and STDERR streams (***more**?).</tt> </tt>
<a name="L62"></a><tt class="py-lineno"> 62</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L63"></a><tt class="py-lineno"> 63</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L64"></a><tt class="py-lineno"> 64</tt>  <tt class="py-line"><tt class="py-docstring">Extending the processor framework with a new interprocess communication fabric</tt> </tt>
<a name="L65"></a><tt class="py-lineno"> 65</tt>  <tt class="py-line"><tt class="py-docstring">==============================================================================</tt> </tt>
<a name="L66"></a><tt class="py-lineno"> 66</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L67"></a><tt class="py-lineno"> 67</tt>  <tt class="py-line"><tt class="py-docstring">The processor class acts as a base class that defines all the commands that a processor implementing</tt> </tt>
<a name="L68"></a><tt class="py-lineno"> 68</tt>  <tt class="py-line"><tt class="py-docstring">a new inter processor communication fabric needs. All that is required is to implement a subclass of</tt> </tt>
<a name="L69"></a><tt class="py-lineno"> 69</tt>  <tt class="py-line"><tt class="py-docstring">processor providing the required methods (of course as python provides dynamic typing and</tt> </tt>
<a name="L70"></a><tt class="py-lineno"> 70</tt>  <tt class="py-line"><tt class="py-docstring">polymorphism 'duck typing' you can always implement a class with the same set of method and it will</tt> </tt>
<a name="L71"></a><tt class="py-lineno"> 71</tt>  <tt class="py-line"><tt class="py-docstring">also work). Currently processor classes are loaded from the processor module and are modules with</tt> </tt>
<a name="L72"></a><tt class="py-lineno"> 72</tt>  <tt class="py-line"><tt class="py-docstring">names of the form:</tt> </tt>
<a name="L73"></a><tt class="py-lineno"> 73</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L74"></a><tt class="py-lineno"> 74</tt>  <tt class="py-line"><tt class="py-docstring">&gt;&gt;&gt; multi.&lt;type&gt;_processor.&lt;Type&gt;_processor</tt> </tt>
<a name="L75"></a><tt class="py-lineno"> 75</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L76"></a><tt class="py-lineno"> 76</tt>  <tt class="py-line"><tt class="py-docstring">where &lt;Type&gt; is the name of the processor with the correct capitalisation e.g.</tt> </tt>
<a name="L77"></a><tt class="py-lineno"> 77</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L78"></a><tt class="py-lineno"> 78</tt>  <tt class="py-line"><tt class="py-docstring">&gt;&gt;&gt; processor_name = 'mpi4py'</tt> </tt>
<a name="L79"></a><tt class="py-lineno"> 79</tt>  <tt class="py-line"><tt class="py-docstring">&gt;&gt;&gt; callback = My_application-callback()</tt> </tt>
<a name="L80"></a><tt class="py-lineno"> 80</tt>  <tt class="py-line"><tt class="py-docstring">&gt;&gt;&gt; proccesor_size = 6</tt> </tt>
<a name="L81"></a><tt class="py-lineno"> 81</tt>  <tt class="py-line"><tt class="py-docstring">&gt;&gt;&gt; processor.load_multiprocessor(processor_name, callback, processor_size)</tt> </tt>
<a name="L82"></a><tt class="py-lineno"> 82</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L83"></a><tt class="py-lineno"> 83</tt>  <tt class="py-line"><tt class="py-docstring">will load multi.mpi4py_processor.Mpi4py_Processor.</tt> </tt>
<a name="L84"></a><tt class="py-lineno"> 84</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L85"></a><tt class="py-lineno"> 85</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L86"></a><tt class="py-lineno"> 86</tt>  <tt class="py-line"><tt class="py-docstring">TODO</tt> </tt>
<a name="L87"></a><tt class="py-lineno"> 87</tt>  <tt class="py-line"><tt class="py-docstring">====</tt> </tt>
<a name="L88"></a><tt class="py-lineno"> 88</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L89"></a><tt class="py-lineno"> 89</tt>  <tt class="py-line"><tt class="py-docstring">The following are yet to be implemented:</tt> </tt>
<a name="L90"></a><tt class="py-lineno"> 90</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L91"></a><tt class="py-lineno"> 91</tt>  <tt class="py-line"><tt class="py-docstring">    1. There is no ability of the processor to request command line arguments.</tt> </tt>
<a name="L92"></a><tt class="py-lineno"> 92</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L93"></a><tt class="py-lineno"> 93</tt>  <tt class="py-line"><tt class="py-docstring">    2. The processor can't currently be loaded from somewhere other than the multi directory.</tt> </tt>
<a name="L94"></a><tt class="py-lineno"> 94</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L95"></a><tt class="py-lineno"> 95</tt>  <tt class="py-line"><tt class="py-docstring">"""</tt> </tt>
<a name="L96"></a><tt class="py-lineno"> 96</tt>  <tt class="py-line"> </tt>
<a name="L97"></a><tt class="py-lineno"> 97</tt>  <tt class="py-line"><tt class="py-comment">#FIXME: better requirement of inherited commands.</tt> </tt>
<a name="L98"></a><tt class="py-lineno"> 98</tt>  <tt class="py-line"><tt class="py-comment">#TODO: check exceptions on master.</tt> </tt>
<a name="L99"></a><tt class="py-lineno"> 99</tt>  <tt class="py-line"> </tt>
<a name="L100"></a><tt class="py-lineno">100</tt>  <tt class="py-line"><tt class="py-comment"># Python module imports.</tt> </tt>
<a name="L101"></a><tt class="py-lineno">101</tt>  <tt class="py-line"><tt class="py-keyword">import</tt> <tt class="py-name">time</tt><tt class="py-op">,</tt> <tt class="py-name">datetime</tt><tt class="py-op">,</tt> <tt class="py-name">math</tt><tt class="py-op">,</tt> <tt class="py-name">sys</tt> </tt>
<a name="L102"></a><tt class="py-lineno">102</tt>  <tt class="py-line"> </tt>
<a name="L103"></a><tt class="py-lineno">103</tt>  <tt class="py-line"><tt class="py-comment"># multi module imports.</tt> </tt>
<a name="L104"></a><tt class="py-lineno">104</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt id="link-0" class="py-name" targets="Package multi=multi-module.html"><a title="multi" class="py-name" href="#" onclick="return doclink('link-0', 'multi', 'link-0');">multi</a></tt><tt class="py-op">.</tt><tt id="link-1" class="py-name" targets="Module bmrblib.misc=bmrblib.misc-module.html,Module gui.misc=gui.misc-module.html,Module multi.misc=multi.misc-module.html"><a title="bmrblib.misc
gui.misc
multi.misc" class="py-name" href="#" onclick="return doclink('link-1', 'misc', 'link-1');">misc</a></tt> <tt class="py-keyword">import</tt> <tt id="link-2" class="py-name" targets="Class multi.misc.Capturing_exception=multi.misc.Capturing_exception-class.html"><a title="multi.misc.Capturing_exception" class="py-name" href="#" onclick="return doclink('link-2', 'Capturing_exception', 'link-2');">Capturing_exception</a></tt><tt class="py-op">,</tt> <tt id="link-3" class="py-name" targets="Function multi.misc.raise_unimplemented()=multi.misc-module.html#raise_unimplemented"><a title="multi.misc.raise_unimplemented" class="py-name" href="#" onclick="return doclink('link-3', 'raise_unimplemented', 'link-3');">raise_unimplemented</a></tt><tt class="py-op">,</tt> <tt id="link-4" class="py-name" targets="Class multi.misc.Verbosity=multi.misc.Verbosity-class.html"><a title="multi.misc.Verbosity" class="py-name" href="#" onclick="return doclink('link-4', 'Verbosity', 'link-4');">Verbosity</a></tt><tt class="py-op">;</tt> <tt id="link-5" class="py-name" targets="Variable bmrblib.pystarlib.Text.verbosity=bmrblib.pystarlib.Text-module.html#verbosity,Variable bmrblib.pystarlib.verbosity=bmrblib.pystarlib-module.html#verbosity,Variable multi.multi_processor_base.verbosity=multi.multi_processor_base-module.html#verbosity,Variable multi.processor.verbosity=multi.processor-module.html#verbosity"><a title="bmrblib.pystarlib.Text.verbosity
bmrblib.pystarlib.verbosity
multi.multi_processor_base.verbosity
multi.processor.verbosity" class="py-name" href="#" onclick="return doclink('link-5', 'verbosity', 'link-5');">verbosity</a></tt> <tt class="py-op">=</tt> <tt id="link-6" class="py-name"><a title="multi.misc.Verbosity" class="py-name" href="#" onclick="return doclink('link-6', 'Verbosity', 'link-4');">Verbosity</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L105"></a><tt class="py-lineno">105</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt id="link-7" class="py-name"><a title="multi" class="py-name" href="#" onclick="return doclink('link-7', 'multi', 'link-0');">multi</a></tt><tt class="py-op">.</tt><tt id="link-8" class="py-name" targets="Module multi.result_queue=multi.result_queue-module.html"><a title="multi.result_queue" class="py-name" href="#" onclick="return doclink('link-8', 'result_queue', 'link-8');">result_queue</a></tt> <tt class="py-keyword">import</tt> <tt id="link-9" class="py-name" targets="Class multi.result_queue.Threaded_result_queue=multi.result_queue.Threaded_result_queue-class.html"><a title="multi.result_queue.Threaded_result_queue" class="py-name" href="#" onclick="return doclink('link-9', 'Threaded_result_queue', 'link-9');">Threaded_result_queue</a></tt> </tt>
<a name="L106"></a><tt class="py-lineno">106</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt id="link-10" class="py-name"><a title="multi" class="py-name" href="#" onclick="return doclink('link-10', 'multi', 'link-0');">multi</a></tt><tt class="py-op">.</tt><tt id="link-11" class="py-name" targets="Module multi.processor_io=multi.processor_io-module.html"><a title="multi.processor_io" class="py-name" href="#" onclick="return doclink('link-11', 'processor_io', 'link-11');">processor_io</a></tt> <tt class="py-keyword">import</tt> <tt id="link-12" class="py-name" targets="Class gui.controller.Redirect_text=gui.controller.Redirect_text-class.html,Class multi.processor_io.Redirect_text=multi.processor_io.Redirect_text-class.html"><a title="gui.controller.Redirect_text
multi.processor_io.Redirect_text" class="py-name" href="#" onclick="return doclink('link-12', 'Redirect_text', 'link-12');">Redirect_text</a></tt> </tt>
<a name="L107"></a><tt class="py-lineno">107</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt id="link-13" class="py-name"><a title="multi" class="py-name" href="#" onclick="return doclink('link-13', 'multi', 'link-0');">multi</a></tt><tt class="py-op">.</tt><tt id="link-14" class="py-name" targets="Module multi.result_commands=multi.result_commands-module.html"><a title="multi.result_commands" class="py-name" href="#" onclick="return doclink('link-14', 'result_commands', 'link-14');">result_commands</a></tt> <tt class="py-keyword">import</tt> <tt id="link-15" class="py-name" targets="Class multi.result_commands.Batched_result_command=multi.result_commands.Batched_result_command-class.html"><a title="multi.result_commands.Batched_result_command" class="py-name" href="#" onclick="return doclink('link-15', 'Batched_result_command', 'link-15');">Batched_result_command</a></tt><tt class="py-op">,</tt> <tt id="link-16" class="py-name" targets="Class multi.result_commands.Null_result_command=multi.result_commands.Null_result_command-class.html"><a title="multi.result_commands.Null_result_command" class="py-name" href="#" onclick="return doclink('link-16', 'Null_result_command', 'link-16');">Null_result_command</a></tt><tt class="py-op">,</tt> <tt id="link-17" class="py-name" targets="Class multi.result_commands.Result_exception=multi.result_commands.Result_exception-class.html"><a title="multi.result_commands.Result_exception" class="py-name" href="#" onclick="return doclink('link-17', 'Result_exception', 'link-17');">Result_exception</a></tt> </tt>
<a name="L108"></a><tt class="py-lineno">108</tt>  <tt class="py-line"><tt class="py-keyword">from</tt> <tt id="link-18" class="py-name"><a title="multi" class="py-name" href="#" onclick="return doclink('link-18', 'multi', 'link-0');">multi</a></tt><tt class="py-op">.</tt><tt id="link-19" class="py-name" targets="Module multi.slave_commands=multi.slave_commands-module.html"><a title="multi.slave_commands" class="py-name" href="#" onclick="return doclink('link-19', 'slave_commands', 'link-19');">slave_commands</a></tt> <tt class="py-keyword">import</tt> <tt id="link-20" class="py-name" targets="Class multi.slave_commands.Slave_storage_command=multi.slave_commands.Slave_storage_command-class.html"><a title="multi.slave_commands.Slave_storage_command" class="py-name" href="#" onclick="return doclink('link-20', 'Slave_storage_command', 'link-20');">Slave_storage_command</a></tt> </tt>
<a name="L109"></a><tt class="py-lineno">109</tt>  <tt class="py-line"> </tt>
<a name="L110"></a><tt class="py-lineno">110</tt>  <tt class="py-line"> </tt>
<a name="Data_store"></a><div id="Data_store-def"><a name="L111"></a><tt class="py-lineno">111</tt> <a class="py-toggle" href="#" id="Data_store-toggle" onclick="return toggle('Data_store');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="multi.processor.Data_store-class.html">Data_store</a><tt class="py-op">:</tt> </tt>
</div><div id="Data_store-collapsed" style="display:none;" pad="+++" indent="++++"></div><div id="Data_store-expanded"><a name="L112"></a><tt class="py-lineno">112</tt>  <tt class="py-line">    <tt class="py-docstring">"""A special Processor specific data storage container."""</tt> </tt>
</div><a name="L113"></a><tt class="py-lineno">113</tt>  <tt class="py-line"> </tt>
<a name="L114"></a><tt class="py-lineno">114</tt>  <tt class="py-line"> </tt>
<a name="Processor"></a><div id="Processor-def"><a name="L115"></a><tt class="py-lineno">115</tt> <a class="py-toggle" href="#" id="Processor-toggle" onclick="return toggle('Processor');">-</a><tt class="py-line"><tt class="py-keyword">class</tt> <a class="py-def-name" href="multi.processor.Processor-class.html">Processor</a><tt class="py-op">(</tt><tt class="py-base-class">object</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor-collapsed" style="display:none;" pad="+++" indent="++++"></div><div id="Processor-expanded"><a name="L116"></a><tt class="py-lineno">116</tt>  <tt class="py-line">    <tt class="py-docstring">"""The central class of the multi processor framework.</tt> </tt>
<a name="L117"></a><tt class="py-lineno">117</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L118"></a><tt class="py-lineno">118</tt>  <tt class="py-line"><tt class="py-docstring">    This provides facilities for process management, command queueing, command scheduling, remote</tt> </tt>
<a name="L119"></a><tt class="py-lineno">119</tt>  <tt class="py-line"><tt class="py-docstring">    execution of commands, and handling of results and error from commands. The class is abstract</tt> </tt>
<a name="L120"></a><tt class="py-lineno">120</tt>  <tt class="py-line"><tt class="py-docstring">    and should be overridden to implement new interprocess communication methods, however, even then</tt> </tt>
<a name="L121"></a><tt class="py-lineno">121</tt>  <tt class="py-line"><tt class="py-docstring">    users are encouraged to override the more full implemented multi.multi_processor.Multi_processor</tt> </tt>
<a name="L122"></a><tt class="py-lineno">122</tt>  <tt class="py-line"><tt class="py-docstring">    class. Most users should instantiate instances of this class by calling the static method</tt> </tt>
<a name="L123"></a><tt class="py-lineno">123</tt>  <tt class="py-line"><tt class="py-docstring">    Processor.load_multiprocessor.</tt> </tt>
<a name="L124"></a><tt class="py-lineno">124</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L125"></a><tt class="py-lineno">125</tt>  <tt class="py-line"><tt class="py-docstring">    The class is designed to be subclassed and has abstract methods that a subclass needs to</tt> </tt>
<a name="L126"></a><tt class="py-lineno">126</tt>  <tt class="py-line"><tt class="py-docstring">    override. Methods which can be overridden are clearly marked with a note annotation stating that</tt> </tt>
<a name="L127"></a><tt class="py-lineno">127</tt>  <tt class="py-line"><tt class="py-docstring">    they can be overridden.</tt> </tt>
<a name="L128"></a><tt class="py-lineno">128</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L129"></a><tt class="py-lineno">129</tt>  <tt class="py-line"><tt class="py-docstring">    @todo:  It maybe a good idea to separate out the features of the class that purely deal with the</tt> </tt>
<a name="L130"></a><tt class="py-lineno">130</tt>  <tt class="py-line"><tt class="py-docstring">            interprocess communication fabric.</tt> </tt>
<a name="L131"></a><tt class="py-lineno">131</tt>  <tt class="py-line"><tt class="py-docstring">    @todo:  The processor can't currently harvest the required command line arguments from the</tt> </tt>
<a name="L132"></a><tt class="py-lineno">132</tt>  <tt class="py-line"><tt class="py-docstring">            current command line.</tt> </tt>
<a name="L133"></a><tt class="py-lineno">133</tt>  <tt class="py-line"><tt class="py-docstring">    """</tt> </tt>
<a name="L134"></a><tt class="py-lineno">134</tt>  <tt class="py-line"> </tt>
<a name="L135"></a><tt class="py-lineno">135</tt>  <tt class="py-line"> </tt>
<a name="Processor.__init__"></a><div id="Processor.__init__-def"><a name="L136"></a><tt class="py-lineno">136</tt> <a class="py-toggle" href="#" id="Processor.__init__-toggle" onclick="return toggle('Processor.__init__');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#__init__">__init__</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">processor_size</tt><tt class="py-op">,</tt> <tt class="py-param">callback</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.__init__-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.__init__-expanded"><a name="L137"></a><tt class="py-lineno">137</tt>  <tt class="py-line">        <tt class="py-docstring">"""Initialise the processor.</tt> </tt>
<a name="L138"></a><tt class="py-lineno">138</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L139"></a><tt class="py-lineno">139</tt>  <tt class="py-line"><tt class="py-docstring">        @param processor_size:  The requested number of __slave__processors, if the number of</tt> </tt>
<a name="L140"></a><tt class="py-lineno">140</tt>  <tt class="py-line"><tt class="py-docstring">                                processors is set by the environment (e.g. in the case of MPI via</tt> </tt>
<a name="L141"></a><tt class="py-lineno">141</tt>  <tt class="py-line"><tt class="py-docstring">                                mpiexec -np &lt;n-processors&gt; on the command line the processor is free</tt> </tt>
<a name="L142"></a><tt class="py-lineno">142</tt>  <tt class="py-line"><tt class="py-docstring">                                free to ignore this value.  The default value from the command line</tt> </tt>
<a name="L143"></a><tt class="py-lineno">143</tt>  <tt class="py-line"><tt class="py-docstring">                                is -1, and subclasses on receiving this value either raise and</tt> </tt>
<a name="L144"></a><tt class="py-lineno">144</tt>  <tt class="py-line"><tt class="py-docstring">                                exception or determine the correct number of slaves to create (e.g.</tt> </tt>
<a name="L145"></a><tt class="py-lineno">145</tt>  <tt class="py-line"><tt class="py-docstring">                                on a multi-cored machine using a threaded implementation the correct</tt> </tt>
<a name="L146"></a><tt class="py-lineno">146</tt>  <tt class="py-line"><tt class="py-docstring">                                number of slaves would be equal to the number of cores available).</tt> </tt>
<a name="L147"></a><tt class="py-lineno">147</tt>  <tt class="py-line"><tt class="py-docstring">        @type processor_size:   int</tt> </tt>
<a name="L148"></a><tt class="py-lineno">148</tt>  <tt class="py-line"><tt class="py-docstring">        @param callback:        The application callback which allows the host application to start</tt> </tt>
<a name="L149"></a><tt class="py-lineno">149</tt>  <tt class="py-line"><tt class="py-docstring">                                its main loop and handle exceptions from the processor.</tt> </tt>
<a name="L150"></a><tt class="py-lineno">150</tt>  <tt class="py-line"><tt class="py-docstring">        @type callback:         multi.processor.Application_callback instance</tt> </tt>
<a name="L151"></a><tt class="py-lineno">151</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L152"></a><tt class="py-lineno">152</tt>  <tt class="py-line"> </tt>
<a name="L153"></a><tt class="py-lineno">153</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">callback</tt> <tt class="py-op">=</tt> <tt class="py-name">callback</tt> </tt>
<a name="L154"></a><tt class="py-lineno">154</tt>  <tt class="py-line">        <tt class="py-string">"""Callback to interface to the host application</tt> </tt>
<a name="L155"></a><tt class="py-lineno">155</tt>  <tt class="py-line"><tt class="py-string"></tt> </tt>
<a name="L156"></a><tt class="py-lineno">156</tt>  <tt class="py-line"><tt class="py-string">        @see:  Application_callback."""</tt> </tt>
<a name="L157"></a><tt class="py-lineno">157</tt>  <tt class="py-line"> </tt>
<a name="L158"></a><tt class="py-lineno">158</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">grainyness</tt> <tt class="py-op">=</tt> <tt class="py-number">1</tt> </tt>
<a name="L159"></a><tt class="py-lineno">159</tt>  <tt class="py-line">        <tt class="py-string">"""The number of sub jobs to queue for each processor if we have more jobs than processors."""</tt> </tt>
<a name="L160"></a><tt class="py-lineno">160</tt>  <tt class="py-line"> </tt>
<a name="L161"></a><tt class="py-lineno">161</tt>  <tt class="py-line"><tt class="py-comment">#        # CHECKME: am I implemented?, should I be an application callback function</tt> </tt>
<a name="L162"></a><tt class="py-lineno">162</tt>  <tt class="py-line"><tt class="py-comment">#        self.pre_queue_command = None</tt> </tt>
<a name="L163"></a><tt class="py-lineno">163</tt>  <tt class="py-line"><tt class="py-comment">#        """ command to call before the queue is run"""</tt> </tt>
<a name="L164"></a><tt class="py-lineno">164</tt>  <tt class="py-line"><tt class="py-comment">#        # CHECKME: am I implemented?, should I be an application callback function</tt> </tt>
<a name="L165"></a><tt class="py-lineno">165</tt>  <tt class="py-line"><tt class="py-comment">#        self.post_queue_command = None</tt> </tt>
<a name="L166"></a><tt class="py-lineno">166</tt>  <tt class="py-line"><tt class="py-comment">#        """ command to call after the queue has completed running"""</tt> </tt>
<a name="L167"></a><tt class="py-lineno">167</tt>  <tt class="py-line"><tt class="py-comment">#</tt> </tt>
<a name="L168"></a><tt class="py-lineno">168</tt>  <tt class="py-line">        <tt class="py-comment">#CHECKME: should I be a singleton</tt> </tt>
<a name="L169"></a><tt class="py-lineno">169</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">NULL_RESULT</tt> <tt class="py-op">=</tt> <tt id="link-21" class="py-name"><a title="multi.result_commands.Null_result_command" class="py-name" href="#" onclick="return doclink('link-21', 'Null_result_command', 'link-16');">Null_result_command</a></tt><tt class="py-op">(</tt><tt id="link-22" class="py-name" targets="Module multi.processor=multi.processor-module.html"><a title="multi.processor" class="py-name" href="#" onclick="return doclink('link-22', 'processor', 'link-22');">processor</a></tt><tt class="py-op">=</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L170"></a><tt class="py-lineno">170</tt>  <tt class="py-line">        <tt class="py-string">"""Empty result command used by commands which do not return a result (a singleton?)."""</tt> </tt>
<a name="L171"></a><tt class="py-lineno">171</tt>  <tt class="py-line"> </tt>
<a name="L172"></a><tt class="py-lineno">172</tt>  <tt class="py-line">        <tt class="py-comment"># Initialise the processor specific data store.</tt> </tt>
<a name="L173"></a><tt class="py-lineno">173</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-23" class="py-name" targets="Package data_store=data_store-module.html"><a title="data_store" class="py-name" href="#" onclick="return doclink('link-23', 'data_store', 'link-23');">data_store</a></tt> <tt class="py-op">=</tt> <tt id="link-24" class="py-name" targets="Class multi.processor.Data_store=multi.processor.Data_store-class.html"><a title="multi.processor.Data_store" class="py-name" href="#" onclick="return doclink('link-24', 'Data_store', 'link-24');">Data_store</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L174"></a><tt class="py-lineno">174</tt>  <tt class="py-line">        <tt class="py-string">"""The processor data store."""</tt> </tt>
<a name="L175"></a><tt class="py-lineno">175</tt>  <tt class="py-line"> </tt>
<a name="L176"></a><tt class="py-lineno">176</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">_processor_size</tt> <tt class="py-op">=</tt> <tt id="link-25" class="py-name" targets="Method multi.processor.Processor.processor_size()=multi.processor.Processor-class.html#processor_size,Method multi.uni_processor.Uni_processor.processor_size()=multi.uni_processor.Uni_processor-class.html#processor_size"><a title="multi.processor.Processor.processor_size
multi.uni_processor.Uni_processor.processor_size" class="py-name" href="#" onclick="return doclink('link-25', 'processor_size', 'link-25');">processor_size</a></tt> </tt>
<a name="L177"></a><tt class="py-lineno">177</tt>  <tt class="py-line">        <tt class="py-string">"""Number of slave processors available in this processor."""</tt> </tt>
<a name="L178"></a><tt class="py-lineno">178</tt>  <tt class="py-line"> </tt>
<a name="L179"></a><tt class="py-lineno">179</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">threaded_result_processing</tt> <tt class="py-op">=</tt> <tt class="py-name">True</tt> </tt>
<a name="L180"></a><tt class="py-lineno">180</tt>  <tt class="py-line">        <tt class="py-string">"""Flag for the handling of result processing via self.run_command_queue()."""</tt> </tt>
</div><a name="L181"></a><tt class="py-lineno">181</tt>  <tt class="py-line"> </tt>
<a name="L182"></a><tt class="py-lineno">182</tt>  <tt class="py-line"> </tt>
<a name="Processor.abort"></a><div id="Processor.abort-def"><a name="L183"></a><tt class="py-lineno">183</tt> <a class="py-toggle" href="#" id="Processor.abort-toggle" onclick="return toggle('Processor.abort');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#abort">abort</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.abort-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.abort-expanded"><a name="L184"></a><tt class="py-lineno">184</tt>  <tt class="py-line">        <tt class="py-docstring">"""Shutdown the multi processor in exceptional conditions - designed for overriding.</tt> </tt>
<a name="L185"></a><tt class="py-lineno">185</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L186"></a><tt class="py-lineno">186</tt>  <tt class="py-line"><tt class="py-docstring">        This method is called after an exception from the master or slave has been raised and processed and is responsible for the shutdown of the multi processor fabric and terminating the application. The functions should be called as the last thing that Application_callback.handle_exception does.</tt> </tt>
<a name="L187"></a><tt class="py-lineno">187</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L188"></a><tt class="py-lineno">188</tt>  <tt class="py-line"><tt class="py-docstring">        As an example of the methods use see Mpi4py_processor.abort which calls MPI.COMM_WORLD.Abort() to cleanly shutdown the mpi framework and remove dangling processes.</tt> </tt>
<a name="L189"></a><tt class="py-lineno">189</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L190"></a><tt class="py-lineno">190</tt>  <tt class="py-line"><tt class="py-docstring">        The default action is to call the special self.exit() method.</tt> </tt>
<a name="L191"></a><tt class="py-lineno">191</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L192"></a><tt class="py-lineno">192</tt>  <tt class="py-line"><tt class="py-docstring">        @see:   multi.processor.Application_callback.</tt> </tt>
<a name="L193"></a><tt class="py-lineno">193</tt>  <tt class="py-line"><tt class="py-docstring">        @see:   multi.mpi4py_processor.Mpi4py_processor.abort().</tt> </tt>
<a name="L194"></a><tt class="py-lineno">194</tt>  <tt class="py-line"><tt class="py-docstring">        @see:   mpi4py.MPI.COMM_WORLD.Abort().</tt> </tt>
<a name="L195"></a><tt class="py-lineno">195</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L196"></a><tt class="py-lineno">196</tt>  <tt class="py-line"> </tt>
<a name="L197"></a><tt class="py-lineno">197</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-26" class="py-name" targets="Method gui.icons.Relax_task_bar_icon.exit()=gui.icons.Relax_task_bar_icon-class.html#exit,Method gui.interpreter.Interpreter.exit()=gui.interpreter.Interpreter-class.html#exit,Method gui.interpreter.Interpreter_thread.exit()=gui.interpreter.Interpreter_thread-class.html#exit,Method multi.mpi4py_processor.Mpi4py_processor.exit()=multi.mpi4py_processor.Mpi4py_processor-class.html#exit,Method multi.processor.Processor.exit()=multi.processor.Processor-class.html#exit"><a title="gui.icons.Relax_task_bar_icon.exit
gui.interpreter.Interpreter.exit
gui.interpreter.Interpreter_thread.exit
multi.mpi4py_processor.Mpi4py_processor.exit
multi.processor.Processor.exit" class="py-name" href="#" onclick="return doclink('link-26', 'exit', 'link-26');">exit</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div><a name="L198"></a><tt class="py-lineno">198</tt>  <tt class="py-line"> </tt>
<a name="L199"></a><tt class="py-lineno">199</tt>  <tt class="py-line"> </tt>
<a name="Processor.add_to_queue"></a><div id="Processor.add_to_queue-def"><a name="L200"></a><tt class="py-lineno">200</tt> <a class="py-toggle" href="#" id="Processor.add_to_queue-toggle" onclick="return toggle('Processor.add_to_queue');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#add_to_queue">add_to_queue</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">command</tt><tt class="py-op">,</tt> <tt class="py-param">memo</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.add_to_queue-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.add_to_queue-expanded"><a name="L201"></a><tt class="py-lineno">201</tt>  <tt class="py-line">        <tt class="py-docstring">"""Add a command for remote execution to the queue - an abstract method.</tt> </tt>
<a name="L202"></a><tt class="py-lineno">202</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L203"></a><tt class="py-lineno">203</tt>  <tt class="py-line"><tt class="py-docstring">        @see: multi.processor.Slave_command</tt> </tt>
<a name="L204"></a><tt class="py-lineno">204</tt>  <tt class="py-line"><tt class="py-docstring">        @see: multi.processor.Result_command</tt> </tt>
<a name="L205"></a><tt class="py-lineno">205</tt>  <tt class="py-line"><tt class="py-docstring">        @see: multi.processor.Memo</tt> </tt>
<a name="L206"></a><tt class="py-lineno">206</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L207"></a><tt class="py-lineno">207</tt>  <tt class="py-line"><tt class="py-docstring">        @param command: A command to execute on a slave processor.</tt> </tt>
<a name="L208"></a><tt class="py-lineno">208</tt>  <tt class="py-line"><tt class="py-docstring">        @type command:  ? subclass instance</tt> </tt>
<a name="L209"></a><tt class="py-lineno">209</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword memo:  A place to place data needed on command completion (e.g. where to save the</tt> </tt>
<a name="L210"></a><tt class="py-lineno">210</tt>  <tt class="py-line"><tt class="py-docstring">                        results) the data stored in the memo is provided to Result_commands</tt> </tt>
<a name="L211"></a><tt class="py-lineno">211</tt>  <tt class="py-line"><tt class="py-docstring">                        generated by the command submitted.</tt> </tt>
<a name="L212"></a><tt class="py-lineno">212</tt>  <tt class="py-line"><tt class="py-docstring">        @type memo:     Memo subclass instance</tt> </tt>
<a name="L213"></a><tt class="py-lineno">213</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L214"></a><tt class="py-lineno">214</tt>  <tt class="py-line"> </tt>
<a name="L215"></a><tt class="py-lineno">215</tt>  <tt class="py-line">        <tt id="link-27" class="py-name"><a title="multi.misc.raise_unimplemented" class="py-name" href="#" onclick="return doclink('link-27', 'raise_unimplemented', 'link-3');">raise_unimplemented</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-28" class="py-name" targets="Method multi.multi_processor_base.Multi_processor.add_to_queue()=multi.multi_processor_base.Multi_processor-class.html#add_to_queue,Method multi.processor.Processor.add_to_queue()=multi.processor.Processor-class.html#add_to_queue,Method multi.uni_processor.Uni_processor.add_to_queue()=multi.uni_processor.Uni_processor-class.html#add_to_queue"><a title="multi.multi_processor_base.Multi_processor.add_to_queue
multi.processor.Processor.add_to_queue
multi.uni_processor.Uni_processor.add_to_queue" class="py-name" href="#" onclick="return doclink('link-28', 'add_to_queue', 'link-28');">add_to_queue</a></tt><tt class="py-op">)</tt> </tt>
</div><a name="L216"></a><tt class="py-lineno">216</tt>  <tt class="py-line"> </tt>
<a name="L217"></a><tt class="py-lineno">217</tt>  <tt class="py-line"> </tt>
<a name="Processor.assert_on_master"></a><div id="Processor.assert_on_master-def"><a name="L218"></a><tt class="py-lineno">218</tt> <a class="py-toggle" href="#" id="Processor.assert_on_master-toggle" onclick="return toggle('Processor.assert_on_master');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#assert_on_master">assert_on_master</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.assert_on_master-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.assert_on_master-expanded"><a name="L219"></a><tt class="py-lineno">219</tt>  <tt class="py-line">        <tt class="py-docstring">"""Make sure that this is the master processor and not a slave.</tt> </tt>
<a name="L220"></a><tt class="py-lineno">220</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L221"></a><tt class="py-lineno">221</tt>  <tt class="py-line"><tt class="py-docstring">        @raises Exception:  If not on the master processor.</tt> </tt>
<a name="L222"></a><tt class="py-lineno">222</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L223"></a><tt class="py-lineno">223</tt>  <tt class="py-line"> </tt>
<a name="L224"></a><tt class="py-lineno">224</tt>  <tt class="py-line">        <tt id="link-29" class="py-name"><a title="multi.misc.raise_unimplemented" class="py-name" href="#" onclick="return doclink('link-29', 'raise_unimplemented', 'link-3');">raise_unimplemented</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-30" class="py-name" targets="Method multi.mpi4py_processor.Mpi4py_processor.assert_on_master()=multi.mpi4py_processor.Mpi4py_processor-class.html#assert_on_master,Method multi.processor.Processor.assert_on_master()=multi.processor.Processor-class.html#assert_on_master,Method multi.uni_processor.Uni_processor.assert_on_master()=multi.uni_processor.Uni_processor-class.html#assert_on_master"><a title="multi.mpi4py_processor.Mpi4py_processor.assert_on_master
multi.processor.Processor.assert_on_master
multi.uni_processor.Uni_processor.assert_on_master" class="py-name" href="#" onclick="return doclink('link-30', 'assert_on_master', 'link-30');">assert_on_master</a></tt><tt class="py-op">)</tt> </tt>
</div><a name="L225"></a><tt class="py-lineno">225</tt>  <tt class="py-line"> </tt>
<a name="L226"></a><tt class="py-lineno">226</tt>  <tt class="py-line"> </tt>
<a name="Processor.exit"></a><div id="Processor.exit-def"><a name="L227"></a><tt class="py-lineno">227</tt> <a class="py-toggle" href="#" id="Processor.exit-toggle" onclick="return toggle('Processor.exit');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#exit">exit</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">status</tt><tt class="py-op">=</tt><tt class="py-number">0</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.exit-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.exit-expanded"><a name="L228"></a><tt class="py-lineno">228</tt>  <tt class="py-line">        <tt class="py-docstring">"""Exit the processor with the given status.</tt> </tt>
<a name="L229"></a><tt class="py-lineno">229</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L230"></a><tt class="py-lineno">230</tt>  <tt class="py-line"><tt class="py-docstring">        This default method allows the program to drop off the end and terminate as it normally would - i.e. this method does nothing.</tt> </tt>
<a name="L231"></a><tt class="py-lineno">231</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L232"></a><tt class="py-lineno">232</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword status:    The program exit status.</tt> </tt>
<a name="L233"></a><tt class="py-lineno">233</tt>  <tt class="py-line"><tt class="py-docstring">        @type status:       int</tt> </tt>
<a name="L234"></a><tt class="py-lineno">234</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
</div><a name="L235"></a><tt class="py-lineno">235</tt>  <tt class="py-line"> </tt>
<a name="L236"></a><tt class="py-lineno">236</tt>  <tt class="py-line"> </tt>
<a name="Processor.fetch_data"></a><div id="Processor.fetch_data-def"><a name="L237"></a><tt class="py-lineno">237</tt> <a class="py-toggle" href="#" id="Processor.fetch_data-toggle" onclick="return toggle('Processor.fetch_data');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#fetch_data">fetch_data</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">name</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.fetch_data-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.fetch_data-expanded"><a name="L238"></a><tt class="py-lineno">238</tt>  <tt class="py-line">        <tt class="py-docstring">"""Fetch the data structure of the given name from the data store.</tt> </tt>
<a name="L239"></a><tt class="py-lineno">239</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L240"></a><tt class="py-lineno">240</tt>  <tt class="py-line"><tt class="py-docstring">        This can be run on the master or slave processors.</tt> </tt>
<a name="L241"></a><tt class="py-lineno">241</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L242"></a><tt class="py-lineno">242</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L243"></a><tt class="py-lineno">243</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword name:  The name of the data structure to fetch.</tt> </tt>
<a name="L244"></a><tt class="py-lineno">244</tt>  <tt class="py-line"><tt class="py-docstring">        @type name:     str</tt> </tt>
<a name="L245"></a><tt class="py-lineno">245</tt>  <tt class="py-line"><tt class="py-docstring">        @return:        The value of the associated data structure.</tt> </tt>
<a name="L246"></a><tt class="py-lineno">246</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:         anything</tt> </tt>
<a name="L247"></a><tt class="py-lineno">247</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L248"></a><tt class="py-lineno">248</tt>  <tt class="py-line"> </tt>
<a name="L249"></a><tt class="py-lineno">249</tt>  <tt class="py-line">        <tt class="py-comment"># Get the object.</tt> </tt>
<a name="L250"></a><tt class="py-lineno">250</tt>  <tt class="py-line">        <tt class="py-name">obj</tt> <tt class="py-op">=</tt> <tt class="py-name">getattr</tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-31" class="py-name"><a title="data_store" class="py-name" href="#" onclick="return doclink('link-31', 'data_store', 'link-23');">data_store</a></tt><tt class="py-op">,</tt> <tt id="link-32" class="py-name" targets="Variable bmrblib.kinetics.auto_relaxation.AutoRelaxationSaveframe.name=bmrblib.kinetics.auto_relaxation.AutoRelaxationSaveframe-class.html#name,Variable bmrblib.kinetics.auto_relaxation_v3_1.AutoRelaxationSaveframe_v3_1.name=bmrblib.kinetics.auto_relaxation_v3_1.AutoRelaxationSaveframe_v3_1-class.html#name,Variable bmrblib.kinetics.heteronucl_NOEs_v2_1.HeteronuclNOESaveframe_v2_1.name=bmrblib.kinetics.heteronucl_NOEs_v2_1.HeteronuclNOESaveframe_v2_1-class.html#name,Variable bmrblib.kinetics.heteronucl_T1_relaxation_v2_1.HeteronuclT1Saveframe_v2_1.name=bmrblib.kinetics.heteronucl_T1_relaxation_v2_1.HeteronuclT1Saveframe_v2_1-class.html#name,Variable bmrblib.kinetics.heteronucl_T1_relaxation_v3_1.HeteronuclT1Saveframe_v3_1.name=bmrblib.kinetics.heteronucl_T1_relaxation_v3_1.HeteronuclT1Saveframe_v3_1-class.html#name,Variable bmrblib.kinetics.heteronucl_T2_relaxation_v2_1.HeteronuclT2Saveframe_v2_1.name=bmrblib.kinetics.heteronucl_T2_relaxation_v2_1.HeteronuclT2Saveframe_v2_1-class.html#name,Variable bmrblib.kinetics.heteronucl_T2_relaxation_v3_1.HeteronuclT2Saveframe_v3_1.name=bmrblib.kinetics.heteronucl_T2_relaxation_v3_1.HeteronuclT2Saveframe_v3_1-class.html#name,Variable pipe_control.pipes.name=pipe_control.pipes-module.html#name,Variable user_functions.pipe.name=user_functions.pipe-module.html#name"><a title="bmrblib.kinetics.auto_relaxation.AutoRelaxationSaveframe.name
bmrblib.kinetics.auto_relaxation_v3_1.AutoRelaxationSaveframe_v3_1.name
bmrblib.kinetics.heteronucl_NOEs_v2_1.HeteronuclNOESaveframe_v2_1.name
bmrblib.kinetics.heteronucl_T1_relaxation_v2_1.HeteronuclT1Saveframe_v2_1.name
bmrblib.kinetics.heteronucl_T1_relaxation_v3_1.HeteronuclT1Saveframe_v3_1.name
bmrblib.kinetics.heteronucl_T2_relaxation_v2_1.HeteronuclT2Saveframe_v2_1.name
bmrblib.kinetics.heteronucl_T2_relaxation_v3_1.HeteronuclT2Saveframe_v3_1.name
pipe_control.pipes.name
user_functions.pipe.name" class="py-name" href="#" onclick="return doclink('link-32', 'name', 'link-32');">name</a></tt><tt class="py-op">)</tt> </tt>
<a name="L251"></a><tt class="py-lineno">251</tt>  <tt class="py-line"> </tt>
<a name="L252"></a><tt class="py-lineno">252</tt>  <tt class="py-line">        <tt class="py-comment"># Return the value.</tt> </tt>
<a name="L253"></a><tt class="py-lineno">253</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt class="py-name">obj</tt> </tt>
</div><a name="L254"></a><tt class="py-lineno">254</tt>  <tt class="py-line"> </tt>
<a name="L255"></a><tt class="py-lineno">255</tt>  <tt class="py-line"> </tt>
<a name="Processor.get_intro_string"></a><div id="Processor.get_intro_string-def"><a name="L256"></a><tt class="py-lineno">256</tt> <a class="py-toggle" href="#" id="Processor.get_intro_string-toggle" onclick="return toggle('Processor.get_intro_string');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#get_intro_string">get_intro_string</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.get_intro_string-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.get_intro_string-expanded"><a name="L257"></a><tt class="py-lineno">257</tt>  <tt class="py-line">        <tt class="py-docstring">"""Get a string describing the multi processor - designed for overriding.</tt> </tt>
<a name="L258"></a><tt class="py-lineno">258</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L259"></a><tt class="py-lineno">259</tt>  <tt class="py-line"><tt class="py-docstring">        The string should be suitable for display at application startup and should be less than 100</tt> </tt>
<a name="L260"></a><tt class="py-lineno">260</tt>  <tt class="py-line"><tt class="py-docstring">        characters wide. A good example is the string returned by mpi4py_processor:</tt> </tt>
<a name="L261"></a><tt class="py-lineno">261</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L262"></a><tt class="py-lineno">262</tt>  <tt class="py-line"><tt class="py-docstring">        &gt;&gt;&gt; MPI running via mpi4py with &lt;n&gt; slave processors &amp; 1 master, mpi version = &lt;x&gt;.&lt;y&gt;</tt> </tt>
<a name="L263"></a><tt class="py-lineno">263</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L264"></a><tt class="py-lineno">264</tt>  <tt class="py-line"><tt class="py-docstring">        @see:       multi.processor.mpi4py_processor.Mpi4py_processor.get_intro_string.</tt> </tt>
<a name="L265"></a><tt class="py-lineno">265</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L266"></a><tt class="py-lineno">266</tt>  <tt class="py-line"><tt class="py-docstring">        @return:    A string describing the multi processor.</tt> </tt>
<a name="L267"></a><tt class="py-lineno">267</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:     str</tt> </tt>
<a name="L268"></a><tt class="py-lineno">268</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L269"></a><tt class="py-lineno">269</tt>  <tt class="py-line"> </tt>
<a name="L270"></a><tt class="py-lineno">270</tt>  <tt class="py-line">        <tt id="link-33" class="py-name"><a title="multi.misc.raise_unimplemented" class="py-name" href="#" onclick="return doclink('link-33', 'raise_unimplemented', 'link-3');">raise_unimplemented</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-34" class="py-name" targets="Method multi.mpi4py_processor.Mpi4py_processor.get_intro_string()=multi.mpi4py_processor.Mpi4py_processor-class.html#get_intro_string,Method multi.processor.Processor.get_intro_string()=multi.processor.Processor-class.html#get_intro_string,Method multi.uni_processor.Uni_processor.get_intro_string()=multi.uni_processor.Uni_processor-class.html#get_intro_string"><a title="multi.mpi4py_processor.Mpi4py_processor.get_intro_string
multi.processor.Processor.get_intro_string
multi.uni_processor.Uni_processor.get_intro_string" class="py-name" href="#" onclick="return doclink('link-34', 'get_intro_string', 'link-34');">get_intro_string</a></tt><tt class="py-op">)</tt> </tt>
</div><a name="L271"></a><tt class="py-lineno">271</tt>  <tt class="py-line"> </tt>
<a name="L272"></a><tt class="py-lineno">272</tt>  <tt class="py-line"> </tt>
<a name="Processor.get_name"></a><div id="Processor.get_name-def"><a name="L273"></a><tt class="py-lineno">273</tt> <a class="py-toggle" href="#" id="Processor.get_name-toggle" onclick="return toggle('Processor.get_name');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#get_name">get_name</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.get_name-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.get_name-expanded"><a name="L274"></a><tt class="py-lineno">274</tt>  <tt class="py-line">        <tt class="py-docstring">"""Get the name of the current processor - an abstract method.</tt> </tt>
<a name="L275"></a><tt class="py-lineno">275</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L276"></a><tt class="py-lineno">276</tt>  <tt class="py-line"><tt class="py-docstring">        The string should identify the current master or slave processor uniquely but is purely for</tt> </tt>
<a name="L277"></a><tt class="py-lineno">277</tt>  <tt class="py-line"><tt class="py-docstring">        information and debugging. For example the mpi implementation uses the string</tt> </tt>
<a name="L278"></a><tt class="py-lineno">278</tt>  <tt class="py-line"><tt class="py-docstring">        &lt;host-name&gt;-&lt;process-id&gt; whereas the thread implementation uses the id of the current thread</tt> </tt>
<a name="L279"></a><tt class="py-lineno">279</tt>  <tt class="py-line"><tt class="py-docstring">        as provided by python.</tt> </tt>
<a name="L280"></a><tt class="py-lineno">280</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L281"></a><tt class="py-lineno">281</tt>  <tt class="py-line"><tt class="py-docstring">        @return:    The processor identifier.</tt> </tt>
<a name="L282"></a><tt class="py-lineno">282</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:     str</tt> </tt>
<a name="L283"></a><tt class="py-lineno">283</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L284"></a><tt class="py-lineno">284</tt>  <tt class="py-line"> </tt>
<a name="L285"></a><tt class="py-lineno">285</tt>  <tt class="py-line">        <tt id="link-35" class="py-name"><a title="multi.misc.raise_unimplemented" class="py-name" href="#" onclick="return doclink('link-35', 'raise_unimplemented', 'link-3');">raise_unimplemented</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-36" class="py-name" targets="Method multi.mpi4py_processor.Mpi4py_processor.get_name()=multi.mpi4py_processor.Mpi4py_processor-class.html#get_name,Method multi.processor.Processor.get_name()=multi.processor.Processor-class.html#get_name,Method multi.uni_processor.Uni_processor.get_name()=multi.uni_processor.Uni_processor-class.html#get_name"><a title="multi.mpi4py_processor.Mpi4py_processor.get_name
multi.processor.Processor.get_name
multi.uni_processor.Uni_processor.get_name" class="py-name" href="#" onclick="return doclink('link-36', 'get_name', 'link-36');">get_name</a></tt><tt class="py-op">)</tt> </tt>
</div><a name="L286"></a><tt class="py-lineno">286</tt>  <tt class="py-line"> </tt>
<a name="L287"></a><tt class="py-lineno">287</tt>  <tt class="py-line"> </tt>
<a name="Processor.get_stdio_pre_strings"></a><div id="Processor.get_stdio_pre_strings-def"><a name="L288"></a><tt class="py-lineno">288</tt> <a class="py-toggle" href="#" id="Processor.get_stdio_pre_strings-toggle" onclick="return toggle('Processor.get_stdio_pre_strings');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#get_stdio_pre_strings">get_stdio_pre_strings</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.get_stdio_pre_strings-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.get_stdio_pre_strings-expanded"><a name="L289"></a><tt class="py-lineno">289</tt>  <tt class="py-line">        <tt class="py-docstring">"""Get the strings used prepend STDOUT and STDERR dependant on the current rank.</tt> </tt>
<a name="L290"></a><tt class="py-lineno">290</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L291"></a><tt class="py-lineno">291</tt>  <tt class="py-line"><tt class="py-docstring">        For processors with only one slave the result should be ('', '') - designed for overriding.</tt> </tt>
<a name="L292"></a><tt class="py-lineno">292</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L293"></a><tt class="py-lineno">293</tt>  <tt class="py-line"><tt class="py-docstring">        @note:  The defaults are ('M S|', 'M E|') and ('NN S|' , 'NN E|') for masters and slaves</tt> </tt>
<a name="L294"></a><tt class="py-lineno">294</tt>  <tt class="py-line"><tt class="py-docstring">                respectively with NN replaced by the rank of the processor.</tt> </tt>
<a name="L295"></a><tt class="py-lineno">295</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L296"></a><tt class="py-lineno">296</tt>  <tt class="py-line"><tt class="py-docstring">        @return:    A list of two strings for prepending to each line of STDOUT and STDERR.</tt> </tt>
<a name="L297"></a><tt class="py-lineno">297</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:     list of 2 str</tt> </tt>
<a name="L298"></a><tt class="py-lineno">298</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L299"></a><tt class="py-lineno">299</tt>  <tt class="py-line"> </tt>
<a name="L300"></a><tt class="py-lineno">300</tt>  <tt class="py-line">        <tt class="py-comment"># Only prepend test if the verbosity level is set.</tt> </tt>
<a name="L301"></a><tt class="py-lineno">301</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt id="link-37" class="py-name"><a title="bmrblib.pystarlib.Text.verbosity
bmrblib.pystarlib.verbosity
multi.multi_processor_base.verbosity
multi.processor.verbosity" class="py-name" href="#" onclick="return doclink('link-37', 'verbosity', 'link-5');">verbosity</a></tt><tt class="py-op">.</tt><tt id="link-38" class="py-name" targets="Method multi.misc.Verbosity.level()=multi.misc.Verbosity-class.html#level"><a title="multi.misc.Verbosity.level" class="py-name" href="#" onclick="return doclink('link-38', 'level', 'link-38');">level</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L302"></a><tt class="py-lineno">302</tt>  <tt class="py-line">            <tt class="py-keyword">return</tt> <tt class="py-string">''</tt><tt class="py-op">,</tt> <tt class="py-string">''</tt> </tt>
<a name="L303"></a><tt class="py-lineno">303</tt>  <tt class="py-line"> </tt>
<a name="L304"></a><tt class="py-lineno">304</tt>  <tt class="py-line">        <tt class="py-comment"># Initialise.</tt> </tt>
<a name="L305"></a><tt class="py-lineno">305</tt>  <tt class="py-line">        <tt class="py-name">pre_string</tt> <tt class="py-op">=</tt> <tt class="py-string">''</tt> </tt>
<a name="L306"></a><tt class="py-lineno">306</tt>  <tt class="py-line">        <tt class="py-name">stdout_string</tt> <tt class="py-op">=</tt> <tt class="py-string">''</tt> </tt>
<a name="L307"></a><tt class="py-lineno">307</tt>  <tt class="py-line">        <tt class="py-name">stderr_string</tt> <tt class="py-op">=</tt> <tt class="py-string">''</tt> </tt>
<a name="L308"></a><tt class="py-lineno">308</tt>  <tt class="py-line">        <tt id="link-39" class="py-name" targets="Method multi.mpi4py_processor.Mpi4py_processor.rank()=multi.mpi4py_processor.Mpi4py_processor-class.html#rank,Method multi.processor.Processor.rank()=multi.processor.Processor-class.html#rank,Method multi.uni_processor.Uni_processor.rank()=multi.uni_processor.Uni_processor-class.html#rank"><a title="multi.mpi4py_processor.Mpi4py_processor.rank
multi.processor.Processor.rank
multi.uni_processor.Uni_processor.rank" class="py-name" href="#" onclick="return doclink('link-39', 'rank', 'link-39');">rank</a></tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-40" class="py-name"><a title="multi.mpi4py_processor.Mpi4py_processor.rank
multi.processor.Processor.rank
multi.uni_processor.Uni_processor.rank" class="py-name" href="#" onclick="return doclink('link-40', 'rank', 'link-39');">rank</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L309"></a><tt class="py-lineno">309</tt>  <tt class="py-line"> </tt>
<a name="L310"></a><tt class="py-lineno">310</tt>  <tt class="py-line">        <tt class="py-comment"># Start of the slave string.</tt> </tt>
<a name="L311"></a><tt class="py-lineno">311</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-41" class="py-name"><a title="multi.processor.Processor.processor_size
multi.uni_processor.Uni_processor.processor_size" class="py-name" href="#" onclick="return doclink('link-41', 'processor_size', 'link-25');">processor_size</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> <tt class="py-op">&gt;</tt> <tt class="py-number">1</tt> <tt class="py-keyword">and</tt> <tt id="link-42" class="py-name"><a title="multi.mpi4py_processor.Mpi4py_processor.rank
multi.processor.Processor.rank
multi.uni_processor.Uni_processor.rank" class="py-name" href="#" onclick="return doclink('link-42', 'rank', 'link-39');">rank</a></tt> <tt class="py-op">&gt;</tt> <tt class="py-number">0</tt><tt class="py-op">:</tt> </tt>
<a name="L312"></a><tt class="py-lineno">312</tt>  <tt class="py-line">            <tt class="py-name">pre_string</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-43" class="py-name" targets="Method multi.processor.Processor.rank_format_string()=multi.processor.Processor-class.html#rank_format_string"><a title="multi.processor.Processor.rank_format_string" class="py-name" href="#" onclick="return doclink('link-43', 'rank_format_string', 'link-43');">rank_format_string</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> <tt class="py-op">%</tt> <tt id="link-44" class="py-name"><a title="multi.mpi4py_processor.Mpi4py_processor.rank
multi.processor.Processor.rank
multi.uni_processor.Uni_processor.rank" class="py-name" href="#" onclick="return doclink('link-44', 'rank', 'link-39');">rank</a></tt> </tt>
<a name="L313"></a><tt class="py-lineno">313</tt>  <tt class="py-line"> </tt>
<a name="L314"></a><tt class="py-lineno">314</tt>  <tt class="py-line">        <tt class="py-comment"># Start of the master string.</tt> </tt>
<a name="L315"></a><tt class="py-lineno">315</tt>  <tt class="py-line">        <tt class="py-keyword">elif</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-45" class="py-name"><a title="multi.processor.Processor.processor_size
multi.uni_processor.Uni_processor.processor_size" class="py-name" href="#" onclick="return doclink('link-45', 'processor_size', 'link-25');">processor_size</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> <tt class="py-op">&gt;</tt> <tt class="py-number">1</tt> <tt class="py-keyword">and</tt> <tt id="link-46" class="py-name"><a title="multi.mpi4py_processor.Mpi4py_processor.rank
multi.processor.Processor.rank
multi.uni_processor.Uni_processor.rank" class="py-name" href="#" onclick="return doclink('link-46', 'rank', 'link-39');">rank</a></tt> <tt class="py-op">==</tt> <tt class="py-number">0</tt><tt class="py-op">:</tt> </tt>
<a name="L316"></a><tt class="py-lineno">316</tt>  <tt class="py-line">            <tt class="py-name">pre_string</tt> <tt class="py-op">=</tt> <tt class="py-string">'M'</tt><tt class="py-op">*</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-47" class="py-name" targets="Method multi.processor.Processor.rank_format_string_width()=multi.processor.Processor-class.html#rank_format_string_width"><a title="multi.processor.Processor.rank_format_string_width" class="py-name" href="#" onclick="return doclink('link-47', 'rank_format_string_width', 'link-47');">rank_format_string_width</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L317"></a><tt class="py-lineno">317</tt>  <tt class="py-line"> </tt>
<a name="L318"></a><tt class="py-lineno">318</tt>  <tt class="py-line">        <tt class="py-comment"># For multi-processors, the STDOUT and STDERR indicators, and the separator.</tt> </tt>
<a name="L319"></a><tt class="py-lineno">319</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-48" class="py-name"><a title="multi.processor.Processor.processor_size
multi.uni_processor.Uni_processor.processor_size" class="py-name" href="#" onclick="return doclink('link-48', 'processor_size', 'link-25');">processor_size</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> <tt class="py-op">&gt;</tt> <tt class="py-number">1</tt><tt class="py-op">:</tt> </tt>
<a name="L320"></a><tt class="py-lineno">320</tt>  <tt class="py-line">            <tt class="py-name">stderr_string</tt> <tt class="py-op">=</tt> <tt class="py-name">pre_string</tt> <tt class="py-op">+</tt> <tt class="py-string">' E| '</tt> </tt>
<a name="L321"></a><tt class="py-lineno">321</tt>  <tt class="py-line">            <tt class="py-name">stdout_string</tt> <tt class="py-op">=</tt> <tt class="py-name">pre_string</tt> <tt class="py-op">+</tt> <tt class="py-string">'  | '</tt> </tt>
<a name="L322"></a><tt class="py-lineno">322</tt>  <tt class="py-line"> </tt>
<a name="L323"></a><tt class="py-lineno">323</tt>  <tt class="py-line">        <tt class="py-comment"># Return the strings to prepend to the STDOUT and STDERR streams.</tt> </tt>
<a name="L324"></a><tt class="py-lineno">324</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt class="py-name">stdout_string</tt><tt class="py-op">,</tt> <tt class="py-name">stderr_string</tt> </tt>
</div><a name="L325"></a><tt class="py-lineno">325</tt>  <tt class="py-line"> </tt>
<a name="L326"></a><tt class="py-lineno">326</tt>  <tt class="py-line"> </tt>
<a name="Processor.get_time_delta"></a><div id="Processor.get_time_delta-def"><a name="L327"></a><tt class="py-lineno">327</tt> <a class="py-toggle" href="#" id="Processor.get_time_delta-toggle" onclick="return toggle('Processor.get_time_delta');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#get_time_delta">get_time_delta</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">start_time</tt><tt class="py-op">,</tt> <tt class="py-param">end_time</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.get_time_delta-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.get_time_delta-expanded"><a name="L328"></a><tt class="py-lineno">328</tt>  <tt class="py-line">        <tt class="py-docstring">"""Utility function called to format the difference between application start and end times.</tt> </tt>
<a name="L329"></a><tt class="py-lineno">329</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L330"></a><tt class="py-lineno">330</tt>  <tt class="py-line"><tt class="py-docstring">        @todo:  Check my format is correct.</tt> </tt>
<a name="L331"></a><tt class="py-lineno">331</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L332"></a><tt class="py-lineno">332</tt>  <tt class="py-line"><tt class="py-docstring">        @param start_time:  The time the application started in seconds since the epoch.</tt> </tt>
<a name="L333"></a><tt class="py-lineno">333</tt>  <tt class="py-line"><tt class="py-docstring">        @type start_time:   float</tt> </tt>
<a name="L334"></a><tt class="py-lineno">334</tt>  <tt class="py-line"><tt class="py-docstring">        @param end_time:    The time the application ended in seconds since the epoch.</tt> </tt>
<a name="L335"></a><tt class="py-lineno">335</tt>  <tt class="py-line"><tt class="py-docstring">        @type end_time:     float</tt> </tt>
<a name="L336"></a><tt class="py-lineno">336</tt>  <tt class="py-line"><tt class="py-docstring">        @return:            The time difference in the format 'hours:minutes:seconds'.</tt> </tt>
<a name="L337"></a><tt class="py-lineno">337</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:             str</tt> </tt>
<a name="L338"></a><tt class="py-lineno">338</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L339"></a><tt class="py-lineno">339</tt>  <tt class="py-line"> </tt>
<a name="L340"></a><tt class="py-lineno">340</tt>  <tt class="py-line">        <tt class="py-name">time_diff</tt> <tt class="py-op">=</tt> <tt class="py-name">end_time</tt> <tt class="py-op">-</tt> <tt class="py-name">start_time</tt> </tt>
<a name="L341"></a><tt class="py-lineno">341</tt>  <tt class="py-line">        <tt class="py-name">time_delta</tt> <tt class="py-op">=</tt> <tt class="py-name">datetime</tt><tt class="py-op">.</tt><tt class="py-name">timedelta</tt><tt class="py-op">(</tt><tt class="py-name">seconds</tt><tt class="py-op">=</tt><tt class="py-name">time_diff</tt><tt class="py-op">)</tt> </tt>
<a name="L342"></a><tt class="py-lineno">342</tt>  <tt class="py-line">        <tt class="py-name">time_delta_str</tt> <tt class="py-op">=</tt> <tt class="py-name">time_delta</tt><tt class="py-op">.</tt><tt id="link-49" class="py-name" targets="Method lib.errors.BaseError.__str__()=lib.errors.BaseError-class.html#__str__,Method lib.errors.RelaxFault.__str__()=lib.errors.RelaxFault-class.html#__str__,Method lib.warnings.BaseWarning.__str__()=lib.warnings.BaseWarning-class.html#__str__,Method minfx.errors.BaseError.__str__()=minfx.errors.BaseError-class.html#__str__,Method multi.misc.Capturing_exception.__str__()=multi.misc.Capturing_exception-class.html#__str__"><a title="lib.errors.BaseError.__str__
lib.errors.RelaxFault.__str__
lib.warnings.BaseWarning.__str__
minfx.errors.BaseError.__str__
multi.misc.Capturing_exception.__str__" class="py-name" href="#" onclick="return doclink('link-49', '__str__', 'link-49');">__str__</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L343"></a><tt class="py-lineno">343</tt>  <tt class="py-line">        <tt class="py-op">(</tt><tt class="py-name">time_delta_str</tt><tt class="py-op">,</tt> <tt class="py-name">millis</tt><tt class="py-op">)</tt> <tt class="py-op">=</tt> <tt class="py-name">time_delta_str</tt><tt class="py-op">.</tt><tt id="link-50" class="py-name" targets="Method lib.io.SplitIO.split()=lib.io.SplitIO-class.html#split"><a title="lib.io.SplitIO.split" class="py-name" href="#" onclick="return doclink('link-50', 'split', 'link-50');">split</a></tt><tt class="py-op">(</tt><tt class="py-string">'.'</tt><tt class="py-op">,</tt> <tt class="py-number">1</tt><tt class="py-op">)</tt> </tt>
<a name="L344"></a><tt class="py-lineno">344</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt class="py-name">time_delta_str</tt> </tt>
</div><a name="L345"></a><tt class="py-lineno">345</tt>  <tt class="py-line"> </tt>
<a name="L346"></a><tt class="py-lineno">346</tt>  <tt class="py-line"> </tt>
<a name="Processor.is_queued"></a><div id="Processor.is_queued-def"><a name="L347"></a><tt class="py-lineno">347</tt> <a class="py-toggle" href="#" id="Processor.is_queued-toggle" onclick="return toggle('Processor.is_queued');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#is_queued">is_queued</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.is_queued-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.is_queued-expanded"><a name="L348"></a><tt class="py-lineno">348</tt>  <tt class="py-line">        <tt class="py-docstring">"""Determine if any slave commands are queued.</tt> </tt>
<a name="L349"></a><tt class="py-lineno">349</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L350"></a><tt class="py-lineno">350</tt>  <tt class="py-line"><tt class="py-docstring">        @return:    True if slave commands are in the queue, False otherwise.</tt> </tt>
<a name="L351"></a><tt class="py-lineno">351</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:     bool</tt> </tt>
<a name="L352"></a><tt class="py-lineno">352</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L353"></a><tt class="py-lineno">353</tt>  <tt class="py-line"> </tt>
<a name="L354"></a><tt class="py-lineno">354</tt>  <tt class="py-line">        <tt class="py-comment"># The standard command queue.</tt> </tt>
<a name="L355"></a><tt class="py-lineno">355</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">command_queue</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L356"></a><tt class="py-lineno">356</tt>  <tt class="py-line">            <tt class="py-keyword">return</tt> <tt class="py-name">True</tt> </tt>
<a name="L357"></a><tt class="py-lineno">357</tt>  <tt class="py-line"> </tt>
<a name="L358"></a><tt class="py-lineno">358</tt>  <tt class="py-line">        <tt class="py-comment"># Nothing.</tt> </tt>
<a name="L359"></a><tt class="py-lineno">359</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt class="py-name">False</tt> </tt>
</div><a name="L360"></a><tt class="py-lineno">360</tt>  <tt class="py-line"> </tt>
<a name="L361"></a><tt class="py-lineno">361</tt>  <tt class="py-line"> </tt>
<a name="Processor.master_queue_command"></a><div id="Processor.master_queue_command-def"><a name="L362"></a><tt class="py-lineno">362</tt> <a class="py-toggle" href="#" id="Processor.master_queue_command-toggle" onclick="return toggle('Processor.master_queue_command');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#master_queue_command">master_queue_command</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">command</tt><tt class="py-op">,</tt> <tt class="py-param">dest</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.master_queue_command-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.master_queue_command-expanded"><a name="L363"></a><tt class="py-lineno">363</tt>  <tt class="py-line">        <tt class="py-docstring">"""Slave to master processor data transfer - send the result command from the slave.</tt> </tt>
<a name="L364"></a><tt class="py-lineno">364</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L365"></a><tt class="py-lineno">365</tt>  <tt class="py-line"><tt class="py-docstring">        This is invoked by the slave processor.</tt> </tt>
<a name="L366"></a><tt class="py-lineno">366</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L367"></a><tt class="py-lineno">367</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L368"></a><tt class="py-lineno">368</tt>  <tt class="py-line"><tt class="py-docstring">        @param command: The results command to send to the master.</tt> </tt>
<a name="L369"></a><tt class="py-lineno">369</tt>  <tt class="py-line"><tt class="py-docstring">        @type command:  Results_command instance</tt> </tt>
<a name="L370"></a><tt class="py-lineno">370</tt>  <tt class="py-line"><tt class="py-docstring">        @param dest:    The destination processor's rank.</tt> </tt>
<a name="L371"></a><tt class="py-lineno">371</tt>  <tt class="py-line"><tt class="py-docstring">        @type dest:     int</tt> </tt>
<a name="L372"></a><tt class="py-lineno">372</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L373"></a><tt class="py-lineno">373</tt>  <tt class="py-line"> </tt>
<a name="L374"></a><tt class="py-lineno">374</tt>  <tt class="py-line">        <tt id="link-51" class="py-name"><a title="multi.misc.raise_unimplemented" class="py-name" href="#" onclick="return doclink('link-51', 'raise_unimplemented', 'link-3');">raise_unimplemented</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-52" class="py-name" targets="Method multi.mpi4py_processor.Mpi4py_processor.master_queue_command()=multi.mpi4py_processor.Mpi4py_processor-class.html#master_queue_command,Method multi.processor.Processor.master_queue_command()=multi.processor.Processor-class.html#master_queue_command,Method multi.uni_processor.Uni_processor.master_queue_command()=multi.uni_processor.Uni_processor-class.html#master_queue_command"><a title="multi.mpi4py_processor.Mpi4py_processor.master_queue_command
multi.processor.Processor.master_queue_command
multi.uni_processor.Uni_processor.master_queue_command" class="py-name" href="#" onclick="return doclink('link-52', 'master_queue_command', 'link-52');">master_queue_command</a></tt><tt class="py-op">)</tt> </tt>
</div><a name="L375"></a><tt class="py-lineno">375</tt>  <tt class="py-line"> </tt>
<a name="L376"></a><tt class="py-lineno">376</tt>  <tt class="py-line"> </tt>
<a name="Processor.master_receive_result"></a><div id="Processor.master_receive_result-def"><a name="L377"></a><tt class="py-lineno">377</tt> <a class="py-toggle" href="#" id="Processor.master_receive_result-toggle" onclick="return toggle('Processor.master_receive_result');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#master_receive_result">master_receive_result</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.master_receive_result-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.master_receive_result-expanded"><a name="L378"></a><tt class="py-lineno">378</tt>  <tt class="py-line">        <tt class="py-docstring">"""Slave to master processor data transfer - receive the result command from the slave.</tt> </tt>
<a name="L379"></a><tt class="py-lineno">379</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L380"></a><tt class="py-lineno">380</tt>  <tt class="py-line"><tt class="py-docstring">        This is invoked by the master processor.</tt> </tt>
<a name="L381"></a><tt class="py-lineno">381</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L382"></a><tt class="py-lineno">382</tt>  <tt class="py-line"><tt class="py-docstring">        @return:        The result command sent by the slave.</tt> </tt>
<a name="L383"></a><tt class="py-lineno">383</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:         Result_command instance</tt> </tt>
<a name="L384"></a><tt class="py-lineno">384</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L385"></a><tt class="py-lineno">385</tt>  <tt class="py-line"> </tt>
<a name="L386"></a><tt class="py-lineno">386</tt>  <tt class="py-line">        <tt id="link-53" class="py-name"><a title="multi.misc.raise_unimplemented" class="py-name" href="#" onclick="return doclink('link-53', 'raise_unimplemented', 'link-3');">raise_unimplemented</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-54" class="py-name" targets="Method multi.mpi4py_processor.Mpi4py_processor.master_receive_result()=multi.mpi4py_processor.Mpi4py_processor-class.html#master_receive_result,Method multi.processor.Processor.master_receive_result()=multi.processor.Processor-class.html#master_receive_result,Method multi.uni_processor.Uni_processor.master_receive_result()=multi.uni_processor.Uni_processor-class.html#master_receive_result"><a title="multi.mpi4py_processor.Mpi4py_processor.master_receive_result
multi.processor.Processor.master_receive_result
multi.uni_processor.Uni_processor.master_receive_result" class="py-name" href="#" onclick="return doclink('link-54', 'master_receive_result', 'link-54');">master_receive_result</a></tt><tt class="py-op">)</tt> </tt>
</div><a name="L387"></a><tt class="py-lineno">387</tt>  <tt class="py-line"> </tt>
<a name="L388"></a><tt class="py-lineno">388</tt>  <tt class="py-line"> </tt>
<a name="Processor.post_run"></a><div id="Processor.post_run-def"><a name="L389"></a><tt class="py-lineno">389</tt> <a class="py-toggle" href="#" id="Processor.post_run-toggle" onclick="return toggle('Processor.post_run');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#post_run">post_run</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.post_run-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.post_run-expanded"><a name="L390"></a><tt class="py-lineno">390</tt>  <tt class="py-line">        <tt class="py-docstring">"""Method called after the application main loop has finished - designed for overriding.</tt> </tt>
<a name="L391"></a><tt class="py-lineno">391</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L392"></a><tt class="py-lineno">392</tt>  <tt class="py-line"><tt class="py-docstring">        The default implementation outputs the application runtime to STDOUT. All subclasses should</tt> </tt>
<a name="L393"></a><tt class="py-lineno">393</tt>  <tt class="py-line"><tt class="py-docstring">        call the base method as their last action via super().  Only called on the master on normal</tt> </tt>
<a name="L394"></a><tt class="py-lineno">394</tt>  <tt class="py-line"><tt class="py-docstring">        exit from the applications run loop.</tt> </tt>
<a name="L395"></a><tt class="py-lineno">395</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L396"></a><tt class="py-lineno">396</tt>  <tt class="py-line"> </tt>
<a name="L397"></a><tt class="py-lineno">397</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-55" class="py-name"><a title="multi.mpi4py_processor.Mpi4py_processor.rank
multi.processor.Processor.rank
multi.uni_processor.Uni_processor.rank" class="py-name" href="#" onclick="return doclink('link-55', 'rank', 'link-39');">rank</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> <tt class="py-op">==</tt> <tt class="py-number">0</tt><tt class="py-op">:</tt> </tt>
<a name="L398"></a><tt class="py-lineno">398</tt>  <tt class="py-line">            <tt class="py-name">end_time</tt> <tt class="py-op">=</tt> <tt class="py-name">time</tt><tt class="py-op">.</tt><tt class="py-name">time</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L399"></a><tt class="py-lineno">399</tt>  <tt class="py-line">            <tt class="py-name">time_delta_str</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-56" class="py-name" targets="Method multi.processor.Processor.get_time_delta()=multi.processor.Processor-class.html#get_time_delta"><a title="multi.processor.Processor.get_time_delta" class="py-name" href="#" onclick="return doclink('link-56', 'get_time_delta', 'link-56');">get_time_delta</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">start_time</tt><tt class="py-op">,</tt> <tt class="py-name">end_time</tt><tt class="py-op">)</tt> </tt>
<a name="L400"></a><tt class="py-lineno">400</tt>  <tt class="py-line"> </tt>
<a name="L401"></a><tt class="py-lineno">401</tt>  <tt class="py-line">            <tt class="py-comment"># Print out of the total run time.</tt> </tt>
<a name="L402"></a><tt class="py-lineno">402</tt>  <tt class="py-line">            <tt class="py-keyword">if</tt> <tt id="link-57" class="py-name"><a title="bmrblib.pystarlib.Text.verbosity
bmrblib.pystarlib.verbosity
multi.multi_processor_base.verbosity
multi.processor.verbosity" class="py-name" href="#" onclick="return doclink('link-57', 'verbosity', 'link-5');">verbosity</a></tt><tt class="py-op">.</tt><tt id="link-58" class="py-name"><a title="multi.misc.Verbosity.level" class="py-name" href="#" onclick="return doclink('link-58', 'level', 'link-38');">level</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L403"></a><tt class="py-lineno">403</tt>  <tt class="py-line">                <tt class="py-keyword">print</tt><tt class="py-op">(</tt><tt class="py-string">'\nOverall runtime: '</tt> <tt class="py-op">+</tt> <tt class="py-name">time_delta_str</tt> <tt class="py-op">+</tt> <tt class="py-string">'\n'</tt><tt class="py-op">)</tt> </tt>
</div><a name="L404"></a><tt class="py-lineno">404</tt>  <tt class="py-line"> </tt>
<a name="L405"></a><tt class="py-lineno">405</tt>  <tt class="py-line"> </tt>
<a name="Processor.pre_run"></a><div id="Processor.pre_run-def"><a name="L406"></a><tt class="py-lineno">406</tt> <a class="py-toggle" href="#" id="Processor.pre_run-toggle" onclick="return toggle('Processor.pre_run');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#pre_run">pre_run</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.pre_run-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.pre_run-expanded"><a name="L407"></a><tt class="py-lineno">407</tt>  <tt class="py-line">        <tt class="py-docstring">"""Method called before starting the application main loop - designed for overriding.</tt> </tt>
<a name="L408"></a><tt class="py-lineno">408</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L409"></a><tt class="py-lineno">409</tt>  <tt class="py-line"><tt class="py-docstring">        The default implementation just saves the start time for application timing. All subclasses</tt> </tt>
<a name="L410"></a><tt class="py-lineno">410</tt>  <tt class="py-line"><tt class="py-docstring">        should call the base method via super(). Only called on the master.</tt> </tt>
<a name="L411"></a><tt class="py-lineno">411</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L412"></a><tt class="py-lineno">412</tt>  <tt class="py-line"> </tt>
<a name="L413"></a><tt class="py-lineno">413</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-59" class="py-name"><a title="multi.mpi4py_processor.Mpi4py_processor.rank
multi.processor.Processor.rank
multi.uni_processor.Uni_processor.rank" class="py-name" href="#" onclick="return doclink('link-59', 'rank', 'link-39');">rank</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> <tt class="py-op">==</tt> <tt class="py-number">0</tt><tt class="py-op">:</tt> </tt>
<a name="L414"></a><tt class="py-lineno">414</tt>  <tt class="py-line">            <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">start_time</tt> <tt class="py-op">=</tt> <tt class="py-name">time</tt><tt class="py-op">.</tt><tt class="py-name">time</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div><a name="L415"></a><tt class="py-lineno">415</tt>  <tt class="py-line"> </tt>
<a name="L416"></a><tt class="py-lineno">416</tt>  <tt class="py-line"> </tt>
<a name="Processor.processor_size"></a><div id="Processor.processor_size-def"><a name="L417"></a><tt class="py-lineno">417</tt> <a class="py-toggle" href="#" id="Processor.processor_size-toggle" onclick="return toggle('Processor.processor_size');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#processor_size">processor_size</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.processor_size-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.processor_size-expanded"><a name="L418"></a><tt class="py-lineno">418</tt>  <tt class="py-line">        <tt class="py-docstring">"""Get the number of slave processors - designed for overriding.</tt> </tt>
<a name="L419"></a><tt class="py-lineno">419</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L420"></a><tt class="py-lineno">420</tt>  <tt class="py-line"><tt class="py-docstring">        @return:    The number of slave processors.</tt> </tt>
<a name="L421"></a><tt class="py-lineno">421</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:     int</tt> </tt>
<a name="L422"></a><tt class="py-lineno">422</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L423"></a><tt class="py-lineno">423</tt>  <tt class="py-line"> </tt>
<a name="L424"></a><tt class="py-lineno">424</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">_processor_size</tt> </tt>
</div><a name="L425"></a><tt class="py-lineno">425</tt>  <tt class="py-line"> </tt>
<a name="L426"></a><tt class="py-lineno">426</tt>  <tt class="py-line"> </tt>
<a name="Processor.rank"></a><div id="Processor.rank-def"><a name="L427"></a><tt class="py-lineno">427</tt> <a class="py-toggle" href="#" id="Processor.rank-toggle" onclick="return toggle('Processor.rank');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#rank">rank</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.rank-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.rank-expanded"><a name="L428"></a><tt class="py-lineno">428</tt>  <tt class="py-line">        <tt class="py-docstring">"""Get the rank of this processor - an abstract method.</tt> </tt>
<a name="L429"></a><tt class="py-lineno">429</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L430"></a><tt class="py-lineno">430</tt>  <tt class="py-line"><tt class="py-docstring">        The rank of the processor should be a number between 0 and n where n is the number of slave</tt> </tt>
<a name="L431"></a><tt class="py-lineno">431</tt>  <tt class="py-line"><tt class="py-docstring">        processors, the rank of 0 is reserved for the master processor.</tt> </tt>
<a name="L432"></a><tt class="py-lineno">432</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L433"></a><tt class="py-lineno">433</tt>  <tt class="py-line"><tt class="py-docstring">        @return:    The rank of the processor.</tt> </tt>
<a name="L434"></a><tt class="py-lineno">434</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:     int</tt> </tt>
<a name="L435"></a><tt class="py-lineno">435</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L436"></a><tt class="py-lineno">436</tt>  <tt class="py-line"> </tt>
<a name="L437"></a><tt class="py-lineno">437</tt>  <tt class="py-line">        <tt id="link-60" class="py-name"><a title="multi.misc.raise_unimplemented" class="py-name" href="#" onclick="return doclink('link-60', 'raise_unimplemented', 'link-3');">raise_unimplemented</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-61" class="py-name"><a title="multi.mpi4py_processor.Mpi4py_processor.rank
multi.processor.Processor.rank
multi.uni_processor.Uni_processor.rank" class="py-name" href="#" onclick="return doclink('link-61', 'rank', 'link-39');">rank</a></tt><tt class="py-op">)</tt> </tt>
</div><a name="L438"></a><tt class="py-lineno">438</tt>  <tt class="py-line"> </tt>
<a name="L439"></a><tt class="py-lineno">439</tt>  <tt class="py-line"> </tt>
<a name="Processor.rank_format_string"></a><div id="Processor.rank_format_string-def"><a name="L440"></a><tt class="py-lineno">440</tt> <a class="py-toggle" href="#" id="Processor.rank_format_string-toggle" onclick="return toggle('Processor.rank_format_string');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#rank_format_string">rank_format_string</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.rank_format_string-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.rank_format_string-expanded"><a name="L441"></a><tt class="py-lineno">441</tt>  <tt class="py-line">        <tt class="py-docstring">"""Get a formatted string with the rank of a slave.</tt> </tt>
<a name="L442"></a><tt class="py-lineno">442</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L443"></a><tt class="py-lineno">443</tt>  <tt class="py-line"><tt class="py-docstring">        Only called on slaves.</tt> </tt>
<a name="L444"></a><tt class="py-lineno">444</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L445"></a><tt class="py-lineno">445</tt>  <tt class="py-line"><tt class="py-docstring">        @return:    The string designating the rank of the slave.</tt> </tt>
<a name="L446"></a><tt class="py-lineno">446</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:     str</tt> </tt>
<a name="L447"></a><tt class="py-lineno">447</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L448"></a><tt class="py-lineno">448</tt>  <tt class="py-line"> </tt>
<a name="L449"></a><tt class="py-lineno">449</tt>  <tt class="py-line">        <tt class="py-name">digits</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-62" class="py-name"><a title="multi.processor.Processor.rank_format_string_width" class="py-name" href="#" onclick="return doclink('link-62', 'rank_format_string_width', 'link-47');">rank_format_string_width</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L450"></a><tt class="py-lineno">450</tt>  <tt class="py-line">        <tt id="link-63" class="py-name" targets="Module lib.frame_order.format=lib.frame_order.format-module.html,Function lib.warnings.format()=lib.warnings-module.html#format"><a title="lib.frame_order.format
lib.warnings.format" class="py-name" href="#" onclick="return doclink('link-63', 'format', 'link-63');">format</a></tt> <tt class="py-op">=</tt> <tt class="py-string">'%%%di'</tt> <tt class="py-op">%</tt> <tt class="py-name">digits</tt> </tt>
<a name="L451"></a><tt class="py-lineno">451</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt id="link-64" class="py-name"><a title="lib.frame_order.format
lib.warnings.format" class="py-name" href="#" onclick="return doclink('link-64', 'format', 'link-63');">format</a></tt> </tt>
</div><a name="L452"></a><tt class="py-lineno">452</tt>  <tt class="py-line"> </tt>
<a name="L453"></a><tt class="py-lineno">453</tt>  <tt class="py-line"> </tt>
<a name="Processor.rank_format_string_width"></a><div id="Processor.rank_format_string_width-def"><a name="L454"></a><tt class="py-lineno">454</tt> <a class="py-toggle" href="#" id="Processor.rank_format_string_width-toggle" onclick="return toggle('Processor.rank_format_string_width');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#rank_format_string_width">rank_format_string_width</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.rank_format_string_width-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.rank_format_string_width-expanded"><a name="L455"></a><tt class="py-lineno">455</tt>  <tt class="py-line">        <tt class="py-docstring">"""Get the width of the string designating the rank of a slave process.</tt> </tt>
<a name="L456"></a><tt class="py-lineno">456</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L457"></a><tt class="py-lineno">457</tt>  <tt class="py-line"><tt class="py-docstring">        Typically this will be the number of digits in the slaves rank.</tt> </tt>
<a name="L458"></a><tt class="py-lineno">458</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L459"></a><tt class="py-lineno">459</tt>  <tt class="py-line"><tt class="py-docstring">        @return:    The number of digits in the biggest slave processor's rank.</tt> </tt>
<a name="L460"></a><tt class="py-lineno">460</tt>  <tt class="py-line"><tt class="py-docstring">        @rtype:     int</tt> </tt>
<a name="L461"></a><tt class="py-lineno">461</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L462"></a><tt class="py-lineno">462</tt>  <tt class="py-line"> </tt>
<a name="L463"></a><tt class="py-lineno">463</tt>  <tt class="py-line">        <tt class="py-keyword">return</tt> <tt class="py-name">int</tt><tt class="py-op">(</tt><tt class="py-name">math</tt><tt class="py-op">.</tt><tt class="py-name">ceil</tt><tt class="py-op">(</tt><tt class="py-name">math</tt><tt class="py-op">.</tt><tt class="py-name">log10</tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-65" class="py-name"><a title="multi.processor.Processor.processor_size
multi.uni_processor.Uni_processor.processor_size" class="py-name" href="#" onclick="return doclink('link-65', 'processor_size', 'link-25');">processor_size</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
</div><a name="L464"></a><tt class="py-lineno">464</tt>  <tt class="py-line"> </tt>
<a name="L465"></a><tt class="py-lineno">465</tt>  <tt class="py-line"> </tt>
<a name="Processor.return_object"></a><div id="Processor.return_object-def"><a name="L466"></a><tt class="py-lineno">466</tt> <a class="py-toggle" href="#" id="Processor.return_object-toggle" onclick="return toggle('Processor.return_object');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#return_object">return_object</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">result</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.return_object-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.return_object-expanded"><a name="L467"></a><tt class="py-lineno">467</tt>  <tt class="py-line">        <tt class="py-docstring">"""Return a result to the master processor from a slave - an abstract method.</tt> </tt>
<a name="L468"></a><tt class="py-lineno">468</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L469"></a><tt class="py-lineno">469</tt>  <tt class="py-line"><tt class="py-docstring">        @param result:  A result to be returned to the master processor.</tt> </tt>
<a name="L470"></a><tt class="py-lineno">470</tt>  <tt class="py-line"><tt class="py-docstring">        @type result:   Result_string, Result_command or Exception instance</tt> </tt>
<a name="L471"></a><tt class="py-lineno">471</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L472"></a><tt class="py-lineno">472</tt>  <tt class="py-line"><tt class="py-docstring">        @see:   multi.processor.Result_string.</tt> </tt>
<a name="L473"></a><tt class="py-lineno">473</tt>  <tt class="py-line"><tt class="py-docstring">        @see:   multi.processor.Resulf_command.</tt> </tt>
<a name="L474"></a><tt class="py-lineno">474</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L475"></a><tt class="py-lineno">475</tt>  <tt class="py-line"> </tt>
<a name="L476"></a><tt class="py-lineno">476</tt>  <tt class="py-line">        <tt id="link-66" class="py-name"><a title="multi.misc.raise_unimplemented" class="py-name" href="#" onclick="return doclink('link-66', 'raise_unimplemented', 'link-3');">raise_unimplemented</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-67" class="py-name" targets="Method multi.multi_processor_base.Multi_processor.return_object()=multi.multi_processor_base.Multi_processor-class.html#return_object,Method multi.processor.Processor.return_object()=multi.processor.Processor-class.html#return_object,Method multi.uni_processor.Uni_processor.return_object()=multi.uni_processor.Uni_processor-class.html#return_object"><a title="multi.multi_processor_base.Multi_processor.return_object
multi.processor.Processor.return_object
multi.uni_processor.Uni_processor.return_object" class="py-name" href="#" onclick="return doclink('link-67', 'return_object', 'link-67');">return_object</a></tt><tt class="py-op">)</tt> </tt>
</div><a name="L477"></a><tt class="py-lineno">477</tt>  <tt class="py-line"> </tt>
<a name="L478"></a><tt class="py-lineno">478</tt>  <tt class="py-line"> </tt>
<a name="Processor.run"></a><div id="Processor.run-def"><a name="L479"></a><tt class="py-lineno">479</tt> <a class="py-toggle" href="#" id="Processor.run-toggle" onclick="return toggle('Processor.run');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#run">run</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.run-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.run-expanded"><a name="L480"></a><tt class="py-lineno">480</tt>  <tt class="py-line">        <tt class="py-docstring">"""Run the processor - an abstract method.</tt> </tt>
<a name="L481"></a><tt class="py-lineno">481</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L482"></a><tt class="py-lineno">482</tt>  <tt class="py-line"><tt class="py-docstring">        This function runs the processor main loop and is called after all processor setup has been completed.  It does remote execution setup and teardown (via self.pre_run() and self.post_run()) round either side of a call to Application_callback.init_master.</tt> </tt>
<a name="L483"></a><tt class="py-lineno">483</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L484"></a><tt class="py-lineno">484</tt>  <tt class="py-line"><tt class="py-docstring">        @see:   multi.processor.Application_callback.</tt> </tt>
<a name="L485"></a><tt class="py-lineno">485</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L486"></a><tt class="py-lineno">486</tt>  <tt class="py-line"> </tt>
<a name="L487"></a><tt class="py-lineno">487</tt>  <tt class="py-line">        <tt class="py-comment"># Execute any setup code needed for the specific processor fabrics.</tt> </tt>
<a name="L488"></a><tt class="py-lineno">488</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-68" class="py-name" targets="Method multi.multi_processor_base.Multi_processor.pre_run()=multi.multi_processor_base.Multi_processor-class.html#pre_run,Method multi.processor.Processor.pre_run()=multi.processor.Processor-class.html#pre_run"><a title="multi.multi_processor_base.Multi_processor.pre_run
multi.processor.Processor.pre_run" class="py-name" href="#" onclick="return doclink('link-68', 'pre_run', 'link-68');">pre_run</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L489"></a><tt class="py-lineno">489</tt>  <tt class="py-line"> </tt>
<a name="L490"></a><tt class="py-lineno">490</tt>  <tt class="py-line">        <tt class="py-comment"># Execution of the master processor.</tt> </tt>
<a name="L491"></a><tt class="py-lineno">491</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-69" class="py-name" targets="Method multi.multi_processor_base.Multi_processor.on_master()=multi.multi_processor_base.Multi_processor-class.html#on_master,Method multi.uni_processor.Uni_processor.on_master()=multi.uni_processor.Uni_processor-class.html#on_master"><a title="multi.multi_processor_base.Multi_processor.on_master
multi.uni_processor.Uni_processor.on_master" class="py-name" href="#" onclick="return doclink('link-69', 'on_master', 'link-69');">on_master</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L492"></a><tt class="py-lineno">492</tt>  <tt class="py-line">            <tt class="py-comment"># Execute the program's run() method, as specified by the Application_callback.</tt> </tt>
<a name="L493"></a><tt class="py-lineno">493</tt>  <tt class="py-line">            <tt class="py-keyword">try</tt><tt class="py-op">:</tt> </tt>
<a name="L494"></a><tt class="py-lineno">494</tt>  <tt class="py-line">                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">callback</tt><tt class="py-op">.</tt><tt class="py-name">init_master</tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L495"></a><tt class="py-lineno">495</tt>  <tt class="py-line"> </tt>
<a name="L496"></a><tt class="py-lineno">496</tt>  <tt class="py-line">            <tt class="py-comment"># Allow sys.exit() calls.</tt> </tt>
<a name="L497"></a><tt class="py-lineno">497</tt>  <tt class="py-line">            <tt class="py-keyword">except</tt> <tt class="py-name">SystemExit</tt><tt class="py-op">:</tt> </tt>
<a name="L498"></a><tt class="py-lineno">498</tt>  <tt class="py-line">                <tt class="py-comment"># Allow the processor fabric to clean up.</tt> </tt>
<a name="L499"></a><tt class="py-lineno">499</tt>  <tt class="py-line">                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-70" class="py-name"><a title="gui.icons.Relax_task_bar_icon.exit
gui.interpreter.Interpreter.exit
gui.interpreter.Interpreter_thread.exit
multi.mpi4py_processor.Mpi4py_processor.exit
multi.processor.Processor.exit" class="py-name" href="#" onclick="return doclink('link-70', 'exit', 'link-26');">exit</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L500"></a><tt class="py-lineno">500</tt>  <tt class="py-line"> </tt>
<a name="L501"></a><tt class="py-lineno">501</tt>  <tt class="py-line">                <tt class="py-comment"># Continue with the sys.exit().</tt> </tt>
<a name="L502"></a><tt class="py-lineno">502</tt>  <tt class="py-line">                <tt class="py-keyword">raise</tt> </tt>
<a name="L503"></a><tt class="py-lineno">503</tt>  <tt class="py-line"> </tt>
<a name="L504"></a><tt class="py-lineno">504</tt>  <tt class="py-line">            <tt class="py-comment"># Handle all errors nicely.</tt> </tt>
<a name="L505"></a><tt class="py-lineno">505</tt>  <tt class="py-line">            <tt class="py-keyword">except</tt> <tt class="py-name">Exception</tt><tt class="py-op">:</tt> </tt>
<a name="L506"></a><tt class="py-lineno">506</tt>  <tt class="py-line">                <tt class="py-name">e</tt> <tt class="py-op">=</tt> <tt class="py-name">sys</tt><tt class="py-op">.</tt><tt class="py-name">exc_info</tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">[</tt><tt class="py-number">1</tt><tt class="py-op">]</tt> </tt>
<a name="L507"></a><tt class="py-lineno">507</tt>  <tt class="py-line">                <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">callback</tt><tt class="py-op">.</tt><tt class="py-name">handle_exception</tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">,</tt> <tt class="py-name">e</tt><tt class="py-op">)</tt> </tt>
<a name="L508"></a><tt class="py-lineno">508</tt>  <tt class="py-line"> </tt>
<a name="L509"></a><tt class="py-lineno">509</tt>  <tt class="py-line">        <tt class="py-comment"># Execution of the slave processor.</tt> </tt>
<a name="L510"></a><tt class="py-lineno">510</tt>  <tt class="py-line">        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L511"></a><tt class="py-lineno">511</tt>  <tt class="py-line">            <tt class="py-comment"># Loop until the slave is asked to die via an Exit_command setting the do_quit flag.</tt> </tt>
<a name="L512"></a><tt class="py-lineno">512</tt>  <tt class="py-line">            <tt class="py-keyword">while</tt> <tt class="py-keyword">not</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">do_quit</tt><tt class="py-op">:</tt> </tt>
<a name="L513"></a><tt class="py-lineno">513</tt>  <tt class="py-line">                <tt class="py-comment"># Execute the slave by catching commands, catching all exceptions.</tt> </tt>
<a name="L514"></a><tt class="py-lineno">514</tt>  <tt class="py-line">                <tt class="py-keyword">try</tt><tt class="py-op">:</tt> </tt>
<a name="L515"></a><tt class="py-lineno">515</tt>  <tt class="py-line">                    <tt class="py-comment"># Fetch any commands on the queue.</tt> </tt>
<a name="L516"></a><tt class="py-lineno">516</tt>  <tt class="py-line">                    <tt class="py-name">commands</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-71" class="py-name" targets="Method multi.mpi4py_processor.Mpi4py_processor.slave_receive_commands()=multi.mpi4py_processor.Mpi4py_processor-class.html#slave_receive_commands,Method multi.multi_processor_base.Multi_processor.slave_receive_commands()=multi.multi_processor_base.Multi_processor-class.html#slave_receive_commands"><a title="multi.mpi4py_processor.Mpi4py_processor.slave_receive_commands
multi.multi_processor_base.Multi_processor.slave_receive_commands" class="py-name" href="#" onclick="return doclink('link-71', 'slave_receive_commands', 'link-71');">slave_receive_commands</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L517"></a><tt class="py-lineno">517</tt>  <tt class="py-line"> </tt>
<a name="L518"></a><tt class="py-lineno">518</tt>  <tt class="py-line">                    <tt class="py-comment"># Convert to a list, if needed.</tt> </tt>
<a name="L519"></a><tt class="py-lineno">519</tt>  <tt class="py-line">                    <tt class="py-keyword">if</tt> <tt class="py-keyword">not</tt> <tt class="py-name">isinstance</tt><tt class="py-op">(</tt><tt class="py-name">commands</tt><tt class="py-op">,</tt> <tt id="link-72" class="py-name" targets="Module lib.list=lib.list-module.html"><a title="lib.list" class="py-name" href="#" onclick="return doclink('link-72', 'list', 'link-72');">list</a></tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L520"></a><tt class="py-lineno">520</tt>  <tt class="py-line">                        <tt class="py-name">commands</tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-name">commands</tt><tt class="py-op">]</tt> </tt>
<a name="L521"></a><tt class="py-lineno">521</tt>  <tt class="py-line"> </tt>
<a name="L522"></a><tt class="py-lineno">522</tt>  <tt class="py-line">                    <tt class="py-comment"># Initialise the results list.</tt> </tt>
<a name="L523"></a><tt class="py-lineno">523</tt>  <tt class="py-line">                    <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">batched_returns</tt><tt class="py-op">:</tt> </tt>
<a name="L524"></a><tt class="py-lineno">524</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">result_list</tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-op">]</tt> </tt>
<a name="L525"></a><tt class="py-lineno">525</tt>  <tt class="py-line">                    <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L526"></a><tt class="py-lineno">526</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">result_list</tt> <tt class="py-op">=</tt> <tt class="py-name">None</tt> </tt>
<a name="L527"></a><tt class="py-lineno">527</tt>  <tt class="py-line"> </tt>
<a name="L528"></a><tt class="py-lineno">528</tt>  <tt class="py-line">                    <tt class="py-comment"># Capture the standard IO streams for the slaves.</tt> </tt>
<a name="L529"></a><tt class="py-lineno">529</tt>  <tt class="py-line">                    <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-73" class="py-name" targets="Method multi.processor.Processor.stdio_capture()=multi.processor.Processor-class.html#stdio_capture"><a title="multi.processor.Processor.stdio_capture" class="py-name" href="#" onclick="return doclink('link-73', 'stdio_capture', 'link-73');">stdio_capture</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L530"></a><tt class="py-lineno">530</tt>  <tt class="py-line"> </tt>
<a name="L531"></a><tt class="py-lineno">531</tt>  <tt class="py-line">                    <tt class="py-comment"># Execute each command, one by one.</tt> </tt>
<a name="L532"></a><tt class="py-lineno">532</tt>  <tt class="py-line">                    <tt class="py-keyword">for</tt> <tt id="link-74" class="py-name" targets="Variable user_functions.molecule.i=user_functions.molecule-module.html#i"><a title="user_functions.molecule.i" class="py-name" href="#" onclick="return doclink('link-74', 'i', 'link-74');">i</a></tt><tt class="py-op">,</tt> <tt id="link-75" class="py-name" targets="Function pipe_control.molmol.command()=pipe_control.molmol-module.html#command,Function pipe_control.pymol_control.command()=pipe_control.pymol_control-module.html#command,Module prompt.command=prompt.command-module.html"><a title="pipe_control.molmol.command
pipe_control.pymol_control.command
prompt.command" class="py-name" href="#" onclick="return doclink('link-75', 'command', 'link-75');">command</a></tt> <tt class="py-keyword">in</tt> <tt class="py-name">enumerate</tt><tt class="py-op">(</tt><tt class="py-name">commands</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L533"></a><tt class="py-lineno">533</tt>  <tt class="py-line">                        <tt class="py-comment"># Set the completed flag if this is the last command.</tt> </tt>
<a name="L534"></a><tt class="py-lineno">534</tt>  <tt class="py-line">                        <tt class="py-name">completed</tt> <tt class="py-op">=</tt> <tt class="py-op">(</tt><tt id="link-76" class="py-name"><a title="user_functions.molecule.i" class="py-name" href="#" onclick="return doclink('link-76', 'i', 'link-74');">i</a></tt> <tt class="py-op">==</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">commands</tt><tt class="py-op">)</tt><tt class="py-op">-</tt><tt class="py-number">1</tt><tt class="py-op">)</tt> </tt>
<a name="L535"></a><tt class="py-lineno">535</tt>  <tt class="py-line"> </tt>
<a name="L536"></a><tt class="py-lineno">536</tt>  <tt class="py-line">                        <tt class="py-comment"># Execute the calculation.</tt> </tt>
<a name="L537"></a><tt class="py-lineno">537</tt>  <tt class="py-line">                        <tt id="link-77" class="py-name"><a title="pipe_control.molmol.command
pipe_control.pymol_control.command
prompt.command" class="py-name" href="#" onclick="return doclink('link-77', 'command', 'link-75');">command</a></tt><tt class="py-op">.</tt><tt id="link-78" class="py-name" targets="Method auto_analyses.noe.NOE_calc.run()=auto_analyses.noe.NOE_calc-class.html#run,Method auto_analyses.relax_disp.Relax_disp.run()=auto_analyses.relax_disp.Relax_disp-class.html#run,Method auto_analyses.relax_fit.Relax_fit.run()=auto_analyses.relax_fit.Relax_fit-class.html#run,Method auto_analyses.stereochem_analysis.Stereochem_analysis.run()=auto_analyses.stereochem_analysis.Stereochem_analysis-class.html#run,Method gui.analyses.execute.Execute.run()=gui.analyses.execute.Execute-class.html#run,Method gui.analyses.wizard.Analysis_wizard.run()=gui.analyses.wizard.Analysis_wizard-class.html#run,Method gui.interpreter.Interpreter_thread.run()=gui.interpreter.Interpreter_thread-class.html#run,Method gui.wizards.wiz_objects.Wiz_window.run()=gui.wizards.wiz_objects.Wiz_window-class.html#run,Function lib.software.opendx.execute.run()=lib.software.opendx.execute-module.html#run,Function minfx.line_search.test_functions.run()=minfx.line_search.test_functions-module.html#run,Method multi.mpi4py_processor.Mpi4py_processor.run()=multi.mpi4py_processor.Mpi4py_processor-class.html#run,Method multi.processor.Processor.run()=multi.processor.Processor-class.html#run,Method multi.result_commands.Batched_result_command.run()=multi.result_commands.Batched_result_command-class.html#run,Method multi.result_commands.Result_command.run()=multi.result_commands.Result_command-class.html#run,Method multi.result_commands.Result_exception.run()=multi.result_commands.Result_exception-class.html#run,Method multi.slave_commands.Exit_command.run()=multi.slave_commands.Exit_command-class.html#run,Method multi.slave_commands.Slave_command.run()=multi.slave_commands.Slave_command-class.html#run,Method multi.slave_commands.Slave_storage_command.run()=multi.slave_commands.Slave_storage_command-class.html#run,Method prompt.interpreter.Interpreter.run()=prompt.interpreter.Interpreter-class.html#run,Method relax.Relax.run()=relax.Relax-class.html#run,Method specific_analyses.model_free.multi_processor_commands.MF_minimise_command.run()=specific_analyses.model_free.multi_processor_commands.MF_minimise_command-class.html#run,Method specific_analyses.model_free.multi_processor_commands.MF_result_command.run()=specific_analyses.model_free.multi_processor_commands.MF_result_command-class.html#run,Method specific_analyses.relax_disp.optimisation.Disp_minimise_command.run()=specific_analyses.relax_disp.optimisation.Disp_minimise_command-class.html#run,Method specific_analyses.relax_disp.optimisation.Disp_result_command.run()=specific_analyses.relax_disp.optimisation.Disp_result_command-class.html#run,Method test_suite.gui_tests.GUI_test_runner.run()=test_suite.gui_tests.GUI_test_runner-class.html#run,Method test_suite.system_tests.System_test_runner.run()=test_suite.system_tests.System_test_runner-class.html#run,Method test_suite.unit_tests.unit_test_runner.Unit_test_runner.run()=test_suite.unit_tests.unit_test_runner.Unit_test_runner-class.html#run"><a title="auto_analyses.noe.NOE_calc.run
auto_analyses.relax_disp.Relax_disp.run
auto_analyses.relax_fit.Relax_fit.run
auto_analyses.stereochem_analysis.Stereochem_analysis.run
gui.analyses.execute.Execute.run
gui.analyses.wizard.Analysis_wizard.run
gui.interpreter.Interpreter_thread.run
gui.wizards.wiz_objects.Wiz_window.run
lib.software.opendx.execute.run
minfx.line_search.test_functions.run
multi.mpi4py_processor.Mpi4py_processor.run
multi.processor.Processor.run
multi.result_commands.Batched_result_command.run
multi.result_commands.Result_command.run
multi.result_commands.Result_exception.run
multi.slave_commands.Exit_command.run
multi.slave_commands.Slave_command.run
multi.slave_commands.Slave_storage_command.run
prompt.interpreter.Interpreter.run
relax.Relax.run
specific_analyses.model_free.multi_processor_commands.MF_minimise_command.run
specific_analyses.model_free.multi_processor_commands.MF_result_command.run
specific_analyses.relax_disp.optimisation.Disp_minimise_command.run
specific_analyses.relax_disp.optimisation.Disp_result_command.run
test_suite.gui_tests.GUI_test_runner.run
test_suite.system_tests.System_test_runner.run
test_suite.unit_tests.unit_test_runner.Unit_test_runner.run" class="py-name" href="#" onclick="return doclink('link-78', 'run', 'link-78');">run</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">,</tt> <tt class="py-name">completed</tt><tt class="py-op">)</tt> </tt>
<a name="L538"></a><tt class="py-lineno">538</tt>  <tt class="py-line"> </tt>
<a name="L539"></a><tt class="py-lineno">539</tt>  <tt class="py-line">                    <tt class="py-comment"># Restore the IO.</tt> </tt>
<a name="L540"></a><tt class="py-lineno">540</tt>  <tt class="py-line">                    <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-79" class="py-name" targets="Method multi.processor.Processor.stdio_restore()=multi.processor.Processor-class.html#stdio_restore"><a title="multi.processor.Processor.stdio_restore" class="py-name" href="#" onclick="return doclink('link-79', 'stdio_restore', 'link-79');">stdio_restore</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L541"></a><tt class="py-lineno">541</tt>  <tt class="py-line"> </tt>
<a name="L542"></a><tt class="py-lineno">542</tt>  <tt class="py-line">                    <tt class="py-comment"># Process the batched results.</tt> </tt>
<a name="L543"></a><tt class="py-lineno">543</tt>  <tt class="py-line">                    <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">batched_returns</tt><tt class="py-op">:</tt> </tt>
<a name="L544"></a><tt class="py-lineno">544</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-80" class="py-name"><a title="multi.multi_processor_base.Multi_processor.return_object
multi.processor.Processor.return_object
multi.uni_processor.Uni_processor.return_object" class="py-name" href="#" onclick="return doclink('link-80', 'return_object', 'link-67');">return_object</a></tt><tt class="py-op">(</tt><tt id="link-81" class="py-name"><a title="multi.result_commands.Batched_result_command" class="py-name" href="#" onclick="return doclink('link-81', 'Batched_result_command', 'link-15');">Batched_result_command</a></tt><tt class="py-op">(</tt><tt id="link-82" class="py-name"><a title="multi.processor" class="py-name" href="#" onclick="return doclink('link-82', 'processor', 'link-22');">processor</a></tt><tt class="py-op">=</tt><tt class="py-name">self</tt><tt class="py-op">,</tt> <tt id="link-83" class="py-name"><a title="multi.result_commands" class="py-name" href="#" onclick="return doclink('link-83', 'result_commands', 'link-14');">result_commands</a></tt><tt class="py-op">=</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">result_list</tt><tt class="py-op">,</tt> <tt class="py-name">io_data</tt><tt class="py-op">=</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">io_data</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L545"></a><tt class="py-lineno">545</tt>  <tt class="py-line">                        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">result_list</tt> <tt class="py-op">=</tt> <tt class="py-name">None</tt> </tt>
<a name="L546"></a><tt class="py-lineno">546</tt>  <tt class="py-line"> </tt>
<a name="L547"></a><tt class="py-lineno">547</tt>  <tt class="py-line">                <tt class="py-comment"># Capture and process all slave exceptions.</tt> </tt>
<a name="L548"></a><tt class="py-lineno">548</tt>  <tt class="py-line">                <tt class="py-keyword">except</tt><tt class="py-op">:</tt> </tt>
<a name="L549"></a><tt class="py-lineno">549</tt>  <tt class="py-line">                    <tt class="py-name">capturing_exception</tt> <tt class="py-op">=</tt> <tt id="link-84" class="py-name"><a title="multi.misc.Capturing_exception" class="py-name" href="#" onclick="return doclink('link-84', 'Capturing_exception', 'link-2');">Capturing_exception</a></tt><tt class="py-op">(</tt><tt id="link-85" class="py-name"><a title="multi.mpi4py_processor.Mpi4py_processor.rank
multi.processor.Processor.rank
multi.uni_processor.Uni_processor.rank" class="py-name" href="#" onclick="return doclink('link-85', 'rank', 'link-39');">rank</a></tt><tt class="py-op">=</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-86" class="py-name"><a title="multi.mpi4py_processor.Mpi4py_processor.rank
multi.processor.Processor.rank
multi.uni_processor.Uni_processor.rank" class="py-name" href="#" onclick="return doclink('link-86', 'rank', 'link-39');">rank</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">,</tt> <tt id="link-87" class="py-name"><a title="bmrblib.kinetics.auto_relaxation.AutoRelaxationSaveframe.name
bmrblib.kinetics.auto_relaxation_v3_1.AutoRelaxationSaveframe_v3_1.name
bmrblib.kinetics.heteronucl_NOEs_v2_1.HeteronuclNOESaveframe_v2_1.name
bmrblib.kinetics.heteronucl_T1_relaxation_v2_1.HeteronuclT1Saveframe_v2_1.name
bmrblib.kinetics.heteronucl_T1_relaxation_v3_1.HeteronuclT1Saveframe_v3_1.name
bmrblib.kinetics.heteronucl_T2_relaxation_v2_1.HeteronuclT2Saveframe_v2_1.name
bmrblib.kinetics.heteronucl_T2_relaxation_v3_1.HeteronuclT2Saveframe_v3_1.name
pipe_control.pipes.name
user_functions.pipe.name" class="py-name" href="#" onclick="return doclink('link-87', 'name', 'link-32');">name</a></tt><tt class="py-op">=</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-88" class="py-name"><a title="multi.mpi4py_processor.Mpi4py_processor.get_name
multi.processor.Processor.get_name
multi.uni_processor.Uni_processor.get_name" class="py-name" href="#" onclick="return doclink('link-88', 'get_name', 'link-36');">get_name</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt> </tt>
<a name="L550"></a><tt class="py-lineno">550</tt>  <tt class="py-line">                    <tt class="py-name">exception_result</tt> <tt class="py-op">=</tt> <tt id="link-89" class="py-name"><a title="multi.result_commands.Result_exception" class="py-name" href="#" onclick="return doclink('link-89', 'Result_exception', 'link-17');">Result_exception</a></tt><tt class="py-op">(</tt><tt class="py-name">exception</tt><tt class="py-op">=</tt><tt class="py-name">capturing_exception</tt><tt class="py-op">,</tt> <tt id="link-90" class="py-name"><a title="multi.processor" class="py-name" href="#" onclick="return doclink('link-90', 'processor', 'link-22');">processor</a></tt><tt class="py-op">=</tt><tt class="py-name">self</tt><tt class="py-op">,</tt> <tt class="py-name">completed</tt><tt class="py-op">=</tt><tt class="py-name">True</tt><tt class="py-op">)</tt> </tt>
<a name="L551"></a><tt class="py-lineno">551</tt>  <tt class="py-line"> </tt>
<a name="L552"></a><tt class="py-lineno">552</tt>  <tt class="py-line">                    <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-91" class="py-name"><a title="multi.multi_processor_base.Multi_processor.return_object
multi.processor.Processor.return_object
multi.uni_processor.Uni_processor.return_object" class="py-name" href="#" onclick="return doclink('link-91', 'return_object', 'link-67');">return_object</a></tt><tt class="py-op">(</tt><tt class="py-name">exception_result</tt><tt class="py-op">)</tt> </tt>
<a name="L553"></a><tt class="py-lineno">553</tt>  <tt class="py-line">                    <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">result_list</tt> <tt class="py-op">=</tt> <tt class="py-name">None</tt> </tt>
<a name="L554"></a><tt class="py-lineno">554</tt>  <tt class="py-line"> </tt>
<a name="L555"></a><tt class="py-lineno">555</tt>  <tt class="py-line">        <tt class="py-comment"># Execute any tear down code needed for the specific processor fabrics.</tt> </tt>
<a name="L556"></a><tt class="py-lineno">556</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-92" class="py-name" targets="Method multi.multi_processor_base.Multi_processor.post_run()=multi.multi_processor_base.Multi_processor-class.html#post_run,Method multi.processor.Processor.post_run()=multi.processor.Processor-class.html#post_run,Method multi.uni_processor.Uni_processor.post_run()=multi.uni_processor.Uni_processor-class.html#post_run"><a title="multi.multi_processor_base.Multi_processor.post_run
multi.processor.Processor.post_run
multi.uni_processor.Uni_processor.post_run" class="py-name" href="#" onclick="return doclink('link-92', 'post_run', 'link-92');">post_run</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L557"></a><tt class="py-lineno">557</tt>  <tt class="py-line"> </tt>
<a name="L558"></a><tt class="py-lineno">558</tt>  <tt class="py-line">        <tt class="py-comment"># End of execution, so perform any exiting actions needed by the specific processor fabrics.</tt> </tt>
<a name="L559"></a><tt class="py-lineno">559</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-93" class="py-name"><a title="multi.multi_processor_base.Multi_processor.on_master
multi.uni_processor.Uni_processor.on_master" class="py-name" href="#" onclick="return doclink('link-93', 'on_master', 'link-69');">on_master</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L560"></a><tt class="py-lineno">560</tt>  <tt class="py-line">            <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-94" class="py-name"><a title="gui.icons.Relax_task_bar_icon.exit
gui.interpreter.Interpreter.exit
gui.interpreter.Interpreter_thread.exit
multi.mpi4py_processor.Mpi4py_processor.exit
multi.processor.Processor.exit" class="py-name" href="#" onclick="return doclink('link-94', 'exit', 'link-26');">exit</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div><a name="L561"></a><tt class="py-lineno">561</tt>  <tt class="py-line"> </tt>
<a name="L562"></a><tt class="py-lineno">562</tt>  <tt class="py-line"> </tt>
<a name="Processor.run_command_globally"></a><div id="Processor.run_command_globally-def"><a name="L563"></a><tt class="py-lineno">563</tt> <a class="py-toggle" href="#" id="Processor.run_command_globally-toggle" onclick="return toggle('Processor.run_command_globally');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#run_command_globally">run_command_globally</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">command</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.run_command_globally-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.run_command_globally-expanded"><a name="L564"></a><tt class="py-lineno">564</tt>  <tt class="py-line">        <tt class="py-docstring">"""Run the same command on all slave processors.</tt> </tt>
<a name="L565"></a><tt class="py-lineno">565</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L566"></a><tt class="py-lineno">566</tt>  <tt class="py-line"><tt class="py-docstring">        @see:   multi.processor.processor.Slave_command.</tt> </tt>
<a name="L567"></a><tt class="py-lineno">567</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L568"></a><tt class="py-lineno">568</tt>  <tt class="py-line"><tt class="py-docstring">        @param command: A slave command.</tt> </tt>
<a name="L569"></a><tt class="py-lineno">569</tt>  <tt class="py-line"><tt class="py-docstring">        @type command:  Slave_command instance</tt> </tt>
<a name="L570"></a><tt class="py-lineno">570</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L571"></a><tt class="py-lineno">571</tt>  <tt class="py-line"> </tt>
<a name="L572"></a><tt class="py-lineno">572</tt>  <tt class="py-line">        <tt id="link-95" class="py-name" targets="Method gui.interpreter.Interpreter.queue()=gui.interpreter.Interpreter-class.html#queue,Method gui.interpreter.Interpreter_thread.queue()=gui.interpreter.Interpreter_thread-class.html#queue"><a title="gui.interpreter.Interpreter.queue
gui.interpreter.Interpreter_thread.queue" class="py-name" href="#" onclick="return doclink('link-95', 'queue', 'link-95');">queue</a></tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt id="link-96" class="py-name"><a title="pipe_control.molmol.command
pipe_control.pymol_control.command
prompt.command" class="py-name" href="#" onclick="return doclink('link-96', 'command', 'link-75');">command</a></tt> <tt class="py-keyword">for</tt> <tt id="link-97" class="py-name"><a title="user_functions.molecule.i" class="py-name" href="#" onclick="return doclink('link-97', 'i', 'link-74');">i</a></tt> <tt class="py-keyword">in</tt> <tt class="py-name">range</tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-98" class="py-name"><a title="multi.processor.Processor.processor_size
multi.uni_processor.Uni_processor.processor_size" class="py-name" href="#" onclick="return doclink('link-98', 'processor_size', 'link-25');">processor_size</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt><tt class="py-op">]</tt> </tt>
<a name="L573"></a><tt class="py-lineno">573</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-99" class="py-name" targets="Method multi.processor.Processor.run_command_queue()=multi.processor.Processor-class.html#run_command_queue"><a title="multi.processor.Processor.run_command_queue" class="py-name" href="#" onclick="return doclink('link-99', 'run_command_queue', 'link-99');">run_command_queue</a></tt><tt class="py-op">(</tt><tt id="link-100" class="py-name"><a title="gui.interpreter.Interpreter.queue
gui.interpreter.Interpreter_thread.queue" class="py-name" href="#" onclick="return doclink('link-100', 'queue', 'link-95');">queue</a></tt><tt class="py-op">)</tt> </tt>
</div><a name="L574"></a><tt class="py-lineno">574</tt>  <tt class="py-line"> </tt>
<a name="L575"></a><tt class="py-lineno">575</tt>  <tt class="py-line"> </tt>
<a name="Processor.run_command_queue"></a><div id="Processor.run_command_queue-def"><a name="L576"></a><tt class="py-lineno">576</tt> <a class="py-toggle" href="#" id="Processor.run_command_queue-toggle" onclick="return toggle('Processor.run_command_queue');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#run_command_queue">run_command_queue</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">queue</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.run_command_queue-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.run_command_queue-expanded"><a name="L577"></a><tt class="py-lineno">577</tt>  <tt class="py-line">        <tt class="py-docstring">"""Process all commands on the queue and wait for completion.</tt> </tt>
<a name="L578"></a><tt class="py-lineno">578</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L579"></a><tt class="py-lineno">579</tt>  <tt class="py-line"><tt class="py-docstring">        @param queue:   The command queue.</tt> </tt>
<a name="L580"></a><tt class="py-lineno">580</tt>  <tt class="py-line"><tt class="py-docstring">        @type queue:    list of Command instances</tt> </tt>
<a name="L581"></a><tt class="py-lineno">581</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L582"></a><tt class="py-lineno">582</tt>  <tt class="py-line"> </tt>
<a name="L583"></a><tt class="py-lineno">583</tt>  <tt class="py-line">        <tt class="py-comment"># This must only be run on the master processor.</tt> </tt>
<a name="L584"></a><tt class="py-lineno">584</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-101" class="py-name"><a title="multi.mpi4py_processor.Mpi4py_processor.assert_on_master
multi.processor.Processor.assert_on_master
multi.uni_processor.Uni_processor.assert_on_master" class="py-name" href="#" onclick="return doclink('link-101', 'assert_on_master', 'link-30');">assert_on_master</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L585"></a><tt class="py-lineno">585</tt>  <tt class="py-line"> </tt>
<a name="L586"></a><tt class="py-lineno">586</tt>  <tt class="py-line">        <tt class="py-name">running_set</tt> <tt class="py-op">=</tt> <tt id="link-102" class="py-name" targets="Method data_store.align_tensor.AlignTensorData.set()=data_store.align_tensor.AlignTensorData-class.html#set,Method data_store.diff_tensor.DiffTensorData.set()=data_store.diff_tensor.DiffTensorData-class.html#set,Method multi.misc.Verbosity.set()=multi.misc.Verbosity-class.html#set,Function pipe_control.align_tensor.set()=pipe_control.align_tensor-module.html#set,Function pipe_control.diffusion_tensor.set()=pipe_control.diffusion_tensor-module.html#set,Function pipe_control.minimise.set()=pipe_control.minimise-module.html#set,Function pipe_control.value.set()=pipe_control.value-module.html#set"><a title="data_store.align_tensor.AlignTensorData.set
data_store.diff_tensor.DiffTensorData.set
multi.misc.Verbosity.set
pipe_control.align_tensor.set
pipe_control.diffusion_tensor.set
pipe_control.minimise.set
pipe_control.value.set" class="py-name" href="#" onclick="return doclink('link-102', 'set', 'link-102');">set</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L587"></a><tt class="py-lineno">587</tt>  <tt class="py-line">        <tt class="py-name">idle_set</tt> <tt class="py-op">=</tt> <tt id="link-103" class="py-name"><a title="data_store.align_tensor.AlignTensorData.set
data_store.diff_tensor.DiffTensorData.set
multi.misc.Verbosity.set
pipe_control.align_tensor.set
pipe_control.diffusion_tensor.set
pipe_control.minimise.set
pipe_control.value.set" class="py-name" href="#" onclick="return doclink('link-103', 'set', 'link-102');">set</a></tt><tt class="py-op">(</tt><tt class="py-op">[</tt><tt id="link-104" class="py-name"><a title="user_functions.molecule.i" class="py-name" href="#" onclick="return doclink('link-104', 'i', 'link-74');">i</a></tt> <tt class="py-keyword">for</tt> <tt id="link-105" class="py-name"><a title="user_functions.molecule.i" class="py-name" href="#" onclick="return doclink('link-105', 'i', 'link-74');">i</a></tt> <tt class="py-keyword">in</tt> <tt class="py-name">range</tt><tt class="py-op">(</tt><tt class="py-number">1</tt><tt class="py-op">,</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-106" class="py-name"><a title="multi.processor.Processor.processor_size
multi.uni_processor.Uni_processor.processor_size" class="py-name" href="#" onclick="return doclink('link-106', 'processor_size', 'link-25');">processor_size</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">+</tt><tt class="py-number">1</tt><tt class="py-op">)</tt><tt class="py-op">]</tt><tt class="py-op">)</tt> </tt>
<a name="L588"></a><tt class="py-lineno">588</tt>  <tt class="py-line"> </tt>
<a name="L589"></a><tt class="py-lineno">589</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">threaded_result_processing</tt><tt class="py-op">:</tt> </tt>
<a name="L590"></a><tt class="py-lineno">590</tt>  <tt class="py-line">            <tt id="link-107" class="py-name"><a title="multi.result_queue" class="py-name" href="#" onclick="return doclink('link-107', 'result_queue', 'link-8');">result_queue</a></tt> <tt class="py-op">=</tt> <tt id="link-108" class="py-name"><a title="multi.result_queue.Threaded_result_queue" class="py-name" href="#" onclick="return doclink('link-108', 'Threaded_result_queue', 'link-9');">Threaded_result_queue</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L591"></a><tt class="py-lineno">591</tt>  <tt class="py-line">        <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L592"></a><tt class="py-lineno">592</tt>  <tt class="py-line">            <tt id="link-109" class="py-name"><a title="multi.result_queue" class="py-name" href="#" onclick="return doclink('link-109', 'result_queue', 'link-8');">result_queue</a></tt> <tt class="py-op">=</tt> <tt id="link-110" class="py-name" targets="Class multi.result_queue.Immediate_result_queue=multi.result_queue.Immediate_result_queue-class.html"><a title="multi.result_queue.Immediate_result_queue" class="py-name" href="#" onclick="return doclink('link-110', 'Immediate_result_queue', 'link-110');">Immediate_result_queue</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">)</tt> </tt>
<a name="L593"></a><tt class="py-lineno">593</tt>  <tt class="py-line"> </tt>
<a name="L594"></a><tt class="py-lineno">594</tt>  <tt class="py-line">        <tt class="py-keyword">while</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt id="link-111" class="py-name"><a title="gui.interpreter.Interpreter.queue
gui.interpreter.Interpreter_thread.queue" class="py-name" href="#" onclick="return doclink('link-111', 'queue', 'link-95');">queue</a></tt><tt class="py-op">)</tt> <tt class="py-op">!=</tt> <tt class="py-number">0</tt><tt class="py-op">:</tt> </tt>
<a name="L595"></a><tt class="py-lineno">595</tt>  <tt class="py-line"> </tt>
<a name="L596"></a><tt class="py-lineno">596</tt>  <tt class="py-line">            <tt class="py-keyword">while</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">idle_set</tt><tt class="py-op">)</tt> <tt class="py-op">!=</tt> <tt class="py-number">0</tt><tt class="py-op">:</tt> </tt>
<a name="L597"></a><tt class="py-lineno">597</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt id="link-112" class="py-name"><a title="gui.interpreter.Interpreter.queue
gui.interpreter.Interpreter_thread.queue" class="py-name" href="#" onclick="return doclink('link-112', 'queue', 'link-95');">queue</a></tt><tt class="py-op">)</tt> <tt class="py-op">!=</tt> <tt class="py-number">0</tt><tt class="py-op">:</tt> </tt>
<a name="L598"></a><tt class="py-lineno">598</tt>  <tt class="py-line">                    <tt id="link-113" class="py-name"><a title="pipe_control.molmol.command
pipe_control.pymol_control.command
prompt.command" class="py-name" href="#" onclick="return doclink('link-113', 'command', 'link-75');">command</a></tt> <tt class="py-op">=</tt> <tt id="link-114" class="py-name"><a title="gui.interpreter.Interpreter.queue
gui.interpreter.Interpreter_thread.queue" class="py-name" href="#" onclick="return doclink('link-114', 'queue', 'link-95');">queue</a></tt><tt class="py-op">.</tt><tt class="py-name">pop</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L599"></a><tt class="py-lineno">599</tt>  <tt class="py-line">                    <tt class="py-name">dest</tt> <tt class="py-op">=</tt> <tt class="py-name">idle_set</tt><tt class="py-op">.</tt><tt class="py-name">pop</tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L600"></a><tt class="py-lineno">600</tt>  <tt class="py-line">                    <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-115" class="py-name"><a title="multi.mpi4py_processor.Mpi4py_processor.master_queue_command
multi.processor.Processor.master_queue_command
multi.uni_processor.Uni_processor.master_queue_command" class="py-name" href="#" onclick="return doclink('link-115', 'master_queue_command', 'link-52');">master_queue_command</a></tt><tt class="py-op">(</tt><tt id="link-116" class="py-name"><a title="pipe_control.molmol.command
pipe_control.pymol_control.command
prompt.command" class="py-name" href="#" onclick="return doclink('link-116', 'command', 'link-75');">command</a></tt><tt class="py-op">=</tt><tt id="link-117" class="py-name"><a title="pipe_control.molmol.command
pipe_control.pymol_control.command
prompt.command" class="py-name" href="#" onclick="return doclink('link-117', 'command', 'link-75');">command</a></tt><tt class="py-op">,</tt> <tt class="py-name">dest</tt><tt class="py-op">=</tt><tt class="py-name">dest</tt><tt class="py-op">)</tt> </tt>
<a name="L601"></a><tt class="py-lineno">601</tt>  <tt class="py-line">                    <tt class="py-name">running_set</tt><tt class="py-op">.</tt><tt id="link-118" class="py-name" targets="Method bmrblib.base_classes.BaseSaveframe.add()=bmrblib.base_classes.BaseSaveframe-class.html#add,Method bmrblib.base_classes.MissingSaveframe.add()=bmrblib.base_classes.MissingSaveframe-class.html#add,Method bmrblib.base_classes.TagTranslationTable.add()=bmrblib.base_classes.TagTranslationTable-class.html#add,Method bmrblib.kinetics.relaxation.Relaxation_v2_1.add()=bmrblib.kinetics.relaxation.Relaxation_v2_1-class.html#add,Method bmrblib.kinetics.relaxation.Relaxation_v3_1.add()=bmrblib.kinetics.relaxation.Relaxation_v3_1-class.html#add,Method data_store.Relax_data_store.add()=data_store.Relax_data_store-class.html#add,Method data_store.gui.Analyses.add()=data_store.gui.Analyses-class.html#add,Method lib.periodic_table.Table.add()=lib.periodic_table.Table-class.html#add,Method lib.spectrum.objects.Peak_list.add()=lib.spectrum.objects.Peak_list-class.html#add,Method multi.slave_commands.Slave_storage_command.add()=multi.slave_commands.Slave_storage_command-class.html#add,Method specific_analyses.api_objects.Param_list.add()=specific_analyses.api_objects.Param_list-class.html#add"><a title="bmrblib.base_classes.BaseSaveframe.add
bmrblib.base_classes.MissingSaveframe.add
bmrblib.base_classes.TagTranslationTable.add
bmrblib.kinetics.relaxation.Relaxation_v2_1.add
bmrblib.kinetics.relaxation.Relaxation_v3_1.add
data_store.Relax_data_store.add
data_store.gui.Analyses.add
lib.periodic_table.Table.add
lib.spectrum.objects.Peak_list.add
multi.slave_commands.Slave_storage_command.add
specific_analyses.api_objects.Param_list.add" class="py-name" href="#" onclick="return doclink('link-118', 'add', 'link-118');">add</a></tt><tt class="py-op">(</tt><tt class="py-name">dest</tt><tt class="py-op">)</tt> </tt>
<a name="L602"></a><tt class="py-lineno">602</tt>  <tt class="py-line">                <tt class="py-keyword">else</tt><tt class="py-op">:</tt> </tt>
<a name="L603"></a><tt class="py-lineno">603</tt>  <tt class="py-line">                    <tt class="py-keyword">break</tt> </tt>
<a name="L604"></a><tt class="py-lineno">604</tt>  <tt class="py-line"> </tt>
<a name="L605"></a><tt class="py-lineno">605</tt>  <tt class="py-line">            <tt class="py-comment"># Loop until the queue of calculations is depleted.</tt> </tt>
<a name="L606"></a><tt class="py-lineno">606</tt>  <tt class="py-line">            <tt class="py-keyword">while</tt> <tt class="py-name">len</tt><tt class="py-op">(</tt><tt class="py-name">running_set</tt><tt class="py-op">)</tt> <tt class="py-op">!=</tt> <tt class="py-number">0</tt><tt class="py-op">:</tt> </tt>
<a name="L607"></a><tt class="py-lineno">607</tt>  <tt class="py-line">                <tt class="py-comment"># Get the result.</tt> </tt>
<a name="L608"></a><tt class="py-lineno">608</tt>  <tt class="py-line">                <tt class="py-name">result</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-119" class="py-name"><a title="multi.mpi4py_processor.Mpi4py_processor.master_receive_result
multi.processor.Processor.master_receive_result
multi.uni_processor.Uni_processor.master_receive_result" class="py-name" href="#" onclick="return doclink('link-119', 'master_receive_result', 'link-54');">master_receive_result</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L609"></a><tt class="py-lineno">609</tt>  <tt class="py-line"> </tt>
<a name="L610"></a><tt class="py-lineno">610</tt>  <tt class="py-line">                <tt class="py-comment"># Debugging printout.</tt> </tt>
<a name="L611"></a><tt class="py-lineno">611</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt id="link-120" class="py-name"><a title="bmrblib.pystarlib.Text.verbosity
bmrblib.pystarlib.verbosity
multi.multi_processor_base.verbosity
multi.processor.verbosity" class="py-name" href="#" onclick="return doclink('link-120', 'verbosity', 'link-5');">verbosity</a></tt><tt class="py-op">.</tt><tt id="link-121" class="py-name"><a title="multi.misc.Verbosity.level" class="py-name" href="#" onclick="return doclink('link-121', 'level', 'link-38');">level</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L612"></a><tt class="py-lineno">612</tt>  <tt class="py-line">                    <tt class="py-keyword">print</tt><tt class="py-op">(</tt><tt class="py-string">'\nIdle set:    %s'</tt> <tt class="py-op">%</tt> <tt class="py-name">idle_set</tt><tt class="py-op">)</tt> </tt>
<a name="L613"></a><tt class="py-lineno">613</tt>  <tt class="py-line">                    <tt class="py-keyword">print</tt><tt class="py-op">(</tt><tt class="py-string">'Running set: %s'</tt> <tt class="py-op">%</tt> <tt class="py-name">running_set</tt><tt class="py-op">)</tt> </tt>
<a name="L614"></a><tt class="py-lineno">614</tt>  <tt class="py-line"> </tt>
<a name="L615"></a><tt class="py-lineno">615</tt>  <tt class="py-line">                <tt class="py-comment"># Shift the processor rank to the idle set.</tt> </tt>
<a name="L616"></a><tt class="py-lineno">616</tt>  <tt class="py-line">                <tt class="py-keyword">if</tt> <tt class="py-name">result</tt><tt class="py-op">.</tt><tt class="py-name">completed</tt><tt class="py-op">:</tt> </tt>
<a name="L617"></a><tt class="py-lineno">617</tt>  <tt class="py-line">                    <tt class="py-name">idle_set</tt><tt class="py-op">.</tt><tt id="link-122" class="py-name"><a title="bmrblib.base_classes.BaseSaveframe.add
bmrblib.base_classes.MissingSaveframe.add
bmrblib.base_classes.TagTranslationTable.add
bmrblib.kinetics.relaxation.Relaxation_v2_1.add
bmrblib.kinetics.relaxation.Relaxation_v3_1.add
data_store.Relax_data_store.add
data_store.gui.Analyses.add
lib.periodic_table.Table.add
lib.spectrum.objects.Peak_list.add
multi.slave_commands.Slave_storage_command.add
specific_analyses.api_objects.Param_list.add" class="py-name" href="#" onclick="return doclink('link-122', 'add', 'link-118');">add</a></tt><tt class="py-op">(</tt><tt class="py-name">result</tt><tt class="py-op">.</tt><tt id="link-123" class="py-name"><a title="multi.mpi4py_processor.Mpi4py_processor.rank
multi.processor.Processor.rank
multi.uni_processor.Uni_processor.rank" class="py-name" href="#" onclick="return doclink('link-123', 'rank', 'link-39');">rank</a></tt><tt class="py-op">)</tt> </tt>
<a name="L618"></a><tt class="py-lineno">618</tt>  <tt class="py-line">                    <tt class="py-name">running_set</tt><tt class="py-op">.</tt><tt class="py-name">remove</tt><tt class="py-op">(</tt><tt class="py-name">result</tt><tt class="py-op">.</tt><tt id="link-124" class="py-name"><a title="multi.mpi4py_processor.Mpi4py_processor.rank
multi.processor.Processor.rank
multi.uni_processor.Uni_processor.rank" class="py-name" href="#" onclick="return doclink('link-124', 'rank', 'link-39');">rank</a></tt><tt class="py-op">)</tt> </tt>
<a name="L619"></a><tt class="py-lineno">619</tt>  <tt class="py-line"> </tt>
<a name="L620"></a><tt class="py-lineno">620</tt>  <tt class="py-line">                <tt class="py-comment"># Add to the result queue for instant or threaded processing.</tt> </tt>
<a name="L621"></a><tt class="py-lineno">621</tt>  <tt class="py-line">                <tt id="link-125" class="py-name"><a title="multi.result_queue" class="py-name" href="#" onclick="return doclink('link-125', 'result_queue', 'link-8');">result_queue</a></tt><tt class="py-op">.</tt><tt id="link-126" class="py-name" targets="Method multi.result_queue.Immediate_result_queue.put()=multi.result_queue.Immediate_result_queue-class.html#put,Method multi.result_queue.Result_queue.put()=multi.result_queue.Result_queue-class.html#put,Method multi.result_queue.Threaded_result_queue.put()=multi.result_queue.Threaded_result_queue-class.html#put"><a title="multi.result_queue.Immediate_result_queue.put
multi.result_queue.Result_queue.put
multi.result_queue.Threaded_result_queue.put" class="py-name" href="#" onclick="return doclink('link-126', 'put', 'link-126');">put</a></tt><tt class="py-op">(</tt><tt class="py-name">result</tt><tt class="py-op">)</tt> </tt>
<a name="L622"></a><tt class="py-lineno">622</tt>  <tt class="py-line"> </tt>
<a name="L623"></a><tt class="py-lineno">623</tt>  <tt class="py-line">        <tt class="py-comment"># Process the threaded results.</tt> </tt>
<a name="L624"></a><tt class="py-lineno">624</tt>  <tt class="py-line">        <tt class="py-keyword">if</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">threaded_result_processing</tt><tt class="py-op">:</tt> </tt>
<a name="L625"></a><tt class="py-lineno">625</tt>  <tt class="py-line">            <tt id="link-127" class="py-name"><a title="multi.result_queue" class="py-name" href="#" onclick="return doclink('link-127', 'result_queue', 'link-8');">result_queue</a></tt><tt class="py-op">.</tt><tt id="link-128" class="py-name" targets="Method multi.result_queue.Immediate_result_queue.run_all()=multi.result_queue.Immediate_result_queue-class.html#run_all,Method multi.result_queue.Result_queue.run_all()=multi.result_queue.Result_queue-class.html#run_all,Method multi.result_queue.Threaded_result_queue.run_all()=multi.result_queue.Threaded_result_queue-class.html#run_all"><a title="multi.result_queue.Immediate_result_queue.run_all
multi.result_queue.Result_queue.run_all
multi.result_queue.Threaded_result_queue.run_all" class="py-name" href="#" onclick="return doclink('link-128', 'run_all', 'link-128');">run_all</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div><a name="L626"></a><tt class="py-lineno">626</tt>  <tt class="py-line"> </tt>
<a name="L627"></a><tt class="py-lineno">627</tt>  <tt class="py-line"> </tt>
<a name="Processor.run_queue"></a><div id="Processor.run_queue-def"><a name="L628"></a><tt class="py-lineno">628</tt> <a class="py-toggle" href="#" id="Processor.run_queue-toggle" onclick="return toggle('Processor.run_queue');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#run_queue">run_queue</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.run_queue-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.run_queue-expanded"><a name="L629"></a><tt class="py-lineno">629</tt>  <tt class="py-line">        <tt class="py-docstring">"""Run the processor queue - an abstract method.</tt> </tt>
<a name="L630"></a><tt class="py-lineno">630</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L631"></a><tt class="py-lineno">631</tt>  <tt class="py-line"><tt class="py-docstring">        All commands queued with add_to_queue will be executed, this function causes the current</tt> </tt>
<a name="L632"></a><tt class="py-lineno">632</tt>  <tt class="py-line"><tt class="py-docstring">        thread to block until the command has completed.</tt> </tt>
<a name="L633"></a><tt class="py-lineno">633</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L634"></a><tt class="py-lineno">634</tt>  <tt class="py-line"> </tt>
<a name="L635"></a><tt class="py-lineno">635</tt>  <tt class="py-line">        <tt class="py-comment">#FIXME: need a finally here to cleanup exceptions states</tt> </tt>
<a name="L636"></a><tt class="py-lineno">636</tt>  <tt class="py-line">        <tt class="py-name">lqueue</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-129" class="py-name" targets="Method multi.multi_processor_base.Multi_processor.chunk_queue()=multi.multi_processor_base.Multi_processor-class.html#chunk_queue"><a title="multi.multi_processor_base.Multi_processor.chunk_queue" class="py-name" href="#" onclick="return doclink('link-129', 'chunk_queue', 'link-129');">chunk_queue</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">command_queue</tt><tt class="py-op">)</tt> </tt>
<a name="L637"></a><tt class="py-lineno">637</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-130" class="py-name"><a title="multi.processor.Processor.run_command_queue" class="py-name" href="#" onclick="return doclink('link-130', 'run_command_queue', 'link-99');">run_command_queue</a></tt><tt class="py-op">(</tt><tt class="py-name">lqueue</tt><tt class="py-op">)</tt> </tt>
<a name="L638"></a><tt class="py-lineno">638</tt>  <tt class="py-line"> </tt>
<a name="L639"></a><tt class="py-lineno">639</tt>  <tt class="py-line">        <tt class="py-keyword">del</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">command_queue</tt><tt class="py-op">[</tt><tt class="py-op">:</tt><tt class="py-op">]</tt> </tt>
<a name="L640"></a><tt class="py-lineno">640</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">memo_map</tt><tt class="py-op">.</tt><tt id="link-131" class="py-name" targets="Method gui.controller.LogCtrl.clear()=gui.controller.LogCtrl-class.html#clear,Method multi.slave_commands.Slave_storage_command.clear()=multi.slave_commands.Slave_storage_command-class.html#clear"><a title="gui.controller.LogCtrl.clear
multi.slave_commands.Slave_storage_command.clear" class="py-name" href="#" onclick="return doclink('link-131', 'clear', 'link-131');">clear</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div><a name="L641"></a><tt class="py-lineno">641</tt>  <tt class="py-line"> </tt>
<a name="L642"></a><tt class="py-lineno">642</tt>  <tt class="py-line"> </tt>
<a name="Processor.send_data_to_slaves"></a><div id="Processor.send_data_to_slaves-def"><a name="L643"></a><tt class="py-lineno">643</tt> <a class="py-toggle" href="#" id="Processor.send_data_to_slaves-toggle" onclick="return toggle('Processor.send_data_to_slaves');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#send_data_to_slaves">send_data_to_slaves</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">,</tt> <tt class="py-param">name</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">,</tt> <tt class="py-param">value</tt><tt class="py-op">=</tt><tt class="py-name">None</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.send_data_to_slaves-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.send_data_to_slaves-expanded"><a name="L644"></a><tt class="py-lineno">644</tt>  <tt class="py-line">        <tt class="py-docstring">"""Transfer the given data from the master to all slaves.</tt> </tt>
<a name="L645"></a><tt class="py-lineno">645</tt>  <tt class="py-line"><tt class="py-docstring"></tt> </tt>
<a name="L646"></a><tt class="py-lineno">646</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword name:  The name of the data structure to store.</tt> </tt>
<a name="L647"></a><tt class="py-lineno">647</tt>  <tt class="py-line"><tt class="py-docstring">        @type name:     str</tt> </tt>
<a name="L648"></a><tt class="py-lineno">648</tt>  <tt class="py-line"><tt class="py-docstring">        @keyword value: The data structure.</tt> </tt>
<a name="L649"></a><tt class="py-lineno">649</tt>  <tt class="py-line"><tt class="py-docstring">        @type value:    anything</tt> </tt>
<a name="L650"></a><tt class="py-lineno">650</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L651"></a><tt class="py-lineno">651</tt>  <tt class="py-line"> </tt>
<a name="L652"></a><tt class="py-lineno">652</tt>  <tt class="py-line">        <tt class="py-comment"># This must be the master processor!</tt> </tt>
<a name="L653"></a><tt class="py-lineno">653</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-132" class="py-name"><a title="multi.mpi4py_processor.Mpi4py_processor.assert_on_master
multi.processor.Processor.assert_on_master
multi.uni_processor.Uni_processor.assert_on_master" class="py-name" href="#" onclick="return doclink('link-132', 'assert_on_master', 'link-30');">assert_on_master</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L654"></a><tt class="py-lineno">654</tt>  <tt class="py-line"> </tt>
<a name="L655"></a><tt class="py-lineno">655</tt>  <tt class="py-line">        <tt class="py-comment"># Create the command list.</tt> </tt>
<a name="L656"></a><tt class="py-lineno">656</tt>  <tt class="py-line">        <tt class="py-keyword">for</tt> <tt id="link-133" class="py-name"><a title="user_functions.molecule.i" class="py-name" href="#" onclick="return doclink('link-133', 'i', 'link-74');">i</a></tt> <tt class="py-keyword">in</tt> <tt class="py-name">range</tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-134" class="py-name"><a title="multi.processor.Processor.processor_size
multi.uni_processor.Uni_processor.processor_size" class="py-name" href="#" onclick="return doclink('link-134', 'processor_size', 'link-25');">processor_size</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
<a name="L657"></a><tt class="py-lineno">657</tt>  <tt class="py-line">            <tt class="py-comment"># Create and append the command.</tt> </tt>
<a name="L658"></a><tt class="py-lineno">658</tt>  <tt class="py-line">            <tt id="link-135" class="py-name"><a title="pipe_control.molmol.command
pipe_control.pymol_control.command
prompt.command" class="py-name" href="#" onclick="return doclink('link-135', 'command', 'link-75');">command</a></tt> <tt class="py-op">=</tt> <tt id="link-136" class="py-name"><a title="multi.slave_commands.Slave_storage_command" class="py-name" href="#" onclick="return doclink('link-136', 'Slave_storage_command', 'link-20');">Slave_storage_command</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L659"></a><tt class="py-lineno">659</tt>  <tt class="py-line"> </tt>
<a name="L660"></a><tt class="py-lineno">660</tt>  <tt class="py-line">            <tt class="py-comment"># Add the data to the command.</tt> </tt>
<a name="L661"></a><tt class="py-lineno">661</tt>  <tt class="py-line">            <tt id="link-137" class="py-name"><a title="pipe_control.molmol.command
pipe_control.pymol_control.command
prompt.command" class="py-name" href="#" onclick="return doclink('link-137', 'command', 'link-75');">command</a></tt><tt class="py-op">.</tt><tt id="link-138" class="py-name"><a title="bmrblib.base_classes.BaseSaveframe.add
bmrblib.base_classes.MissingSaveframe.add
bmrblib.base_classes.TagTranslationTable.add
bmrblib.kinetics.relaxation.Relaxation_v2_1.add
bmrblib.kinetics.relaxation.Relaxation_v3_1.add
data_store.Relax_data_store.add
data_store.gui.Analyses.add
lib.periodic_table.Table.add
lib.spectrum.objects.Peak_list.add
multi.slave_commands.Slave_storage_command.add
specific_analyses.api_objects.Param_list.add" class="py-name" href="#" onclick="return doclink('link-138', 'add', 'link-118');">add</a></tt><tt class="py-op">(</tt><tt id="link-139" class="py-name"><a title="bmrblib.kinetics.auto_relaxation.AutoRelaxationSaveframe.name
bmrblib.kinetics.auto_relaxation_v3_1.AutoRelaxationSaveframe_v3_1.name
bmrblib.kinetics.heteronucl_NOEs_v2_1.HeteronuclNOESaveframe_v2_1.name
bmrblib.kinetics.heteronucl_T1_relaxation_v2_1.HeteronuclT1Saveframe_v2_1.name
bmrblib.kinetics.heteronucl_T1_relaxation_v3_1.HeteronuclT1Saveframe_v3_1.name
bmrblib.kinetics.heteronucl_T2_relaxation_v2_1.HeteronuclT2Saveframe_v2_1.name
bmrblib.kinetics.heteronucl_T2_relaxation_v3_1.HeteronuclT2Saveframe_v3_1.name
pipe_control.pipes.name
user_functions.pipe.name" class="py-name" href="#" onclick="return doclink('link-139', 'name', 'link-32');">name</a></tt><tt class="py-op">,</tt> <tt id="link-140" class="py-name" targets="Module gui.input_elements.value=gui.input_elements.value-module.html,Module pipe_control.value=pipe_control.value-module.html,Module test_suite.system_tests.value=test_suite.system_tests.value-module.html,Module user_functions.value=user_functions.value-module.html"><a title="gui.input_elements.value
pipe_control.value
test_suite.system_tests.value
user_functions.value" class="py-name" href="#" onclick="return doclink('link-140', 'value', 'link-140');">value</a></tt><tt class="py-op">)</tt> </tt>
<a name="L662"></a><tt class="py-lineno">662</tt>  <tt class="py-line"> </tt>
<a name="L663"></a><tt class="py-lineno">663</tt>  <tt class="py-line">            <tt class="py-comment"># Add the command to the queue.</tt> </tt>
<a name="L664"></a><tt class="py-lineno">664</tt>  <tt class="py-line">            <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-141" class="py-name"><a title="multi.multi_processor_base.Multi_processor.add_to_queue
multi.processor.Processor.add_to_queue
multi.uni_processor.Uni_processor.add_to_queue" class="py-name" href="#" onclick="return doclink('link-141', 'add_to_queue', 'link-28');">add_to_queue</a></tt><tt class="py-op">(</tt><tt id="link-142" class="py-name"><a title="pipe_control.molmol.command
pipe_control.pymol_control.command
prompt.command" class="py-name" href="#" onclick="return doclink('link-142', 'command', 'link-75');">command</a></tt><tt class="py-op">)</tt> </tt>
<a name="L665"></a><tt class="py-lineno">665</tt>  <tt class="py-line"> </tt>
<a name="L666"></a><tt class="py-lineno">666</tt>  <tt class="py-line">        <tt class="py-comment"># Flush the queue.</tt> </tt>
<a name="L667"></a><tt class="py-lineno">667</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-143" class="py-name" targets="Method multi.processor.Processor.run_queue()=multi.processor.Processor-class.html#run_queue,Method multi.uni_processor.Uni_processor.run_queue()=multi.uni_processor.Uni_processor-class.html#run_queue"><a title="multi.processor.Processor.run_queue
multi.uni_processor.Uni_processor.run_queue" class="py-name" href="#" onclick="return doclink('link-143', 'run_queue', 'link-143');">run_queue</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
</div><a name="L668"></a><tt class="py-lineno">668</tt>  <tt class="py-line"> </tt>
<a name="L669"></a><tt class="py-lineno">669</tt>  <tt class="py-line"> </tt>
<a name="Processor.stdio_capture"></a><div id="Processor.stdio_capture-def"><a name="L670"></a><tt class="py-lineno">670</tt> <a class="py-toggle" href="#" id="Processor.stdio_capture-toggle" onclick="return toggle('Processor.stdio_capture');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#stdio_capture">stdio_capture</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.stdio_capture-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.stdio_capture-expanded"><a name="L671"></a><tt class="py-lineno">671</tt>  <tt class="py-line">        <tt class="py-docstring">"""Enable capture of the STDOUT and STDERR.</tt> </tt>
<a name="L672"></a><tt class="py-lineno">672</tt>  <tt class="py-line"><tt class="py-docstring">        </tt> </tt>
<a name="L673"></a><tt class="py-lineno">673</tt>  <tt class="py-line"><tt class="py-docstring">        This is currently used to capture the IO streams of the slaves to return back to the master.</tt> </tt>
<a name="L674"></a><tt class="py-lineno">674</tt>  <tt class="py-line"><tt class="py-docstring">        """</tt> </tt>
<a name="L675"></a><tt class="py-lineno">675</tt>  <tt class="py-line"> </tt>
<a name="L676"></a><tt class="py-lineno">676</tt>  <tt class="py-line">        <tt class="py-comment"># Store the original STDOUT and STDERR for restoring later on.</tt> </tt>
<a name="L677"></a><tt class="py-lineno">677</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">orig_stdout</tt> <tt class="py-op">=</tt> <tt class="py-name">sys</tt><tt class="py-op">.</tt><tt class="py-name">stdout</tt> </tt>
<a name="L678"></a><tt class="py-lineno">678</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">orig_stderr</tt> <tt class="py-op">=</tt> <tt class="py-name">sys</tt><tt class="py-op">.</tt><tt class="py-name">stderr</tt> </tt>
<a name="L679"></a><tt class="py-lineno">679</tt>  <tt class="py-line"> </tt>
<a name="L680"></a><tt class="py-lineno">680</tt>  <tt class="py-line">        <tt class="py-comment"># The data object.</tt> </tt>
<a name="L681"></a><tt class="py-lineno">681</tt>  <tt class="py-line">        <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">io_data</tt> <tt class="py-op">=</tt> <tt class="py-op">[</tt><tt class="py-op">]</tt> </tt>
<a name="L682"></a><tt class="py-lineno">682</tt>  <tt class="py-line"> </tt>
<a name="L683"></a><tt class="py-lineno">683</tt>  <tt class="py-line">        <tt class="py-comment"># Get the strings to prepend to the IO streams.</tt> </tt>
<a name="L684"></a><tt class="py-lineno">684</tt>  <tt class="py-line">        <tt class="py-name">pre_strings</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt id="link-144" class="py-name" targets="Method multi.processor.Processor.get_stdio_pre_strings()=multi.processor.Processor-class.html#get_stdio_pre_strings"><a title="multi.processor.Processor.get_stdio_pre_strings" class="py-name" href="#" onclick="return doclink('link-144', 'get_stdio_pre_strings', 'link-144');">get_stdio_pre_strings</a></tt><tt class="py-op">(</tt><tt class="py-op">)</tt> </tt>
<a name="L685"></a><tt class="py-lineno">685</tt>  <tt class="py-line"> </tt>
<a name="L686"></a><tt class="py-lineno">686</tt>  <tt class="py-line">        <tt class="py-comment"># Then redirect IO.</tt> </tt>
<a name="L687"></a><tt class="py-lineno">687</tt>  <tt class="py-line">        <tt class="py-name">sys</tt><tt class="py-op">.</tt><tt class="py-name">stdout</tt> <tt class="py-op">=</tt> <tt id="link-145" class="py-name"><a title="gui.controller.Redirect_text
multi.processor_io.Redirect_text" class="py-name" href="#" onclick="return doclink('link-145', 'Redirect_text', 'link-12');">Redirect_text</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">io_data</tt><tt class="py-op">,</tt> <tt class="py-name">token</tt><tt class="py-op">=</tt><tt class="py-name">pre_strings</tt><tt class="py-op">[</tt><tt class="py-number">0</tt><tt class="py-op">]</tt><tt class="py-op">,</tt> <tt class="py-name">stream</tt><tt class="py-op">=</tt><tt class="py-number">0</tt><tt class="py-op">)</tt> </tt>
<a name="L688"></a><tt class="py-lineno">688</tt>  <tt class="py-line">        <tt class="py-name">sys</tt><tt class="py-op">.</tt><tt class="py-name">stderr</tt> <tt class="py-op">=</tt> <tt id="link-146" class="py-name"><a title="gui.controller.Redirect_text
multi.processor_io.Redirect_text" class="py-name" href="#" onclick="return doclink('link-146', 'Redirect_text', 'link-12');">Redirect_text</a></tt><tt class="py-op">(</tt><tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">io_data</tt><tt class="py-op">,</tt> <tt class="py-name">token</tt><tt class="py-op">=</tt><tt class="py-name">pre_strings</tt><tt class="py-op">[</tt><tt class="py-number">1</tt><tt class="py-op">]</tt><tt class="py-op">,</tt> <tt class="py-name">stream</tt><tt class="py-op">=</tt><tt class="py-number">1</tt><tt class="py-op">)</tt> </tt>
</div><a name="L689"></a><tt class="py-lineno">689</tt>  <tt class="py-line"> </tt>
<a name="L690"></a><tt class="py-lineno">690</tt>  <tt class="py-line"> </tt>
<a name="Processor.stdio_restore"></a><div id="Processor.stdio_restore-def"><a name="L691"></a><tt class="py-lineno">691</tt> <a class="py-toggle" href="#" id="Processor.stdio_restore-toggle" onclick="return toggle('Processor.stdio_restore');">-</a><tt class="py-line">    <tt class="py-keyword">def</tt> <a class="py-def-name" href="multi.processor.Processor-class.html#stdio_restore">stdio_restore</a><tt class="py-op">(</tt><tt class="py-param">self</tt><tt class="py-op">)</tt><tt class="py-op">:</tt> </tt>
</div><div id="Processor.stdio_restore-collapsed" style="display:none;" pad="+++" indent="++++++++"></div><div id="Processor.stdio_restore-expanded"><a name="L692"></a><tt class="py-lineno">692</tt>  <tt class="py-line">        <tt class="py-docstring">"""Restore the original STDOUT and STDERR streams."""</tt> </tt>
<a name="L693"></a><tt class="py-lineno">693</tt>  <tt class="py-line"> </tt>
<a name="L694"></a><tt class="py-lineno">694</tt>  <tt class="py-line">        <tt class="py-comment"># Restore the original streams.</tt> </tt>
<a name="L695"></a><tt class="py-lineno">695</tt>  <tt class="py-line">        <tt class="py-name">sys</tt><tt class="py-op">.</tt><tt class="py-name">stdout</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">orig_stdout</tt> </tt>
<a name="L696"></a><tt class="py-lineno">696</tt>  <tt class="py-line">        <tt class="py-name">sys</tt><tt class="py-op">.</tt><tt class="py-name">stderr</tt> <tt class="py-op">=</tt> <tt class="py-name">self</tt><tt class="py-op">.</tt><tt class="py-name">orig_stderr</tt> </tt>
</div></div><a name="L697"></a><tt class="py-lineno">697</tt>  <tt class="py-line"> </tt><script type="text/javascript">
<!--
expandto(location.href);
// -->
</script>
</pre>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://www.nmr-relax.com">relax</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Mon Mar 17 15:12:26 2014
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
