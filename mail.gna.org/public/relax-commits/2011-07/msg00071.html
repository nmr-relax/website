<!-- MHonArc v2.6.16 -->
<!--X-Subject: r13428 &#45; /branches/gui_testing/prompt/select.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Wed, 06 Jul 2011 09:21:37 +0200 -->
<!--X-Message-Id: E1QeMQT&#45;0001sX&#45;FT@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r13428 - /branches/gui_testing/prompt/select.py -- July 06, 2011 - 09:21</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r13428 - /branches/gui_testing/prompt/select.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00071" class="tabs">Index by Date</a> | <a href="threads.html#00071" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00070.html">Date Prev</a>] [<a href="msg00072.html">Date Next</a>] [<a href="msg00070.html">Thread Prev</a>] [<a href="msg00072.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Wed, 06 Jul 2011 07:21:37 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00071.html">E1QeMQT-0001sX-FT@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on July 06, 2011 - 09:21:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Wed Jul  6 09:21:36 2011
New Revision: 13428

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=13428&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=13428&amp;view=rev</a>
Log:
The select user functions now have docstrings built by _build_doc().


Modified:
    branches/gui_testing/prompt/select.py

Modified: branches/gui_testing/prompt/select.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/gui_testing/prompt/select.py?rev=13428&amp;r1=13427&amp;r2=13428&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/gui_testing/prompt/select.py?rev=13428&amp;r1=13427&amp;r2=13428&amp;view=diff</a>
==============================================================================
--- branches/gui_testing/prompt/select.py (original)
+++ branches/gui_testing/prompt/select.py Wed Jul  6 09:21:36 2011
@@ -1,6 +1,6 @@
 
###############################################################################
 #                                                                            
 #
-# Copyright (C) 2003, 2004, 2006, 2008-2010 Edward d'Auvergne                
 #
+# Copyright (C) 2003-2011 Edward d'Auvergne                                  
 #
 #                                                                            
 #
 # This file is part of the program relax.                                    
 #
 #                                                                            
 #
@@ -30,130 +30,58 @@
 from generic_fns import selection
 
 
+boolean_doc = [&quot;Boolean operators&quot;, &quot;&quot;&quot;
+The boolean operator can be used to change how spin systems are selected.  
The allowed values are: 'OR', 'NOR', 'AND', 'NAND', 'XOR', 'XNOR'.  The 
following table details how the selections will occur for the different 
boolean operators.
+__________________________________________________________
+|                    |   |   |   |   |   |   |   |   |   |
+| Spin system        | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |
+|____________________|___|___|___|___|___|___|___|___|___|
+|                    |   |   |   |   |   |   |   |   |   |
+| Original selection | 0 | 1 | 1 | 1 | 1 | 0 | 1 | 0 | 1 |
+|                    |   |   |   |   |   |   |   |   |   |
+| New selection      | 0 | 1 | 1 | 1 | 1 | 1 | 0 | 0 | 0 |
+|                    |   |   |   |   |   |   |   |   |   |
+| OR                 | 0 | 1 | 1 | 1 | 1 | 1 | 1 | 0 | 1 |
+|                    |   |   |   |   |   |   |   |   |   |
+| NOR                | 1 | 0 | 0 | 0 | 0 | 0 | 0 | 1 | 0 |
+|                    |   |   |   |   |   |   |   |   |   |
+| AND                | 0 | 1 | 1 | 1 | 1 | 0 | 0 | 0 | 0 |
+|                    |   |   |   |   |   |   |   |   |   |
+| NAND               | 1 | 0 | 0 | 0 | 0 | 1 | 1 | 1 | 1 |
+|                    |   |   |   |   |   |   |   |   |   |
+| XOR                | 0 | 0 | 0 | 0 | 0 | 1 | 1 | 0 | 1 |
+|                    |   |   |   |   |   |   |   |   |   |
+| XNOR               | 1 | 1 | 1 | 1 | 1 | 0 | 0 | 1 | 0 |
+|____________________|___|___|___|___|___|___|___|___|___|
+&quot;&quot;&quot;]
+
+
 class Select(User_fn_class):
     &quot;&quot;&quot;Class for selecting spins.&quot;&quot;&quot;
 
-    __boolean_doc = &quot;&quot;&quot;
-        Boolean operators
-        ~~~~~~~~~~~~~~~~~
-
-        The 'boolean' keyword argument can be used to change how spin 
systems are selected.  The
-        allowed values are: 'OR', 'NOR', 'AND', 'NAND', 'XOR', 'XNOR'.  The 
following table details
-        how the selections will occur for the different boolean operators.
-        __________________________________________________________
-        |                    |   |   |   |   |   |   |   |   |   |
-        | Spin system        | 1 | 2 | 3 | 4 | 5 | 6 | 7 | 8 | 9 |
-        |____________________|___|___|___|___|___|___|___|___|___|
-        |                    |   |   |   |   |   |   |   |   |   |
-        | Original selection | 0 | 1 | 1 | 1 | 1 | 0 | 1 | 0 | 1 |
-        |                    |   |   |   |   |   |   |   |   |   |
-        | New selection      | 0 | 1 | 1 | 1 | 1 | 1 | 0 | 0 | 0 |
-        |                    |   |   |   |   |   |   |   |   |   |
-        | OR                 | 0 | 1 | 1 | 1 | 1 | 1 | 1 | 0 | 1 |
-        |                    |   |   |   |   |   |   |   |   |   |
-        | NOR                | 1 | 0 | 0 | 0 | 0 | 0 | 0 | 1 | 0 |
-        |                    |   |   |   |   |   |   |   |   |   |
-        | AND                | 0 | 1 | 1 | 1 | 1 | 0 | 0 | 0 | 0 |
-        |                    |   |   |   |   |   |   |   |   |   |
-        | NAND               | 1 | 0 | 0 | 0 | 0 | 1 | 1 | 1 | 1 |
-        |                    |   |   |   |   |   |   |   |   |   |
-        | XOR                | 0 | 0 | 0 | 0 | 0 | 1 | 1 | 0 | 1 |
-        |                    |   |   |   |   |   |   |   |   |   |
-        | XNOR               | 1 | 1 | 1 | 1 | 1 | 0 | 0 | 1 | 0 |
-        |____________________|___|___|___|___|___|___|___|___|___|
-    &quot;&quot;&quot;
-
-
     def all(self):
-        &quot;&quot;&quot;Function for selecting all spins.
-
-        Examples
-        ~~~~~~~~
-
+        # Function intro test.
+        if self._exec_info.intro:
+            text = self._exec_info.ps3 + &quot;select.all()&quot;
+            print(text)
+
+        # Execute the functional code.
+        selection.sel_all()
+
+    # The function doc info.
+    all._doc_title = &quot;Select all spins.&quot;
+    all._doc_desc = &quot;&quot;&quot;
+        This will select all spins, irregardless of their current state.
+        &quot;&quot;&quot;
+    all._doc_examples = &quot;&quot;&quot;
         To select all spins, simply type:
 
         relax&gt; select.all()
         &quot;&quot;&quot;
-
-        # Function intro test.
-        if self._exec_info.intro:
-            text = self._exec_info.ps3 + &quot;select.all()&quot;
-            print(text)
-
-        # Execute the functional code.
-        selection.sel_all()
+    _build_doc(all)
 
 
     def read(self, file=None, dir=None, spin_id_col=None, mol_name_col=None, 
res_num_col=None, res_name_col=None, spin_num_col=None, spin_name_col=None, 
sep=None, spin_id=None, boolean='OR', change_all=False):
-        &quot;&quot;&quot;Function for selecting the spins contained in a file.
-
-        Keyword Arguments
-        ~~~~~~~~~~~~~~~~~
-
-        file:  The name of the file containing the list of spins to select.
-
-        dir:  The directory where the file is located.
-
-        spin_id_col:  The spin ID string column (an alternative to the mol, 
res, and spin name and
-            number columns).
-
-        mol_name_col:  The molecule name column (alternative to the 
spin_id_col).
-
-        res_num_col:  The residue number column (alternative to the 
spin_id_col).
-
-        res_name_col:  The residue name column (alternative to the 
spin_id_col).
-
-        spin_num_col:  The spin number column (alternative to the 
spin_id_col).
-
-        spin_name_col:  The spin name column (alternative to the 
spin_id_col).
-
-        data_col:  The RDC data column.
-
-        error_col:  The experimental error column.
-
-        sep:  The column separator (the default is white space).
-
-        spin_id:  The spin ID string to restrict the loading of data to 
certain spin subsets.
-
-        boolean:  The boolean operator specifying how spins should be 
selected.
-
-        change_all:  A flag specifying if all other spins should be changed.
-
-
-        Description
-        ~~~~~~~~~~~
-
-        The spin system can be identified in the file using two different 
formats.  The first is the
-        spin ID string column which can include the molecule name, the 
residue name and number, and
-        the spin name and number.  Alternatively the mol_name_col, 
res_num_col, res_name_col,
-        spin_num_col, and/or spin_name_col arguments can be supplied 
allowing this information to be
-        in separate columns.  Note that the numbering of columns starts at 
one.  The spin_id
-        argument can be used to restrict the reading to certain spin types, 
for example only 15N
-        spins when only residue information is in the file.
-
-        Empty lines and lines beginning with a hash are ignored.
-
-        The 'change_all' flag argument default is False meaning that all 
spins currently either
-        selected or deselected will remain that way.  Setting the argument 
to True will cause all
-        spins not specified in the file to be deselected.
-
-
-        Examples
-        ~~~~~~~~
-
-        To select all residues listed with residue numbers in the first 
column of the file
-        'isolated_peaks', type one of:
-
-        relax&gt; select.read('isolated_peaks', res_num_col=1)
-        relax&gt; select.read(file='isolated_peaks', res_num_col=1)
-
-        To select the spins in the second column of the relaxation data file 
'r1.600' while
-        deselecting all other spins, for example type:
-
-        relax&gt; select.read('r1.600', spin_num_col=2, change_all=True)
-        relax&gt; select.read(file='r1.600', spin_num_col=2, change_all=True)
-        &quot;&quot;&quot;
-
         # Function intro test.
         if self._exec_info.intro:
             text = self._exec_info.ps3 + &quot;select.read(&quot;
@@ -188,31 +116,49 @@
         # Execute the functional code.
         selection.sel_read(file=file, dir=dir, spin_id_col=spin_id_col, 
mol_name_col=mol_name_col, res_num_col=res_num_col, 
res_name_col=res_name_col, spin_num_col=spin_num_col, 
spin_name_col=spin_name_col, sep=sep, spin_id=spin_id, boolean=boolean, 
change_all=change_all)
 
+    # The function doc info.
+    read._doc_title = &quot;Select the spins contained in a file.&quot;
+    read._doc_args = [
+        [&quot;file&quot;, &quot;The name of the file containing the list of spins to 
select.&quot;],
+        [&quot;dir&quot;, &quot;The directory where the file is located.&quot;],
+        [&quot;spin_id_col&quot;, &quot;The spin ID string column (an alternative to the 
mol, res, and spin name and number columns).&quot;],
+        [&quot;mol_name_col&quot;, &quot;The molecule name column (alternative to the 
spin_id_col).&quot;],
+        [&quot;res_num_col&quot;, &quot;The residue number column (alternative to the 
spin_id_col).&quot;],
+        [&quot;res_name_col&quot;, &quot;The residue name column (alternative to the 
spin_id_col).&quot;],
+        [&quot;spin_num_col&quot;, &quot;The spin number column (alternative to the 
spin_id_col).&quot;],
+        [&quot;spin_name_col&quot;, &quot;The spin name column (alternative to the 
spin_id_col).&quot;],
+        [&quot;data_col&quot;, &quot;The RDC data column.&quot;],
+        [&quot;error_col&quot;, &quot;The experimental error column.&quot;],
+        [&quot;sep&quot;, &quot;The column separator (the default is white space).&quot;],
+        [&quot;spin_id&quot;, &quot;The spin ID string to restrict the loading of data to 
certain spin subsets.&quot;],
+        [&quot;boolean&quot;, &quot;The boolean operator specifying how spins should be 
selected.&quot;],
+        [&quot;change_all&quot;, &quot;A flag specifying if all other spins should be 
changed.&quot;]
+    ]
+    read._doc_desc = &quot;&quot;&quot;
+        The spin system can be identified in the file using two different 
formats.  The first is the spin ID string column which can include the 
molecule name, the residue name and number, and the spin name and number.  
Alternatively the mol_name_col, res_num_col, res_name_col, spin_num_col, 
and/or spin_name_col arguments can be supplied allowing this information to 
be in separate columns.  Note that the numbering of columns starts at one.  
The spin_id argument can be used to restrict the reading to certain spin 
types, for example only 15N spins when only residue information is in the 
file.
+
+        Empty lines and lines beginning with a hash are ignored.
+
+        The 'change_all' flag argument default is False meaning that all 
spins currently either selected or deselected will remain that way.  Setting 
the argument to True will cause all spins not specified in the file to be 
deselected.
+        &quot;&quot;&quot;
+    read._doc_examples = &quot;&quot;&quot;
+        To select all residues listed with residue numbers in the first 
column of the file
+        'isolated_peaks', type one of:
+
+        relax&gt; select.read('isolated_peaks', res_num_col=1)
+        relax&gt; select.read(file='isolated_peaks', res_num_col=1)
+
+        To select the spins in the second column of the relaxation data file 
'r1.600' while
+        deselecting all other spins, for example type:
+
+        relax&gt; select.read('r1.600', spin_num_col=2, change_all=True)
+        relax&gt; select.read(file='r1.600', spin_num_col=2, change_all=True)
+        &quot;&quot;&quot;
+    read._doc_additional = [boolean_doc]
+    _build_doc(read)
+
 
     def reverse(self, spin_id=None):
-        &quot;&quot;&quot;Function for the reversal of the spin selection for the given 
spins.
-
-        Keyword Arguments
-        ~~~~~~~~~~~~~~~~~
-
-        spin_id:  The spin identification string.
-
-
-        Description
-        ~~~~~~~~~~~
-
-        By supplying the spin_id argument, a subset of spin can have their 
selection status
-        reversed.
-
-
-        Examples
-        ~~~~~~~~
-
-        To select all currently deselected spins and deselect those which 
are selected type:
-
-        relax&gt; select.reverse()
-        &quot;&quot;&quot;
-
         # Function intro test.
         if self._exec_info.intro:
             text = self._exec_info.ps3 + &quot;select.reverse(&quot;
@@ -225,43 +171,23 @@
         # Execute the functional code.
         reverse(selection=selection)
 
+    # The function doc info.
+    reverse._doc_title = &quot;Reversal of the spin selection for the given 
spins.&quot;
+    reverse._doc_args = [
+        spin_id&quot;, &quot;The spin identification string.
+    ]
+    reverse._doc_desc = &quot;&quot;&quot;
+        By supplying the spin_id argument, a subset of spin can have their 
selection status reversed.
+        &quot;&quot;&quot;
+    reverse._doc_examples = &quot;&quot;&quot;
+        To select all currently deselected spins and deselect those which 
are selected type:
+
+        relax&gt; select.reverse()
+        &quot;&quot;&quot;
+    _build_doc(reverse)
+
 
     def spin(self, spin_id=None, boolean='OR', change_all=False):
-        &quot;&quot;&quot;Function for selecting specific spins.
-
-        Keyword Arguments
-        ~~~~~~~~~~~~~~~~~
-
-        spin_id:  The spin identification string.
-
-        boolean:  The boolean operator specifying how spins should be 
selected.
-
-        change_all:  A flag specifying if all other spins should be changed.
-
-
-        Description
-        ~~~~~~~~~~~
-
-        The 'change_all' flag argument default is False meaning that all 
spins currently either
-        selected or deselected will remain that way.  Setting the argument 
to True will cause all
-        spins not specified by 'spin_id' to be selected.
-
-
-        Examples
-        ~~~~~~~~
-
-        To select only glycines and alanines, assuming they have been loaded 
with the names GLY and
-        ALA, type one of:
-
-        relax&gt; select.spin(spin_id=':GLY|:ALA')
-
-        To select residue 5 CYS in addition to the currently selected 
residues, type one of:
-
-        relax&gt; select.spin(':5')
-        relax&gt; select.spin(':5&amp;:CYS')
-        relax&gt; select.spin(spin_id=':5&amp;:CYS')
-        &quot;&quot;&quot;
-
         # Function intro test.
         if self._exec_info.intro:
             text = self._exec_info.ps3 + &quot;select.spin(&quot;
@@ -278,10 +204,26 @@
         # Execute the functional code.
         selection.sel_spin(spin_id=spin_id, boolean=boolean, 
change_all=change_all)
 
-
-
-    # Docstring modification.
-    #########################
-
-    # Read function.
-    read.__doc__ = read.__doc__ + &quot;\n\n&quot; + __boolean_doc + &quot;\n&quot;
+    # The function doc info.
+    spin._doc_title = &quot;Select specific spins.&quot;
+    spin._doc_args = [
+        spin_id&quot;, &quot;The spin identification string.
+        boolean&quot;, &quot;The boolean operator specifying how spins should be 
selected.
+        change_all&quot;, &quot;A flag specifying if all other spins should be changed.
+    ]
+    spin._doc_desc = &quot;&quot;&quot;
+        The 'change_all' flag argument default is False meaning that all 
spins currently either selected or deselected will remain that way.  Setting 
the argument to True will cause all spins not specified by 'spin_id' to be 
selected.
+        &quot;&quot;&quot;
+    spin._doc_examples = &quot;&quot;&quot;
+        To select only glycines and alanines, assuming they have been loaded 
with the names GLY and
+        ALA, type one of:
+
+        relax&gt; select.spin(spin_id=':GLY|:ALA')
+
+        To select residue 5 CYS in addition to the currently selected 
residues, type one of:
+
+        relax&gt; select.spin(':5')
+        relax&gt; select.spin(':5&amp;:CYS')
+        relax&gt; select.spin(spin_id=':5&amp;:CYS')
+        &quot;&quot;&quot;
+    _build_doc(spin)



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Jul 06 10:00:02 2011</div>  
</body>
</html>
