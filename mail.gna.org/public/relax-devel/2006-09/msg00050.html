<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: [bug #7241] Problem with reading RNA PDBs -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneq.qnhiretarNtznvy.pbz> -->
<!--X-Date: Sat, 30 Sep 2006 17:09:24 +0200 -->
<!--X-Message-Id: 7f080ed10609300808q5f721721gccf6ad678d833482@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20060929&#45;172352.sv6347.19654@gna.org -->
<!--X-Reference: 7f080ed10609300742y5005acf4r3f6aeb1768a4e7ee@mail.gmail.com -->
<!--X-Reference: 7f080ed10609300801t9622dd2t843480fbc61f3b67@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [bug #7241] Problem with reading RNA PDBs -- September 30, 2006 - 17:09</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: [bug #7241] Problem with reading RNA PDBs</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00050" class="tabs">Index by Date</a> | <a href="threads.html#00050" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00049.html">Date Prev</a>] [<a href="msg00051.html">Date Next</a>] [<a href="msg00049.html">Thread Prev</a>] [Thread Next]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Alex Hansen&quot; &lt;viochemist@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Sun, 1 Oct 2006 01:08:46 +1000</li>
<li class="menuitem">
<em>Cc</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00050.html">7f080ed10609300808q5f721721gccf6ad678d833482@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00038.html">20060929-172352.sv6347.19654@gna.org</a>&gt;	&lt;<a href="msg00047.html">7f080ed10609300742y5005acf4r3f6aeb1768a4e7ee@mail.gmail.com</a>&gt;	&lt;<a href="msg00049.html">7f080ed10609300801t9622dd2t843480fbc61f3b67@mail.gmail.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on September 30, 2006 - 17:09:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Oh, I forgot to mention that these changes are not a perfect fix.
They tend to ignore most of the issues described in the paragraph
beginning with &quot;Now, the difference between 'nucleotide_chains' and
'peptide_chains' ...&quot; in the post located at
<a  href="https://mail.gna.org/public/relax-users/2006-09/msg00046.html">https://mail.gna.org/public/relax-users/2006-09/msg00046.html</a>
(Message-id: &lt;7f080ed10609290847w5648a510ga6ea217a4e6839f@xxxxxxxxxxxxxx&gt;).
If anyone has ideas on how to handle multimeric PDB files, it would
be appreciated.</pre><br>
<pre style="margin: 0em;">Thanks,</pre><br>
<pre style="margin: 0em;">Edward</pre><br>
<tt><br>On 10/1/06, Edward d'Auvergne &lt;edward.dauvergne@xxxxxxxxx&gt; wrote:
</tt><blockquote class="blockquote"><pre style="margin: 0em;">I've attempted to fix bug #7241 (<a  href="https://web.archive.org/web/https://gna.org/bugs/?7241">https://gna.org/bugs/?7241</a>).  I've
committed the changes in revision r2591 to the 1.2 line.  The commit
message of those changes is located at
<a  href="https://mail.gna.org/public/relax-commits/2006-09/msg00064.html">https://mail.gna.org/public/relax-commits/2006-09/msg00064.html</a>
(Message-id: &lt;E1GTgBi-0000R6-4h@xxxxxxxxxxxxxxxxxx&gt;).  Do these
changes fix the issue for your data?  Also, would you have a different
truncated PDB file I could use for debugging?  I may need to do some
testing before closing your bug report.</pre><br>
<pre style="margin: 0em;">Thanks,</pre><br>
<pre style="margin: 0em;">Edward</pre><br>
<pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">On 10/1/06, Edward d'Auvergne &lt;edward.dauvergne@xxxxxxxxx&gt; wrote:
&gt; Alex, do you get the following message when using the 'whole residue PDB' 
data?
&gt;
&gt; relax&gt; pdb(run='sphere', file='etar.pdb', dir=None, model=None,
&gt; heteronuc='N1', proton='H1', load_seq=1)
&gt; Loading all structures from the PDB file.
&gt; Structure('etar.pdb', model=1):
&gt; Nucleotide chain of length 1
&gt;
&gt; I don't get the message 'Nucleotide chain of length 1' and therefore
&gt; can't reproduce the bug.
&gt;
&gt; Edward
&gt;
&gt;
&gt; On 9/30/06, Alex Hansen &lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt; wrote:
&gt; &gt;
&gt; &gt; URL:
&gt; &gt;   &lt;<a  href="http://gna.org/bugs/?7241">http://gna.org/bugs/?7241</a>&gt;
&gt; &gt;
&gt; &gt;                  Summary: Problem with reading RNA PDBs
&gt; &gt;                  Project: relax
&gt; &gt;             Submitted by: viochemist
&gt; &gt;             Submitted on: Friday 09/29/2006 at 17:23
&gt; &gt;                 Category: None
&gt; &gt;                 Priority: 5 - Normal
&gt; &gt;                 Severity: 4 - Important
&gt; &gt;                   Status: None
&gt; &gt;                  Privacy: Private
&gt; &gt;              Assigned to: None
&gt; &gt;          Originator Name:
&gt; &gt;         Originator Email:
&gt; &gt;              Open/Closed: Open
&gt; &gt;                  Release: 1.2.7
&gt; &gt;         Operating System: GNU/Linux
&gt; &gt;
&gt; &gt;     _______________________________________________________
&gt; &gt;
&gt; &gt; Details:
&gt; &gt;
&gt; &gt; Full post at <a  href="https://mail.gna.org/public/relax-users/2006-09/msg00041.html">https://mail.gna.org/public/relax-users/2006-09/msg00041.html</a>
&gt; &gt;
&gt; &gt; &lt;481156b20609281057o4fe80f47wc1dda6ea6516498d@xxxxxxxxxxxxxx&gt;
&gt; &gt;
&gt; &gt; See below for pdb and input.
&gt; &gt;
&gt; &gt; Lines changed in full_analysis.py:
&gt; &gt;
&gt; &gt; 128:  'sphere'
&gt; &gt; 174:  pdb(name, 'etar.pdb', heteronuc='N1', proton='H1')
&gt; &gt; 380:  pdb(name, 'etar.pdb', heteronuc='N1', proton='H1')
&gt; &gt;
&gt; &gt; $ python relax full_analysis.py
&gt; &gt;
&gt; &gt; Results:
&gt; &gt;
&gt; &gt;
&gt; &gt; relax&gt; run.create(run='sphere', run_type='mf')
&gt; &gt;
&gt; &gt; relax&gt; results.read(run='sphere', file='results', dir='local_tm/aic',
&gt; &gt; format='columnar')
&gt; &gt; Opening the file 'local_tm/aic/results.bz2' for reading.
&gt; &gt;
&gt; &gt; relax&gt; model_free.remove_tm(run='sphere', res_num=None)
&gt; &gt;
&gt; &gt; relax&gt; pdb(run='sphere', file='etar.pdb', dir=None, model=None,
&gt; &gt; heteronuc='N1', proton='H1', load_seq=1)
&gt; &gt; Loading all structures from the PDB file.
&gt; &gt; Structure('etar.pdb', model=1):
&gt; &gt;   Nucleotide chain of length 1
&gt; &gt;
&gt; &gt;
&gt; &gt; Calculating unit XH vectors.
&gt; &gt;
&gt; &gt;
&gt; &gt; Structure 1
&gt; &gt;
&gt; &gt; Traceback (most recent call last):
&gt; &gt;   File &quot;relax&quot;, line 458, in ?
&gt; &gt;     Relax()
&gt; &gt;   File &quot;relax&quot;, line 170, in __init__
&gt; &gt;     self.interpreter.run()
&gt; &gt;   File &quot;/local/home/viochem/relax_1.2.7/prompt/interpreter.py&quot;, line 213, 
in
&gt; &gt; run
&gt; &gt;     run_script(intro=self.relax.intro_string, local=self.local,
&gt; &gt; script_file=self.relax.script_file, quit=1)
&gt; &gt;   File &quot;/local/home/viochem/relax_1.2.7/prompt/interpreter.py&quot;, line 388, 
in
&gt; &gt; run_script
&gt; &gt;     console.interact(intro, local, script_file, quit)
&gt; &gt;   File &quot;/local/home/viochem/relax_1.2.7/prompt/interpreter.py&quot;, line 340, 
in
&gt; &gt; interact_script
&gt; &gt;     execfile(script_file, local)
&gt; &gt;   File &quot;full_analysis.py&quot;, line 412, in ?
&gt; &gt;     Main()
&gt; &gt;   File &quot;full_analysis.py&quot;, line 174, in __init__
&gt; &gt;     pdb(name, 'etar.pdb', heteronuc='N1', proton='H1')
&gt; &gt;   File &quot;/local/home/viochem/relax_1.2.7/prompt/pdb.py&quot;, line 129, in pdb
&gt; &gt;     self.relax.generic.pdb.load(run=run, file=file, dir=dir, model=model,
&gt; &gt; heteronuc=heteronuc, proton=proton, load_seq=load_seq)
&gt; &gt;   File &quot;/local/home/viochem/relax_1.2.7/generic_fns/pdb.py&quot;, line 198, in
&gt; &gt; load
&gt; &gt;     self.vectors()
&gt; &gt;   File &quot;/local/home/viochem/relax_1.2.7/generic_fns/pdb.py&quot;, line 229, in
&gt; &gt; vectors
&gt; &gt;     pdb_residues =
&gt; &gt; self.relax.data.pdb[self.run].structures[i].peptide_chains[0].residues
&gt; &gt; IndexError: list index out of range
&gt; &gt;
&gt; &gt; ==================
&gt; &gt; Simplify the PDB
&gt; &gt; ==================
&gt; &gt;
&gt; &gt; Identical output.
&gt; &gt;
&gt; &gt;
&gt; &gt; Curious line is at the end where it says:
&gt; &gt; self.relax.data.pdb[self.run].structures[i].peptide_chains[0].residues
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; ************
&gt; &gt; My Input
&gt; &gt; ************
&gt; &gt; R1:
&gt; &gt;
&gt; &gt; Num  Name   Value       Error
&gt; &gt; 1    G     0.738       0.022
&gt; &gt;
&gt; &gt; R2:
&gt; &gt;
&gt; &gt; Num  Name   Value       Error
&gt; &gt; 1    G     23.74       0.33
&gt; &gt;
&gt; &gt;
&gt; &gt; NOE:
&gt; &gt;
&gt; &gt; Num  Name   Value       Error
&gt; &gt; 1    G     0.686        0.018
&gt; &gt;
&gt; &gt;
&gt; &gt; *******************
&gt; &gt;  whole residue PDB
&gt; &gt; *******************
&gt; &gt;
&gt; &gt; etar.pdb
&gt; &gt;
&gt; &gt; MODEL        1
&gt; &gt; ATOM      1  P   G       1      -2.918 -16.615 -49.930  1.00  0.00
&gt; &gt; P
&gt; &gt; ATOM      2  O1P G       1      -3.505 -17.162 -51.178  1.00  0.00
&gt; &gt; O
&gt; &gt; ATOM      3  O2P G       1      -1.490 -16.217 -50.016  1.00  0.00
&gt; &gt; O
&gt; &gt; ATOM      4  O5' G       1      -3.782 -15.376 -49.413  1.00  0.00
&gt; &gt; O
&gt; &gt; ATOM      5  O3' G       1      -6.236 -12.842 -50.659  1.00  0.00
&gt; &gt; O
&gt; &gt; ATOM      6  C1' G       1      -5.187 -12.610 -47.168  1.00  0.00
&gt; &gt; C
&gt; &gt; ATOM      7  C2' G       1      -5.658 -11.918 -48.451  1.00  0.00
&gt; &gt; C
&gt; &gt; ATOM      8  C3' G       1      -5.445 -13.010 -49.490  1.00  0.00
&gt; &gt; C
&gt; &gt; ATOM      9  C4' G       1      -5.829 -14.263 -48.722  1.00  0.00
&gt; &gt; C
&gt; &gt; ATOM     10  C5' G       1      -5.195 -15.566 -49.213  1.00  0.00
&gt; &gt; C
&gt; &gt; ATOM     11  O4' G       1      -5.357 -14.014 -47.368  1.00  0.00
&gt; &gt; O
&gt; &gt; ATOM     12  O2' G       1      -7.043 -11.646 -48.287  1.00  0.00
&gt; &gt; O
&gt; &gt; ATOM     13  N2  G       1      -3.764  -7.849 -44.958  1.00  0.00
&gt; &gt; N
&gt; &gt; ATOM     14  O6  G       1       0.310  -9.848 -46.253  1.00  0.00
&gt; &gt; O
&gt; &gt; ATOM     15  C6  G       1      -0.956  -9.976 -46.221  1.00  0.00
&gt; &gt; C
&gt; &gt; ATOM     16  C5  G       1      -1.781 -11.085 -46.692  1.00  0.00
&gt; &gt; C
&gt; &gt; ATOM     17  N7  G       1      -1.395 -12.320 -47.327  1.00  0.00
&gt; &gt; N
&gt; &gt; ATOM     18  C8  G       1      -2.570 -12.950 -47.544  1.00  0.00
&gt; &gt; C
&gt; &gt; ATOM     19  N9  G       1      -3.710 -12.226 -47.102  1.00  0.00
&gt; &gt; N
&gt; &gt; ATOM     20  C4  G       1      -3.184 -11.015 -46.550  1.00  0.00
&gt; &gt; C
&gt; &gt; ATOM     21  N3  G       1      -3.964  -9.991 -45.989  1.00  0.00
&gt; &gt; N
&gt; &gt; ATOM     22  C2  G       1      -3.196  -8.955 -45.542  1.00  0.00
&gt; &gt; C
&gt; &gt; ATOM     23  N1  G       1      -1.768  -8.924 -45.646  1.00  0.00
&gt; &gt; N
&gt; &gt; ATOM     24  H1' G       1      -5.799 -12.337 -46.307  1.00  0.00
&gt; &gt; H
&gt; &gt; ATOM     25  H2' G       1      -5.074 -11.028 -48.681  1.00  0.00
&gt; &gt; H
&gt; &gt; ATOM     26  H3' G       1      -4.411 -13.056 -49.833  1.00  0.00
&gt; &gt; H
&gt; &gt; ATOM     27  H4' G       1      -6.911 -14.367 -48.796  1.00  0.00
&gt; &gt; H
&gt; &gt; ATOM     28 1H5' G       1      -5.363 -16.346 -48.472  1.00  0.00
&gt; &gt; H
&gt; &gt; ATOM     29 2H5' G       1      -5.663 -15.858 -50.154  1.00  0.00
&gt; &gt; H
&gt; &gt; ATOM     30 HO2' G       1      -7.555 -12.532 -48.168  1.00  0.00
&gt; &gt; H
&gt; &gt; ATOM     31 1H2  G       1      -4.818  -7.792 -44.843  1.00  0.00
&gt; &gt; H
&gt; &gt; ATOM     32 2H2  G       1      -3.151  -7.049 -44.622  1.00  0.00
&gt; &gt; H
&gt; &gt; ATOM     33  H8  G       1      -2.640 -13.960 -48.032  1.00  0.00
&gt; &gt; H
&gt; &gt; ATOM     34  H1  G       1      -1.267  -8.064 -45.271  1.00  0.00
&gt; &gt; H
&gt; &gt; ENDMDL
&gt; &gt; END
&gt; &gt;
&gt; &gt;
&gt; &gt; ****************
&gt; &gt;  Simplified PDB
&gt; &gt; ****************
&gt; &gt;
&gt; &gt; MODEL        1
&gt; &gt; ATOM     23  N1  G       1      -1.768  -8.924 -45.646  1.00  0.00
&gt; &gt; N
&gt; &gt; ATOM     34  H1  G       1      -1.267  -8.064 -45.271  1.00  0.00
&gt; &gt; H
&gt; &gt; ENDMDL
&gt; &gt; END
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;     _______________________________________________________
&gt; &gt;
&gt; &gt; Reply to this item at:
&gt; &gt;
&gt; &gt;   &lt;<a  href="http://gna.org/bugs/?7241">http://gna.org/bugs/?7241</a>&gt;
&gt; &gt;
&gt; &gt; _______________________________________________
&gt; &gt;   Message sent via/by Gna!
&gt; &gt;   <a  href="http://gna.org/">http://gna.org/</a>
&gt; &gt;
&gt; &gt;
&gt; &gt; _______________________________________________
&gt; &gt; relax (<a  href="http://nmr-relax.com">http://nmr-relax.com</a>)
&gt; &gt;
&gt; &gt; This is the relax-devel mailing list
&gt; &gt; relax-devel@xxxxxxx
&gt; &gt;
&gt; &gt; To unsubscribe from this list, get a password
&gt; &gt; reminder, or change your subscription options,
&gt; &gt; visit the list information page at
&gt; &gt; <a  href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
&gt; &gt;
&gt;</pre><br>
</blockquote><pre style="margin: 0em;"><br></pre><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00038" href="msg00038.html">[bug #7241] Problem with reading RNA PDBs</a></strong>
<ul><li><em>From:</em> Alex Hansen</li></ul></li>
<li><strong><a name="00047" href="msg00047.html">Re: [bug #7241] Problem with reading RNA PDBs</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00049" href="msg00049.html">Re: [bug #7241] Problem with reading RNA PDBs</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sat Sep 30 17:20:56 2006</div>  
</body>
</html>
