<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: NOE errors -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneq.qnhiretarNtznvy.pbz> -->
<!--X-Date: Sat, 18 Aug 2007 11:58:29 +0200 -->
<!--X-Message-Id: 7f080ed10708180257x1f8a2a8cv3a82f3278dd4c262@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: ad6179adb45d.adb45dad6179@uq.edu.au -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: NOE errors -- August 18, 2007 - 11:58</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: NOE errors</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00006" class="tabs">Index by Date</a> | <a href="threads.html#00006" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00005.html">Date Prev</a>] [<a href="msg00007.html">Date Next</a>] [<a href="msg00005.html">Thread Prev</a>] [Thread Next]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Dr Horst Schirra&quot; &lt;h.schirra@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Sat, 18 Aug 2007 11:57:53 +0200</li>
<li class="menuitem">
<em>Cc</em>: relax-users@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00006.html">7f080ed10708180257x1f8a2a8cv3a82f3278dd4c262@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;ad6179adb45d.adb45dad6179@xxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on August 18, 2007 - 11:58:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

This is exactly correct.  The formula you report Seb should be

           sd(NOE) = NOE * sqrt({sd(sat)/I(sat)}^2 + {sd(unsat)/(unsat)}^2).

Note the division rather than the multiplication.  This formula is
directly from Farrow et al. (Biochem. (1994), 33, 5984-6003).  If you
replace the NOE term with the intensity ratio, then take that into the
square root and simplify, you will end up with the formula found
within relax.  The two equivalent equations are both widely reported
in the literature.

Cheers,

Edward


On 8/17/07, Dr Horst Schirra &lt;h.schirra@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Sebastien,

Nope - Error propagation works according to Gauss like:

[sigma(f(a,b,...))]^2= [df/da]^2 * [sigma(a)]^2 + [df/db]^2 *
[sigma(b)]^2 + ....

In other words the variance (square of the standard deviation) of a
function f that depends on variables a,b,... is the sqare of the partial
derivative of f with respect to a [1], times the square of the standard
deviation of a [2] + the square of the partial derivative of f with
respect to b times the square of the standard deviation of b + and so on...

For NOE=a/b you get:

dNOE/da = 1/b

dNOE/db = -a/(b^2)

If you insert that into the formula above and take the square root at
the end to get sigma(NOE) instead of sigma(NOE)^2 then you end up with
Ed's formula.


Cheers,

Horst Joachim Schirra

[1]=(possibly better written in the proper form as [d f(a,b,...)/da]^2 -
but I wanted to save space up there)
[2]= In other words: the variance of a


     ----------------------------------------------------------------
    / Dr. sc. nat. Horst Joachim Schirra    Phone: (+61)7/3346-2021 /
   / Queensland Smart State Fellow          Fax:  (+61)7/3346-2101 /
  / Institute for Molecular Bioscience                            /
 / University of Queensland           email: h.schirra@xxxxxxxxx /
/ Brisbane QLD 4072, Australia   <a  rel="nofollow" href="http://www.uq.edu.au/~uqhschir">http://www.uq.edu.au/~uqhschir</a> /
----------------------------------------------------------------



----- Original Message -----
From: Sebastien Morin &lt;sebastien.morin.1@xxxxxxxxx&gt;
Date: Friday, August 17, 2007 3:37 am
Subject: NOE errors
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi everyone,

I was looking at the NOE tool in relax and was quite surprised by the
way errors are calculated...

In the file 'specific_fns/noe.py' of the 1.2 line (r3354), the
functionfor the noe error is :

                        _____________________________________________
                      \/ {sd(sat)*I(unsat)}^2 + {sd(unsat)*I(sat)}^2
           sd(NOE) = ----------------------------------------------
-
                                         I(unsat)^2


Shouldn't this be more like :


_____________________________________________            sd(NOE) =
NOE * \/ {sd(sat)*I(sat)}^2 + {sd(unsat)*I(unsat)}^2


In other words, shouldn't the NOE error be the product of the NOE
by the
root of the squared sum of relative errors for Isat and Iunsat,
respectively ? Ain't this the way one should normally propagate errors
for value calculated by a division (like NOE=Isat/Iunsat)

What are the main advantages of calculating errors with either
techniques and why the one is relax should be more accurate ?


Thanks !


SÃ©bastien

--
        ______________________________________
    _______________________________________________
   |                                               |
  || Sebastien Morin                               ||
 ||| Etudiant au PhD en biochimie                  |||
|||| Laboratoire de resonance magnetique nucleaire ||||
||||| Dr Stephane Gagne                             |||||
|||| CREFSIP (Universite Laval, Quebec, CANADA)    ||||
 ||| 1-418-656-2131 #4530                          |||
  ||                                               ||
   |_______________________________________________|
        ______________________________________



_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>

</pre></blockquote><pre style="margin: 0em;">

_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>

</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00005" href="msg00005.html">Re: NOE errors</a></strong>
<ul><li><em>From:</em> Dr Horst Schirra</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sat Aug 18 12:40:36 2007</div>  
</body>
</html>
