<!-- MHonArc v2.6.16 -->
<!--X-Subject: r21734 &#45; /trunk/test_suite/system_tests/structure.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Mon, 02 Dec 2013 10:48:36 +0100 -->
<!--X-Message-Id: E1VnQ7I&#45;0006y2&#45;0s@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r21734 - /trunk/test_suite/system_tests/structure.py -- December 02, 2013 - 10:48</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r21734 - /trunk/test_suite/system_tests/structure.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00012" class="tabs">Index by Date</a> | <a href="threads.html#00012" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00011.html">Date Prev</a>] [<a href="msg00013.html">Date Next</a>] [<a href="msg00011.html">Thread Prev</a>] [<a href="msg00013.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Mon, 02 Dec 2013 09:48:35 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00012.html">E1VnQ7I-0006y2-0s@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on December 02, 2013 - 10:48:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Mon Dec  2 10:48:35 2013
New Revision: 21734

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=21734&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=21734&amp;view=rev</a>
Log:
Improved the checking of the Structure.test_read_gaussian_strychnine system 
test.

This now checks all the atomic information loaded.


Modified:
    trunk/test_suite/system_tests/structure.py

Modified: trunk/test_suite/system_tests/structure.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/test_suite/system_tests/structure.py?rev=21734&amp;r1=21733&amp;r2=21734&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/test_suite/system_tests/structure.py?rev=21734&amp;r1=21733&amp;r2=21734&amp;view=diff</a>
==============================================================================
--- trunk/test_suite/system_tests/structure.py (original)
+++ trunk/test_suite/system_tests/structure.py Mon Dec  2 10:48:35 2013
@@ -27,7 +27,7 @@
 
 # relax module imports.
 from data_store import Relax_data_store; ds = Relax_data_store()
-from pipe_control.mol_res_spin import count_spins, return_spin
+from pipe_control.mol_res_spin import count_spins, return_spin, spin_loop
 from lib.geometry.rotations import euler_to_R_zyz
 from lib.errors import RelaxError
 from lib.io import DummyFileObject
@@ -365,6 +365,70 @@
 
         # And now all the rest of the atoms.
         self.interpreter.structure.load_spins()
+
+        # The actual data.
+        data = [
+            [ 5, 'C', -0.258837, -2.073956, -0.558021],
+            [ 6, 'C', -0.824223, -1.406962, -1.808433],
+            [ 7, 'C', -1.741283, -0.250780, -1.378644],
+            [ 8, 'C', -0.819735,  0.828965, -0.783392],
+            [ 9, 'C',  0.003153,  0.334416,  0.415455],
+            [10, 'C',  2.358372,  0.448322,  0.162421],
+            [11, 'C',  3.667689,  0.888405, -0.010558],
+            [12, 'C',  4.632616, -0.056196, -0.360560],
+            [13, 'C',  4.303015, -1.398582, -0.525823],
+            [14, 'C',  2.988069, -1.825141, -0.331972],
+            [15, 'C',  2.015427, -0.899636,  0.012625],
+            [16, 'C',  0.561728, -1.122705,  0.360284],
+            [17, 'C',  0.390886, -1.834862,  1.723978],
+            [18, 'C', -1.067936, -2.282629,  1.709808],
+            [19, 'C', -2.708975, -2.252045, -0.131301],
+            [20, 'C', -2.815469, -0.775379, -0.431910],
+            [21, 'C', -3.718174,  0.023460,  0.134879],
+            [22, 'C', -3.726395,  1.516213, -0.058936],
+            [23, 'C', -1.423939,  2.193179, -0.407936],
+            [24, 'C', -0.372897,  3.059448,  0.332496],
+            [25, 'C',  1.064718,  2.558120,  0.325331],
+            [26, 'H',  0.399932, -2.896344, -0.855386],
+            [27, 'H', -1.364146, -2.140645, -2.409934],
+            [28, 'H', -0.007016, -1.035292, -2.430851],
+            [29, 'H', -2.229948,  0.177326, -2.261725],
+            [30, 'H', -0.101863,  1.055799, -1.581061],
+            [31, 'H', -0.582210,  0.470722,  1.326014],
+            [32, 'H',  3.918694,  1.929549,  0.116264],
+            [33, 'H',  5.656588,  0.267474, -0.505165],
+            [34, 'H',  5.068478, -2.115052, -0.797816],
+            [35, 'H',  2.736463, -2.873299, -0.445917],
+            [36, 'H',  1.059165, -2.698455,  1.760657],
+            [37, 'H',  0.631843, -1.189746,  2.570301],
+            [38, 'H', -1.243126, -3.142405,  2.361743],
+            [39, 'H', -1.719677, -1.470258,  2.058429],
+            [40, 'H', -3.410692, -2.541912,  0.651788],
+            [41, 'H', -2.971493, -2.840572, -1.016009],
+            [42, 'H', -4.455619, -0.395106,  0.813636],
+            [43, 'H', -3.834304,  1.785629, -1.118252],
+            [44, 'H', -4.559845,  1.966160,  0.480526],
+            [45, 'H', -1.736135,  2.699031, -1.329897],
+            [46, 'H', -0.354638,  4.078330, -0.048526],
+            [47, 'H', -0.690723,  3.116119,  1.378208],
+            [ 1, 'O', -2.547545,  2.139059,  0.472310],
+            [ 2, 'O',  2.015408,  3.324289,  0.213156],
+            [ 3, 'N',  1.207610,  1.203922,  0.478894],
+            [ 4, 'N', -1.350394, -2.624460,  0.301178]
+        ]
+
+        # Check the data.
+        i = 0
+        for spin in spin_loop():
+            self.assertEqual(spin.num, data[i][0])
+            self.assertEqual(spin.name, data[i][1])
+            self.assertEqual(spin.element, data[i][1])
+            self.assertEqual(spin.pos[0], data[i][2])
+            self.assertEqual(spin.pos[1], data[i][3])
+            self.assertEqual(spin.pos[2], data[i][4])
+
+            # Increment the spin index.
+            i += 1
 
 
     def test_read_merge(self):



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Dec 03 09:00:01 2013</div>  
</body>
</html>
