<!-- MHonArc v2.6.16 -->
<!--X-Subject: r6368 &#45; /1.3/test_suite/system_tests/model_free.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Sun, 22 Jun 2008 03:18:36 +0200 -->
<!--X-Message-Id: E1KADW0&#45;0005Sx&#45;1p@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r6368 - /1.3/test_suite/system_tests/model_free.py -- June 22, 2008 - 03:18</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r6368 - /1.3/test_suite/system_tests/model_free.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00067" class="tabs">Index by Date</a> | <a href="threads.html#00067" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00066.html">Date Prev</a>] [<a href="msg00068.html">Date Next</a>] [<a href="msg00066.html">Thread Prev</a>] [<a href="msg00068.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Sun, 22 Jun 2008 00:33:06 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00067.html">E1KADW0-0005Sx-1p@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on June 22, 2008 - 03:18:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Sun Jun 22 02:32:53 2008
New Revision: 6368

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=6368&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=6368&amp;view=rev</a>
Log:
Updated the model-free 1.2 results file reading system test.

The values are now hard coded into the test, rather than relying on a saved 
state file.


Modified:
    1.3/test_suite/system_tests/model_free.py

Modified: 1.3/test_suite/system_tests/model_free.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/1.3/test_suite/system_tests/model_free.py?rev=6368&amp;r1=6367&amp;r2=6368&amp;view=diff">http://svn.gna.org/viewcvs/relax/1.3/test_suite/system_tests/model_free.py?rev=6368&amp;r1=6367&amp;r2=6368&amp;view=diff</a>
==============================================================================
--- 1.3/test_suite/system_tests/model_free.py (original)
+++ 1.3/test_suite/system_tests/model_free.py Sun Jun 22 02:32:53 2008
@@ -633,59 +633,79 @@
         # Alias the current data pipe.
         cdp = ds[ds.current_pipe]
 
+        # The spin specific data.
+        num = [3, 4, 5, 6, 7, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 
21, 22, 24, 25, 26, 27, 28, 29, 30, 31, 33, 34, 35]
+        select = [False, False, False, False, False, True, True, True, True, 
True, True, True, True, True, True, True, True, True, True, True, True, True, 
True, True, True, True, True, False, False, False]
+        model = ['m6', 'm8', 'm6', 'm6', 'm5', 'm5', 'm6', 'm5', 'm5', 'm5', 
'm5', 'm5', 'm5', 'm5', 'm5', 'm5', 'm5', 'm5', 'm5', 'm5', 'm5', 'm8']
+        params = [['S2f', 'tf', 'S2', 'ts'], ['S2f', 'tf', 'S2', 'ts', 
'Rex'], ['S2f', 'tf', 'S2', 'ts'], ['S2f', 'tf', 'S2', 'ts'], ['S2f', 'S2', 
'ts'], ['S2f', 'S2', 'ts'], ['S2f', 'tf', 'S2', 'ts'], ['S2f', 'S2', 'ts'], 
['S2f', 'S2', 'ts'], ['S2f', 'S2', 'ts'], ['S2f', 'S2', 'ts'], ['S2f', 'S2', 
'ts'], ['S2f', 'S2', 'ts'], ['S2f', 'S2', 'ts'], ['S2f', 'S2', 'ts'], ['S2f', 
'S2', 'ts'], ['S2f', 'S2', 'ts'], ['S2f', 'S2', 'ts'], ['S2f', 'S2', 'ts'], 
['S2f', 'S2', 'ts'], ['S2f', 'S2', 'ts'], ['S2f', 'tf', 'S2', 'ts', 'Rex']]
+        s2 = [0.36670427146403667, 0.29007016882193892, 0.32969827132809559, 
0.32795333510352148, 0.48713005133752196, 0.40269538236298569, 
0.40700811448591556, 0.4283551026406261, 0.51176783207279875, 
0.40593664887508263, 0.39437732735324443, 0.51457448574034614, 
0.3946900969237977, 0.44740698217286901, 0.48527716982891644, 
0.40845486062540021, 0.45839900995265137, 0.52650140958170921, 
0.4293599736020427, 0.4057313062564018, 0.49877862202992485, 
0.2592017578673716]
+        s2f = [0.74487419686217116, 0.75358958979175727, 
0.77751085082436211, 0.79095600331751026, 0.81059857999556584, 
0.83190224667917501, 0.80119109731193627, 0.83083248649122576, 
0.86030420847112021, 0.84853537580616367, 0.82378413185968968, 
0.82419108009774422, 0.85121172821954216, 0.8736616181472916, 
0.84117641395909415, 0.82881488883235521, 0.82697284935760407, 
0.85172375147802715, 0.81366357660551614, 0.80525752789388483, 
0.87016608774434312, 0.72732036363757913]
+        s2s = [0.49230363061145249, 0.38491796164819009, 0.4240433056059994, 
0.41462904855388333, 0.60095102971952741, 0.48406574687168274, 
0.50800379067049317, 0.51557336720143987, 0.59486845122178478, 
0.47839684761453399, 0.47873867934666214, 0.62433881919629686, 
0.46368028522041266, 0.51210557140148982, 0.57690296800513374, 
0.49281795745831319, 0.55430962492751434, 0.61815983018913379, 
0.5276873464009153, 0.50385285725620466, 0.57319933407525203, 
0.35637907423767778]
+        tf = [51.972302580836775, 40.664901270582988, 28.130299965023671, 
33.804249387275249, None, None, 39.01236115991609, None, None, None, None, 
None, None, None, None, None, None, None, None, None, None, 
44.039078787981225]
+        ts = [4485.91415175767, 4102.7781982031429, 3569.2837792404325, 
6879.5308400989479, 3372.9879908647699, 4029.0617588044606, 
4335.5290462417324, 4609.1336532777468, 2628.5638771308277, 
3618.1332115807745, 6208.3028336637644, 3763.0843884066526, 
3847.9994107906346, 2215.2061317769703, 2936.1282626562524, 
3647.0715185456729, 3803.6990762708042, 2277.5259401416288, 
3448.4496004396187, 3884.6917561878495, 1959.3267951363712, 
4100.8496898773756]
+        rex = [None, 4102.7781982031429, None, None, None, None, None, None, 
None, None, None, None, None, None, None, None, None, None, None, None, None, 
4100.8496898773756]
+        r1_500 = [2.2480000000000002, 2.2679999999999998, 
2.2309999999999999, 2.383, 2.1960000000000002, 2.3570000000000002, 
2.3340000000000001, 2.3999999999999999, 2.2839999999999998, 
2.3889999999999998, 2.375, 2.274, 2.407, 2.3220000000000001, 
2.2130000000000001, 2.351, 2.3260000000000001, 2.2949999999999999, 
2.2829999999999999, 2.302, 2.2719999999999998, 2.2280000000000002]
+        r2_500 = [5.3419999999999996, 5.3730000000000002, 
5.1280000000000001, 5.6749999999999998, 5.9669999999999996, 
5.8410000000000002, 5.774, 6.0419999999999998, 6.3129999999999997, 
5.9210000000000003, 6.1269999999999998, 6.1120000000000001, 
6.0570000000000004, 5.6399999999999997, 6.2809999999999997, 
5.8890000000000002, 5.875, 6.1429999999999998, 5.7370000000000001, 
5.5490000000000004, 5.7110000000000003, 5.4020000000000001]
+        noe_500 = [0.4617, 0.46560000000000001, 0.61670000000000003, 
0.60860000000000003, 0.68869999999999998, 0.6663, 0.58620000000000005, 
0.64939999999999998, 0.61070000000000002, 0.61180000000000001, 
0.73129999999999995, 0.69650000000000001, 0.65139999999999998, 0.4929, 
0.65920000000000001, 0.63029999999999997, 0.64380000000000004, 
0.53500000000000003, 0.63839999999999997, 0.65000000000000002, 
0.49909999999999999, 0.45979999999999999]
+        r1_600 = [1.8879999999999999, 1.992, 2.0270000000000001, 
1.9790000000000001, 1.9399999999999999, 2.0550000000000002, 
2.0030000000000001, 2.0139999999999998, 1.982, 2.1000000000000001, 2.008, 
1.927, 2.1019999999999999, 2.0830000000000002, 1.9910000000000001, 2.036, 
1.9990000000000001, 1.9490000000000001, 1.976, 1.9870000000000001, 2.0, 
1.9379999999999999]
+        r2_600 = [5.6100000000000003, 5.7869999999999999, 
5.4029999999999996, 6.1849999999999996, 6.3150000000000004, 
5.9809999999999999, 6.1600000000000001, 6.2460000000000004, 
6.4340000000000002, 6.0069999999999997, 6.399, 6.6799999999999997, 
6.1369999999999996, 5.952, 6.3239999999999998, 5.9699999999999998, 
6.3979999999999997, 6.4379999999999997, 6.1139999999999999, 
6.0960000000000001, 6.3250000000000002, 6.1050000000000004]
+        noe_600 = [0.62929999999999997, 0.64429999999999998, 0.5393, 
0.71509999999999996, 0.73870000000000002, 0.75580000000000003, 
0.64239999999999997, 0.74429999999999996, 0.69440000000000002, 
0.73140000000000005, 0.7681, 0.73399999999999999, 0.75680000000000003, 
0.62470000000000003, 0.73529999999999995, 0.73740000000000006, 
0.73080000000000001, 0.6603, 0.70899999999999996, 0.69040000000000001, 
0.59199999999999997, 0.56830000000000003]
+        r1_750 = [1.6220000000000001, 1.706, 1.73, 1.665, 1.627, 1.768, 
1.706, 1.7030000000000001, 1.7649999999999999, 1.8129999999999999, 1.675, 
1.6339999999999999, 1.845, 1.7829999999999999, 1.764, 1.7470000000000001, 
1.681, 1.647, 1.6850000000000001, 1.667, 1.7010000000000001, 
1.6850000000000001]
+        r2_750 = [6.2619999999999996, 6.5359999999999996, 
5.8959999999999999, 6.6840000000000002, 6.8819999999999997, 
6.7569999999999997, 6.5620000000000003, 7.0030000000000001, 
6.9740000000000002, 6.649, 6.9829999999999997, 7.2309999999999999, 
6.4429999999999996, 6.6840000000000002, 6.8070000000000004, 
6.4850000000000003, 6.9400000000000004, 6.944, 6.4640000000000004, 
6.4889999999999999, 6.9009999999999998, 6.9539999999999997]
+        noe_750 = [0.61909999999999998, 0.65890000000000004, 
0.72009999999999996, 0.71009999999999995, 0.75219999999999998, 
0.80420000000000003, 0.70020000000000004, 0.81999999999999995, 
0.81040000000000001, 0.83409999999999995, 0.81299999999999994, 
0.81910000000000005, 0.7782, 0.74760000000000004, 0.8115, 0.7379, 
0.81100000000000005, 0.78249999999999997, 0.75729999999999997, 
0.78259999999999996, 0.75139999999999996, 0.65210000000000001]
+
         # Diffusion tensor type.
-        self.assertEqual(ds['orig'].diff.type, cdp.diff.type)
+        self.assertEqual(cdp.diff.type, 'sphere')
 
         # tm.
-        self.assertEqual(ds['orig'].diff.tm, cdp.diff.tm)
+        self.assertEqual(cdp.diff.tm, 6.2029050826362826e-09)
 
         # Loop over the residues of the original data.
         for i in xrange(len(cdp.mol[0].res)):
             # Aliases
-            orig_data_res = ds['orig'].mol[0].res[i]
-            new_data_res = cdp.mol[0].res[i]
-            orig_data = ds['orig'].mol[0].res[i].spin[0]
-            new_data = cdp.mol[0].res[i].spin[0]
+            res = cdp.mol[0].res[i]
+            spin = cdp.mol[0].res[i].spin[0]
 
             # Spin info tests.
-            self.assertEqual(orig_data_res.num, new_data_res.num)
-            self.assertEqual(orig_data_res.name, new_data_res.name)
-            self.assertEqual(orig_data.num, new_data.num)
-            self.assertEqual(orig_data.name, new_data.name)
-            self.assertEqual(orig_data.select, new_data.select)
-
-            # Skip deselected residues.
-            if not orig_data.select:
+            self.assertEqual(num[i], res.num)
+            self.assertEqual('XXX', res.name)
+            self.assertEqual(None, spin.num)
+            self.assertEqual(None, spin.name)
+            self.assertEqual(select[i], spin.select)
+
+            # Skip deselected spins.
+            if not select[i]:
                 continue
 
             # Model-free tests.
-            self.assertEqual(orig_data.model, new_data.model)
-            self.assertEqual(orig_data.params, new_data.params)
-            self.assertEqual(orig_data.s2, new_data.s2)
-            self.assertEqual(orig_data.s2f, new_data.s2f)
-            self.assertEqual(orig_data.s2s, new_data.s2s)
-            self.assertEqual(orig_data.local_tm, new_data.local_tm)
-            self.assertEqual(orig_data.te, new_data.te)
-            self.assertEqual(orig_data.tf, new_data.tf)
-            self.assertEqual(orig_data.ts, new_data.ts)
-            self.assertEqual(orig_data.rex, new_data.rex)
-            self.assertEqual(orig_data.r, new_data.r)
-            self.assertEqual(orig_data.csa, new_data.csa)
+            self.assertEqual(model[i], spin.model)
+            self.assertEqual(params[i], spin.params)
+            self.assertEqual(s2[i], spin.s2)
+            self.assertEqual(s2f[i], spin.s2f)
+            self.assertEqual(s2s[i], spin.s2s)
+            self.assertEqual(None, spin.local_tm)
+            self.assertEqual(None, spin.te)
+            self.assertEqual(tf[i], spin.tf)
+            self.assertEqual(ts[i], spin.ts)
+            self.assertEqual(rex[i], spin.rex)
+            self.assertEqual(1.02, spin.r)
+            self.assertEqual(-170.0, spin.csa)
 
             # Minimisation statistic tests.
-            self.assertEqual(orig_data.chi2, new_data.chi2)
-            self.assertEqual(orig_data.iter, new_data.iter)
-            self.assertEqual(orig_data.f_count, new_data.f_count)
-            self.assertEqual(orig_data.g_count, new_data.g_count)
-            self.assertEqual(orig_data.h_count, new_data.h_count)
-            self.assertEqual(orig_data.warning, new_data.warning)
+            self.assertEqual(88.0888600975, spin.chi2)
+            self.assertEqual(1, spin.iter)
+            self.assertEqual(20, spin.f_count)
+            self.assertEqual(2, spin.g_count)
+            self.assertEqual(1, spin.h_count)
+            self.assertEqual(None, spin.warning)
 
             # Relaxation data tests.
-            self.assertEqual(orig_data.ri_labels, new_data.ri_labels)
-            self.assertEqual(orig_data.remap_table, new_data.remap_table)
-            self.assertEqual(orig_data.frq_labels, new_data.frq_labels)
-            self.assertEqual(orig_data.relax_data, new_data.relax_data)
-            self.assertEqual(orig_data.relax_error, new_data.relax_error)
+            
self.assertEqual(['R1','R2','NOE','R1','R2','NOE','R1','R2','NOE'], 
spin.ri_labels)
+            self.assertEqual([0,0,0,1,1,1,2,2,2], spin.remap_table)
+            self.assertEqual(['500','600','750'], spin.frq_labels)
+            self.assertEqual([500000000.0,600000000.0,750000000.0], spin.frq)
+            self.assertEqual(relax_data[i], spin.relax_data)
+            self.assertEqual(relax_error[i], spin.relax_error)
 
 
     def test_select_m4(self):



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sun Jun 22 03:40:09 2008</div>  
</body>
</html>
