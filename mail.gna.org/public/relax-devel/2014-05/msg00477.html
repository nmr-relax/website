<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [bug #22071] relax unit test and system test not functional -->
<!--X-From-R13: "Sqjneq q'Ohiretar" &#60;rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Fri, 23 May 2014 10:45:22 +0200 -->
<!--X-Message-Id: CAED9pY9uSYgm1u95GYqeqLG_WrK4Kp_ESMm0a0=UCxySnW7DJA@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20140522&#45;195700.sv20529.15353@gna.org -->
<!--X-Reference: 20140522&#45;205022.sv20529.52321@gna.org -->
<!--X-Reference: 20140522&#45;205801.sv20529.6936@gna.org -->
<!--X-Reference: CAED9pY_=NBp9Ef=duUxuX1yAtyjTqUR1Z=Y2R2hPyn=WyR=2Fw@mail.gmail.com -->
<!--X-Reference: CAED9pY&#45;ufrNCzfChXLCzYp2HOsUXJEix4mtHwHv67qOy25K2Ew@mail.gmail.com -->
<!--X-Reference: CAED9pY8L5mC=LBb9d6V4XWYWyXRryQRuLxGfc&#45;YFUi1XO2jP0g@mail.gmail.com -->
<!--X-Reference: CA+CBx2NdcDdbaYmFHfoW2Vc389mieWFs2wgc083W57jOw5=uAw@mail.gmail.com -->
<!--X-Reference: CA+CBx2Mj6aQ3XMEad07zr64EFugL6__F_oJHAxiQyw19ShBUdg@mail.gmail.com -->
<!--X-Reference: CAED9pY_2JbXmrpWPK19pA02=0cCULtGwVqcpY08rgFb2_Oy4xw@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [bug #22071] relax unit test and system test not functional -- May 23, 2014 - 10:45</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: [bug #22071] relax unit test and system test not functional</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00477" class="tabs">Index by Date</a> | <a href="threads.html#00477" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00476.html">Date Prev</a>] [<a href="msg00478.html">Date Next</a>] [<a href="msg00476.html">Thread Prev</a>] [<a href="msg00475.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Fri, 23 May 2014 10:44:32 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;Troels E. Linnet&quot; &lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt;, &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:date:message-id:subject :from:to:cc:content-type:content-transfer-encoding; bh=vaPm3NGe1FpNT0agDFqHjVJSaxwxm/g7WKNK6VHIYUs=; b=tElRMOaljzpmvsLKdBQmvFU/KjK8XtCY0/ZUjCqzkTxXhe5bkTfM03iVUaxH+EvNiI CYJcsDL9vJBACiWz6FKY4TM89PZWTi8HZ5ejrQRny0jDTpRTOBnm5usOEmlR0EuYPZ37 5MSqXy2I9zpUpZQSaaD1WyvGawAfWf6uPvsK5VU2NBv804tOq62VHsgM2xFspE7yH3MI yzqcpOgmE+nqj5Szz6nnssT2ldS8Fdn21WeAhiaHfnNzpgRHx1fXcj6K32e4YZOLaRM1 3YLRwdOR4HlVrCnSF7aZCnIxm6WihpzcOYkJeWaH2lfcmQTHWXPY0El81fCqPd9x7++u nZKg==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;CAED9pY9uSYgm1u95GYqeqLG_WrK4Kp_ESMm0a0=UCxySnW7DJA@mail.gmail.com&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00463.html">20140522-195700.sv20529.15353@gna.org</a>&gt; &lt;<a href="msg00464.html">20140522-205022.sv20529.52321@gna.org</a>&gt; &lt;<a href="msg00465.html">20140522-205801.sv20529.6936@gna.org</a>&gt; &lt;CAED9pY_=NBp9Ef=duUxuX1yAtyjTqUR1Z=Y2R2hPyn=WyR=2Fw@mail.gmail.com&gt; &lt;<a href="msg00468.html">CAED9pY-ufrNCzfChXLCzYp2HOsUXJEix4mtHwHv67qOy25K2Ew@mail.gmail.com</a>&gt; &lt;CAED9pY8L5mC=LBb9d6V4XWYWyXRryQRuLxGfc-YFUi1XO2jP0g@mail.gmail.com&gt; &lt;CA+CBx2NdcDdbaYmFHfoW2Vc389mieWFs2wgc083W57jOw5=uAw@mail.gmail.com&gt; &lt;<a href="msg00474.html">CA+CBx2Mj6aQ3XMEad07zr64EFugL6__F_oJHAxiQyw19ShBUdg@mail.gmail.com</a>&gt; &lt;CAED9pY_2JbXmrpWPK19pA02=0cCULtGwVqcpY08rgFb2_Oy4xw@mail.gmail.com&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on May 23, 2014 - 10:45:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">I cannot replicate this issue, even on my Mac and Windows test
machines, so I really have no idea what the problem could be :S

Regards,

Edward



On 23 May 2014 10:43, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Do you have a subversion copy of the trunk?  Could you run the tests
on that to see if it is the git-svn information retrieval that is
causing the problems?

Cheers,

Edward



On 23 May 2014 10:41, Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">This works

relax_disp_speed -i



                                  relax repository checkout r23372
                        svn+ssh://svn.gna.org/svn/relax/branches/disp_speed

                              Molecular dynamics by NMR data analysis

                             Copyright (C) 2001-2006 Edward d'Auvergne
                         Copyright (C) 2006-2014 the relax development team

This is free software which you are welcome to modify and redistribute
under the conditions of the
GNU General Public License (GPL).  This program, including all
modules, is licensed under the GPL
and comes with absolutely no warranty.  For details type 'GPL' within
the relax prompt.

Assistance in using the relax prompt and scripting interface can be
accessed by typing 'help' within
the prompt.

Processor fabric:  Uni-processor.


Hardware information:
    Machine:                 x86_64
    Processor:               i386
    Processor name:          Intel(R) Core(TM) i5-2435M CPU @ 2.40GHz
    Endianness:              little
    Total RAM size:          2048.0 Mb
    Total swap size:         6144.0 Mb

Operating system information:
    System:                  Darwin
    Release:                 13.1.0
    Version:                 Darwin Kernel Version 13.1.0: Thu Jan 16
19:40:37 PST 2014; root:xnu-2422.90.20~2/RELEASE_X86_64
    Mac version:             10.9.2 (, , ) x86_64
    Distribution:
    Full platform string:    Darwin-13.1.0-x86_64-i386-32bit

Python information:
    Architecture:            32bit
    Python version:          2.7.3
    Python branch:
    Python build:            default, Apr 12 2012 11:28:34
    Python compiler:         GCC 4.0.1 (Apple Inc. build 5493)
    Libc version:
    Python implementation:   CPython
    Python revision:
    Python executable:
/Library/Frameworks/Python.framework/Versions/7.3/Resources/Python.app/Contents/MacOS/Python
    Python flags:            sys.flags(debug=0, py3k_warning=0,
division_warning=0, division_new=0, inspect=0, interactive=0,
optimize=0, dont_write_bytecode=0, no_user_site=0, no_site=0,
ignore_environment=0, tabcheck=0, verbose=0, unicode=0,
bytes_warning=0, hash_randomization=0)
    Python float info:
sys.float_info(max=1.7976931348623157e+308, max_exp=1024,
max_10_exp=308, min=2.2250738585072014e-308, min_exp=-1021,
min_10_exp=-307, dig=15, mant_dig=53, epsilon=2.220446049250313e-16,
radix=2, rounds=1)
    Python module path:      ['/Users/tlinnet/software/disp_speed',
'/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7/site-packages/pip-1.4.1-py2.7.egg',
'/Library/Frameworks/Python.framework/Versions/7.3/lib/python27.zip',
'/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7',
'/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7/plat-darwin',
'/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7/plat-mac',
'/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7/plat-mac/lib-scriptpackages',
'/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7/lib-tk',
'/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7/lib-old',
'/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7/lib-dynload',
'/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7/site-packages',
'/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7/site-packages/PIL',
'/Library/Python/2.7/site-packages',
'/usr/local/lib/wxPython-2.9.5.0/lib/python2.7']

Python packages and modules (most are optional):

Name               Installed    Version                   Path
minfx              True         1.0.6
/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7/site-packages/minfx
bmrblib            True         1.0.3
/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7/site-packages/bmrblib
numpy              True         1.6.1
/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7/site-packages/numpy
scipy              True         0.10.1
/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7/site-packages/scipy
wxPython           True         2.8.10.1 (mac-unicode)
/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7/site-packages/wx
matplotlib         True         1.1.0
/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7/site-packages/matplotlib
mpi4py             False
epydoc             True         3.0.1
/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7/site-packages/epydoc
optparse           True         1.5.3
/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7/optparse.pyc
readline           True
/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7/lib-dynload/readline.so
profile            True
/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7/profile.pyc
bz2                True
/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7/lib-dynload/bz2.so
gzip               True
/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7/gzip.pyc
io                 True
/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7/io.pyc
xml                True         0.8.4 (internal)
/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7/xml/__init__.pyc
xml.dom.minidom    True
/Library/Frameworks/Python.framework/Versions/7.3/lib/python2.7/xml/dom/minidom.pyc

relax information:
    Version:                 repository checkout r23372
svn+ssh://svn.gna.org/svn/relax/branches/disp_speed
    Processor fabric:        Uni-processor.

relax C modules:

Module                        Compiled    File type
                                  Path
target_functions.relax_fit    True        2-way ['Mach-O 64-bit bundle
x86_64', 'Mach-O bundle i386']
/Users/tlinnet/software/disp_speed/target_functions/relax_fit.so

2014-05-23 10:38 GMT+02:00 Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt;:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Ed.

It still does not work:
But

relax&gt; from status import Status; status = Status()
relax&gt; print status.install_path
/Users/tlinnet/software/disp_speed
relax&gt;
tlinnet@linmac:disp_speed$ s=/Users/tlinnet/software/disp_speed
tlinnet@linmac:disp_speed$ cd $s; git svn find-rev $(git rev-parse HEAD)
23372

2014-05-23 9:21 GMT+02:00 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

I just made another simplification for the git-svn version.py support:

r23366:  <a  rel="nofollow" href="http://article.gmane.org/gmane.science.nmr.relax.scm/21112">http://article.gmane.org/gmane.science.nmr.relax.scm/21112</a>

Once this issue is resolved, I'll look at releasing relax 3.2.1 with
all the recent bugfixes.

Cheers,

Edward




On 23 May 2014 09:12, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Troels,

If that change doesn't work, could you try running:

$ cd %s; git svn find-rev $(git rev-parse HEAD)

where the %s is replaced by the value of status.install_path.  This is
the command in the version file for obtaining the subversion revision
number from a git-svn copy.  Or:

$ cd %s; git svn info

This is the command used to find the repository URL.  These two bits
of information are used for the relax intro text, which used to look
like:

&quot;&quot;&quot;

                                  relax repository checkout rNone
                                                None

                              Molecular dynamics by NMR data analysis

                             Copyright (C) 2001-2006 Edward d'Auvergne
                         Copyright (C) 2006-2014 the relax development 
team

&quot;&quot;&quot;

But this new git-svn support:

&quot;&quot;&quot;

                                  relax repository checkout r23365
                               svn+ssh://svn.gna.org/svn/relax/trunk

                              Molecular dynamics by NMR data analysis

                             Copyright (C) 2001-2006 Edward d'Auvergne
                         Copyright (C) 2006-2014 the relax development 
team

&quot;&quot;&quot;

Maybe there is a shell incompatibility with one of these commands, so
make sure you use the 'cd %s; ' part to check that too.

Cheers,

Edward





On 23 May 2014 09:05, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

I first thought that it might have been this test suite printout 
change:

r23360:  <a  rel="nofollow" href="http://article.gmane.org/gmane.science.nmr.relax.scm/21105">http://article.gmane.org/gmane.science.nmr.relax.scm/21105</a>

But now, with that last message, it's clear that it is these two to
the version.py module:

r23345:  <a  rel="nofollow" href="http://article.gmane.org/gmane.science.nmr.relax.scm/21088">http://article.gmane.org/gmane.science.nmr.relax.scm/21088</a>
r23343:  <a  rel="nofollow" href="http://article.gmane.org/gmane.science.nmr.relax.scm/21090">http://article.gmane.org/gmane.science.nmr.relax.scm/21090</a>

The git-svn support for extracting the repository information I added
mustn't be functioning as I expected.  I've attempted a fix at:

r23365:  <a  rel="nofollow" href="http://article.gmane.org/gmane.science.nmr.relax.scm/21111">http://article.gmane.org/gmane.science.nmr.relax.scm/21111</a>

Cheers,

Edward




On 22 May 2014 22:58, Troels E. Linnet 
&lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Follow-up Comment #2, bug #22071 (project relax):

If I break, this comes:

  File &quot;./relax&quot;, line 7, in &lt;module&gt;
    relax.start(profile_flag=False)
  File &quot;/sbinlab2/tlinnet/software/NMR-relax/relax_trunk/relax.py&quot;, 
line 118,
in start
    processor.run()
  File 
&quot;/sbinlab2/tlinnet/software/NMR-relax/relax_trunk/multi/processor.py&quot;,
line 494, in run
    self.callback.init_master(self)
  File 
&quot;/sbinlab2/tlinnet/software/NMR-relax/relax_trunk/multi/__init__.py&quot;,
line 318, in default_init_master
    self.master.run()
  File &quot;/sbinlab2/tlinnet/software/NMR-relax/relax_trunk/relax.py&quot;, 
line 246,
in run
    runner.run_unit_tests()
  File
&quot;/sbinlab2/tlinnet/software/NMR-relax/relax_trunk/test_suite/test_suite_runner.py&quot;,
line 192, in run_unit_tests
    self.unit_result = unit_runner.run(runner=self.runner)
  File
&quot;/sbinlab2/tlinnet/software/NMR-relax/relax_trunk/test_suite/unit_tests/unit_test_runner.py&quot;,
line 624, in run
    finder.scan_paths()
  File
&quot;/sbinlab2/tlinnet/software/NMR-relax/relax_trunk/test_suite/unit_tests/unit_test_runner.py&quot;,
line 378, in scan_paths
    test_case = load_test_case(dir_path, module_name, class_name)
  File
&quot;/sbinlab2/tlinnet/software/NMR-relax/relax_trunk/test_suite/unit_tests/unit_test_runner.py&quot;,
line 316, in load_test_case
    return TestLoader().loadTestsFromTestCase(clazz)
  File
&quot;/sbinlab2/tlinnet/software/NMR-relax/relax_trunk/test_suite/relax_test_loader.py&quot;,
line 56, in loadTestsFromTestCase
    test_case = testCaseClass(testCaseNames[i])
  File
&quot;/sbinlab2/tlinnet/software/NMR-relax/relax_trunk/test_suite/unit_tests/_prompt/test_spectrum.py&quot;,
line 43, in __init__
    self.interpreter = Interpreter(show_script=False, 
raise_relax_error=True)
  File
&quot;/sbinlab2/tlinnet/software/NMR-relax/relax_trunk/prompt/interpreter.py&quot;,
 line
87, in __init__
    self.__intro_string = info.intro_text()
  File &quot;/sbinlab2/tlinnet/software/NMR-relax/relax_trunk/info.py&quot;, 
line 287,
in intro_text
    text2 = &quot;%s&quot; % (url())
  File &quot;/sbinlab2/tlinnet/software/NMR-relax/relax_trunk/version.py&quot;, 
line
120, in url
    if not pipe.stderr.readlines():


    _______________________________________________________

Reply to this item at:

  &lt;<a  rel="nofollow" href="http://gna.org/bugs/?22071">http://gna.org/bugs/?22071</a>&gt;

_______________________________________________
  Message sent via/by Gna!
  <a  rel="nofollow" href="http://gna.org/">http://gna.org/</a>


_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00463" href="msg00463.html">[bug #22071] relax unit test and system test not functional</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00464" href="msg00464.html">[bug #22071] relax unit test and system test not functional</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00465" href="msg00465.html">[bug #22071] relax unit test and system test not functional</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00467" href="msg00467.html">Re: [bug #22071] relax unit test and system test not functional</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00468" href="msg00468.html">Re: [bug #22071] relax unit test and system test not functional</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00469" href="msg00469.html">Re: [bug #22071] relax unit test and system test not functional</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00473" href="msg00473.html">Re: [bug #22071] relax unit test and system test not functional</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00474" href="msg00474.html">Re: [bug #22071] relax unit test and system test not functional</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00476" href="msg00476.html">Re: [bug #22071] relax unit test and system test not functional</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri May 23 11:00:15 2014</div>  
</body>
</html>
