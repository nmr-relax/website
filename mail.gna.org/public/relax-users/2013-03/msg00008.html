<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: diffusion tensor -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Mon, 18 Mar 2013 10:53:28 +0100 -->
<!--X-Message-Id: CAED9pY8USJ6nE70oL85VVCjmgcO_&#45;WXM1Y&#45;PHVZw&#45;V1xio3&#45;zw@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E90AF3DE&#45;3938&#45;4A00&#45;8963&#45;0C4E9562A48C@fct.unl.pt -->
<!--X-Reference: CAED9pY&#45;VtRUVBDOXD3=jA0Aq1K1fqaZ9rZLrORteEDDTeztxVg@mail.gmail.com -->
<!--X-Reference: D63F30EF&#45;4050&#45;4727&#45;B5D7&#45;03362993BB1D@fct.unl.pt -->
<!--X-Reference: CAED9pY8SbGwo1VUh2+ZM+DBJupHGOQuEa0r1jFvbA4Zi47pvmQ@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: diffusion tensor -- March 18, 2013 - 10:53</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: diffusion tensor</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00008" class="tabs">Index by Date</a> | <a href="threads.html#00008" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00006.html">Date Prev</a>] [<a href="msg00009.html">Date Next</a>] [<a href="msg00005.html">Thread Prev</a>] [<a href="msg00007.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Angelo Miguel Figueiredo &lt;am.figueiredo@xxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Mon, 18 Mar 2013 10:52:57 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:x-received:sender:in-reply-to:references:date	:x-google-sender-auth:message-id:subject:from:to:cc:content-type;	bh=F2yGZo/RhzycKPZ/BDvUI0d6UMcoMHoftqnpa0RO9Cw=;	b=zmjgj0qDjSwh2lmPixkRh4x4JWbBVWNNM9Fuwv/KGoZnYdUN4J9uwJbuFlh2MXBpgO	04G5B3ZIwpk+n7eKq2kktGGHlOho71Pb2drxxPAnhb3Y1cU7AeN2LgGqVFAEJ00yIz1g	8Kxz8PllrhR1Sg7azGGk5b4dI3X9rCml1//IZ/y7abb8sUlL+JFEUaECWXXLTdxRP993	o/mPcg86bmj3mu/OV0N1+9IWqub4/ga364DcBWrov0/2PsRn/A1CJ84oHWS7XkdMDaxo	KcURBSEQDXYwdZIaB3unvVfM7u5o9xmo0B429/GRcpCw6aOCFXZCGmSD5a8ZfkerLLjX	Nz6A==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00008.html">CAED9pY8USJ6nE70oL85VVCjmgcO_-WXM1Y-PHVZw-V1xio3-zw@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E90AF3DE-3938-4A00-8963-0C4E9562A48C@xxxxxxxxxx&gt;	&lt;CAED9pY-VtRUVBDOXD3=jA0Aq1K1fqaZ9rZLrORteEDDTeztxVg@xxxxxxxxxxxxxx&gt;	&lt;D63F30EF-4050-4727-B5D7-03362993BB1D@xxxxxxxxxx&gt;	&lt;CAED9pY8SbGwo1VUh2+ZM+DBJupHGOQuEa0r1jFvbA4Zi47pvmQ@xxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on March 18, 2013 - 10:53:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Angelo,

I'm not sure if you have seen this as you may not be subscribed to the
relax-announce mailing list
(<a  rel="nofollow" href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-announce">https://mail.gna.org/listinfo/relax-announce</a>), but a new version of
relax has been released fixing the bugs you have encountered.  The
following link describes the different ways in which you can find out
about new relax releases:

<a  rel="nofollow" href="http://article.gmane.org/gmane.science.nmr.relax.user/1413">http://article.gmane.org/gmane.science.nmr.relax.user/1413</a>

Regards,

Edward



On 13 March 2013 18:15, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

Have you tried Sebastien Morin's consistency testing analysis which is
in relax (<a  rel="nofollow" href="http://www.nmr-relax.com/manual/Consistency_testing.html">http://www.nmr-relax.com/manual/Consistency_testing.html</a>)?
This might tell you if there are problems with your relaxation data.
I would assume that you have used proper per-experiment temperature
calibration using MeOH/ethylene glycol and single-scan interleaving
for temperature control:

<a  rel="nofollow" href="http://www.nmr-relax.com/manual/Temperature_control_calibration.html">http://www.nmr-relax.com/manual/Temperature_control_calibration.html</a>

And that you have used the appropriate spectral processing and peak
height extraction:

<a  rel="nofollow" href="http://www.nmr-relax.com/manual/From_spectra_peak_intensities_relaxation_rates.html">http://www.nmr-relax.com/manual/From_spectra_peak_intensities_relaxation_rates.html</a>

These links are from the HTML version of the relax manual
(<a  rel="nofollow" href="http://www.nmr-relax.com/manual/index.html">http://www.nmr-relax.com/manual/index.html</a>).  Note that the error
analysis is incredibly important - I always say that accuracy in the
errors is just as important, or maybe even more important, than the
data itself.  If the errors are wrong, then the results from any type
of modelling analysis will be meaningless (there are shelves in maths
libraries dedicated to this large field of mathematics:
<a  rel="nofollow" href="http://en.wikipedia.org/wiki/Mathematical_model">http://en.wikipedia.org/wiki/Mathematical_model</a>) .

Assuming you have done all of this, then there could be other issues
affecting the analysis.  Did you collect all data on a single sample
and, if not, did you make sure the protein concentration was identical
in each sample?  Partial dimerisation, even non-specific and at very
low percentages, could significantly affect the analysis.  Even more
so if slightly different sample concentrations are used.  Did you use
all of the global diffusion models in the model-free analysis?  Are
the AIC values significantly different between the models?  Also, did
you use relax to calculate the R1 and R2 relaxation rates and the NOE?

Note that almost no protein will tumble as a perfect sphere.  You can
see this with the inertia tensor, and almost no model-free analysis
using today's methodology will select the spherical tensor.  One part
that you don't see, which is a very significant part of the diffusion
tensor, is the water shell.  This can have different thicknesses
around your system depending upon surface
hydrophobicity/hydrophilicity, the presence of charges, bound metals
(even a loose attraction), and loop and other internal motions.  So
even a perfect mathematical sphere with different localised surface
properties will not diffuse as a sphere.

Anyway, I hope some of this information helps.

Regards,

Edward

On 13 March 2013 17:31, Angelo Miguel Figueiredo
&lt;am.figueiredo@xxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Sorry once again. In fact relax has chosen the 'local_tm&quot; however I don't 
get any diffusion tensor even selecting on the user function menu the 
diffusion_tensor.display says:

&quot;RelaxError: No diffusion tensor data exists&quot;

I think this might be normal for the local_tm model once it assumes the 
molecule doesn't  diffuse as a globular protein and somehow none of the 
models fits the data?!
However, this result is quite strange since my protein is quite spherical 
and the inertia tensors are 1: 0.8: 0.7

Any ideas?

many thanks,
Angelo

On 13 Mar 2013, at 13:07, Edward d'Auvergne wrote:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Angelo,

Welcome to the relax mailing lists!  The problem you are seeing is a
clear bug.  Would you be able to submit a bug report using the link
<a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/bugs/?func=additem&amp;group=relax">https://gna.org/bugs/?func=additem&amp;group=relax</a> ?  Thanks.  Although
bug #12408 (<a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/bugs/?12408">https://gna.org/bugs/?12408</a>) appears to be similar, this
is only because both cases use the special RelaxNoTensorError error
object.  For the bug report, would you be able to include the output
of:

$ relax --info

Also if you could look at the logs and say which global diffusion
model was selected, that would be useful.  And have you used a 3D
structure file for the analysis?

Note that this failure has occurred at the very end of the analysis.
The call to the structure.create_diff_tensor_pdb user function is the
very last thing that this model-free auto-analysis does (you can see
that here if you are interested,
<a  rel="nofollow" href="http://www.nmr-relax.com/api/auto_analyses.dauvergne_protocol-pysrc.html#dAuvergne_protocol.execute">http://www.nmr-relax.com/api/auto_analyses.dauvergne_protocol-pysrc.html#dAuvergne_protocol.execute</a>).
Therefore this error is not too important for your analysis.  It
would be good to have the bug report though so that I can come up with
a solution.

Cheers,

Edward



On 13 March 2013 13:43, Angelo Miguel Figueiredo
&lt;am.figueiredo@xxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Dear relax community,

I am a new user that recently installed relax 2.2.2. After been playing
around with it I spot in the late stage of my final calculation the
following message in attach.

Does anybody has a clue or advice what could be wrong with it. I spot a
similar error in earlier relax versions (bug #12408) but I am not sure 
if it
is the same issue, apparently relax can't read/load my diffusion tensor.

Any help will be appreciated.

Many thanks,
Angelo



relax&gt; structure.create_diff_tensor_pdb(scale=1.8e-06, file='tensor.pdb',
dir='/home/final', force=True)
Exception raised in thread.

Traceback (most recent call last):
File &quot;/home/angelo/Software/relax-2.2.2/gui/analyses/execute.py&quot;, line 
87,
in run
self.run_analysis()
File &quot;/home/angelo/Software/relax-2.2.2/gui/analyses/auto_model_free.py&quot;,
line 808, in run_analysis
dauvergne_protocol.dAuvergne_protocol(pipe_name=self.data.pipe_name,
pipe_bundle=self.data.pipe_bundle, results_dir=self.data.save_dir,
diff_model=self.data.global_models, mf_models=self.data.mf_models,
local_tm_models=self.data.local_tm_models, grid_inc=self.data.inc,
diff_tensor_grid_inc=self.data.diff_tensor_grid_inc,
mc_sim_num=self.data.mc_sim_num, max_iter=self.data.max_iter,
conv_loop=self.data.conv_loop)
File
&quot;/home/angelo/Software/relax-2.2.2/auto_analyses/dauvergne_protocol.py&quot;,
line 234, in __init__
self.execute()
File
&quot;/home/angelo/Software/relax-2.2.2/auto_analyses/dauvergne_protocol.py&quot;,
line 745, in execute
self.write_results()
File
&quot;/home/angelo/Software/relax-2.2.2/auto_analyses/dauvergne_protocol.py&quot;,
line 937, in write_results
self.interpreter.structure.create_diff_tensor_pdb(file=&quot;tensor.pdb&quot;,
dir=dir, force=True)
File &quot;/home/angelo/Software/relax-2.2.2/prompt/uf_objects.py&quot;, line 219, 
in
__call__
self._backend(*new_args, **uf_kargs)
File 
&quot;/home/angelo/Software/relax-2.2.2/generic_fns/structure/geometric.py&quot;,
line 449, in create_diff_tensor_pdb
raise RelaxNoTensorError('diffusion')
RelaxNoTensorError: RelaxError: No diffusion tensor data exists.

_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>

</pre></blockquote></blockquote><pre style="margin: 0em;">


_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>
</pre></blockquote></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00001" href="msg00001.html">diffusion tensor</a></strong>
<ul><li><em>From:</em> Angelo Miguel Figueiredo</li></ul></li>
<li><strong><a name="00002" href="msg00002.html">Re: diffusion tensor</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00003" href="msg00003.html">Re: diffusion tensor</a></strong>
<ul><li><em>From:</em> Angelo Miguel Figueiredo</li></ul></li>
<li><strong><a name="00005" href="msg00005.html">Re: diffusion tensor</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Mon Mar 18 11:00:08 2013</div>  
</body>
</html>
