<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: BMRB heteronuclear relaxation records together with multiple spin	types. -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Thu, 26 Feb 2009 14:25:09 +0100 -->
<!--X-Message-Id: 7f080ed10902260524n2de2f949w27133bc47fa36c97@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 7f080ed10902230740u4181c941jfb7b5558c871b85f@mail.gmail.com -->
<!--X-Reference: 49A5BEB6.1030103@bmrb.wisc.edu -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: BMRB heteronuclear relaxation records together with multiple spin	types. -- February 26, 2009 - 14:25</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: BMRB heteronuclear relaxation records together with multiple spin	types.</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00024" class="tabs">Index by Date</a> | <a href="threads.html#00024" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00023.html">Date Prev</a>] [<a href="msg00025.html">Date Next</a>] [<a href="msg00023.html">Thread Prev</a>] [<a href="msg00025.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Eldon Ulrich &lt;elu@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 26 Feb 2009 14:24:35 +0100</li>
<li class="menuitem">
<em>Cc</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00024.html">7f080ed10902260524n2de2f949w27133bc47fa36c97@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;7f080ed10902230740u4181c941jfb7b5558c871b85f@xxxxxxxxxxxxxx&gt;	&lt;49A5BEB6.1030103@xxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on February 26, 2009 - 14:25:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

I have to apologise for the very basic questions - my understanding of
the NMR-STAR dictionary is very basic at the moment and I'm trying to
learn it as fast as possible!  And converting all data types from
relax into NMR-STAR v3.1 format and then loading it back again into
relax requires a very deep understanding.  My design is a generic API
which interfaces relax to the pystarlib library, the former containing
the data you would like and the later writing and reading basic STAR
formatted files.  This API will be a package - separable from relax,
so maybe interesting for you for other purposes - which implements
reading and writing of the NMR-STAR dictionary v3.1.  It is designed
to handle different versions of the NMR-STAR dictionary, and the
incomplete code is currently located in the 'bmrblib' directory in the
bmrb relax branch (<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/">http://svn.gna.org/viewcvs/relax/</a>).  What I would
like for this API is that the calling program dumps the data to it in
arrays, floats, etc., and the library creates a partial v3.1 saveframe
(including required tags, tags necessary for smooth 2 way data flow,
and any other useful, non-internal tags).  A complementary set of
functions returns the data from a NMR-STAR file.  There may be a lot
of overlap with CCPN here, but as the CCPN data model is not so good
with dynamics data (yet!), I think this is the best way forward at
this point.  More below...


On Wed, Feb 25, 2009 at 10:57 PM, Eldon Ulrich &lt;elu@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward,

Sorry for the delayed response. The file looks like a good start. I have
provided answers below.
</pre></blockquote><pre style="margin: 0em;">

Once the basic infrastructure for this API is in place, generating the
saveframes for all the dynamics data will be trivial.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">Thanks,
Eldon

Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Dear Eldon,

relax is now producing NMR-STAR dictionary files containing relaxation
data (one truncated example is attached), although these are obviously
far from complete.  I have a few questions as this does not work for
all molecule types.  For example if you have a protein or RNA system
and have collected both 15N and 13C R1 relaxation data.  Should these
go into 2 separate heteronucl_T1_relaxation saveframes?
</pre></blockquote><pre style="margin: 0em;">

In the past 15N and 13C relaxation data would be put in separate saveframes,
but if the new 'coherence_type' values are used all data of the same
coherence type could be included in one table. The atom names are required.
</pre></blockquote><pre style="margin: 0em;">

Which would you prefer I implement right now if people in a few months
time would like, or are asked, to submit dynamics data?  For BMRB
submission, I would assume that relax's NMR-STAR file generation need
not be 100% complete?  Oh, is this new 'coherence_type' part of v3.1
or will it be a future version?


</pre><blockquote class="blockquote"><pre style="margin: 0em;"> Or if you are
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

studying a protein with 15N labelling and have data for both the
backbone amide and the Trp indole ring?
</pre></blockquote><pre style="margin: 0em;">

Here, the data can be in the same table for sure, you just need to provide
the atom name as a value to the tag _T1.Atom_ID. This tag should have the
value of 'N' for backbone nitrogen in any case. We do not assume an atom
name. This will be especially true if you use the new values for coherence
type (Iz, etc.) we have discussed.
</pre></blockquote><pre style="margin: 0em;">

I might ask later how to get this structure info into the entity saveframes.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">And is there more information
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

on how to construct the molecular entities other than at
<a  rel="nofollow" href="http://www.bmrb.wisc.edu/deposit/mol_assembly/">http://www.bmrb.wisc.edu/deposit/mol_assembly/</a>?

</pre></blockquote><pre style="margin: 0em;">More information on required tags and their descriptions is available here:

<a  rel="nofollow" href="http://www.bmrb.wisc.edu/dictionary/3.1html_frame/frame_index.html">http://www.bmrb.wisc.edu/dictionary/3.1html_frame/frame_index.html</a>
</pre></blockquote><pre style="margin: 0em;">

I'm using exactly this documentation now to implement this.  I have
noticed a problem though.  The file:

<a  rel="nofollow" href="http://www.bmrb.wisc.edu/dictionary/3.1html/TablePage.html">http://www.bmrb.wisc.edu/dictionary/3.1html/TablePage.html</a>

does not always fully load when you ask for it.  Is this being
automatically generated?


</pre><blockquote class="blockquote"><pre style="margin: 0em;">I can try to put together more examples and send them to you this weekend.
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Also, for submission, should relax produce the full set of records for
this data, so for example all of:
</pre></blockquote><pre style="margin: 0em;">

The required tags are annotated below.

</pre><blockquote class="blockquote"><pre style="margin: 0em;">

   loop_
       _T1.ID          should be provided as a counter
       _T1.Assembly_atom_ID    not needed
       _T1.Entity_assembly_ID  not abosolutely required always has a value
of 1
       _T1.Entity_ID           required particularly for molecular
assemblies that have more than one entity (heterodimers, complexes, etc.)
       _T1.Comp_index_ID       required, this is the residue sequence
number
       _T1.Seq_ID              not needed
       _T1.Comp_ID             required, residue type
       _T1.Atom_ID             required, this is the atom name and allows
for things like backbone nitrogen and sidechain nitrogen data to be listed
in the same table.
       _T1.Atom_type           not absolutely required but useful to
distinguish CA from calcium.
       _T1.Atom_isotope_number not required, but useful to distinguish 1H
from 2H relaxation
       _T1.Val                 required
       _T1.Val_err                     required in general
       _T1.Resonance_ID                not needed
       _T1.Auth_entity_assembly_ID     not needed
       _T1.Auth_seq_ID         not needed
       _T1.Auth_comp_ID                not needed
       _T1.Auth_atom_ID                not needed
       _T1.Entry_ID                    not needed
       _T1.Heteronucl_T1_list_ID       required, particularly for entries
with more than one T1/R1 table
</pre></blockquote></blockquote><pre style="margin: 0em;">

This will be very useful.  Is this in the individual tag descriptions?
 I cannot find this information in the online documentation.


</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">for R1 data?  Or can a subset of these be filled out for submission?
</pre></blockquote><pre style="margin: 0em;">

Only the required tags above are needed. The others can be left out
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

And for missing entries, should this be represented as the character
'.' or '?', as both seem to be used in the file bmr15437_3.str.gz
</pre></blockquote><pre style="margin: 0em;">

The use of a '?' is clearer to read. Either is allowed. By definition, ','
means null and '?' means 'should have a value, but I do not have a value to
enter'.
</pre></blockquote><pre style="margin: 0em;">

Ok, I'll use these trying to match the bmr15437_3.str.gz file attached
to <a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/task/?6438">https://gna.org/task/?6438</a>.

Cheers,

Edward


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00025" href="msg00025.html">Re: BMRB heteronuclear relaxation records together with multiple spin	types.</a></strong>
<ul><li><em>From:</em> Eldon Ulrich</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00022" href="msg00022.html">BMRB heteronuclear relaxation records together with multiple spin 	types.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00023" href="msg00023.html">Re: BMRB heteronuclear relaxation records together with multiple spin	types.</a></strong>
<ul><li><em>From:</em> Eldon Ulrich</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Feb 27 08:00:55 2009</div>  
</body>
</html>
