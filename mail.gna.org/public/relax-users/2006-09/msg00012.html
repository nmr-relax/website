<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: relax in Windows -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 05 Sep 2006 06:13:49 +0200 -->
<!--X-Message-Id: 7f080ed10609042113g446743a3sc8dea24c15690ab2@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 44F7FFCF.4060102@mol.biol.ethz.ch -->
<!--X-Reference: 7f080ed10609040210j11b04d95sbe824cf718b4f426@mail.gmail.com -->
<!--X-Reference: c225763e0609040701r5afaf5cdmc707803540c00527@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: relax in Windows -- September 05, 2006 - 06:13</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: relax in Windows</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00012" class="tabs">Index by Date</a> | <a href="threads.html#00012" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00011.html">Date Prev</a>] [<a href="msg00013.html">Date Next</a>] [<a href="msg00010.html">Thread Prev</a>] [<a href="msg00013.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Andrew Perry&quot; &lt;ajperry@xxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 5 Sep 2006 14:13:08 +1000</li>
<li class="menuitem">
<em>Cc</em>: relax-users@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00012.html">7f080ed10609042113g446743a3sc8dea24c15690ab2@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00000.html">44F7FFCF.4060102@mol.biol.ethz.ch</a>&gt;	&lt;<a href="msg00008.html">7f080ed10609040210j11b04d95sbe824cf718b4f426@mail.gmail.com</a>&gt;	&lt;<a href="msg00009.html">c225763e0609040701r5afaf5cdmc707803540c00527@mail.gmail.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on September 05, 2006 - 06:13:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">I've made a few changes in response to this post.  Firstly the
download web page (<a  href="http://www.nmr-relax.com/download.html">http://www.nmr-relax.com/download.html</a>) has been
modified.  The 'Python readline' dependency has been changed to
'pyreadline'.  The 'ctypes' dependency has also
been added (<a  href="https://mail.gna.org/public/relax-users/2006-09/msg00010.html">https://mail.gna.org/public/relax-users/2006-09/msg00010.html</a>,
Message-id:
&lt;c225763e0609040712wbcbdfb3s2832ae4ecf27f31f@xxxxxxxxxxxxxx&gt;).  This
is all in response to bug #6841
(<a  href="https://gna.org/bugs/?func=detailitem&amp;item_id=6841">https://gna.org/bugs/?func=detailitem&amp;item_id=6841</a>) which was created
in response to Daniel's post which started this thread
(<a  href="https://mail.gna.org/public/relax-users/2006-09/msg00000.html">https://mail.gna.org/public/relax-users/2006-09/msg00000.html</a>,
Message-id:
&lt;44F7FFCF.4060102@xxxxxxxxxxxxxxxx&gt;).</pre><br>
<pre style="margin: 0em;">Secondly, I've created two bug reports on the relax bug tracker
(<a  href="https://gna.org/bugs/?group=relax">https://gna.org/bugs/?group=relax</a>) for the two tracebacks.  These are
bug #6873 (<a  href="https://gna.org/bugs/?func=detailitem&amp;item_id=6873">https://gna.org/bugs/?func=detailitem&amp;item_id=6873</a>), the
float('inf') problem, and bug #6874
(<a  href="https://gna.org/bugs/?func=detailitem&amp;item_id=6874">https://gna.org/bugs/?func=detailitem&amp;item_id=6874</a>), the math domain
error.</pre><br>
<pre style="margin: 0em;">Thank you Andrew for the help, it's a little difficult to debug relax
on windows without windows!</pre><br>
<pre style="margin: 0em;">Edward</pre><br>
<tt><br>On 9/5/06, Andrew Perry &lt;ajperry@xxxxxxxxxxxxxx&gt; wrote:
</tt><blockquote class="blockquote"><pre style="margin: 0em;">Hey Ed, Daniel,</pre><br>
<pre style="margin: 0em;">I pulled the 1.2 tree from svn, installed the Python 2.4 and the Windows
dependancies you listed, including the readline package, and did some
testing. (I also installed TortoiseSVN, gvim and bash to make myself feel a
little more at home).</pre><br>
<pre style="margin: 0em;">Using the readline package Ed pointed to
(<a  href="http://sourceforge.net/project/showfiles.php?group_id=82407&amp;package_id=84552">http://sourceforge.net/project/showfiles.php?group_id=82407&amp;package_id=84552</a>
), it dies with:</pre><br>
<pre style="margin: 0em;">-------
File
&quot;C:\Python24\Lib\site-packages\readline\PyReadline.py&quot;,
line 12, in ?
    import win32con as c32
ImportError: No module named win32con
-------</pre><br>
<pre style="margin: 0em;">While we could attempt to debug this (not sure exactly where win32con can be
found ..), there is another solution.</pre><br>
<pre style="margin: 0em;">Uninstall the original readline package, and install pyreadline instead (a
&quot;pure python&quot; implementation).
(<a  href="http://projects.scipy.org/ipython/ipython/wiki/PyReadline/Intro">http://projects.scipy.org/ipython/ipython/wiki/PyReadline/Intro</a>
)
(<a  href="http://ipython.scipy.org/dist/pyreadline-1.3.win32.exe">http://ipython.scipy.org/dist/pyreadline-1.3.win32.exe</a>).</pre><br>
<pre style="margin: 0em;">Hopefully the pyreadline implementation is complete enough to work for
relax. It seems to work for my limited testing.</pre><br>
<pre style="margin: 0em;">I ran the test-suite, the only failures were:
Mapping the {local_tm, S2, te} chi2 space through the OpenDX user function
dx.map() . [ Failed ]
AIC model selection between two diffusion tensors
................................... [ Failed ]
Synopsis
................................................................................
[ Failed ]</pre><br>
<pre style="margin: 0em;">and some Tracebacks:</pre><br>
<pre style="margin: 0em;">--------
ImportError: relaxation curve fitting is unavailible, try compiling the C
modules.
Traceback (most recent call last):
  File &quot;C:\Documents and
Settings\perry\Desktop\relax-1.2svn\test_suite\test_suite.py&quot;, line 251, in
exec_tests
    test_array[i].passed = test_array[i].test(self.run )
  File &quot;C:\Documents and
Settings\perry\Desktop\relax-1.2svn\test_suite\model_free.py&quot;, line 260, in
opendx_tm_s2_te
    self.relax.interpreter._OpenDX.map(self.run,
params=['local_tm', 'S2', 'te'], res_num=2, inc=2, file='devnull')
  File &quot;C:\Documents and Settings\perry\Desktop\relax-1.2svn\prompt\dx.py&quot;,
line 279, in map
    self.__relax__.generic.opendx.map(run=run,
params=params, map_type=map_type, res_num=res_num, inc=inc, lower=lower,
upper=upper, axis_in
cs=axis_incs, file=file, dir=dir, point=point, point_file=point_file,
remap=remap)
  File &quot;C:\Documents and Settings\perry\Desktop\relax-1.2svn\dx\opendx.py&quot;,
line 59, in map
    self.iso3d.map_space(run, params, res_num, index, inc, lower, upper,
axis_incs, file, dir, point, point_file, remap)
  File &quot;C:\Documents and
Settings\perry\Desktop\relax-1.2svn\dx\base_map.py&quot;, line 347, in map_space
    self.create_map()
  File &quot;C:\Documents and Settings\perry\Desktop\relax-1.2svn\dx\base_map.py
&quot;, line 81, in create_map
    self.map_text(map_file)
  File &quot;C:\Documents and
Settings\perry\Desktop\relax-1.2svn\dx\isosurface_3D.py&quot;, line 104, in
map_text
    self.calculate(run=self.run, res_num= self.res_num, print_flag=0)
  File &quot;C:\Documents and
Settings\perry\Desktop\relax-1.2svn\specific_fns\model_free.py&quot;,
line 546, in calculate
    chi2 = self.mf.func(self.param_vector)
  File &quot;C:\Documents and Settings\perry\Desktop\relax-
1.2svn\maths_fns\mf.py&quot;, line 414, in func_mf
    data.chi2 = chi2(data.relax_data, data.ri, data.errors)
  File &quot;C:\Documents and
Settings\perry\Desktop\relax-1.2svn\maths_fns\chi2.py&quot;, line 50, in chi2
    return sum((1.0 / errors * (data - back_calc_vals))**2)
ValueError: math domain error
Traceback (most recent call last):
  File &quot;C:\Documents and
Settings\perry\Desktop\relax-1.2svn\test_suite\test_suite.py &quot;, line 251, in
exec_tests
    test_array[i].passed = test_array[i].test(self.run)
  File &quot;C:\Documents and
Settings\perry\Desktop\relax-1.2svn\test_suite\model_selection.py&quot;,
line 78, in diff</pre><br>
<pre style="margin: 0em;">self.relax.interpreter._Modsel.model_selection(method='AIC',
modsel_run='aic')
  File &quot;C:\Documents and
Settings\perry\Desktop\relax-1.2svn\prompt\model_selection.py&quot;,
line 121, in model_selection
    self.relax.generic.model_selection.select
(method=method, modsel_run=modsel_run, runs=runs)
  File &quot;C:\Documents and
Settings\perry\Desktop\relax-1.2svn\generic_fns\model_selection.py&quot;,
line 169, in select
    best_crit = float('inf')
ValueError: invalid literal for float(): inf
-------</pre><br>
<pre style="margin: 0em;">(These may be errors for the current 1.2 SVN version under linux too ... I
haven't checked).</pre><br>
<pre style="margin: 0em;">Anyway, hopefully you can get a bit further now ..</pre><br>
<pre style="margin: 0em;">Andrew Perry</pre><br>
<pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;"><br> On 9/4/06, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:
&gt; I've modified the relax download page
&gt; (<a  href="http://www.nmr-relax.com/download.html">http://www.nmr-relax.com/download.html</a>) to have
different sections
&gt; for each operating system and to include links to the relax
&gt; dependencies for those platforms.  The links under the MS Windows
&gt; section may help in getting relax to run on that platform.  Are these
&gt; the files you installed Daniel?  It also includes the Python readline
&gt; alternative for Windows.  It may take a few hours for
&gt; <a  href="http://nmr-relax.com">http://nmr-relax.com</a> to update itself and display the new pages.
&gt;
&gt; The commit message of the changes is located at
&gt;
<a  href="https://mail.gna.org/public/relax-commits/2006-09/msg00010.html">https://mail.gna.org/public/relax-commits/2006-09/msg00010.html</a>
&gt; (Message-id: &lt;E1GKA5S-0000kV-7I@xxxxxxxxxxx&gt;).
&gt;
&gt; Edward
&gt;
&gt;
&gt; On 9/1/06, Daniel Perez &lt; daniel.perez@xxxxxxxxxxxxxxxx&gt; wrote:
&gt; &gt; Hi Ed,
&gt; &gt;
&gt; &gt; I hope you have a couple of minutes to help me.
&gt; &gt;
&gt; &gt; I'm trying to install relax in Windows XP. First, I installed Python 2.4
&gt; &gt; with an interpreter for Windows named ActivePython. I also installed the
&gt; &gt; extensions Numeric_23.8 and ScientificPython-2.4.9.
&gt; &gt;
&gt; &gt; Then I got relax-1.2.6.src.tar.bz2, uncompressed it and copied the files
&gt; &gt; to my laptop.
&gt; &gt;
&gt; &gt; After adding the extension &quot;.py&quot; to the excecutable &quot;relax&quot;, I could
&gt; &gt; sort of run it, well, I only got the python compiled versions for the
&gt; &gt; executables in the base directory (color, data, errors, io and processes
&gt; &gt; &quot;.pyc&quot;) and that was all. No command window phython-looking-like or
&gt; &gt; anything similar.
&gt; &gt;
&gt; &gt; I tried to run &quot;relax.py&quot; from the Python IDE (using the &quot;friendly&quot;
&gt; &gt; ActivePython). The result was the same but I got some more information
&gt; &gt; from Python. The problem so far is that processes.py is trying to import
&gt; &gt; some linux commands (namely: kill, popopen3, and system)
&gt; &gt;
&gt; &gt; Here is the output from python:
&gt; &gt;
&gt; &gt;     exec codeObject in __main__.__dict__
&gt; &gt;    File &quot;D:\Program Files\NMR\relax-1.2.6\relax.py&quot;, line 71, in ?
&gt; &gt;      from generic_fns.main import Generic
&gt; &gt;    File &quot;D:\Program Files\NMR\relax-1.2.6\generic_fns\main.py&quot;, line 31,
&gt; &gt; in ?
&gt; &gt;      from minimise import Minimise
&gt; &gt;    File &quot;D:\Program Files\NMR\relax-1.2.6\generic_fns\minimise.py&quot;, line
&gt; &gt; 27, in ?
&gt; &gt;      from processes import RelaxPopen3
&gt; &gt;    File &quot;D:\Program Files\NMR\relax- 1.2.6\processes.py&quot;, line 23, in ?
&gt; &gt;      from os import kill, popen3, system
&gt; &gt; ImportError: cannot import name kill
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; I greped the scripts looking for more importing features and I got:
&gt; &gt;
&gt; &gt; processes.py:                     from os import kill, popen3, system
&gt; &gt;
&gt; &gt; relax:                            from os import F_OK,
access, getpid,
&gt; &gt; putenv
&gt; &gt;
&gt; &gt; io.py:                            from os import
devnull
&gt; &gt;
&gt; &gt; io.py:                            from os import F_OK,
access, makedirs,
&gt; &gt; remove, stat
&gt; &gt;
&gt; &gt; sconstruct:                       from os import F_OK,
access, chdir,
&gt; &gt; getcwd, lstat, path, remove, rmdir, sep, symlink, system, walk
&gt; &gt;
&gt; &gt; generic_fns/dasha.py:             from os import F_OK,
access, chdir,
&gt; &gt; getcwd, system
&gt; &gt;
&gt; &gt; generic_fns/grace.py:             from os import system
&gt; &gt;
&gt; &gt; generic_fns/molmol.py:            from os import popen
&gt; &gt;
&gt; &gt; generic_fns/palmer.py:            from os import F_OK,
P_WAIT, access,
&gt; &gt; chdir, chmod, getcwd, listdir, remove, spawnlp, system
&gt; &gt;
&gt; &gt; generic_fns/pdb.py:               from os import F_OK,
access
&gt; &gt;
&gt; &gt; generic_fns/selection.py:         from os import F_OK,
access
&gt; &gt;
&gt; &gt; prompt/interpreter.py:            from os import F_OK,
access
&gt; &gt;
&gt; &gt; sample_scripts/full_analysis.py:  from os import
getcwd, listdir
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; For me it is kind of weird the phython did not complain about the
&gt; &gt; importing from os in the file relax (the second grep entry).
&gt; &gt;
&gt; &gt;
&gt; &gt; Do you think this could eventually work replacing these commands with
&gt; &gt; some windows stuff?
&gt; &gt;
&gt; &gt; many thanks in advance
&gt; &gt;
&gt; &gt; Daniel
&gt; &gt;
&gt; &gt;
&gt; &gt;
&gt; &gt; _______________________________________________
&gt; &gt; relax (<a  href="http://nmr-relax.com">http://nmr-relax.com</a> )
&gt; &gt;
&gt; &gt; This is the relax-users mailing list
&gt; &gt; relax-users@xxxxxxx
&gt; &gt;
&gt; &gt; To unsubscribe from this list, get a password
&gt; &gt; reminder, or change your subscription options,
&gt; &gt; visit the list information page at
&gt; &gt; <a  href="https://mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>
&gt; &gt;
&gt;
&gt; _______________________________________________
&gt; relax ( <a  href="http://nmr-relax.com">http://nmr-relax.com</a>)
&gt;
&gt; This is the relax-users mailing list
&gt; relax-users@xxxxxxx
&gt;
&gt; To unsubscribe from this list, get a password
&gt; reminder, or change your subscription options,
&gt; visit the list information page at
&gt; <a  href="https://mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>
&gt;</pre><br>
<pre style="margin: 0em;"><br>_______________________________________________
relax (<a  href="http://nmr-relax.com">http://nmr-relax.com</a>)</pre><br>
<pre style="margin: 0em;">This is the relax-users mailing list
relax-users@xxxxxxx</pre><br>
<pre style="margin: 0em;">To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  href="https://mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a></pre><br>
<pre style="margin: 0em;"><br></pre><br>
</blockquote><pre style="margin: 0em;"><br></pre><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00000" href="msg00000.html">relax in Windows</a></strong>
<ul><li><em>From:</em> Daniel Perez</li></ul></li>
<li><strong><a name="00008" href="msg00008.html">Re: relax in Windows</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00009" href="msg00009.html">Re: relax in Windows</a></strong>
<ul><li><em>From:</em> Andrew Perry</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Sep 07 07:40:27 2006</div>  
</body>
</html>
