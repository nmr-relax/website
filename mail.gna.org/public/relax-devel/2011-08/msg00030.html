<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: r14364 &#45; /1.3/test_suite/system_tests/model_free.py -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Thu, 11 Aug 2011 17:49:11 +0200 -->
<!--X-Message-Id: CAED9pY9a844nUk&#45;L+LY2=5SuEovzhyFVDTjWUqj7d75mUJhxsw@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1QrWgC&#45;0005ux&#45;Qw@subversion.gna.org -->
<!--X-Reference: 4E43F873.5090001@ulaval.ca -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: r14364 - /1.3/test_suite/system_tests/model_free.py -- August 11, 2011 - 17:49</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: r14364 - /1.3/test_suite/system_tests/model_free.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00030" class="tabs">Index by Date</a> | <a href="threads.html#00030" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00029.html">Date Prev</a>] [<a href="msg00031.html">Date Next</a>] [<a href="msg00029.html">Thread Prev</a>] [<a href="msg00031.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Sébastien Morin &lt;sebastien.morin.1@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 11 Aug 2011 17:48:39 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;	h=mime-version:sender:in-reply-to:references:date	:x-google-sender-auth:message-id:subject:from:to:cc:content-type	:content-transfer-encoding;	bh=ZoDSSvdp3vP5MYLz1UFeEeR7nhmih/ofB+JAVb9jwCw=;	b=gfDmEag6In0xMI7Npj/2pGAv5Dmro+Gl0g3tLUOeZHJtIboAJst/as/2L+YS+6AWf9	0ourlDVQBtVbNxl8FcWFTvgqsYHkpj2CwmOvBR3ICSsTYF4q6rp9scrWbvCC0y65BbWI	QzwAVpUh977/R/SwlMPyfcb7BHpIKpuIbLkWU=</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00030.html">CAED9pY9a844nUk-L+LY2=5SuEovzhyFVDTjWUqj7d75mUJhxsw@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1QrWgC-0005ux-Qw@xxxxxxxxxxxxxxxxxx&gt; &lt;4E43F873.5090001@xxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on August 11, 2011 - 17:49:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

That is exactly the same problem.  Feel free to add a fix to the
second system test - I only made the change for one of them.

Regards,

Edward


On 11 August 2011 17:42, Sébastien Morin &lt;sebastien.morin.1@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Ed,

What a coincidence !!!

This morning, I tested the installation of relax 1.3.10 on Linux Fedora and
I had problem with two tests (namely
&quot;test_opt_constr_bfgs_back_S2_0_970_te_2048_Rex_0_149&quot; and
&quot;test_opt_constr_bfgs_mt_S2_0_970_te_2048_Rex_0_149
(test_suite.system_tests.model_free.Mf)&quot;), probably because of the same
issue fixed in the current revision...

Below is the output of &quot;relax -s&quot;. Could you check if the problem is the
same and, if needed, fix it as you did for MS Windows..?

Thanks !


Séb  :)

==============
[jurgen@pake relax-1.3.10]$ ./relax -s
Echoing of user function calls has been enabled.




#############################
# System / functional tests #
#############################


...............................................................................................FF.............................................................................................................
======================================================================
FAIL: test_opt_constr_bfgs_back_S2_0_970_te_2048_Rex_0_149
(test_suite.system_tests.model_free.Mf)
Constrained BFGS opt, backtracking line search {S2=0.970, te=2048,
Rex=0.149}
----------------------------------------------------------------------

relax&gt; pipe.create(pipe_name='mf', pipe_type='mf')



                                           relax 1.3.10

                             Molecular dynamics by NMR data analysis

                            Copyright (C) 2001-2006 Edward d'Auvergne
                        Copyright (C) 2006-2011 the relax development team

This is free software which you are welcome to modify and redistribute under
the conditions of the
GNU General Public License (GPL).  This program, including all modules, is
licensed under the GPL
and comes with absolutely no warranty.  For details type 'GPL' within the
relax prompt.

Assistance in using the relax prompt and scripting interface can be accessed
by typing 'help' within
the prompt.


relax&gt; sequence.read(file='noe.500.out',
dir='/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149',
spin_id_col=None, mol_name_col=None, res_num_col=1, res_name_col=2,
spin_num_col=None, spin_name_col=None, sep=None, spin_id=None)
Opening the file
'/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149/noe.500.out'
for reading.



relax&gt; relax_data.read(ri_label='R1', frq_label='600', frq=600000000.0,
file='r1.600.out',
dir='/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149',
spin_id_col=None, mol_name_col=None, res_num_col=1, res_name_col=2,
spin_num_col=None, spin_name_col=None, data_col=3, error_col=4, sep=None,
spin_id=None)
Opening the file
'/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149/r1.600.out'
for reading.

relax&gt; relax_data.read(ri_label='R2', frq_label='600', frq=600000000.0,
file='r2.600.out',
dir='/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149',
spin_id_col=None, mol_name_col=None, res_num_col=1, res_name_col=2,
spin_num_col=None, spin_name_col=None, data_col=3, error_col=4, sep=None,
spin_id=None)
Opening the file
'/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149/r2.600.out'
for reading.

relax&gt; relax_data.read(ri_label='NOE', frq_label='600', frq=600000000.0,
file='noe.600.out',
dir='/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149',
spin_id_col=None, mol_name_col=None, res_num_col=1, res_name_col=2,
spin_num_col=None, spin_name_col=None, data_col=3, error_col=4, sep=None,
spin_id=None)
Opening the file
'/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149/noe.600.out'
for reading.

relax&gt; relax_data.read(ri_label='R1', frq_label='500', frq=500000000.0,
file='r1.500.out',
dir='/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149',
spin_id_col=None, mol_name_col=None, res_num_col=1, res_name_col=2,
spin_num_col=None, spin_name_col=None, data_col=3, error_col=4, sep=None,
spin_id=None)
Opening the file
'/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149/r1.500.out'
for reading.

relax&gt; relax_data.read(ri_label='R2', frq_label='500', frq=500000000.0,
file='r2.500.out',
dir='/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149',
spin_id_col=None, mol_name_col=None, res_num_col=1, res_name_col=2,
spin_num_col=None, spin_name_col=None, data_col=3, error_col=4, sep=None,
spin_id=None)
Opening the file
'/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149/r2.500.out'
for reading.

relax&gt; relax_data.read(ri_label='NOE', frq_label='500', frq=500000000.0,
file='noe.500.out',
dir='/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149',
spin_id_col=None, mol_name_col=None, res_num_col=1, res_name_col=2,
spin_num_col=None, spin_name_col=None, data_col=3, error_col=4, sep=None,
spin_id=None)
Opening the file
'/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149/noe.500.out'
for reading.

relax&gt; diffusion_tensor.init(params=1e-08, time_scale=1.0, d_scale=1.0,
angle_units='deg', param_types=0, spheroid_type=None, fixed=True)

relax&gt; value.set(val=1.0200000000000001e-10, param='bond_length',
spin_id=None)

relax&gt; value.set(val=-0.00015999999999999999, param='csa', spin_id=None)

relax&gt; value.set(val='15N', param='heteronucleus', spin_id=None)

relax&gt; value.set(val='1H', param='proton', spin_id=None)

relax&gt; value.display(param='csa')

# mol_name res_num    res_name   spin_num   spin_name  value
 error
None       1          GLY        None       None                   -0.00016
                None
None       2          ALA        None       None                   -0.00016
                None

relax&gt; value.write(param='proton', file='devnull', dir=None, force=False)
Opening the null device file for writing.

relax&gt; model_free.select_model(model='m4', spin_id=None)

relax&gt; value.set(val=[1.0, 0.0, 0.0], param=['S2', 'te', 'Rex'],
spin_id=None)

relax&gt; minimise(*args=('bfgs', 'back'), func_tol=1e-25,
max_iterations=10000000, constraints=True, scaling=True, verbosity=1)


Over-fit spin deselection.

RelaxWarning: The spin ':1&amp;:GLY' has been deselected because of insufficient
relaxation data, 3 or more data points are required.
Only the model-free parameters for single spins will be used.


Fitting to spin ':2&amp;:ALA'
~~~~~~~~~~~~~~~~~~~~~~~~~


Method of Multipliers
~~~~~~~~~~~~~~~~~~~~~

k: 0       xk: array([ 1.,  0.,  0.])
    fk: 3.9844117908982288
Entering sub-algorithm.

       Quasi-Newton BFGS minimisation
       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
       Line search:  Backtracking line search.

       k: 0        xk: [           1,           0,           0] fk:
3.9844117909

       Parameter values: [0.90905501681906287, 74.369295545631317,
1.2231009087192337]
       Function value:   -1447.7789206950388
       Iterations:       37
       Function calls:   93
       Gradient calls:   38
       Hessian calls:    0
       Warning:          None


k: 1       xk: array([  0.90905502,  74.36929555,   1.22310091])
   fk: 48.121412825285702
Entering sub-algorithm.

       Quasi-Newton BFGS minimisation
       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
       Line search:  Backtracking line search.

       k: 0        xk: [     0.90906,      74.369,      1.2231] fk:
46.0715795854

       Parameter values: [0.98956103824007713, 408.92212422897256,
0.12789912795489747]
       Function value:   1.5767184829472947
       Iterations:       37
       Function calls:   209
       Gradient calls:   38
       Hessian calls:    0
       Warning:          None


k: 2       xk: array([  9.89561038e-01,   4.08922124e+02,   1.27899128e-01])
   fk: 3.6265517227850839
Entering sub-algorithm.

       Quasi-Newton BFGS minimisation
       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
       Line search:  Backtracking line search.

       k: 0        xk: [     0.98956,      408.92,      0.1279] fk:
3.62655172279

       Parameter values: [0.98280664757781688, 601.68994600419194,
0.055870730706586783]
       Function value:   2.7803077415960757
       Iterations:       30
       Function calls:   149
       Gradient calls:   31
       Hessian calls:    0
       Warning:          None


k: 3       xk: array([  9.82806648e-01,   6.01689946e+02,   5.58707307e-02])
   fk: 2.7803077415960757
Entering sub-algorithm.

       Quasi-Newton BFGS minimisation
       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
       Line search:  Backtracking line search.

       k: 0        xk: [     0.98281,      601.69,    0.055871] fk:
2.7803077416

       Parameter values: [0.97000000000262465, 2047.9999999849369,
0.14899999993840687]
       Function value:   4.3399069883879782e-20
       Iterations:       70
       Function calls:   212
       Gradient calls:   71
       Hessian calls:    0
       Warning:          None


k: 4       xk: array([  9.70000000e-01,   2.04800000e+03,   1.49000000e-01])
   fk: 4.3399069883879782e-20
Entering sub-algorithm.

       Quasi-Newton BFGS minimisation
       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
       Line search:  Backtracking line search.

       k: 0        xk: [        0.97,        2048,       0.149] fk:
4.33990698839e-20

       Parameter values: [0.96999999999990616, 2047.9999999849369,
0.14900000000189087]
       Function value:   8.4298981584870517e-23
       Iterations:       11
       Function calls:   36
       Gradient calls:   12
       Hessian calls:    0
       Warning:          None


k: 5       xk: array([  9.70000000e-01,   2.04800000e+03,   1.49000000e-01])
   fk: 8.4298981584870517e-23
Entering sub-algorithm.

       Quasi-Newton BFGS minimisation
       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
       Line search:  Backtracking line search.

       k: 0        xk: [        0.97,        2048,       0.149] fk:
8.42989815849e-23

       Parameter values: [0.96999999999991904, 2047.9999999849369,
0.14900000000155103]
       Function value:   8.2908269286295164e-23
       Iterations:       6
       Function calls:   41
       Gradient calls:   7
       Hessian calls:    0
       Warning:          None


k: 6       xk: array([  9.70000000e-01,   2.04800000e+03,   1.49000000e-01])
   fk: 8.2908269286295164e-23
Entering sub-algorithm.

       Quasi-Newton BFGS minimisation
       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
       Line search:  Backtracking line search.

       k: 0        xk: [        0.97,        2048,       0.149] fk:
8.29082692863e-23

       Parameter values: [0.96999999999991871, 2047.9999999849369,
0.149000000001551]
       Function value:   8.290677155630973e-23
       Iterations:       3
       Function calls:   40
       Gradient calls:   4
       Hessian calls:    0
       Warning:          None


Parameter values: [0.96999999999991871, 2047.9999999849369,
0.149000000001551]
Function value:   8.290677155630973e-23
Iterations:       194
Function calls:   780
Gradient calls:   201
Hessian calls:    0
Warning:          None

Traceback (most recent call last):
 File &quot;/s/relax-1.3.10/test_suite/system_tests/model_free.py&quot;, line 826, in
test_opt_constr_bfgs_back_S2_0_970_te_2048_Rex_0_149
   self.value_test(spin, select=select, s2=s2, te=te, rex=rex, chi2=chi2,
iter=iter, f_count=f_count, g_count=g_count, h_count=h_count,
warning=warning)
 File &quot;/s/relax-1.3.10/test_suite/system_tests/model_free.py&quot;, line 2544, in
value_test
   self.assert_(spin.iter in iter, msg=mesg)
AssertionError: Optimisation failure.

System:           Linux
Release:          2.6.35.13-92.fc14.i686.PAE
Version:          #1 SMP Sat May 21 17:33:09 UTC 2011
Win32 version:
Distribution:     fedora 14 Laughlin
Architecture:     32bit ELF
Machine:          i686
Processor:        i686
Python version:   2.7.0
Numpy version:    1.4.1
Libc version:     glibc 2.0

s2:                         0.9699999999999187
te (ps):                        2047.999999985
rex:                         0.149000000001551
chi2:                    8.290677155630973e-23
iter:                                      194
f_count:                                   780
g_count:                                   201
h_count:                                     0
warning:                                  None


======================================================================
FAIL: test_opt_constr_bfgs_mt_S2_0_970_te_2048_Rex_0_149
(test_suite.system_tests.model_free.Mf)
Constrained BFGS opt, More and Thuente line search {S2=0.970, te=2048,
Rex=0.149}
----------------------------------------------------------------------

relax&gt; pipe.create(pipe_name='mf', pipe_type='mf')



                                           relax 1.3.10

                             Molecular dynamics by NMR data analysis

                            Copyright (C) 2001-2006 Edward d'Auvergne
                        Copyright (C) 2006-2011 the relax development team

This is free software which you are welcome to modify and redistribute under
the conditions of the
GNU General Public License (GPL).  This program, including all modules, is
licensed under the GPL
and comes with absolutely no warranty.  For details type 'GPL' within the
relax prompt.

Assistance in using the relax prompt and scripting interface can be accessed
by typing 'help' within
the prompt.


relax&gt; sequence.read(file='noe.500.out',
dir='/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149',
spin_id_col=None, mol_name_col=None, res_num_col=1, res_name_col=2,
spin_num_col=None, spin_name_col=None, sep=None, spin_id=None)
Opening the file
'/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149/noe.500.out'
for reading.



relax&gt; relax_data.read(ri_label='R1', frq_label='600', frq=600000000.0,
file='r1.600.out',
dir='/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149',
spin_id_col=None, mol_name_col=None, res_num_col=1, res_name_col=2,
spin_num_col=None, spin_name_col=None, data_col=3, error_col=4, sep=None,
spin_id=None)
Opening the file
'/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149/r1.600.out'
for reading.

relax&gt; relax_data.read(ri_label='R2', frq_label='600', frq=600000000.0,
file='r2.600.out',
dir='/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149',
spin_id_col=None, mol_name_col=None, res_num_col=1, res_name_col=2,
spin_num_col=None, spin_name_col=None, data_col=3, error_col=4, sep=None,
spin_id=None)
Opening the file
'/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149/r2.600.out'
for reading.

relax&gt; relax_data.read(ri_label='NOE', frq_label='600', frq=600000000.0,
file='noe.600.out',
dir='/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149',
spin_id_col=None, mol_name_col=None, res_num_col=1, res_name_col=2,
spin_num_col=None, spin_name_col=None, data_col=3, error_col=4, sep=None,
spin_id=None)
Opening the file
'/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149/noe.600.out'
for reading.

relax&gt; relax_data.read(ri_label='R1', frq_label='500', frq=500000000.0,
file='r1.500.out',
dir='/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149',
spin_id_col=None, mol_name_col=None, res_num_col=1, res_name_col=2,
spin_num_col=None, spin_name_col=None, data_col=3, error_col=4, sep=None,
spin_id=None)
Opening the file
'/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149/r1.500.out'
for reading.

relax&gt; relax_data.read(ri_label='R2', frq_label='500', frq=500000000.0,
file='r2.500.out',
dir='/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149',
spin_id_col=None, mol_name_col=None, res_num_col=1, res_name_col=2,
spin_num_col=None, spin_name_col=None, data_col=3, error_col=4, sep=None,
spin_id=None)
Opening the file
'/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149/r2.500.out'
for reading.

relax&gt; relax_data.read(ri_label='NOE', frq_label='500', frq=500000000.0,
file='noe.500.out',
dir='/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149',
spin_id_col=None, mol_name_col=None, res_num_col=1, res_name_col=2,
spin_num_col=None, spin_name_col=None, data_col=3, error_col=4, sep=None,
spin_id=None)
Opening the file
'/s/relax-1.3.10/test_suite/shared_data/model_free/S2_0.970_te_2048_Rex_0.149/noe.500.out'
for reading.

relax&gt; diffusion_tensor.init(params=1e-08, time_scale=1.0, d_scale=1.0,
angle_units='deg', param_types=0, spheroid_type=None, fixed=True)

relax&gt; value.set(val=1.0200000000000001e-10, param='bond_length',
spin_id=None)

relax&gt; value.set(val=-0.00015999999999999999, param='csa', spin_id=None)

relax&gt; value.set(val='15N', param='heteronucleus', spin_id=None)

relax&gt; value.set(val='1H', param='proton', spin_id=None)

relax&gt; value.display(param='csa')

# mol_name res_num    res_name   spin_num   spin_name  value
 error
None       1          GLY        None       None                   -0.00016
                None
None       2          ALA        None       None                   -0.00016
                None

relax&gt; value.write(param='proton', file='devnull', dir=None, force=False)
Opening the null device file for writing.

relax&gt; model_free.select_model(model='m4', spin_id=None)

relax&gt; value.set(val=[1.0, 0.0, 0.0], param=['S2', 'te', 'Rex'],
spin_id=None)

relax&gt; minimise(*args=('bfgs', 'mt'), func_tol=1e-25,
max_iterations=10000000, constraints=True, scaling=True, verbosity=1)


Over-fit spin deselection.

RelaxWarning: The spin ':1&amp;:GLY' has been deselected because of insufficient
relaxation data, 3 or more data points are required.
Only the model-free parameters for single spins will be used.


Fitting to spin ':2&amp;:ALA'
~~~~~~~~~~~~~~~~~~~~~~~~~


Method of Multipliers
~~~~~~~~~~~~~~~~~~~~~

k: 0       xk: array([ 1.,  0.,  0.])
    fk: 3.9844117908982288
Entering sub-algorithm.

       Quasi-Newton BFGS minimisation
       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
       Line search:  More and Thuente line search.

       k: 0        xk: [           1,           0,           0] fk:
3.9844117909

       Parameter values: [0.90905506221776622, 74.369430109433466,
1.2231015622357264]
       Function value:   -1447.7789206948671
       Iterations:       22
       Function calls:   50
       Gradient calls:   50
       Hessian calls:    0
       Warning:          None


k: 1       xk: array([  0.90905506,  74.36943011,   1.22310156])
   fk: 48.121371716752286
Entering sub-algorithm.

       Quasi-Newton BFGS minimisation
       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
       Line search:  More and Thuente line search.

       k: 0        xk: [     0.90906,      74.369,      1.2231] fk:
46.0715179226

       Parameter values: [0.99493663077922057, 88.138505759196732,
-3.7928107668617891e-05]
       Function value:   1.9644199917083982
       Iterations:       38
       Function calls:   128
       Gradient calls:   128
       Hessian calls:    0
       Warning:          The gradient at point 0 of this line search is
positive, ie p is not a descent direction and the line search will not work.
(fatal minimisation error).


k: 2       xk: array([  9.94936631e-01,   8.81385058e+01,  -3.79281077e-05])
   fk: 144.63963445541734
Entering sub-algorithm.

       Quasi-Newton BFGS minimisation
       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
       Line search:  More and Thuente line search.

       k: 0        xk: [     0.99494,      88.139, -3.7928e-05] fk:
4.0147053483

       Parameter values: [0.9700000000020782, 2048.0000000119967,
0.14899999998332922]
       Function value:   -7.1927067566113556e-05
       Iterations:       56
       Function calls:   129
       Gradient calls:   129
       Hessian calls:    0
       Warning:          None


k: 3       xk: array([  9.70000000e-01,   2.04800000e+03,   1.49000000e-01])
   fk: 1.5560391211796852e-20
Entering sub-algorithm.

       Quasi-Newton BFGS minimisation
       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
       Line search:  More and Thuente line search.

       k: 0        xk: [        0.97,        2048,       0.149] fk:
1.55603912118e-20

       Parameter values: [0.97000000000063413, 2048.0000000119967,
0.14899999998330257]
       Function value:   2.6082858480886141e-21
       Iterations:       1
       Function calls:   4
       Gradient calls:   4
       Hessian calls:    0
       Warning:          None


k: 4       xk: array([  9.70000000e-01,   2.04800000e+03,   1.49000000e-01])
   fk: 2.6082858480886141e-21
Entering sub-algorithm.

       Quasi-Newton BFGS minimisation
       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
       Line search:  More and Thuente line search.

       k: 0        xk: [        0.97,        2048,       0.149] fk:
2.60828584809e-21

       Parameter values: [0.97000000000006326, 2048.0000000119967,
0.14899999999880381]
       Function value:   5.1869486534269492e-23
       Iterations:       2
       Function calls:   7
       Gradient calls:   7
       Hessian calls:    0
       Warning:          None


k: 5       xk: array([  9.70000000e-01,   2.04800000e+03,   1.49000000e-01])
   fk: 5.1869486534269492e-23
Entering sub-algorithm.

       Quasi-Newton BFGS minimisation
       ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
       Line search:  More and Thuente line search.

       k: 0        xk: [        0.97,        2048,       0.149] fk:
5.18694865343e-23

       Parameter values: [0.97000000000006315, 2048.0000000119967,
0.14899999999880381]
       Function value:   5.1821311776197656e-23
       Iterations:       3
       Function calls:   68
       Gradient calls:   68
       Hessian calls:    0
       Warning:          None


Parameter values: [0.97000000000006315, 2048.0000000119967,
0.14899999999880381]
Function value:   5.1821311776197656e-23
Iterations:       122
Function calls:   386
Gradient calls:   386
Hessian calls:    0
Warning:          None

Traceback (most recent call last):
 File &quot;/s/relax-1.3.10/test_suite/system_tests/model_free.py&quot;, line 1011, in
test_opt_constr_bfgs_mt_S2_0_970_te_2048_Rex_0_149
   self.value_test(spin, select=select, s2=s2, te=te, rex=rex, chi2=chi2,
iter=iter, f_count=f_count, g_count=g_count, h_count=h_count,
warning=warning)
 File &quot;/s/relax-1.3.10/test_suite/system_tests/model_free.py&quot;, line 2544, in
value_test
   self.assert_(spin.iter in iter, msg=mesg)
AssertionError: Optimisation failure.

System:           Linux
Release:          2.6.35.13-92.fc14.i686.PAE
Version:          #1 SMP Sat May 21 17:33:09 UTC 2011
Win32 version:
Distribution:     fedora 14 Laughlin
Architecture:     32bit ELF
Machine:          i686
Processor:        i686
Python version:   2.7.0
Numpy version:    1.4.1
Libc version:     glibc 2.0

s2:                         0.9700000000000631
te (ps):                        2048.000000012
rex:                       0.14899999999880381
chi2:                   5.1821311776197656e-23
iter:                                      122
f_count:                                   386
g_count:                                   386
h_count:                                     0
warning:                                  None


----------------------------------------------------------------------
Ran 206 tests in 436.606s

FAILED (failures=2)




###################################
# Summary of the relax test suite #
###################################


# Optional packages/modules
###########################

No tests skipped due to missing modules.

# Synopsis
##########

System/functional tests ......................................... [ Failed ]

==============


On 11-08-11 4:56 PM, edward@xxxxxxxxxxxxx wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Author: bugman
Date: Thu Aug 11 16:56:16 2011
New Revision: 14364

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=14364&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=14364&amp;view=rev</a>
Log:
Fix for the test_opt_constr_bfgs_mt_S2_0_970_te_2048_Rex_0_149 model-free
system test on MS Windows.

The te parameter check was too strict.


Modified:
    1.3/test_suite/system_tests/model_free.py

Modified: 1.3/test_suite/system_tests/model_free.py
URL:
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/1.3/test_suite/system_tests/model_free.py?rev=14364&amp;r1=14363&amp;r2=14364&amp;view=diff">http://svn.gna.org/viewcvs/relax/1.3/test_suite/system_tests/model_free.py?rev=14364&amp;r1=14363&amp;r2=14364&amp;view=diff</a>

==============================================================================
--- 1.3/test_suite/system_tests/model_free.py (original)
+++ 1.3/test_suite/system_tests/model_free.py Thu Aug 11 16:56:16 2011
@@ -2523,7 +2523,7 @@

         # te correlation time.
         if type(te) == float:
-            self.assertAlmostEqual(spin.te / 1e-12, te, 6, msg=mesg)
+            self.assertAlmostEqual(spin.te / 1e-12, te, 5, msg=mesg)
         elif te == None:
             self.assertEqual(spin.te, None, msg=mesg)



_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-commits mailing list
relax-commits@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-commits">https://mail.gna.org/listinfo/relax-commits</a>
</pre></blockquote><pre style="margin: 0em;">

--
Sébastien Morin, Ph.D.
Postdoctoral Fellow, S. Grzesiek NMR Laboratory
Department of Structural Biology
Biozentrum, Universität Basel
Klingelbergstrasse 70
4056 Basel
Switzerland


_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>

</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00031" href="msg00031.html">Re: r14364 - /1.3/test_suite/system_tests/model_free.py</a></strong>
<ul><li><em>From:</em> Sébastien Morin</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00029" href="msg00029.html">Re: r14364 - /1.3/test_suite/system_tests/model_free.py</a></strong>
<ul><li><em>From:</em> Sébastien Morin</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Aug 11 18:00:15 2011</div>  
</body>
</html>
