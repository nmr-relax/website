<!-- MHonArc v2.6.18 -->
<!--X-Subject: RE: C modules not compiled -->
<!--X-From-R13: "[npvrwrjfxv,[nex I." &#60;znexzNhpup.rqh> -->
<!--X-Date: Fri, 14 Nov 2014 15:04:06 +0100 -->
<!--X-Message-Id: a95e10a9cf7d499c81c968401034ce57@NSO&#45;ITEXC&#45;MB22.uchc.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 6184aee9c0c94abc9fc793db15d98368@NSO&#45;ITEXC&#45;MB22.uchc.net -->
<!--X-Reference: CA+CBx2OC_0AYzTYh0pDUL&#45;_BQPkqAJTiE1ZLhKZ6&#45;Rwm7hbH=A@mail.gmail.com -->
<!--X-Reference: CAED9pY&#45;t0QPFBS4zgyus_29p=3VSV2ToiO_xC0v7HqdwXnpnNQ@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>RE: C modules not compiled -- November 14, 2014 - 15:04</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />RE: C modules not compiled</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00004" class="tabs">Index by Date</a> | <a href="threads.html#00004" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00003.html">Date Prev</a>] [<a href="msg00005.html">Date Next</a>] [<a href="msg00003.html">Thread Prev</a>] [<a href="msg00005.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;, Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Fri, 14 Nov 2014 13:58:34 +0000</li>
<li class="menuitem">
<em>Accept-language</em>: en-US</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00004.html">a95e10a9cf7d499c81c968401034ce57@NSO-ITEXC-MB22.uchc.net</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00000.html">6184aee9c0c94abc9fc793db15d98368@NSO-ITEXC-MB22.uchc.net</a>&gt; &lt;CA+CBx2OC_0AYzTYh0pDUL-_BQPkqAJTiE1ZLhKZ6-Rwm7hbH=A@mail.gmail.com&gt; &lt;CAED9pY-t0QPFBS4zgyus_29p=3VSV2ToiO_xC0v7HqdwXnpnNQ@mail.gmail.com&gt;</li>
<li class="menuitem">
<em>Thread-index</em>: AQGH6H0hrr5ntKYBQzG6d4KD5A+TowInoc9EAkFZJ9KczQrRAA==</li>
<li class="menuitem">
<em>Thread-topic</em>: C modules not compiled</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Maciejewski,Mark W.</strong> on November 14, 2014 - 15:04:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Troels and Edward,

Thanks for your assistance. Everything is working fine now.

I was using the source code to install (relax-3.3.2.src) and the relax_fit.so 
file was not present causing the problem.
From the base directory I typed &quot;scons&quot;, which created the relax_fit.so file, 
and then &quot;scons install &quot; to install the program in /usr/local/relax and 
create the byte-compiled *.pyc files and everything was fine. I did not 
realize that I needed  to perform the &quot;scons&quot; command first before the &quot;scons 
install&quot; command.

I also downloaded the pre-build relax-3.3.2.GNU-Linux.x86_64 package and it 
ran fine as well.

Thanks again,

Mark

-----Original Message-----
From: edward.dauvergne@xxxxxxxxx [<a  rel="nofollow" href="mailto:edward.dauvergne@xxxxxxxxx">mailto:edward.dauvergne@xxxxxxxxx</a>] On 
Behalf Of Edward d'Auvergne
Sent: Friday, November 14, 2014 4:20 AM
To: Troels Emtekær Linnet
Cc: Maciejewski,Mark W.; relax-users@xxxxxxx
Subject: Re: C modules not compiled

Hi Mark,

Welcome to the relax mailing lists!  The problem you see could be due to a 
number of factors.  Firstly, could you check if you have the compiled file 
present on your system:

$ ls -alh /usr/local/relax/target_functions/relax_fit.so
$ file /usr/local/relax/target_functions/relax_fit.so


If the file is there, then maybe you have a Python version problem.
The C module was compiled using Python 2.7.  Normally this will then work for 
Python 2.5, 2.6 and 2.7 but not Python &gt;= 3.1 (I have a Linux set up, both 32 
and 64-bit with all versions of Python from 1.0 to 3.4 that I regularly check 
this with).  You can check this by running relax and typing:

relax&gt; import target_functions.relax_fit


For example in Python 3, this gives the error:

relax&gt; import target_functions.relax_fit
Traceback (most recent call last):
  File &quot;&lt;console&gt;&quot;, line 1, in &lt;module&gt;
ImportError: /data/relax/relax-trunk/target_functions/relax_fit.so:
undefined symbol: Py_InitModule4_64


Maybe you will see something similar.  In any case you have two alternatives. 
 The first is to upgrade Python, if the relax_fit.so file exists, though this 
can be a painful and dangerous task on Linux systems (you can change the base 
'relax' file to point to a different alternative Python version if you wish). 
 The second is as Troels suggests.  Install the scons program, the Python 
headers, and then just run 'scons' as root in the /usr/local/relax directory 
to compile the module yourself.

Note that you only need this C module for fitting exponential curves for the 
R1, R2, or relaxation dispersion analyses.

Regards,

Edward





On 14 November 2014 01:05, Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi.

Try just write scons

But this should only be for the source code.

The packaged versions should already have the compiled C code in it.

So this is weird.

Can you run
relax - d
and post it here?

Best
Troels
On 13 Nov 2014 22:34, &quot;Maciejewski,Mark W.&quot; &lt;markm@xxxxxxxx&gt; wrote:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hello,

I have installed relax 3.2.3 on CentOS release 6.6. The program runs 
fine except for the error:
&quot;ImportError: relaxation curve fitting is unavailable, the 
corresponding C modules have not been compiled.&quot;

I installed relax using the command:
scons install

I have searched the archives and see that others have had similar 
problems, but cannot find a solution that works for me.

Any suggestions on how to install or compile the C modules?

Below is the output from &quot;relax -info&quot;

Thanks,
Mark


[nmradmin@nmrbox_wisc ~]$ relax --info



                                            relax 3.2.3

                              Molecular dynamics by NMR data analysis

                             Copyright (C) 2001-2006 Edward d'Auvergne
                         Copyright (C) 2006-2014 the relax 
development team

This is free software which you are welcome to modify and 
redistribute under the conditions of the GNU General Public License 
(GPL).  This program, including all modules, is licensed under the 
GPL and comes with absolutely no warranty.  For details type 'GPL' 
within the relax prompt.

Assistance in using the relax prompt and scripting interface can be 
accessed by typing 'help' within the prompt.

ImportError: relaxation curve fitting is unavailable, the 
corresponding C modules have not been compiled.

Processor fabric:  Uni-processor.


Hardware information:
    Machine:                 x86_64
    Processor:               x86_64
    Processor name:          Intel(R) Xeon(R) CPU E5-1620 0 @ 3.60GHz
    Endianness:              little
    Total RAM size:          3832 Mb
    Total swap size:         3967 Mb

Operating system information:
    System:                  Linux
    Release:                 2.6.32-504.1.3.el6.x86_64
    Version:                 #1 SMP Tue Nov 11 17:57:25 UTC 2014
    GNU/Linux version:       CentOS 6.6 Final
    Distribution:            centos 6.6 Final
    Full platform string:
Linux-2.6.32-504.1.3.el6.x86_64-x86_64-with-centos-6.6-Final

Python information:
    Architecture:            64bit ELF
    Python version:          2.6.6
    Python branch:           tags/r266
    Python build:            r266:84292, Jan 22 2014 09:42:36
    Python compiler:         GCC 4.4.7 20120313 (Red Hat 4.4.7-4)
    Libc version:            glibc 2.2.5
    Python implementation:   CPython
    Python revision:         84292
    Python executable:       /usr/bin/python
    Python flags:            sys.flags(debug=0, py3k_warning=0,
division_warning=0, division_new=0, inspect=0, interactive=0, 
optimize=0, dont_write_bytecode=0, no_user_site=0, no_site=0, 
ignore_environment=0, tabcheck=0, verbose=0, unicode=0, bytes_warning=0, 
hash_randomization=0)
    Python float info:       sys.floatinfo(max=1.7976931348623157e+308,
max_exp=1024, max_10_exp=308, min=2.2250738585072014e-308, 
min_exp=-1021, min_10_exp=-307, dig=15, mant_dig=53, 
epsilon=2.2204460492503131e-16, radix=2, rounds=1)
    Python module path:      ['/usr/local/relax',
'/usr/lib/python2.6/site-packages/requests-2.4.3-py2.6.egg',
'/usr/lib/python2.6/site-packages/pip-1.5.6-py2.6.egg',
'/usr/lib/python2.6/site-packages/distribute-0.7.3-py2.6.egg',
'/usr/lib/python2.6/site-packages/setuptools-7.0-py2.6.egg',
'/home/nmradmin', '/usr/local/ccpnmr/ccpnmr2.4/python',
'/usr/lib64/python26.zip', '/usr/lib64/python2.6', 
'/usr/lib64/python2.6/plat-linux2', '/usr/lib64/python2.6/lib-tk', 
'/usr/lib64/python2.6/lib-old', '/usr/lib64/python2.6/lib-dynload',
'/usr/lib64/python2.6/site-packages',
'/usr/lib64/python2.6/site-packages/PIL',
'/usr/lib64/python2.6/site-packages/gst-0.10',
'/usr/lib64/python2.6/site-packages/gtk-2.0',
'/usr/lib64/python2.6/site-packages/webkit-1.0',
'/usr/lib64/python2.6/site-packages/wx-2.8-gtk2-unicode',
'/usr/lib/python2.6/site-packages',
'/usr/lib64/python2.6/site-packages/Scientific/linux2']

Python packages and modules (most are optional):

Name               Installed    Version                    Path
minfx              True         1.0.7
/usr/local/relax/minfx
bmrblib            True         1.0.3
/usr/local/relax/bmrblib
numpy              True         1.9.1
/usr/lib64/python2.6/site-packages/numpy
scipy              True         0.7.2
/usr/lib64/python2.6/site-packages/scipy
wxPython           True         2.8.12.0 (gtk2-unicode)
/usr/lib64/python2.6/site-packages/wx-2.8-gtk2-unicode/wx
matplotlib         True         0.99.1.1
 /usr/lib64/python2.6/site-packages/matplotlib
mpi4py             False
epydoc             True         3.0.1
/usr/lib/python2.6/site-packages/epydoc
optparse           True         1.5.3
/usr/lib64/python2.6/optparse.pyc
readline           True
/usr/lib64/python2.6/lib-dynload/readline.so
profile            True
/usr/lib64/python2.6/profile.pyc
bz2                True
/usr/lib64/python2.6/lib-dynload/bz2.so
gzip               True
/usr/lib64/python2.6/gzip.pyc
io                 True
/usr/lib64/python2.6/io.pyc
xml                True         0.8.4 (internal)
 /usr/lib64/python2.6/xml/__init__.pyc
xml.dom.minidom    True
/usr/lib64/python2.6/xml/dom/minidom.pyc

relax information:
    Version:                 3.2.3
    Processor fabric:        Uni-processor.

relax C modules:

Module                        Compiled    File type    Path
target_functions.relax_fit    False
_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password reminder, or change 
your subscription options, visit the list information page at 
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>

</pre></blockquote><pre style="margin: 0em;">_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password reminder, or change your 
subscription options, visit the list information page at 
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>
</pre></blockquote>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00000" href="msg00000.html">C modules not compiled</a></strong>
<ul><li><em>From:</em> Maciejewski,Mark W.</li></ul></li>
<li><strong><a name="00001" href="msg00001.html">Re: C modules not compiled</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00002" href="msg00002.html">Re: C modules not compiled</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Nov 18 00:40:10 2014</div>  
</body>
</html>
