<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Required fields in ADIT&#45;NMR -->
<!--X-From-R13: Syqba Gyevpu <ryhNozeo.jvfp.rqh> -->
<!--X-Date: Tue, 29 Jul 2008 22:17:57 +0200 -->
<!--X-Message-Id: 488F5087.3090301@bmrb.wisc.edu -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 488DED72.6070409@bmrb.wisc.edu -->
<!--X-Reference: 7f080ed10807290725n377485e5p8d99e0fed28605cc@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Required fields in ADIT-NMR -- July 29, 2008 - 22:17</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Required fields in ADIT-NMR</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00050" class="tabs">Index by Date</a> | <a href="threads.html#00050" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00046.html">Date Prev</a>] [<a href="msg00047.html">Date Next</a>] [<a href="msg00046.html">Thread Prev</a>] [<a href="msg00053.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 29 Jul 2008 12:16:55 -0500</li>
<li class="menuitem">
<em>Cc</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00050.html">488F5087.3090301@bmrb.wisc.edu</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;488DED72.6070409@xxxxxxxxxxxxx&gt;	&lt;7f080ed10807290725n377485e5p8d99e0fed28605cc@xxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Thunderbird 2.0.0.16 (Windows/20080708)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Eldon Ulrich</strong> on July 29, 2008 - 22:17:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hi,

</pre><tt>Thank you for the quick response and feedback. I will try to answer as 
</tt><tt>many of your comments and questions below. We are converting all of our 
</tt><tt>data from NMR-STAR v2.1 to NMR-STAR v3.1. Examples of the v3.1 files can 
</tt><tt>be found on the BMRB ftp site at
</tt><pre style="margin: 0em;">

<a  rel="nofollow" href="ftp://ftp.bmrb.wisc.edu/pub/data/nmr-star-v3/">ftp://ftp.bmrb.wisc.edu/pub/data/nmr-star-v3/</a>

These are early beta files and may have serious problems.

</pre><tt>For the purposes of this discussion, I will be referring to v3.1 tags. 
</tt><tt>Descriptions for these tags can be found at this URL:
</tt><pre style="margin: 0em;">

<a  rel="nofollow" href="http://www.bmrb.wisc.edu/formats.html">http://www.bmrb.wisc.edu/formats.html</a>

</pre><tt>Files containing a fake NMR-STAR v3.1 file (nmrstar3_fake.txt) and other 
</tt><tt>information on the dictionary in its 'working' form is available from 
</tt><tt>the BMRB ftp site:
</tt><pre style="margin: 0em;">

<a  rel="nofollow" href="ftp://ftp.bmrb.wisc.edu/pub/data/nmr-star_dict/dictionary_files">ftp://ftp.bmrb.wisc.edu/pub/data/nmr-star_dict/dictionary_files</a>

</pre><tt>We are very open to suggestions from the community on how to model and 
</tt><tt>capture relaxation data and are quite excited about this discussion. I 
</tt><tt>am sure I have not addressed all of your questions, but I hope this is a 
</tt><tt>start.
</tt><pre style="margin: 0em;">

Cheers,
Eldon


Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">
Hi,

I've had a look at the fields and have a few questions as to how these
should be implemented.  I'm assuming that these are the fields for
simply depositing R1 relaxation data into the BMRB, is this correct?
</pre></blockquote><pre style="margin: 0em;">

</pre><tt>The Excel file contains the tags for the fields in the ADIT-NMR 
</tt><tt>deposition system that are mandatory. These fields represent for the 
</tt><tt>most part the meta information about the molecule, sample, sample 
</tt><tt>conditions, spectrometers, etc. The T1 fields were included as an 
</tt><tt>example for one kind of relaxation data and the mandatory fields that 
</tt><tt>would need to be entered in ADIT-NMR. The actual tables of data would be 
</tt><tt>uploaded at the time of deposition.
</tt><blockquote class="blockquote"><pre style="margin: 0em;">

So the first question I have has to do with Rx versus Tx.  Almost all
theories for the interpretation of the T1 relaxation times are
dependent upon this being in the R1 rate form (with units of
rad.s^-1).  relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>), Art Palmer's curvefit
(<a  rel="nofollow" href="http://cpmcnet.columbia.edu/dept/gsas/biochem/labs/palmer/software.html">http://cpmcnet.columbia.edu/dept/gsas/biochem/labs/palmer/software.html</a>),
David Fushman's RELAXFIT
(<a  rel="nofollow" href="http://gandalf.umd.edu/FushmanLab/pdsw.html">http://gandalf.umd.edu/FushmanLab/pdsw.html</a>), and almost all other
programs calculate the Rx relaxation rate errors and not relaxation
time errors via Monte Carlo simulation.  Then the programs relax
(<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>), modelfree4
(<a  rel="nofollow" href="http://cpmcnet.columbia.edu/dept/gsas/biochem/labs/palmer/software.html">http://cpmcnet.columbia.edu/dept/gsas/biochem/labs/palmer/software.html</a>),
dasha (<a  rel="nofollow" href="http://www.nmr.ru/dasha.html">http://www.nmr.ru/dasha.html</a>), DYNAMICS
(<a  rel="nofollow" href="http://gandalf.umd.edu/FushmanLab/pdsw.html">http://gandalf.umd.edu/FushmanLab/pdsw.html</a>), Tensor2
(<a  rel="nofollow" href="http://www.ibs.fr/ext/labos/LRMN/softs/welcome.htm">http://www.ibs.fr/ext/labos/LRMN/softs/welcome.htm</a>), etc. all work
with the rates and not the times.  So the storage of relation times
and their errors may not be very useful.  Is it possible to deposit
rates and their errors rather than the antiquated relaxation times and
</pre><tt>their errors?  
</tt></blockquote><pre style="margin: 0em;">

</pre><tt>Yes, you can deposit rates and the appropriate error and not the times. 
</tt><tt>The T1.Val and T1.Val_err tags can have units of appropriate for either 
</tt><tt>times or rates (i.e., s or s-1). In the header to the table of T1 values 
</tt><tt>is a tag _Heteronucl_T1_list.T1_val_units. The value to this tag defines 
</tt><tt>whether the T1 data have been expressed as times or rates.
</tt><pre style="margin: 0em;">

</pre><tt>The terminology used for relaxation studies in NMR has been quite 
</tt><tt>diverse. At the time these tags were constructed, the term 'T1' still 
</tt><tt>seemed to be the most commonly used. But, we realized capturing the data 
</tt><tt>as rates was extremely important and so we allowed for the units for the 
</tt><tt>values to actually determine if the values were times or rates.
</tt><pre style="margin: 0em;">

</pre><blockquote class="blockquote"><pre style="margin: 0em;">
Also, conversion of the Rx relation rate errors to the
Tx time errors would require full Monte Carlo simulation to be
accurate, and I'm not sure if anyone would have done this properly.  I
could be wrong (anyone on this list who knows otherwise, please
correct me), but I don't think there are any programs that use the Tx
times or that properly convert Rx errors to Tx errors and vice versa.

The second question I have has to do with the integration of relax
with the BRMB deposition and automating the process.  Can all data for
a model-free analysis be deposited at once?  For example if relax was
to create a STAR formatted file with the ADIT-NMR fields with the R1,
R2, and NOE values and errors at multiple fields, with the S2, S2f,
S2s, te, ts, tf, and Rex parameters and errors, the selected model
information (model name or parameters of the model), parameters such
as the CSA value used and bond length, and global parameters such as
the diffusion tensor, could this file be accepted?  Or will this
require multiple small files for multiple deposition?

</pre></blockquote><tt>All of the data can be uploaded as one file. The NMR-STAR format is 
</tt><tt>modular and a single file can contain as many modules (saveframes) of 
</tt><tt>the same or different type with a few exceptions. A module or saveframe 
</tt><tt>begins with the key term 'save_somestring' and ends with the key term 
</tt><tt>'save_'. A file can contain as many R1, R2, and NOE modules as needed. 
</tt><tt>Within each of the modules there is a header tag that takes as a value 
</tt><tt>the field strength of the spectrometer used to collect the data in that 
</tt><tt>module as well as the NMR experiment. It is important that the 
</tt><tt>experiment used for the data be defined uniquely.
</tt><pre style="margin: 0em;">

</pre><tt>The following list of tags contains most of the values you mention, S2, 
</tt><tt>S2f, S2s, te, ts, Rex all with errors, and type of model fit. It is 
</tt><tt>missing the tf, but this can be easily added. The units for te and ts 
</tt><tt>are provided in the header tags
</tt><tt>_Order_parameter_list.Tau_e_val_units  and 
</tt><tt>_Order_parameter_list.Tau_s_val_units. For the order parameter data, it 
</tt><tt>is important to include the experiments used to collect the underlying 
</tt><tt>data. In this way the order parameters are linked to the R1, R2, etc 
</tt><tt>data used in doing the fitting. It is possible to include in the file a 
</tt><tt>description of the software used and the 'method' or parameter file.
</tt><pre style="margin: 0em;">


    _Order_param.Order_param_val
    _Order_param.Order_param_val_fit_err
    _Order_param.Tau_e_val
    _Order_param.Tau_e_val_fit_err
    _Order_param.Rex_val
    _Order_param.Rex_val_fit_err
    _Order_param.Model_free_sum_squared_errs
    _Order_param.Model_fit
    _Order_param.Sf2_val
    _Order_param.Sf2_val_fit_err
    _Order_param.Ss2_val
    _Order_param.Ss2_val_fit_err
    _Order_param.Tau_s_val
    _Order_param.Tau_s_val_fit_err
    _Order_param.SH2_val
    _Order_param.SH2_val_fit_err
    _Order_param.SN2_val
    _Order_param.SN2_val_fit_err

The CSA data would be included in a separate module, but the same file.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">
I've also noticed from some of the deposited data (e.g.
<a  rel="nofollow" href="http://www.bmrb.wisc.edu/data_library/gen_saveframe.php?accNum=6470&amp;saveframe=T1_relaxation">http://www.bmrb.wisc.edu/data_library/gen_saveframe.php?accNum=6470&amp;saveframe=T1_relaxation</a>
) that all the data is identified by residue number.  For supporting
analyses using nucleic acids, small biomolecules, or proteins where
more than just the backbone NH relaxation has been studied, would it
be possible to additionally have an atom or spin numerical code and
textual label?  If an analysis is done on a molecular complex, is the
deposition of data for multiple molecules supported as well?
</pre></blockquote><pre style="margin: 0em;">

</pre><tt>The header tag of the type '_Heteronucl_T1_list.T1_coherence_type' is 
</tt><tt>intended to provide an idea of the coherence being measured. In 
</tt><tt>addition, the following set of tags or similar set for other kinds of 
</tt><tt>data are provided for every row in a data value table. The values for 
</tt><tt>these tags allow an atom within a molecular assembly of almost any 
</tt><tt>complexity (including ones that are undergoing chemical or 
</tt><tt>conformational exchange) to be defined.
</tt><pre style="margin: 0em;">

     _T1.Entity_assembly_ID
     _T1.Entity_ID
     _T1.Comp_index_ID
     _T1.Seq_ID
     _T1.Comp_ID
     _T1.Atom_ID
     _T1.Atom_type
     _T1.Atom_isotope_number

</pre><tt>The data that is available from BMRB has been supplied by authors for 
</tt><tt>the most part and the quality and how well the data are described is 
</tt><tt>variable and in all cases out of our control as authors do not respond 
</tt><tt>to our requests for better descriptions and more complete data sets.
</tt><pre style="margin: 0em;">

</pre><blockquote class="blockquote"><pre style="margin: 0em;">

I still have many questions about the fields, their format in the STAR
file to deposit, which are compulsory, and which fields do not yet
exist for deposition of all model-free data (much of this data can be
seen in the relax results file
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/1.3/test_suite/shared_data/model_free/OMP/final_results_trunc_1.3.bz2">http://svn.gna.org/viewcvs/relax/1.3/test_suite/shared_data/model_free/OMP/final_results_trunc_1.3.bz2</a>
).  For example most of the STAR tags in
<a  rel="nofollow" href="http://www.bmrb.wisc.edu/data_library/gen_saveframe.php?accNum=5841&amp;saveframe=S2_parameters">http://www.bmrb.wisc.edu/data_library/gen_saveframe.php?accNum=5841&amp;saveframe=S2_parameters</a>
are not in the excel spreadsheet.  And why are order parameters and
their errors input using the STAR format tags '_S2_value' and
'_S2_error' whereas the T1 fields are called '_T1_value' and
'_T1_value_error' and the effective model-free internal correlation
time te filed under '_Tau_e_value' and '_Tau_e_value_fit_error'?
</pre></blockquote><pre style="margin: 0em;">

</pre><tt>When working on an almost 5000 tag dictionary over many years, 
</tt><tt>inconsistencies creep into the tag names. We have tried to eliminate 
</tt><tt>these inconsistencies as much as possible in the NMR-STAR v3 dictionary, 
</tt><tt>but I would guess there are still at least a few.
</tt><pre style="margin: 0em;">

</pre><blockquote class="blockquote"><pre style="margin: 0em;">
Would you have an example deposition text file formatted correctly
using the ADIT-NMR tags in the Excel file?  Or is this unmodified, for
example is <a  rel="nofollow" href="http://www.bmrb.wisc.edu/cgi-bin/explore.cgi?format=raw&amp;bmrbId=5841">http://www.bmrb.wisc.edu/cgi-bin/explore.cgi?format=raw&amp;bmrbId=5841</a>
</pre><tt>the same file as that that the authors deposited?  
</tt></blockquote><pre style="margin: 0em;">

</pre><tt>I do not have a full relaxation example file. For example files you 
</tt><tt>should look in the directory on the ftp site listed above. We are 
</tt><tt>working to clean up these files as quickly as possible.
</tt><pre style="margin: 0em;">

</pre><blockquote class="blockquote"><pre style="margin: 0em;">
And how is the
field strength dependent data handled, e.g. in
<a  rel="nofollow" href="http://www.bmrb.wisc.edu/cgi-bin/explore.cgi?format=raw&amp;bmrbId=4970">http://www.bmrb.wisc.edu/cgi-bin/explore.cgi?format=raw&amp;bmrbId=4970</a>
there are 2 spectrometers declared to be a 600 and 750, yet there is
relaxation data at 500, 600 and 750 present in the file?
</pre></blockquote><pre style="margin: 0em;">

</pre><tt>As mentioned above, for each module containing data that are field 
</tt><tt>strength dependent there should be a tag that takes as a value the field 
</tt><tt>strength of the spectrometer used to collect the data. For data like 
</tt><tt>order parameters that are derived from different sets of data, currently 
</tt><tt>the experiment list is used to trace back to the input data and 
</tt><tt>spectrometer field strength.
</tt><pre style="margin: 0em;">

</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Cheers,

Edward


P.S.  For reference, this message will soon appear at
<a  rel="nofollow" href="/mail.gna.org/public/relax-devel/">https://mail.gna.org/public/relax-devel/</a>.



On Mon, Jul 28, 2008 at 6:01 PM, Eldon Ulrich &lt;elu@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">
Hi Edward,

Sorry for the delay in providing a list of the required ADIT-NMR fields. An
Excel file with the information is attached compiled by one of our students.
The table provides a fairly complete description of the field and where
appropriate the dependencies on other fields. In terms of the experimental
data, only the fields required for T1 relaxation data were included. The
required fields may vary slightly depending on the kinds of data being
deposited.

I hope this information helps. If you have any questions or need additional
information, please let me know.

All the best,
Eldon

_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="/mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>


</pre></blockquote></blockquote><pre style="margin: 0em;">



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00036" href="msg00036.html">Required fields in ADIT-NMR</a></strong>
<ul><li><em>From:</em> Eldon Ulrich</li></ul></li>
<li><strong><a name="00043" href="msg00043.html">Re: Required fields in ADIT-NMR</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Jul 31 01:25:08 2008</div>  
</body>
</html>
