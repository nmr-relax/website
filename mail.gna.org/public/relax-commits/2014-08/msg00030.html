<!-- MHonArc v2.6.18 -->
<!--X-Subject: r24896 &#45; in /trunk/test_suite: shared_data/bruker_files/ system_tests/ -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Thu, 31 Jul 2014 18:25:05 +0200 -->
<!--X-Message-Id: E1XCtA9&#45;0003Un&#45;J8@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r24896 - in /trunk/test_suite: shared_data/bruker_files/ system_tests/ -- July 31, 2014 - 18:25</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r24896 - in /trunk/test_suite: shared_data/bruker_files/ system_tests/</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00030" class="tabs">Index by Date</a> | <a href="threads.html#00030" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00029.html">Date Prev</a>] [<a href="msg00031.html">Date Next</a>] [<a href="msg00029.html">Thread Prev</a>] [<a href="msg00031.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Thu, 31 Jul 2014 16:25:05 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00030.html">E1XCtA9-0003Un-J8@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on July 31, 2014 - 18:25:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Thu Jul 31 18:25:05 2014
New Revision: 24896

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=24896&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=24896&amp;view=rev</a>
Log:
Created the Bruker.test_bug_22411_T1_read_fail system test.

This is to catch bug #22411 (<a  rel="nofollow" href="https://gna.org/bugs/?22411">https://gna.org/bugs/?22411</a>) as reported by 
Olena Dobrovolska.


Added:
    trunk/test_suite/shared_data/bruker_files/bug_22411_T1.txt   (with props)
    trunk/test_suite/shared_data/bruker_files/bug_22411_T1_sequence
Modified:
    trunk/test_suite/system_tests/bruker.py

Added: trunk/test_suite/shared_data/bruker_files/bug_22411_T1.txt
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/test_suite/shared_data/bruker_files/bug_22411_T1.txt?rev=24896&amp;view=auto">http://svn.gna.org/viewcvs/relax/trunk/test_suite/shared_data/bruker_files/bug_22411_T1.txt?rev=24896&amp;view=auto</a>
==============================================================================
--- trunk/test_suite/shared_data/bruker_files/bug_22411_T1.txt  (added)
+++ trunk/test_suite/shared_data/bruker_files/bug_22411_T1.txt  Thu Jul 31 
18:25:05 2014
@@ -0,0 +1,89 @@
+$##1.0
+
+Project:       Dynamic method/T1
+Date:          Tuesday, May 27, 2014 2:17:20 PM
+User:          olena
+Computer:      STR340AG093177
+generated by:  Dynamics Center 2.1.5
+
+
+SECTION:        sample information 
+sample name:    UreE
+Description/Title:      standard demo sample
+Origin:         in-house
+Date of preparation:    06 / 2012
+Solvent:        90% H2O + 10% D2O
+pH:     7.5
+Sample tube:    normal 
+Tube diameter (mm):     5
+Concentration (mM):     1.00
+Temperature (K):        298.0
+Weight (Daltons):       17500
+Correlation time (ns):  17.00
+Labelling:      15N    
+AminoAcid storage:      FASTA file 
+AminoAcid file:         C:\Users\olena\Desktop\Anna\BpUreE_AM_relax_from 
Stefano\BpUreE_AM_relax\NOE\BpUreE_aa.fa
+       
+        140         H Q H 
+        220   L 
+PDB file:       C:\Users\olena\Desktop\Anna\BpUreE_AM_relax_from 
Stefano\BpUreE_AM_relax\NOE\hadded_2.pdb
+
+
+SECTION:        relevant parameters
+Proton frequency[MHz]:  500.125
+X nucleus frequency[MHz]:       50.677
+
+
+SECTION:        integrals
+Mixing time [s]:              0.01000000              0.05000000             
 0.10000000              0.20000000              0.40000000              
0.60000000              0.80000000              1.00000000              
1.50000000              2.50000000
+Peak name                    I0                      I1                      
I2                      I3                      I4                      I5    
                  I6                      I7                      I8          
            I9
+       
+       
+       H145      13756498.00000000       15514689.00000000       
15055511.00000000       13609771.00000000       10062429.00000000       
7974869.00000000        6169520.00000000        4629481.00000000        
2547361.00000000        898870.00000000
+       Q146      8733461.00000000        10080191.00000000       
9981142.00000000        8620576.00000000        6590677.00000000        
4630599.00000000        3602645.00000000        2718771.00000000        
1506067.00000000        436106.00000000
+       H147      224716698.00000000      253388645.00000000      
248053592.00000000      216045891.00000000      161293601.00000000      
119337670.00000000      88886202.00000000       67943841.00000000       
37367369.00000000       11560388.00000000
+       L222      15759159.00000000       18560944.00000000       
18865908.00000000       17809151.00000000       15700416.00000000       
13595993.00000000       11816930.00000000       10332890.00000000       
7792819.00000000        4579760.00000000
+       
+SECTION:        integral errors
+Mixing time [s]:              0.01000000              0.05000000             
 0.10000000              0.20000000              0.40000000              
0.60000000              0.80000000              1.00000000              
1.50000000              2.50000000
+Peak name                    I0                      I1                      
I2                      I3                      I4                      I5    
                  I6                      I7                      I8          
            I9
+        
+       H145       93740.22047434          86246.24327553          
86512.35134207          98214.16028465          83166.68544343         
102285.80593267          86477.22470018          86533.28148070          
90750.07835281          85573.61522123
+       Q146       93740.22047434          86246.24327553          
86512.35134207          98214.16028465          83166.68544343         
102285.80593267          86477.22470018          86533.28148070          
90750.07835281          85573.61522123
+       H147       93740.22047434          86246.24327553          
86512.35134207          98214.16028465          83166.68544343         
102285.80593267          86477.22470018          86533.28148070          
90750.07835281          85573.61522123
+       L222       93740.22047434          86246.24327553          
86512.35134207          98214.16028465          83166.68544343         
102285.80593267          86477.22470018          86533.28148070          
90750.07835281          85573.61522123
+       
+       
+       
+SECTION:        integrals back calculated from fit
+Mixing time [s]:              0.01000000              0.05000000             
 0.10000000              0.20000000              0.40000000              
0.60000000              0.80000000              1.00000000              
1.50000000              2.50000000
+Peak name                    I0                      I1                      
I2                      I3                      I4                      I5    
                  I6                      I7                      I8          
            I9
+        
+       H145      15738604.20090525       15026510.70680394       
14181529.06515528       12631440.70947580       10021034.21322855       
7950092.86845353        6307131.10764571        5003702.90853851        
2805050.33175678        881533.74821077
+       Q146      10254719.90269907       9754883.24076119        
9164207.55688108        8087989.88264072        6299875.46308338        
4907082.15839184        3822211.31993968        2977186.62592412        
1594169.41220471        457079.02996617
+       H147      258326604.85790733      245549161.68237550      
230462413.29953182      203012792.17669052      157532441.01064360      
122240917.45496067      94855648.80709809       73605420.32851373       
39041481.78350179       10983968.61860609
+       L222      18614264.92121686       18204408.56909731       
17704755.28321164       16746214.00305464       14982009.01175903       
13403662.10460977       11991593.22848775       10728285.07875159       
8122016.13957740        4655120.56867706
+      
+      
+SECTION:        details
+Fitted function:        f(t) = Io * exp (-t/T)
+Random error estimation of data:        RMS per spectrum (or trace/plane)
+Systematic error estimation of data:    average variance calculation
+Fit parameter Error estimation method:  from fit using calculated y 
uncertainties
+Confidence level:       95%
+Used peaks:     peaks from 
C:\Users\olena\Desktop\Anna\SpUreE_SC_dyn_500\SpUreE_SC_dyn_500\SpUreE_500.xml
+Used integrals:         peak intensities
+Used Mixing time:       all values (including replicates) used
+
+
+SECTION:        results
+Peak name         F1 [ppm]        F2 [ppm]        T1 [s]          error      
     errorScale      R1 [rad/s]      R1 sd [rad/s]
+
+H145       118.656           8.099      0.863921        0.0174326       
2.3060041       1.157513        0.0101287
+Q146       121.783           8.277      0.800479        0.0247820       
2.3060041       1.249252        0.0167716
+H147       125.284           7.972      0.788527        0.0009692       
2.3060041       1.268188        0.0006760
+L222       122.595           8.283      1.796588        0.0340993       
2.3060041       0.556611        0.0045813
+
+
+
+

Propchange: trunk/test_suite/shared_data/bruker_files/bug_22411_T1.txt
------------------------------------------------------------------------------
    svn:eol-style = native

Added: trunk/test_suite/shared_data/bruker_files/bug_22411_T1_sequence
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/test_suite/shared_data/bruker_files/bug_22411_T1_sequence?rev=24896&amp;view=auto">http://svn.gna.org/viewcvs/relax/trunk/test_suite/shared_data/bruker_files/bug_22411_T1_sequence?rev=24896&amp;view=auto</a>
==============================================================================
--- trunk/test_suite/shared_data/bruker_files/bug_22411_T1_sequence     
(added)
+++ trunk/test_suite/shared_data/bruker_files/bug_22411_T1_sequence     Thu 
Jul 31 18:25:05 2014
@@ -0,0 +1,4 @@
+H 145
+Q 146
+H 147
+L 222

Modified: trunk/test_suite/system_tests/bruker.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/test_suite/system_tests/bruker.py?rev=24896&amp;r1=24895&amp;r2=24896&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/test_suite/system_tests/bruker.py?rev=24896&amp;r1=24895&amp;r2=24896&amp;view=diff</a>
==============================================================================
--- trunk/test_suite/system_tests/bruker.py     (original)
+++ trunk/test_suite/system_tests/bruker.py     Thu Jul 31 18:25:05 2014
@@ -1,4 +1,4 @@
-###############################################################################
+##############################################################################
 #                                                                            
 #
 # Copyright (C) 2011-2013 Edward d'Auvergne                                  
 #
 #                                                                            
 #
@@ -37,6 +37,18 @@
 
         # Create a data pipe.
         self.interpreter.pipe.create('mf', 'mf')
+
+
+    def test_bug_22411_T1_read_fail(self):
+        &quot;&quot;&quot;Test catching U{bug #22411&lt;<a  rel="nofollow" href="https://gna.org/bugs/?22411">https://gna.org/bugs/?22411</a>&gt;}, the 
failure in reading a Bruker DC T1 file as submitted by Olena Dobrovolska.&quot;&quot;&quot;
+
+        # The data path.
+        path = status.install_path + 
sep+'test_suite'+sep+'shared_data'+sep+'bruker_files'
+
+        # Create a data pipe, read the sequence, and read the Bruker DC file 
to trigger the bug.
+        self.interpreter.pipe.create('bug_22411', 'mf')
+        self.interpreter.sequence.read(file='bug_22411_T1_sequence', 
dir=path, res_num_col=2, res_name_col=1)
+        self.interpreter.bruker.read(ri_id='T1', file='bug_22411_T1.txt', 
dir=path)
 
 
     def test_bruker_read_noe(self):



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Aug 01 00:00:03 2014</div>  
</body>
</html>
