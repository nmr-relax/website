<!-- MHonArc v2.6.10 -->
<!--X-Subject: Fwd: Re: [bug #6288] errors in value.copy and value.delete,	possibly sequence gap related... -->
<!--X-From-R13: Re Vbefg Epuveen <u.fpuveenNhd.rqh.nh> -->
<!--X-Date: Tue, 18 Jul 2006 08:23:42 +0200 -->
<!--X-Message-Id: 11d447911ce94d.11ce94d11d4479@uq.edu.au -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Fwd: Re: [bug #6288] errors in value.copy and value.delete,	possibly sequence gap related... -- July 18, 2006 - 08:23</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Fwd: Re: [bug #6288] errors in value.copy and value.delete,	possibly sequence gap related...</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00007" class="tabs">Index by Date</a> | <a href="threads.html#00007" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00006.html">Date Prev</a>] [<a href="msg00008.html">Date Next</a>] [<a href="msg00006.html">Thread Prev</a>] [<a href="msg00008.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Tue, 18 Jul 2006 16:22:57 +1000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00007.html">11d447911ce94d.11ce94d11d4479@uq.edu.au</a>&gt;</li>
<li class="menuitem">
<em>Priority</em>: normal</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Dr Horst Schirra</strong> on July 18, 2006 - 08:23:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Fwd message:
-----------------
Hi Ed,

all residues, except for the glycines (G2, G7, G8, G14, G26) should have
their values such as CSA etc. set.

I've attached the python script to this email, together with the .save
file that gets read in by it, and the .results file. The .save and
.results are from a previous relax run in which I have fitted
microdynamic parameters to the relaxation data. Now I want to see how
well the relaxation data belonging to the fitted microdynamic parameters
fit to the measured original data...

[NOTE: I've attached the respective files to the bug report on the
bugtracker - hjs]

On a related note: The error occurs in both relax 1.2.2 and relax 1.2.3.
I tried testing relax 1.2.4., but It won't start up on my machine giving
me the following error:

[h.schirra@djc-montecristi ~/kalata]$ ~/relax-1.2.4/relax
Traceback (most recent call last):
  File &quot;/home/h.schirra/relax-1.2.4/relax&quot;, line 70, in ?
    from io import IO
  File &quot;/home/h.schirra/relax-1.2.4/io.py&quot;, line 36, in ?
    from os import F_OK, access, devnull, makedirs, remove, stat
ImportError: cannot import name devnull

Is that a relax issue, or shall I kick our IT guys for a dodgy python
installation??

Cheers, and thanks in advance!!

Horst Joachim


     ----------------------------------------------------------------
    / Dr. sc. nat. Horst Joachim Schirra    Phone: (+61)7/3346-2021 /
   / Queensland Smart State Fellow          Fax:  (+61)7/3346-2101 /
  / Institute for Molecular Bioscience                            /
 / University of Queensland           email: h.schirra@xxxxxxxxx /
/ Brisbane QLD 4072, Australia   <a  href="http://www.uq.edu.au/~uqhschir">http://www.uq.edu.au/~uqhschir</a> /
----------------------------------------------------------------



----- Original Message -----
From: Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;
Date: Friday, July 7, 2006 6:22 pm
Subject: Re: [bug #6288] errors in value.copy and value.delete, possibly
sequence gap related...
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

Horst, I just have a few quick questions about the bug report.
Residue 3 appears to be selected yet not have a CSA value.  Is this
correct?  The fix should be relatively easy, it's probably that the
CSA value of 'None' needs to be caught and handled properly.  Another
thing is, would you be able to attach your relax script to the bug
report.  It will help to work out why the global_flag variable has not
been set yet (it should exist).

Thanks,

Edward


On 7/4/06, anonymous &lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

URL:
  &lt;<a  href="http://gna.org/bugs/?func=detailitem&amp;item_id=6288">http://gna.org/bugs/?func=detailitem&amp;item_id=6288</a>&gt;

                 Summary: errors in value.copy and value.delete,
</pre></blockquote><pre style="margin: 0em;">possibly&gt; sequence gap related...
</pre><blockquote class="blockquote"><pre style="margin: 0em;">                 Project: relax
            Submitted by: None
            Submitted on: Tuesday 07/04/2006 at 06:34 CEST
                Category: None
                Priority: 5 - Normal
                Severity: 4 - Important
                  Status: None
                 Privacy: Public
             Assigned to: None
         Originator Name: Horst Joachim Schirra
        Originator Email: h.schirra@xxxxxxxxx
             Open/Closed: Open
                 Release: 1.2.2
        Operating System: GNU/Linux

    _______________________________________________________

Details:

Hi Ed,

Using relax 1.2.2. under linux.

I'm currently trying to backcalculate some raw relaxation data
</pre></blockquote><pre style="margin: 0em;">(R1 etc) from
</pre><blockquote class="blockquote"><pre style="margin: 0em;">a set of microdynamic parameters that I got.

1) When I do

value.copy(run_name, 'test', 'csa')
to copy the parameters from the run where they originated into
</pre></blockquote><pre style="margin: 0em;">the new run
</pre><blockquote class="blockquote"><pre style="margin: 0em;">'test', I get the following error:

Traceback (most recent call last):
  File &quot;&lt;console&gt;&quot;, line 1, in ?
  File &quot;/home/h.schirra/relax_1.2.2/prompt/value.py&quot;, line 99, in
</pre></blockquote><pre style="margin: 0em;">copy&gt;     self.__relax__.generic.value.copy(run1=run1, run2=run2,
param=param)&gt;   File
&quot;/home/h.schirra/relax_1.2.2/generic_fns/value.py&quot;, line 82, in copy
</pre><blockquote class="blockquote"><pre style="margin: 0em;">    set(run=run2, value=value, error=error, param=param, index=i)
  File &quot;/home/h.schirra/relax_1.2.2/specific_fns/base_class.py&quot;,
</pre></blockquote><pre style="margin: 0em;">line 154, in
</pre><blockquote class="blockquote"><pre style="margin: 0em;">set
    setattr(self.relax.data.res[self.run][index], object_name,
</pre></blockquote><pre style="margin: 0em;">float(value) *
</pre><blockquote class="blockquote"><pre style="margin: 0em;">scaling)
TypeError: float() argument must be a string or a number

same happens with most other parameters (e.g. s2, s2f, etc).

When I check with
value.display('test', 'csa')

what has arrived, I get:

Num  Name  Value                         Error
1    CYS   2.4999999999999998e-05        None
2    GLY   None                          None
3    GLU   None                          None
....

HINT: Gly 2 is not selected in the relax run. I assume the error
</pre></blockquote><pre style="margin: 0em;">lies&gt; somewhere in that copy vcan't deal yet with gap residues...
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Sequence:

relax&gt; sequence.display(run_name)
Number  Name    Selected
1       CYS     1
2       GLY     0
3       GLU     1
4       THR     1
5       CYS     1
6       VAL     1
7       GLY     0
8       GLY     0
9       THR     1
10      CYS     1
11      ASN     1
12      THR     1
13      PRO     1
14      GLY     0
15      CYS     1
16      THR     1
17      CYS     1
18      SER     1
19      TRP     1
20      PRO     1
21      VAL     1
22      CYS     1
23      THR     1
24      ARG     1
25      ASN     1
26      GLY     0
27      LEU     1
28      PRO     1
29      VAL     1
===================================================



2) Related. when I try to delete the original relaxation data
</pre></blockquote><pre style="margin: 0em;">from run
</pre><blockquote class="blockquote"><pre style="margin: 0em;">run_name, I get the following error:

relax&gt; relax_data.delete(run_name, 'R1', '500')
Traceback (most recent call last):
  File &quot;&lt;console&gt;&quot;, line 1, in ?
  File &quot;/home/h.schirra/relax_1.2.2/prompt/relax_data.py&quot;, line
</pre></blockquote><pre style="margin: 0em;">198, in
</pre><blockquote class="blockquote"><pre style="margin: 0em;">delete
    self.__relax__.specific.relax_data.delete(run=run,
</pre></blockquote><pre style="margin: 0em;">ri_label=ri_label,&gt; frq_label=frq_label)
</pre><blockquote class="blockquote"><pre style="margin: 0em;">  File &quot;/home/h.schirra/relax_1.2.2/specific_fns/relax_data.py&quot;,
</pre></blockquote><pre style="margin: 0em;">line 432, in
</pre><blockquote class="blockquote"><pre style="margin: 0em;">delete
    index = self.find_index(data)
  File &quot;/home/h.schirra/relax_1.2.2/specific_fns/relax_data.py&quot;,
</pre></blockquote><pre style="margin: 0em;">line 501, in
</pre><blockquote class="blockquote"><pre style="margin: 0em;">find_index
    if self.global_flag == 1:
AttributeError: Rx_data instance has no attribute 'global_flag'

====================================

Any ideas?

Thanks a lot in advance!!

Horst Joachim






    _______________________________________________________

Reply to this item at:

  &lt;<a  href="http://gna.org/bugs/?func=detailitem&amp;item_id=6288">http://gna.org/bugs/?func=detailitem&amp;item_id=6288</a>&gt;

_______________________________________________
  Message sent via/by Gna!
  <a  href="http://gna.org/">http://gna.org/</a>


</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00008" href="msg00008.html">Re: Re: [bug #6288] errors in value.copy and value.delete,	possibly sequence gap related...</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Jul 18 09:01:04 2006</div>  
</body>
</html>
