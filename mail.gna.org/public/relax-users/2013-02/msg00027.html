<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: m0 models -->
<!--X-From-R13: [negva Pnyynfpux <onyynfpuxNszc&#45;oreyva.qr> -->
<!--X-Date: Wed, 20 Feb 2013 17:29:14 +0100 -->
<!--X-Message-Id: 19EEF4DB&#45;6A81&#45;427B&#45;94CF&#45;ABB563022028@fmp&#45;berlin.de -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: C9F76B95&#45;81A2&#45;4400&#45;8639&#45;6B2F6D8580C6@fmp&#45;berlin.de -->
<!--X-Reference: CAED9pY8FE0s5Dnag=z+Urhj9G_5Fcjo0TZoRsyfOYOGXHC0OvQ@mail.gmail.com -->
<!--X-Reference: B679CA23&#45;C45A&#45;45E7&#45;BF00&#45;4A7C6895FD67@fmp&#45;berlin.de -->
<!--X-Reference: CAED9pY9w3Tz7TYvDnxeW5WCO18WBUZXBKDVd0ktA848nED99mw@mail.gmail.com -->
<!--X-Reference: 9D1C53DF&#45;FBC5&#45;4746&#45;9AFF&#45;6782B2D71BC8@fmp&#45;berlin.de -->
<!--X-Reference: CAED9pY9d1e+BcaS2XUJphaynyQKvQ6nrY6pUo2AyD3raYksf4Q@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: m0 models -- February 20, 2013 - 17:29</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: m0 models</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00027" class="tabs">Index by Date</a> | <a href="threads.html#00027" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00026.html">Date Prev</a>] [<a href="msg00028.html">Date Next</a>] [<a href="msg00021.html">Thread Prev</a>] [<a href="msg00028.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Wed, 20 Feb 2013 17:28:46 +0100</li>
<li class="menuitem">
<em>Cc</em>: Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00027.html">19EEF4DB-6A81-427B-94CF-ABB563022028@fmp-berlin.de</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;C9F76B95-81A2-4400-8639-6B2F6D8580C6@xxxxxxxxxxxxx&gt;	&lt;CAED9pY8FE0s5Dnag=z+Urhj9G_5Fcjo0TZoRsyfOYOGXHC0OvQ@xxxxxxxxxxxxxx&gt;	&lt;B679CA23-C45A-45E7-BF00-4A7C6895FD67@xxxxxxxxxxxxx&gt;	&lt;CAED9pY9w3Tz7TYvDnxeW5WCO18WBUZXBKDVd0ktA848nED99mw@xxxxxxxxxxxxxx&gt;	&lt;9D1C53DF-FBC5-4746-9AFF-6782B2D71BC8@xxxxxxxxxxxxx&gt;	&lt;CAED9pY9d1e+BcaS2XUJphaynyQKvQ6nrY6pUo2AyD3raYksf4Q@xxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Martin Ballaschk</strong> on February 20, 2013 - 17:29:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">

Hi Edward.

I finally came around to make some plots and tables of the &quot;failed&quot; run and 
even attached them to a bug report on GNA.

On 12.02.2013, at 15:09, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:

</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">Rex of around 10^-18 (=nearly zero)
</pre></blockquote><pre style="margin: 0em;">sigma_ex = Rex / omega**2
</pre></blockquote><pre style="margin: 0em;">

I extract Rex with the following command, I guess this is then the already 
field-corrected value?
</pre><blockquote class="blockquote"><pre style="margin: 0em;">value.write( param = 'rex', file = 'example/rex.txt')
</pre></blockquote></blockquote><pre style="margin: 0em;">

This is clearly a bug!  For example on an 800, you should multiply
1e-18 with the value of ~2.6e17.  Could you file a bug report for
this?  A value of 1e-18 should give a significant, yet low, Rex value
of 0.15-0.3 rad.s^-1.
</pre></blockquote><pre style="margin: 0em;">

I'm not sure what kind of data / dump would be helpful as an attachment. I'm 
also not sure if this is really a bug? 

How could I test for that?


</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;"> chi^2 and AIC values do not converge but differ by only a factor of 10^10 
[in fact, the fluctuations are small, and in the range of approx 1e-10] 
from each other in the last ~20 rounds. 
</pre></blockquote><pre style="margin: 0em;">

How many rounds is it up to?  If it runs infinitely, then maybe you
have run into a chaotic system.  Now that would be fascinating!
Theoretically anyway, biologically it would be irrelevant.
</pre></blockquote><pre style="margin: 0em;">

Hooray chaos! I finally killed it after 190 rounds. That poor workstation 
would have worked forever I guess.

</pre><blockquote class="blockquote"><pre style="margin: 0em;">I'm guessing you mean 1e-10.  Can you see which models are changing?
</pre></blockquote><pre style="margin: 0em;">

Models are not changing at all. 

Link to a plot of assigned models over the iterations (every plot corresponds 
to a single residue, y axis corresponds to models 0-9):

<a  rel="nofollow" href="https://gna.org/support/download.php?file_id=17287">https://gna.org/support/download.php?file_id=17287</a>

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Can you find any chi2 or AIC values which match between the rounds?
</pre></blockquote><pre style="margin: 0em;">

</pre><blockquote class="blockquote"><pre style="margin: 0em;">If you make a table of total parameter number, chi2, and AIC, can you
see any patterns?  
</pre></blockquote><pre style="margin: 0em;">

Have a look for yourself: I can't see any patterns. Looks like random to me.

Link to tab-seperated table of parameters:
<a  rel="nofollow" href="https://gna.org/support/download.php?file_id=17284">https://gna.org/support/download.php?file_id=17284</a>

Link to plot of parameters over iterations:
<a  rel="nofollow" href="https://gna.org/support/download.php?file_id=17286">https://gna.org/support/download.php?file_id=17286</a>

Link to plot of parameters over iterations, zoomed in:
<a  rel="nofollow" href="https://gna.org/support/download.php?file_id=17287">https://gna.org/support/download.php?file_id=17287</a>

</pre><blockquote class="blockquote"><pre style="margin: 0em;">However I don't
think I've seen a problem which runs forever - that would just be
theoretically weird.  
</pre></blockquote><pre style="margin: 0em;">

*sigh*

</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">off-resonance &quot;heating pulses&quot; that make my R1 experiment just as warm as 
the R2 experiment [...]
</pre></blockquote><pre style="margin: 0em;">

You shouldn't need to warm up your experiment to the level of the R2
in this way.  [...] Actually you could end up with a temperature gradient
over the R1 evolution time - this would not be good.  
</pre></blockquote><pre style="margin: 0em;">

You've been right, the new data I recorded with this technique do not look 
right at all. I 

</pre><blockquote class="blockquote"><pre style="margin: 0em;">The best way to do this is to
run the R1 experiment on a MeOH/ethylene glycol sample.  Then
calibrate the temperature as you would normally calibrate a
spectrometer, just using shortened R1/R2/NOE pulse sequences.
</pre></blockquote><pre style="margin: 0em;">

As mentioned earlier, I use d4 methanol which gives sharp, not too strong 
signals and really nicely fit, stable temperature calibration curves. After 
starting the R2 I don't see any differences of the distance between OH/CH3 
signals. (The peaks are a bit broader than in the simple 1D) This is true for 
the individual delays during measurement (individual planes in the 
pseudo-3D), as well as for before/after R2. The distance is the same 
everywhere. 

I looked into it similarly to what you suggested: more or less killed the 
phase cycle and put half of the pulses off-resonance.

</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">For the spins where m0 are selected, do their errors look larger than
the other spins?
</pre></blockquote><pre style="margin: 0em;">

I wouldn't say so:
<a  rel="nofollow" href="https://dl.dropbox.com/u/4019316/boxplot.error.pdf">https://dl.dropbox.com/u/4019316/boxplot.error.pdf</a>
</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">Or if you plot the I0 values from the relaxation
exponential curve-fitting, are these residues much lower than the
rest?
</pre></blockquote><pre style="margin: 0em;">

There definitely seems to be a tendency:
<a  rel="nofollow" href="https://dl.dropbox.com/u/4019316/boxplot.pdf">https://dl.dropbox.com/u/4019316/boxplot.pdf</a>
</pre></blockquote></blockquote><pre style="margin: 0em;">

Similar /enhanced plots can be found here now:

<a  rel="nofollow" href="https://gna.org/support/download.php?file_id=17288">https://gna.org/support/download.php?file_id=17288</a>
<a  rel="nofollow" href="https://gna.org/support/download.php?file_id=17289">https://gna.org/support/download.php?file_id=17289</a>

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Those are quite interesting plots.  Though I'm not sure why m0 is
selected so often.  I've never seen such a phenomenon.
</pre></blockquote><pre style="margin: 0em;">

Maybe you should come around for a visit, talk to Peter Schmieder, Hartmut 
Oschkinat and Phil Selenko and then you can crush my dreams of doing anything 
useful with our system. 

That would be fun.

</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">I can only recommend switching to Sparky for this type of analysis.
</pre></blockquote></blockquote><pre style="margin: 0em;">You can use Topspin to split up the file and create a set of 2D fids.
These can then be used for processing in nmrPipe, if you like, and
converted to Sparky format.
</pre></blockquote><pre style="margin: 0em;">

I process with Topspin, (zero-fill for 8k, baseline correction, forward 
prediction, set the right nc_proc, etc etc), convert to ucsf with bruk2ucsf, 
corrected for the sfo1 with ucsfdata and imported the spectra one-by-one into 
Sparky. Then copied my reference peak list onto all single spectra and saved 
the resulting peak heights. 

<a  rel="nofollow" href="https://gna.org/support/download.php?file_id=17290">https://gna.org/support/download.php?file_id=17290</a>
<a  rel="nofollow" href="https://gna.org/support/download.php?file_id=17291">https://gna.org/support/download.php?file_id=17291</a>
<a  rel="nofollow" href="https://gna.org/support/download.php?file_id=17292">https://gna.org/support/download.php?file_id=17292</a>
<a  rel="nofollow" href="https://gna.org/support/download.php?file_id=17293">https://gna.org/support/download.php?file_id=17293</a>

(some of the plots are truncated for outliers)

I don't see an indication that there are significant differences between 
picking with sparky or picking with ccpn ...


</pre><blockquote class="blockquote"><pre style="margin: 0em;">Well, I was a pure biochemist before I looked at performing a
model-free analysis of a protein!  So it's not impossible.
</pre></blockquote><pre style="margin: 0em;">

Kudos for that! 

Regards 
Martin




</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00028" href="msg00028.html">Re: m0 models</a></strong>
<ul><li><em>From:</em> Martin Ballaschk</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00008" href="msg00008.html">m0 models</a></strong>
<ul><li><em>From:</em> Martin Ballaschk</li></ul></li>
<li><strong><a name="00010" href="msg00010.html">Re: m0 models</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00013" href="msg00013.html">Re: m0 models</a></strong>
<ul><li><em>From:</em> Martin Ballaschk</li></ul></li>
<li><strong><a name="00017" href="msg00017.html">Re: m0 models</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00018" href="msg00018.html">Re: m0 models</a></strong>
<ul><li><em>From:</em> Martin Ballaschk</li></ul></li>
<li><strong><a name="00021" href="msg00021.html">Re: m0 models</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Feb 21 11:20:10 2013</div>  
</body>
</html>
