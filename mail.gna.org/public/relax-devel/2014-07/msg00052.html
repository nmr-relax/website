<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: r24772 &#45; /branches/r1rho_plotting/specific_analyses/relax_disp/data.py -->
<!--X-From-R13: Febryf Szgrxæe Zvaarg &#60;gyvaargNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 29 Jul 2014 09:56:10 +0200 -->
<!--X-Message-Id: CA+CBx2Ms9E=YmxDX1nHizET6uNwqDYRoEu_tiQagMRfPjkWkQQ@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1XB0Er&#45;0004TW&#45;Fm@subversion.gna.org -->
<!--X-Reference: CAED9pY93FRAWnb4BVkDEWOYDpWi8siYkEXvNP6WufoDu3hyTLg@mail.gmail.com -->
<!--X-Reference: CAED9pY9n9vpmc18E9cGYOQigS_krbm_NdtiicKXVahfvNFPcew@mail.gmail.com -->
<!--X-Reference: CAED9pY8wFbY5E0BH5&#45;hT&#45;FcPX_Ez6VQ2OEkT4kJiGYo5hh2V_Q@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: r24772 - /branches/r1rho_plotting/specific_analyses/relax_disp/data.py -- July 29, 2014 - 09:56</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: r24772 - /branches/r1rho_plotting/specific_analyses/relax_disp/data.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00052" class="tabs">Index by Date</a> | <a href="threads.html#00052" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00051.html">Date Prev</a>] [<a href="msg00053.html">Date Next</a>] [<a href="msg00051.html">Thread Prev</a>] [<a href="msg00053.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Edward d'Auvergne&quot; &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 29 Jul 2014 09:55:19 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:from:date:message-id :subject:to:cc:content-type; bh=DPCfDi3UdSp8z/6EcdB448CKs8Rayacd5GKL5s0QeuA=; b=DegZEdYmr1oTvdMUh74gXUeY3KMh+FqcfROqDSaZ1+Pr/ydkJocEh3nJr3U5Q9bJ8g 3qhfgn09EZclJ7Z5eQlRZn+TZKh7M6DgcWRpaop55x54yDcy0JpaDSsQzmHtDll5mSiy 5YRb1fQkFJvNaEOGHPXvfdT4NwOugy18BCKgIoWMZ5QcZzeC8IufBFtAyho7BByn1Lig 7fwhwRG6DVmhkorsERANedETuPpcOhs57cRKOrXF8ktlAPATCDJjCC07dBd+qb7bVDS3 C3SeYfXWM3wWYsDQhwfM55LxteXTzEsIalQ692+97V4Tnu3Vglt0FoKyevF86/o7pCQf RLsg==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;CA+CBx2Ms9E=YmxDX1nHizET6uNwqDYRoEu_tiQagMRfPjkWkQQ@mail.gmail.com&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1XB0Er-0004TW-Fm@subversion.gna.org&gt; &lt;<a href="msg00045.html">CAED9pY93FRAWnb4BVkDEWOYDpWi8siYkEXvNP6WufoDu3hyTLg@mail.gmail.com</a>&gt; &lt;<a href="msg00047.html">CAED9pY9n9vpmc18E9cGYOQigS_krbm_NdtiicKXVahfvNFPcew@mail.gmail.com</a>&gt; &lt;<a href="msg00051.html">CAED9pY8wFbY5E0BH5-hT-FcPX_Ez6VQ2OEkT4kJiGYo5hh2V_Q@mail.gmail.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Troels Emtekær Linnet</strong> on July 29, 2014 - 09:56:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Edward.

I have already implemented this, and have it in my git branch.

I will soon submit it.

I am currently not adding strings &quot;Molecule&quot;, &quot;residue&quot;, &quot;spin&quot;, as I
think this is superfluous.

Best
Troels

2014-07-29 9:39 GMT+02:00 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Troels,

For this, I was thinking of adding a simple function to the
pipe_control.mol_res_spin module in the trunk called format_info().
This would have the arguments:

def format_info(mol_name=None, res_num=None, res_name=None,
spin_num=None, spin_name=None):

Let's say that:

  mol_name = 'Ubi'
  res_name = 'Ala'
  res_num = '10'
  spin_num = None
  spin_name = 'N'

Then the returned string could be:

  string = &quot;Molecule Ubi, residue Ala 10, spin N&quot;

Each part is only added if it is not None.  This string could then be
used in the title of your grace plots here:

  &quot;Relaxation dispersion plot for:    %s&quot; % string

To end up with:

  &quot;Relaxation dispersion plot for:    Molecule Ubi, residue Ala 10, spin N&quot;

This will then work for all systems and you won't be restricting these
plot titles to only protein and only backbone data.  Do you have ideas
for this?

Cheers,

Edward



On 28 July 2014 12:44, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Another way to think of this is to consider an imaginary system consisting 
of:

- A DNA molecule of 10 bases, where 15N and 13C data has been
collected for all bases, and 13C data collected for the ribose.
- A promoter protein, which is a dimer, attached to the DNA.  Here you
have collected backbone 15N data and sidechain methyl 13C data.
- A drug binding between the two proteins.  Here you have collected
natural abundance 13C dispersion data.

In relax you can currently analyse this all together.  You can cluster
spins in the drug with spins in the protein (and also the DNA if you
wish).  The infrastructure already exists for this in the dispersion
analysis.  If you keep such 'exotic' systems in mind while designing,
as well as keeping in mind that all parts will be independent of R1rho
vs. CPMG, then the resultant code will be just as flexible as the rest
of the dispersion analysis.

Cheers,

Edward

On 28 July 2014 12:17, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Troels,

I have a problem with this title as it is far too protein-centric.  I
know you are using the residue name here because the spin ID does not
contain that information.  But you need to consider that this analysis
will be applied to different systems, for example things that might
look like this ensemble:
<a  rel="nofollow" href="http://www.nmr-relax.com/manual/phthalic_acid_ens_600x600.png">http://www.nmr-relax.com/manual/phthalic_acid_ens_600x600.png</a>.  In
these cases the residue name will be None.  In other cases the residue
number will be None but a residue name will exist and will be in the
spin ID string.

Therefore I would suggest creating a special function in
pipe_control.mol_res_spin that will create a nicely formatted string
of the molecule name, residue name and number, and spin name and
number.  This would need to be flexible in that any of these 5
elements can be None and hence should not be included.  You pass in
the mol_name, res_name, res_num, spin.name, and spin.num values and it
returns a formatted string.  One needs to always keep in mind that all
analyses in relax can be applied to proteins, RNA/DNA,
polysaccharides, and small organic molecules.  Flexibility is one of
relax's strong points.

Cheers,

Edward





On 26 July 2014 13:34,  &lt;tlinnet@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Author: tlinnet
Date: Sat Jul 26 13:34:09 2014
New Revision: 24772

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=24772&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=24772&amp;view=rev</a>
Log:
Added the spin specific residue name and spin_id to the title of the 
dispersion plots.

This is handy, since it is often of interest to have this information at 
hand, when looking through many graphs.

sr #3124(<a  rel="nofollow" href="https://gna.org/support/?3124">https://gna.org/support/?3124</a>): Grace graphs production for 
R1rho analysis with R2_eff as function of Omega_eff.
sr #3138(<a  rel="nofollow" href="https://gna.org/support/?3138">https://gna.org/support/?3138</a>): Interpolating theta through 
spin-lock offset [Omega], rather than spin-lock field strength [w1].

Modified:
    branches/r1rho_plotting/specific_analyses/relax_disp/data.py

Modified: branches/r1rho_plotting/specific_analyses/relax_disp/data.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/r1rho_plotting/specific_analyses/relax_disp/data.py?rev=24772&amp;r1=24771&amp;r2=24772&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/r1rho_plotting/specific_analyses/relax_disp/data.py?rev=24772&amp;r1=24771&amp;r2=24772&amp;view=diff</a>
==============================================================================
--- branches/r1rho_plotting/specific_analyses/relax_disp/data.py        
(original)
+++ branches/r1rho_plotting/specific_analyses/relax_disp/data.py        
Sat Jul 26 13:34:09 2014
@@ -1607,7 +1607,7 @@

     # Loop over each spin. Initialise spin counter.
     si = 0
-    for spin, spin_id in spin_loop(return_id=True, skip_desel=True):
+    for spin, mol_name, res_num, res_name, spin_id in 
spin_loop(full_info=True, return_id=True, skip_desel=True):
         # Skip protons for MMQ data.
         if spin.model in MODEL_LIST_MMQ and spin.isotope == '1H':
             continue
@@ -1681,7 +1681,7 @@
                             data[i][j][k][l] = 0.0

         # Write the header.
-        title = &quot;Relaxation dispersion plot&quot;
+        title = &quot;Relaxation dispersion plot for:    %s %s&quot;%(res_name, 
spin_id)
         graph_num = len(data)
         sets = []
         legend = []
@@ -1725,7 +1725,7 @@

     # Loop over each spin. Initialise spin counter.
     si = 0
-    for spin, spin_id in spin_loop(return_id=True, skip_desel=True):
+    for spin, mol_name, res_num, res_name, spin_id in 
spin_loop(full_info=True, return_id=True, skip_desel=True):
         # Skip protons for MMQ data.
         if spin.model in MODEL_LIST_MMQ and spin.isotope == '1H':
             continue
@@ -1808,7 +1808,7 @@
                             data[i][j][k][l] = 0.0

         # Write the header.
-        title = &quot;Relaxation dispersion plot&quot;
+        title = &quot;Relaxation dispersion plot for:    %s %s&quot;%(res_name, 
spin_id)
         subtitle = &quot;Interpolated through Spin-lock field strength 
\\xw\\B\\s1\\N&quot;
         graph_num = len(data)
         sets = []


_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-commits mailing list
relax-commits@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-commits">https://mail.gna.org/listinfo/relax-commits</a>
</pre></blockquote></blockquote></blockquote><pre style="margin: 0em;">

_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00053" href="msg00053.html">Re: r24772 - /branches/r1rho_plotting/specific_analyses/relax_disp/data.py</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00045" href="msg00045.html">Re: r24772 - /branches/r1rho_plotting/specific_analyses/relax_disp/data.py</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00047" href="msg00047.html">Re: r24772 - /branches/r1rho_plotting/specific_analyses/relax_disp/data.py</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00051" href="msg00051.html">Re: r24772 - /branches/r1rho_plotting/specific_analyses/relax_disp/data.py</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Jul 29 10:20:18 2014</div>  
</body>
</html>
