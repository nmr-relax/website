<!-- MHonArc v2.6.16 -->
<!--X-Subject: A new framework for the system/functional tests (and improved unit	tests). -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 08 Jan 2008 09:30:41 +0100 -->
<!--X-Message-Id: 7f080ed10801080030l21c7b34dxda648d865f062bbc@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>A new framework for the system/functional tests (and improved unit	tests). -- January 08, 2008 - 09:30</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />A new framework for the system/functional tests (and improved unit	tests).</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00002" class="tabs">Index by Date</a> | <a href="threads.html#00002" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00001.html">Date Prev</a>] [<a href="msg00003.html">Date Next</a>] [<a href="msg00001.html">Thread Prev</a>] [<a href="msg00003.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Tue, 8 Jan 2008 09:30:33 +0100</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00002.html">7f080ed10801080030l21c7b34dxda648d865f062bbc@mail.gmail.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on January 08, 2008 - 09:30:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Dear all,

Note that in the 1.3 line I have made some significant changes to how
the system / functional tests are implemented.  There are three major
changes which will significantly simplify the writting of these tests.

1.  The first change is that I have written a Python class called a
test runner (RelaxTestRunner).  This inherits from the normal Python
unittest TextTestRunner class.  The important difference though is
that STDOUT is being caught!  This means that the hundreds of lines of
useless relax print outs when running the unit tests are now gone.
Significantly this framework, when applied to the system tests, will
allow the normal print out messages to be suppressed.  When an error
or failure of the test occurs, the print out for that test is then
prepended to the print out of the failure at the end of the tests.  If
no error occurs, nothing is printed.

2.  The system / functional tests have been migrated to the unittest
framework.  This will make implementation of the tests so much simpler
than the old setup.  You write a class which inherits from TestCase,
write the setUp() and tearDown() methods if you wish, and write the
tests as methods beginning with 'def test_'.  See
<a  rel="nofollow" href="http://docs.python.org/lib/testcase-objects.html">http://docs.python.org/lib/testcase-objects.html</a> for implementation
details.  The only complication is that if you add a new class with
its own tests, this class will need to be registered in the file
'test_suite/system_tests/__init__.py.  The reason for this is because
Gary's powerful unit_test_runner.py code is not yet being used by the
system tests.  I had a few problems making this fly.

3.  Scripts!  A system / functional test is supposed to mimic how
relax is operated.  It should be a mini version (i.e. less or
truncated data) of a normal script you would run.  So now you can just
write a script in 'test_suite/system_tests/scripts', place the
necessary data in 'test_suite/system_tests/data', and then write a
test which runs the script and then checks that the appropriate result
has been achieved.  I will soon be migrating most of the tests to use
scripts, as the current tests are essentially scripts written in an
ugly way.  An example, in the 1.3 line, to see how this is done is the
test_create_m4() method of the test_suite/system_tests/model_free.py
file.

Regards,

Edward


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Jan 08 20:24:09 2008</div>  
</body>
</html>
