<!-- MHonArc v2.6.16 -->
<!--X-Subject: r9742 &#45; /branches/bmrb/data/exp_info.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Sun, 11 Oct 2009 22:50:15 +0200 -->
<!--X-Message-Id: E1Mx5Mt&#45;0001wu&#45;1v@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r9742 - /branches/bmrb/data/exp_info.py -- October 11, 2009 - 22:50</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r9742 - /branches/bmrb/data/exp_info.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00178" class="tabs">Index by Date</a> | <a href="threads.html#00178" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00177.html">Date Prev</a>] [<a href="msg00179.html">Date Next</a>] [<a href="msg00177.html">Thread Prev</a>] [<a href="msg00179.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Sun, 11 Oct 2009 20:50:14 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00178.html">E1Mx5Mt-0001wu-1v@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on October 11, 2009 - 22:50:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Sun Oct 11 22:50:14 2009
New Revision: 9742

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=9742&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=9742&amp;view=rev</a>
Log:
Created the add_citation() method for adding citations to the experimental 
info container.


Modified:
    branches/bmrb/data/exp_info.py

Modified: branches/bmrb/data/exp_info.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/bmrb/data/exp_info.py?rev=9742&amp;r1=9741&amp;r2=9742&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/bmrb/data/exp_info.py?rev=9742&amp;r1=9741&amp;r2=9742&amp;view=diff</a>
==============================================================================
--- branches/bmrb/data/exp_info.py (original)
+++ branches/bmrb/data/exp_info.py Sun Oct 11 22:50:14 2009
@@ -34,13 +34,86 @@
         &quot;&quot;&quot;Initialise the data container.&quot;&quot;&quot;
 
         # The name of the container.
-        self.element_name = 'exp_info'
+        self.element_name = &quot;exp_info&quot;
 
         # The description of the container.
-        self.element_desc = 'Experimental information'
+        self.element_desc = &quot;Experimental information&quot;
 
         # Blacklisted objects.
-        self.blacklist = ['software']
+        self.blacklist = [&quot;software&quot;]
+
+
+    def add_citation(self, authors=None, doi=None, pubmed_id=None, 
full_citation=None, title=None, status=None, type=None, journal_abbrev=None, 
journal_full=None, volume=None, issue=None, page_first=None, page_last=None, 
year=None):
+        &quot;&quot;&quot;Store a citation.
+
+        @keyword authors:           The list of authors.  Each author 
element is a list of four elements: the first name, last name, first initial, 
and middle initials.
+        @type authors:              list of lists of str
+        @keyword doi:               The DOI number, e.g. &quot;10.1000/182&quot;.
+        @type doi:                  None or str
+        @keyword pubmed_id:         The identification code assigned to the 
publication by PubMed.
+        @type pubmed_id:            None or int
+        @keyword full_citation:     A full citation in a format similar to 
that used in a journal article by either cutting and pasting from another 
document or by typing. Please include author names, title, journal, page 
numbers, and year or equivalent information for the type of publication given.
+        @type full_citation:        str
+        @keyword title:             The title of the publica tion.
+        @type title:                str
+        @keyword status:            The publication status.  Can be one of 
in &quot;preparation&quot;, &quot;in press&quot;, &quot;published&quot;, &quot;retracted&quot;, or &quot;submitted&quot;.
+        @type status:               str
+        @keyword type:              The publication type.  Can be one of 
&quot;abstract&quot;, &quot;BMRB only&quot;, &quot;book&quot;, &quot;book chapter&quot;, &quot;internet&quot;, &quot;journal&quot;, 
&quot;personal communication&quot;, or &quot;thesis&quot;.
+        @type type:                 str
+        @keyword journal_abbrev:    A standard journal abbreviation as 
defined by the Chemical Abstract Services for the journal where the data are 
or will be published.  If the data in the deposition are related to a J. 
Biomol. NMR paper, the value must be 'J. Biomol. NMR' to alert the BMRB 
annotators so that the deposition is properly processed.  If the depositor 
truly does not know the journal, a value of 'not known' or 'na' is acceptable.
+        @type journal_abbrev:       str
+        @keyword journal_full:      The full journal name.
+        @type journal_full:         str
+        @keyword volume:            The volume number.
+        @type volume:               int
+        @keyword issue:             The issue number.
+        @type issue:                int
+        @keyword page_first:        The first page number.
+        @type page_first:           int
+        @keyword page_last:         The last page number.
+        @type page_last:            int
+        @keyword year:              The publication year.
+        @type year:                 int
+        &quot;&quot;&quot;
+
+        # Initialise the list container if needed.
+        if not hasattr(self, &quot;citations&quot;):
+            # The list.
+            self.citations = ContainerList()
+
+            # The name of the container.
+            self.citations.container_name = &quot;citation_list&quot;
+
+            # The description of the container.
+            self.citations.container_desc = &quot;List of citations&quot;
+
+        # Init the container.
+        cite = Element()
+
+        # The name of the container.
+        cite.element_name = &quot;citation&quot;
+
+        # The description of the container.
+        cite.element_desc = &quot;Literature citation&quot;
+
+        # Set the attributes.
+        cite.authors = authors
+        cite.doi = doi
+        cite.pubmed_id = pubmed_id
+        cite.full_citation = full_citation
+        cite.title = title
+        cite.status = status
+        cite.type = type
+        cite.journal_abbrev = journal_abbrev
+        cite.journal_full = journal_full
+        cite.volume = volume
+        cite.issue = issue
+        cite.page_first = page_first
+        cite.page_last = page_last
+        cite.year = year
+
+        # Append the container.
+        self.citations.append(cite)
 
 
     def software_setup(self, name, version=None, url=None, vendor_name=None, 
cite=None, tasks=None):
@@ -61,25 +134,11 @@
         &quot;&quot;&quot;
 
         # Initialise the container if needed.
-        if not hasattr(self, 'software'):
+        if not hasattr(self, &quot;software&quot;):
             self.software = SoftwareList()
 
         # Append a container.
         self.software.append(Software(name, version=version, url=url, 
vendor_name=vendor_name, cite=cite, tasks=tasks))
-
-
-
-class SoftwareList(ContainerList):
-    &quot;&quot;&quot;The software data container list.&quot;&quot;&quot;
-
-    def __init__(self):
-        &quot;&quot;&quot;Initialise the data container.&quot;&quot;&quot;
-
-        # The name of the container.
-        self.container_name = 'software_list'
-
-        # The description of the container.
-        self.container_desc = 'List of software programs used in the 
analysis'
 
 
 
@@ -104,10 +163,10 @@
         &quot;&quot;&quot;
 
         # The name of the container.
-        self.element_name = 'software'
+        self.element_name = &quot;software&quot;
 
         # The description of the container.
-        self.element_desc = 'Software program used in the analysis'
+        self.element_desc = &quot;Software program used in the analysis&quot;
 
         # Set the attributes.
         self.name = name
@@ -116,3 +175,17 @@
         self.vendor_name = vendor_name
         self.cite = cite
         self.tasks = tasks
+
+
+
+class SoftwareList(ContainerList):
+    &quot;&quot;&quot;The software data container list.&quot;&quot;&quot;
+
+    def __init__(self):
+        &quot;&quot;&quot;Initialise the data container.&quot;&quot;&quot;
+
+        # The name of the container.
+        self.container_name = &quot;software_list&quot;
+
+        # The description of the container.
+        self.container_desc = &quot;List of software programs used in the 
analysis&quot;



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sun Oct 11 23:00:02 2009</div>  
</body>
</html>
