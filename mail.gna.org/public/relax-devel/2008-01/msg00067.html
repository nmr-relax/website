<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: r4848 &#45; in /1.3/generic_fns: angles.py diffusion_tensor.py	grace.py monte_carlo.py structure.py -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneq.qnhiretarNtznvy.pbz> -->
<!--X-Date: Thu, 17 Jan 2008 23:30:52 +0100 -->
<!--X-Message-Id: 7f080ed10801171430i3c1757cbqb29a668588581a2a@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1JFcn8&#45;0000nZ&#45;8Q@subversion.gna.org -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: r4848 - in /1.3/generic_fns: angles.py diffusion_tensor.py	grace.py monte_carlo.py structure.py -- January 17, 2008 - 23:30</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: r4848 - in /1.3/generic_fns: angles.py diffusion_tensor.py	grace.py monte_carlo.py structure.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00067" class="tabs">Index by Date</a> | <a href="threads.html#00067" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00066.html">Date Prev</a>] [Date Next] [<a href="msg00066.html">Thread Prev</a>] [Thread Next]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Thu, 17 Jan 2008 23:30:39 +0100</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00067.html">7f080ed10801171430i3c1757cbqb29a668588581a2a@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1JFcn8-0000nZ-8Q@xxxxxxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on January 17, 2008 - 23:30:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Thank you for making all these Numeric to numpy changes Seb.  This
should helping to speed up the maturation of the 1.3 line.

Cheers,

Edward



On Jan 17, 2008 11:00 PM,  &lt;sebastien.morin.1@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Author: semor
Date: Thu Jan 17 23:00:51 2008
New Revision: 4848

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=4848&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=4848&amp;view=rev</a>
Log:
Converted generic_fns modules from Numeric to numpy.

As point in a post by Edward d'Auvergne (minfx-devel mailing list, see 
below), the select_sim array
(which calls 'ones()') was specified as a integer array.
<a  rel="nofollow" href="https://mail.gna.org/public/minfx-commits/2008-01/msg00004.html">https://mail.gna.org/public/minfx-commits/2008-01/msg00004.html</a> (Message-id:
&lt;E1JF9Gs-000081-9c@xxxxxxxxxxxxxxxxxx&gt;)


Modified:
    1.3/generic_fns/angles.py
    1.3/generic_fns/diffusion_tensor.py
    1.3/generic_fns/grace.py
    1.3/generic_fns/monte_carlo.py
    1.3/generic_fns/structure.py

Modified: 1.3/generic_fns/angles.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/1.3/generic_fns/angles.py?rev=4848&amp;r1=4847&amp;r2=4848&amp;view=diff">http://svn.gna.org/viewcvs/relax/1.3/generic_fns/angles.py?rev=4848&amp;r1=4847&amp;r2=4848&amp;view=diff</a>
==============================================================================
--- 1.3/generic_fns/angles.py (original)
+++ 1.3/generic_fns/angles.py Thu Jan 17 23:00:51 2008
@@ -22,7 +22,7 @@

 # Python module imports.
 from math import acos, sin
-from Numeric import dot
+from numpy import dot

 # relax module imports.
 from data import Data as relax_data_store

Modified: 1.3/generic_fns/diffusion_tensor.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/1.3/generic_fns/diffusion_tensor.py?rev=4848&amp;r1=4847&amp;r2=4848&amp;view=diff">http://svn.gna.org/viewcvs/relax/1.3/generic_fns/diffusion_tensor.py?rev=4848&amp;r1=4847&amp;r2=4848&amp;view=diff</a>
==============================================================================
--- 1.3/generic_fns/diffusion_tensor.py (original)
+++ 1.3/generic_fns/diffusion_tensor.py Thu Jan 17 23:00:51 2008
@@ -1538,7 +1538,7 @@
     # Spheroid.
     if cdp.diff_tensor.type == 'spheroid':
         # Initialise.
-        Dpar = zeros(3, Float64)
+        Dpar = zeros(3, float64)

         # Trig.
         sin_theta = sin(cdp.diff_tensor.theta)
@@ -1557,9 +1557,9 @@
     # Ellipsoid.
     if cdp.diff_tensor.type == 'ellipsoid':
         # Initialise.
-        Dx = zeros(3, Float64)
-        Dy = zeros(3, Float64)
-        Dz = zeros(3, Float64)
+        Dx = zeros(3, float64)
+        Dy = zeros(3, float64)
+        Dz = zeros(3, float64)

         # Trig.
         sin_alpha = sin(cdp.diff_tensor.alpha)

Modified: 1.3/generic_fns/grace.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/1.3/generic_fns/grace.py?rev=4848&amp;r1=4847&amp;r2=4848&amp;view=diff">http://svn.gna.org/viewcvs/relax/1.3/generic_fns/grace.py?rev=4848&amp;r1=4847&amp;r2=4848&amp;view=diff</a>
==============================================================================
--- 1.3/generic_fns/grace.py (original)
+++ 1.3/generic_fns/grace.py Thu Jan 17 23:00:51 2008
@@ -21,7 +21,7 @@
 
###############################################################################

 # Python module imports.
-from Numeric import array
+from numpy import array
 from os import system
 from re import match


Modified: 1.3/generic_fns/monte_carlo.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/1.3/generic_fns/monte_carlo.py?rev=4848&amp;r1=4847&amp;r2=4848&amp;view=diff">http://svn.gna.org/viewcvs/relax/1.3/generic_fns/monte_carlo.py?rev=4848&amp;r1=4847&amp;r2=4848&amp;view=diff</a>
==============================================================================
--- 1.3/generic_fns/monte_carlo.py (original)
+++ 1.3/generic_fns/monte_carlo.py Thu Jan 17 23:00:51 2008
@@ -23,7 +23,7 @@
 # Python module imports.
 from copy import deepcopy
 from math import sqrt
-from Numeric import ones
+from numpy import ones
 from random import gauss

 # relax module imports.
@@ -331,7 +331,7 @@

         # Create the selected simulation array with all simulations 
selected.
         if all_select_sim == None:
-            select_sim = ones(number)
+            select_sim = ones(number, int)

         # Loop over the instances.
         for instance in xrange(num_instances):
@@ -353,7 +353,7 @@
         @params all_select_sim: The selection status of the Monte Carlo 
simulations.  The first
             dimension of this matrix corresponds to the simulation and the 
second corresponds to the
             instance.
-        @type all_select_sim:   Numeric matrix (int)
+        @type all_select_sim:   numpy matrix (int)
         &quot;&quot;&quot;

         # Arguments.

Modified: 1.3/generic_fns/structure.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/1.3/generic_fns/structure.py?rev=4848&amp;r1=4847&amp;r2=4848&amp;view=diff">http://svn.gna.org/viewcvs/relax/1.3/generic_fns/structure.py?rev=4848&amp;r1=4847&amp;r2=4848&amp;view=diff</a>
==============================================================================
--- 1.3/generic_fns/structure.py (original)
+++ 1.3/generic_fns/structure.py Thu Jan 17 23:00:51 2008
@@ -22,7 +22,7 @@

 # Python module imports.
 from math import sqrt, cos, pi, sin
-from Numeric import Float64, arccos, dot, zeros
+from numpy import arccos, dot, float64, zeros
 from os import F_OK, access
 from re import compile, match
 import Scientific.IO.PDB
@@ -201,7 +201,7 @@
         print &quot;Calculating the centre of mass.&quot;

         # Initialise the centre of mass.
-        R = zeros(3, Float64)
+        R = zeros(3, float64)

         # Initialise the total mass.
         M = 0.0
@@ -635,7 +635,7 @@
         @param res_num:     The residue number.
         @type res_num:      int
         @param R:           The centre of mass.
-        @type R:            Numeric array (Float64)
+        @type R:            numpy array (float64)
         @param i:           The Monte Carlo simulation index.
         @type i:            int
         @return:            None
@@ -725,7 +725,7 @@
         @param res_num:     The residue number.
         @type res_num:      int
         @param R:           The centre of mass.
-        @type R:            Numeric array (Float64)
+        @type R:            numpy array (float64)
         @param i:           The Monte Carlo simulation index.
         @type i:            int
         @return:            None
@@ -1075,13 +1075,13 @@
             raise RelaxError, &quot;The increment value of &quot; + `inc` + &quot; must 
be an even number.&quot;

         # Generate the increment values of u.
-        u = zeros(inc, Float64)
+        u = zeros(inc, float64)
         val = 1.0 / float(inc)
         for i in xrange(inc):
             u[i] = float(i) * val

         # Generate the increment values of v.
-        v = zeros(inc/2+2, Float64)
+        v = zeros(inc/2+2, float64)
         val = 1.0 / float(inc/2)
         for i in xrange(1, inc/2+1):
             v[i] = float(i-1) * val + val/2.0
@@ -1584,7 +1584,7 @@

         # Initialise.
         vector_array = []
-        ave_vector = zeros(3, Float64)
+        ave_vector = zeros(3, float64)

         # Number of structures.
         num_str = len(relax_data_store.pdb[self.run].structures)


_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-commits mailing list
relax-commits@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-commits">https://mail.gna.org/listinfo/relax-commits</a>

</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Jan 17 23:40:59 2008</div>  
</body>
</html>
