<!-- MHonArc v2.6.16 -->
<!--X-Subject: The best way to handle a cluster analysis -->
<!--X-From-R13: Febryf Szgrxæe Zvaarg <gyvaargNtznvy.pbz> -->
<!--X-Date: Tue, 08 Oct 2013 14:23:00 +0200 -->
<!--X-Message-Id: CA+CBx2PNSseF8PBAnkXQo47GEZgYzF34p=nS4xwcsZsgGbdnog@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>The best way to handle a cluster analysis -- October 08, 2013 - 14:23</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />The best way to handle a cluster analysis</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00008" class="tabs">Index by Date</a> | <a href="threads.html#00008" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00007.html">Date Prev</a>] [<a href="msg00009.html">Date Next</a>] [<a href="msg00003.html">Thread Prev</a>] [<a href="msg00009.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 8 Oct 2013 14:22:07 +0200</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:from:date:message-id:subject:to:content-type	:content-transfer-encoding;	bh=z3pdNs+lXwnmXmWahDyBJrPMcLDuaVNPEP+yAqhWgTo=;	b=Pbc5qniRqpQYv2zubrWAlDrEs7EFJ9It2xW6l95olqOf1+DY6XAwi95IMYB7yCLjeF	X3HxLCngR7lcICQv2EHlZuHBMRi9H+Prx8/58tvZ/OXv469g2L/kB6zm12U2f7jo/SMz	QoFtpiOhUO0kYVOpbJM1YtfqH6tyRuYAyUR3BCujXm2LYjxVqjSw8tM/t89y9D89JOS+	fwR+fLfrvjp4PCBPzg1IBIfkkUUfjMPgWFRV9Bwx+XpbfCDEVYXUcpx/GeR3Oad0XgB1	Ky84oyaQbGwi0okaVbfXuHYbIplZaiolxgVpl8lF+Tx90lmr8Htwjmx4ak9SzHwx9SZw	syQg==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00008.html">CA+CBx2PNSseF8PBAnkXQo47GEZgYzF34p=nS4xwcsZsgGbdnog@mail.gmail.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Troels Emtekær Linnet</strong> on October 08, 2013 - 14:23:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Edward.

I would like to hear, if you could give some hints how you would
handle a clustering analysis situation the best way.

It is related to this entry, which I am modifying.
<a  rel="nofollow" href="http://wiki.nmr-relax.com/Tutorial_for_Relaxation_dispersion_analysis_cpmg_fixed_time_recorded_on_varian_as_fid_interleaved#Execute_a_clustering_analysis">http://wiki.nmr-relax.com/Tutorial_for_Relaxation_dispersion_analysis_cpmg_fixed_time_recorded_on_varian_as_fid_interleaved#Execute_a_clustering_analysis</a>

I would like to do the clustering analysis for the model: TSMFK01

When I do the clustering analysis, I am pointing to a previous result 
directory.
I am clustering those residues, which is not the model &quot;No Rex&quot;.

relax will read the file TSMFK01/kAB.out file with the previous results.
I will take the averaged kAB values for the residues specified in the cluster.

-------------
# Parameter description:  The exchange rate from state A to state B.
#
# mol_name    res_num    res_name    spin_num    spin_name    value
               error
None          3          A           1           N
1060772.86091342    None
None          4          E           2           N
3.20195659408987    None
None          5          F           3           N
2.15902319384803    None
None          6          D           4           N
2.7190458578948    None
None          7          K           5           N
2.37325031348072    None
None          8          A           6           N
828438.809437978    None
None          9          A           7           N
2.93391757645135    None
...
--------------

The problem here is, that it seems that the fitting is going &quot;crazy&quot;
for some residues.
And the averaged starting value will be:
Averaged k_AB value: 83471.18......

The expected value would be somewhere: kAB = 2-10

What would be the best solution for this problem?
1) Modify the source code for the TSMFK01 model, so results are within
expected range.
2) Manually modify the TSMFK01/kAB.out and write k_AB=5
3) Skipping the pointing to a previous run directory, loop over the
spins and setting kAB=5 before doing a minimization?


-----------------
Output from an auto-analysis
-------------------------

-----------------------
- The 'TSMFK01' model -
-----------------------
relax&gt; pipe.copy(pipe_from='base pipe', pipe_to='TSMFK01',
bundle_to='relax_disp')
relax&gt; pipe.switch(pipe_name='TSMFK01')
relax&gt; relax_disp.select_model(model='TSMFK01')
The Tollinger et al. (2001) 2-site very-slow exchange model, range of
microsecond to second time scale.

relax&gt; value.copy(pipe_from='R2eff', pipe_to='TSMFK01', param='r2eff')
relax&gt; pipe.create(pipe_name='pre', pipe_type='relax_disp', bundle=None)

relax&gt; results.read(file='results',
dir='/net/tomat/home/tlinnet/kte/acbp/acbp_cpmg_disp_04MGuHCl_40C_041223_RELAX.fid/relax_reprocess/model_sel_analyt/TSMFK01')
Opening the file
'/net/tomat/home/tlinnet/kte/acbp/acbp_cpmg_disp_04MGuHCl_40C_041223_RELAX.fid/relax_reprocess/model_sel_analyt/TSMFK01/results.bz2'
for reading.

relax&gt; relax_disp.parameter_copy(pipe_from='pre', pipe_to='TSMFK01')
Copying parameters for the spin block [':3@N', ':4@N', ':5@N', ':6@N',
':7@N', ':9@N', ':10@N', ':11@N', ':12@N', ':13@N', ':14@N', ':15@N',
':16@N', ':17@N', ':18@N', ':20@N', ':21@N', ':22@N', ':23@N',
':24@N', ':25@N', ':26@N', ':27@N', ':28@N', ':29@N', ':30@N',
':31@N', ':32@N', ':33@N', ':34@N', ':35@N', ':36@N', ':37@N',
':38@N', ':39@N', ':40@N', ':41@N', ':43@N', ':45@N', ':46@N',
':47@N', ':48@N', ':49@N', ':50@N', ':52@N', ':53@N', ':54@N',
':56@N', ':57@N', ':58@N', ':59@N', ':60@N', ':61@N', ':62@N',
':63@N', ':64@N', ':65@N', ':66@N', ':67@N', ':68@N', ':69@N',
':70@N', ':71@N', ':72@N', ':73@N', ':74@N', ':75@N', ':77@N',
':78@N', ':80@N', ':81@N', ':82@N', ':83@N', ':84@N', ':85@N',
':86@N']
--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Averaged k_AB value: 83471.182642624335131

relax&gt; pipe.switch(pipe_name='TSMFK01')
relax&gt; pipe.delete(pipe_name='pre')
relax&gt; minimise(min_algor='simplex', line_search=None,
hessian_mod=None, hessian_type=None, func_tol=1e-25, grad_tol=None,
max_iter=10000000, constraints=True, scaling=True, verbosity=1)




Best
Troels
















Troels Emtekær Linnet


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00009" href="msg00009.html">Re: The best way to handle a cluster analysis</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Oct 08 18:20:06 2013</div>  
</body>
</html>
