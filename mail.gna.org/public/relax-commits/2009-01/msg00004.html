<!-- MHonArc v2.6.16 -->
<!--X-Subject: r8229 &#45;	/branches/relax_disp/test_suite/system_tests/scripts/relax_disp.py -->
<!--X-From-R13: fronfgvra.zbeva.1Nhyniny.pn -->
<!--X-Date: Tue, 06 Jan 2009 20:07:16 +0100 -->
<!--X-Message-Id: E1LKHGm&#45;0001yO&#45;7Z@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r8229 -	/branches/relax_disp/test_suite/system_tests/scripts/relax_disp.py -- January 06, 2009 - 20:07</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r8229 -	/branches/relax_disp/test_suite/system_tests/scripts/relax_disp.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00004" class="tabs">Index by Date</a> | <a href="threads.html#00004" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00003.html">Date Prev</a>] [<a href="msg00005.html">Date Next</a>] [<a href="msg00003.html">Thread Prev</a>] [<a href="msg00005.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Tue, 06 Jan 2009 19:07:15 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00004.html">E1LKHGm-0001yO-7Z@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>sebastien . morin . 1</strong> on January 06, 2009 - 20:07:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: semor
Date: Tue Jan  6 20:07:10 2009
New Revision: 8229

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=8229&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=8229&amp;view=rev</a>
Log:
Added a directory and a script for relaxation dispersion curve fitting system 
tests.

The next step will be to find published data to use in the tests. We will 
need data for the three
cases of slow-, intermediate-, and fast-exchange...


Added:
    branches/relax_disp/test_suite/system_tests/scripts/relax_disp.py

Added: branches/relax_disp/test_suite/system_tests/scripts/relax_disp.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/test_suite/system_tests/scripts/relax_disp.py?rev=8229&amp;view=auto">http://svn.gna.org/viewcvs/relax/branches/relax_disp/test_suite/system_tests/scripts/relax_disp.py?rev=8229&amp;view=auto</a>
==============================================================================
--- branches/relax_disp/test_suite/system_tests/scripts/relax_disp.py (added)
+++ branches/relax_disp/test_suite/system_tests/scripts/relax_disp.py Tue Jan 
 6 20:07:10 2009
@@ -1,0 +1,96 @@
+# Script for relaxation curve fitting.
+
+import sys
+
+
+# Create the data pipe.
+pipe.create('rx', 'relax_disp')
+
+# The path to the data files.
+data_path = sys.path[-1] + '/test_suite/shared_data/relax_disp'
+
+## Load the sequence.
+#sequence.read('Ap4Aase.seq', dir=sys.path[-1] + '/test_suite/shared_data')
+#
+## Name the spins so they can be matched to the assignments.
+#spin.name(name='N')
+#
+## Spectrum names.
+#names = [
+#    'T2_ncyc1_ave',
+#    'T2_ncyc1b_ave',
+#    'T2_ncyc2_ave',
+#    'T2_ncyc4_ave',
+#    'T2_ncyc4b_ave',
+#    'T2_ncyc6_ave',
+#    'T2_ncyc9_ave',
+#    'T2_ncyc9b_ave',
+#    'T2_ncyc11_ave',
+#    'T2_ncyc11b_ave'
+#]
+#
+## Relaxation times (in seconds).
+#times = [
+#    0.0176,
+#    0.0176,
+#    0.0352,
+#    0.0704,
+#    0.0704,
+#    0.1056,
+#    0.1584,
+#    0.1584,
+#    0.1936,
+#    0.1936
+#]
+#
+## Loop over the spectra.
+#for i in xrange(len(names)):
+#    # Load the peak intensities.
+#    spectrum.read_intensities(file=names[i]+'.list', dir=data_path, 
spectrum_id=names[i], int_method='height')
+#
+#    # Set the relaxation times.
+#    relax_fit.relax_time(time=times[i], spectrum_id=names[i])
+#
+## Specify the duplicated spectra.
+#spectrum.replicated(spectrum_ids=['T2_ncyc1_ave', 'T2_ncyc1b_ave'])
+#spectrum.replicated(spectrum_ids=['T2_ncyc4_ave', 'T2_ncyc4b_ave'])
+#spectrum.replicated(spectrum_ids=['T2_ncyc9_ave', 'T2_ncyc9b_ave'])
+#spectrum.replicated(spectrum_ids=['T2_ncyc11_ave', 'T2_ncyc11b_ave'])
+#
+## Peak intensity error analysis.
+#spectrum.error_analysis()
+#
+## Deselect unresolved spins.
+#deselect.read(file='unresolved', dir=data_path)
+#
+## Set the relaxation curve type.
+#relax_fit.select_model('exp')
+#
+## Grid search.
+#grid_search(inc=11)
+#
+## Minimise.
+#minimise('simplex', constraints=False)
+#
+## Monte Carlo simulations.
+#monte_carlo.setup(number=10)
+#monte_carlo.create_data()
+#monte_carlo.initial_values()
+#minimise('simplex', constraints=False)
+#monte_carlo.error_analysis()
+#
+## Save the relaxation rates.
+#value.write(param='rx', file='devnull', force=True)
+#
+## Save the results.
+#results.write(file='devnull', force=True)
+#
+## Create Grace plots of the data.
+#grace.write(y_data_type='chi2', file='devnull', force=True)    # Minimised 
chi-squared value.
+#grace.write(y_data_type='i0', file='devnull', force=True)    # Initial peak 
intensity.
+#grace.write(y_data_type='rx', file='devnull', force=True)    # Relaxation 
rate.
+#grace.write(x_data_type='relax_times', y_data_type='int', file='devnull', 
force=True)    # Average peak intensities.
+#grace.write(x_data_type='relax_times', y_data_type='int', norm=True, 
file='devnull', force=True)    # Average peak intensities (normalised).
+#
+## Save the program state.
+#state.save('devnull', force=True)



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Jan 06 21:20:02 2009</div>  
</body>
</html>
