<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>4.2 The sample script</TITLE>
<META NAME="description" CONTENT="4.2 The sample script">
<META NAME="keywords" CONTENT="relax">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="relax.css">

<LINK REL="next" HREF="4_3_Initialisation_data_pip.html">
<LINK REL="previous" HREF="4_1_Introduction.html">
<LINK REL="up" HREF="4_Calculating_NOE.html">
<LINK REL="next" HREF="4_3_Initialisation_data_pip.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html2175"
  HREF="4_3_Initialisation_data_pip.html">
<IMG WIDTH="48" HEIGHT="48" TITLE="Next" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html2169"
  HREF="4_Calculating_NOE.html">
<IMG WIDTH="48" HEIGHT="48" TITLE="Up" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html2163"
  HREF="4_1_Introduction.html">
<IMG WIDTH="48" HEIGHT="48" TITLE="Previous" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html2171"
  HREF="Contents.html">
<IMG WIDTH="48" HEIGHT="48" TITLE="Contents" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html2173"
  HREF="Index.html">
<IMG WIDTH="48" HEIGHT="48" TITLE="Index" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html1"
  HREF="http://nmr-relax.com"><IMG
 ALIGN="BOTTOM" BORDER="0" SRC="http://nmr-relax.com/images/relax_logo_nav.png"
 ALT="relax_logo_nav.png"></A>
<BR>
<B> Next:</B> <A NAME="tex2html2176"
  HREF="4_3_Initialisation_data_pip.html">4.3 Initialisation of the</A>
<B> Up:</B> <A NAME="tex2html2170"
  HREF="4_Calculating_NOE.html">4. Calculating the NOE</A>
<B> Previous:</B> <A NAME="tex2html2164"
  HREF="4_1_Introduction.html">4.1 Introduction</A>
 &nbsp; <B>  <A NAME="tex2html2172"
  HREF="Contents.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html2174"
  HREF="Index.html">Index</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION00720000000000000000">
<SPAN CLASS="arabic">4</SPAN>.<SPAN CLASS="arabic">2</SPAN> The sample script</A>
</H1><SMALL CLASS="FOOTNOTESIZE"><SMALL CLASS="FOOTNOTESIZE"><SMALL CLASS="FOOTNOTESIZE"><SMALL CLASS="FOOTNOTESIZE"><SMALL CLASS="FOOTNOTESIZE"></SMALL></SMALL></SMALL></SMALL></SMALL>
<P>
<SMALL CLASS="FOOTNOTESIZE"><SMALL CLASS="FOOTNOTESIZE"><SMALL CLASS="FOOTNOTESIZE"><SMALL CLASS="FOOTNOTESIZE"><SMALL CLASS="FOOTNOTESIZE"><SMALL CLASS="FOOTNOTESIZE"></SMALL></SMALL></SMALL></SMALL></SMALL></SMALL><SMALL CLASS="FOOTNOTESIZE"><TT># Script for calculating NOEs. 
<BR> 
<BR># Create the data pipe. 
<BR>
pipe.create(`NOE', `noe') 
<BR> 
<BR># Load the sequence from a PDB file. 
<BR>
structure.read_pdb(name, `Ap4Aase_new_3.pdb') 
<BR>
structure.load_spins(spin_id=`@N')
 
<BR># Load the reference spectrum and saturated spectrum peak intensities. 
<BR>
noe.read(file=`ref.list', spectrum_type=`ref') 
<BR>
noe.read(file=`sat.list', spectrum_type=`sat') 
<BR> 
<BR># Set the errors. 
<BR>
noe.error(error=3600, spectrum_type=`ref') 
<BR>
noe.error(error=3000, spectrum_type=`sat') 
<BR> 
<BR># Individual residue errors. 
<BR>
noe.error(error=122000, spectrum_type=`ref', res_num=114) 
<BR>
noe.error(error=8500, spectrum_type=`sat', res_num=114) 
<BR> 
<BR># Deselect unresolved residues. 
<BR>
deselect.read(file=`unresolved') 
<BR> 
<BR># Calculate the NOEs. 
<BR>
calc() 
<BR> 
<BR># Save the NOEs. 
<BR>
value.write(param=`noe', file=`noe.out', force=True) 
<BR> 
<BR># Create grace files. 
<BR>
grace.write(y_data_type=`ref', file=`ref.agr', force=True) 
<BR>
grace.write(y_data_type=`sat', file=`sat.agr', force=True) 
<BR>
grace.write(y_data_type=`noe', file=`noe.agr', force=True) 
<BR> 
<BR># View the grace files. 
<BR>
grace.view(file=`ref.agr') 
<BR>
grace.view(file=`sat.agr') 
<BR>
grace.view(file=`noe.agr') 
<BR> 
<BR># Write the results. 
<BR>
results.write(file=`results', dir=None, force=True) 
<BR> 
<BR># Save the program state. 
<BR>
state.save(`save', force=True)</TT><SMALL CLASS="FOOTNOTESIZE"><SMALL CLASS="FOOTNOTESIZE"><SMALL CLASS="FOOTNOTESIZE"><SMALL CLASS="FOOTNOTESIZE"><SMALL CLASS="FOOTNOTESIZE"></SMALL></SMALL></SMALL></SMALL></SMALL></SMALL>
<P>
<SMALL CLASS="FOOTNOTESIZE"><SMALL CLASS="FOOTNOTESIZE"><SMALL CLASS="FOOTNOTESIZE"><SMALL CLASS="FOOTNOTESIZE"><SMALL CLASS="FOOTNOTESIZE"><SMALL CLASS="FOOTNOTESIZE"></SMALL></SMALL></SMALL></SMALL></SMALL></SMALL>
<BR><HR>
<ADDRESS>
Edward d'Auvergne
2011-02-18
</ADDRESS>
</BODY>
</HTML>
