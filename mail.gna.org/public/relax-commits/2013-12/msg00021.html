<!-- MHonArc v2.6.16 -->
<!--X-Subject: r21743 &#45; in /trunk/test_suite/system_tests: ./ scripts/relax_disp/ -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Tue, 03 Dec 2013 14:37:09 +0100 -->
<!--X-Message-Id: E1VnqA1&#45;0005h4&#45;O6@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r21743 - in /trunk/test_suite/system_tests: ./ scripts/relax_disp/ -- December 03, 2013 - 14:37</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r21743 - in /trunk/test_suite/system_tests: ./ scripts/relax_disp/</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00021" class="tabs">Index by Date</a> | <a href="threads.html#00021" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00020.html">Date Prev</a>] [<a href="msg00022.html">Date Next</a>] [<a href="msg00020.html">Thread Prev</a>] [<a href="msg00022.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Tue, 03 Dec 2013 13:37:09 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00021.html">E1VnqA1-0005h4-O6@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on December 03, 2013 - 14:37:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Tue Dec  3 14:37:09 2013
New Revision: 21743

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=21743&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=21743&amp;view=rev</a>
Log:
Renamed the Relax_disp.test_ns_mmq_3site_branched system test to 
Relax_disp.test_ns_mmq_3site.


Added:
    trunk/test_suite/system_tests/scripts/relax_disp/ns_mmq_3site.py
      - copied unchanged from r21737, 
trunk/test_suite/system_tests/scripts/relax_disp/ns_mmq_3site_branched.py
Removed:
    trunk/test_suite/system_tests/scripts/relax_disp/ns_mmq_3site_branched.py
Modified:
    trunk/test_suite/system_tests/relax_disp.py

Modified: trunk/test_suite/system_tests/relax_disp.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/test_suite/system_tests/relax_disp.py?rev=21743&amp;r1=21742&amp;r2=21743&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/test_suite/system_tests/relax_disp.py?rev=21743&amp;r1=21742&amp;r2=21743&amp;view=diff</a>
==============================================================================
--- trunk/test_suite/system_tests/relax_disp.py (original)
+++ trunk/test_suite/system_tests/relax_disp.py Tue Dec  3 14:37:09 2013
@@ -2420,11 +2420,11 @@
             spin_index += 1
 
 
-    def test_ns_mmq_3site_branched(self):
+    def test_ns_mmq_3site(self):
         &quot;&quot;&quot;Compare the 'NS MMQ 3-site (branched)' dispersion model to 
synthetic data from cpmg_fit.&quot;&quot;&quot;
 
         # Execute the script.
-        self.interpreter.run(script_file=status.install_path + 
sep+'test_suite'+sep+'system_tests'+sep+'scripts'+sep+'relax_disp'+sep+'ns_mmq_3site_branched.py')
+        self.interpreter.run(script_file=status.install_path + 
sep+'test_suite'+sep+'system_tests'+sep+'scripts'+sep+'relax_disp'+sep+'ns_mmq_3site.py')
 
         # Check the chi-squared value.
         self.assertAlmostEqual(cdp.mol[0].res[0].spin[0].chi2, 0.0, 5)

Removed: 
trunk/test_suite/system_tests/scripts/relax_disp/ns_mmq_3site_branched.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/test_suite/system_tests/scripts/relax_disp/ns_mmq_3site_branched.py?rev=21742&amp;view=auto">http://svn.gna.org/viewcvs/relax/trunk/test_suite/system_tests/scripts/relax_disp/ns_mmq_3site_branched.py?rev=21742&amp;view=auto</a>
==============================================================================
--- trunk/test_suite/system_tests/scripts/relax_disp/ns_mmq_3site_branched.py 
(original)
+++ trunk/test_suite/system_tests/scripts/relax_disp/ns_mmq_3site_branched.py 
(removed)
@@ -1,189 +1,0 @@
-&quot;&quot;&quot;Compare the synthetic cpmg_fit data to the relax solution.&quot;&quot;&quot;
-
-# Python module imports.
-from os import sep
-
-# relax module imports.
-from specific_analyses.relax_disp.disp_data import generate_r20_key
-from specific_analyses.relax_disp.variables import EXP_TYPE_CPMG_DQ, 
EXP_TYPE_CPMG_MQ, EXP_TYPE_CPMG_PROTON_MQ, EXP_TYPE_CPMG_PROTON_SQ, 
EXP_TYPE_CPMG_SQ, EXP_TYPE_CPMG_ZQ
-from status import Status; status = Status()
-
-
-# The path to the data files.
-DATA_PATH = status.install_path + 
sep+'test_suite'+sep+'shared_data'+sep+'dispersion'+sep+'ns_mmq_3site_branched'
-
-
-# Create a data pipe.
-pipe.create('R2eff', 'relax_disp')
-
-# Create the spin system.
-spin.create(res_name='X', res_num=1, spin_name='H')
-spin.create(res_name='X', res_num=1, spin_name='N')
-spin.element('H', spin_id='@H')
-spin.element('N', spin_id='@N')
-spin.isotope('1H', spin_id='@H')
-spin.isotope('15N', spin_id='@N')
-
-# Define the magnetic dipole-dipole relaxation interaction.
-interatom.define(spin_id1=':1@N', spin_id2=':1@H', direct_bond=True)
-
-# The spectral data - experiment ID, R2eff file name, experiment type, spin 
ID string, spectrometer frequency in Hertz, relaxation time.
-data = [
-    ['1H SQ', '1H_SQ_CPMG_400_MHz',   'HS_400.res',  
EXP_TYPE_CPMG_PROTON_SQ, ':1@H', 400e6,  0.03],
-    ['1H SQ', '1H_SQ_CPMG_600_MHz',   'HS_600.res',  
EXP_TYPE_CPMG_PROTON_SQ, ':1@H', 600e6,  0.03],
-    ['1H SQ', '1H_SQ_CPMG_800_MHz',   'HS_800.res',  
EXP_TYPE_CPMG_PROTON_SQ, ':1@H', 800e6,  0.03],
-    ['1H SQ', '1H_SQ_CPMG_1000_MHz',  'HS_1000.res', 
EXP_TYPE_CPMG_PROTON_SQ, ':1@H', 1000e6, 0.03],
-    ['SQ',    '15N_SQ_CPMG_400_MHz',  'NS_400.res',  EXP_TYPE_CPMG_SQ,       
 ':1@N', 400e6,  0.04],
-    ['SQ',    '15N_SQ_CPMG_600_MHz',  'NS_600.res',  EXP_TYPE_CPMG_SQ,       
 ':1@N', 600e6,  0.04],
-    ['SQ',    '15N_SQ_CPMG_800_MHz',  'NS_800.res',  EXP_TYPE_CPMG_SQ,       
 ':1@N', 800e6,  0.04],
-    ['SQ',    '15N_SQ_CPMG_1000_MHz', 'NS_1000.res', EXP_TYPE_CPMG_SQ,       
 ':1@N', 1000e6, 0.04],
-    ['ZQ',    '15N_ZQ_CPMG_400_MHz',  'ZQ_400.res',  EXP_TYPE_CPMG_ZQ,       
 ':1@N', 400e6,  0.03],
-    ['ZQ',    '15N_ZQ_CPMG_600_MHz',  'ZQ_600.res',  EXP_TYPE_CPMG_ZQ,       
 ':1@N', 600e6,  0.03],
-    ['ZQ',    '15N_ZQ_CPMG_800_MHz',  'ZQ_800.res',  EXP_TYPE_CPMG_ZQ,       
 ':1@N', 800e6,  0.03],
-    ['ZQ',    '15N_ZQ_CPMG_1000_MHz', 'ZQ_1000.res', EXP_TYPE_CPMG_ZQ,       
 ':1@N', 1000e6, 0.03],
-    ['DQ',    '15N_DQ_CPMG_400_MHz',  'DQ_400.res',  EXP_TYPE_CPMG_DQ,       
 ':1@N', 400e6,  0.03],
-    ['DQ',    '15N_DQ_CPMG_600_MHz',  'DQ_600.res',  EXP_TYPE_CPMG_DQ,       
 ':1@N', 600e6,  0.03],
-    ['DQ',    '15N_DQ_CPMG_800_MHz',  'DQ_800.res',  EXP_TYPE_CPMG_DQ,       
 ':1@N', 800e6,  0.03],
-    ['DQ',    '15N_DQ_CPMG_1000_MHz', 'DQ_1000.res', EXP_TYPE_CPMG_DQ,       
 ':1@N', 1000e6, 0.03],
-    ['1H MQ', '1H_MQ_CPMG_400_MHz',   'HM_400.res',  
EXP_TYPE_CPMG_PROTON_MQ, ':1@H', 400e6,  0.02],
-    ['1H MQ', '1H_MQ_CPMG_600_MHz',   'HM_600.res',  
EXP_TYPE_CPMG_PROTON_MQ, ':1@H', 600e6,  0.02],
-    ['1H MQ', '1H_MQ_CPMG_800_MHz',   'HM_800.res',  
EXP_TYPE_CPMG_PROTON_MQ, ':1@H', 800e6,  0.02],
-    ['1H MQ', '1H_MQ_CPMG_1000_MHz',  'HM_1000.res', 
EXP_TYPE_CPMG_PROTON_MQ, ':1@H', 1000e6, 0.02],
-    ['MQ',    '15N_MQ_CPMG_400_MHz',  'NM_400.res',  EXP_TYPE_CPMG_MQ,       
 ':1@N', 400e6,  0.02],
-    ['MQ',    '15N_MQ_CPMG_600_MHz',  'NM_600.res',  EXP_TYPE_CPMG_MQ,       
 ':1@N', 600e6,  0.02],
-    ['MQ',    '15N_MQ_CPMG_800_MHz',  'NM_800.res',  EXP_TYPE_CPMG_MQ,       
 ':1@N', 800e6,  0.02],
-    ['MQ',    '15N_MQ_CPMG_1000_MHz', 'NM_1000.res', EXP_TYPE_CPMG_MQ,       
 ':1@N', 1000e6, 0.02]
-]
-cpmg_frqs_1h_sq = []
-for i in range(80):
-    cpmg_frqs_1h_sq.append(100/3.0 * (i + 1))
-cpmg_frqs_sq = []
-for i in range(40):
-    cpmg_frqs_sq.append(25.0 * (i + 1))
-cpmg_frqs_dq = []
-for i in range(32):
-    cpmg_frqs_dq.append(100/3.0 * (i + 1))
-cpmg_frqs_zq = []
-for i in range(32):
-    cpmg_frqs_zq.append(100/3.0 * (i + 1))
-cpmg_frqs_1h_mq = []
-for i in range(50):
-    cpmg_frqs_1h_mq.append(50.0 * (i + 1))
-cpmg_frqs_mq = []
-for i in range(20):
-    cpmg_frqs_mq.append(50.0 * (i + 1))
-
-# Loop over the files, reading in the data.
-for data_type, id, file, exp_type, spin_id, H_frq, relax_time in data:
-    # Alias the CPMG frequencies.
-    if data_type == 'SQ':
-        cpmg_frqs = cpmg_frqs_sq
-    elif data_type == '1H SQ':
-        cpmg_frqs = cpmg_frqs_1h_sq
-    elif data_type == 'DQ':
-        cpmg_frqs = cpmg_frqs_dq
-    elif data_type == 'ZQ':
-        cpmg_frqs = cpmg_frqs_zq
-    elif data_type == '1H MQ':
-        cpmg_frqs = cpmg_frqs_1h_mq
-    elif data_type == 'MQ':
-        cpmg_frqs = cpmg_frqs_mq
-
-    # Loop over each CPMG frequency.
-    for cpmg_frq in cpmg_frqs:
-        # The id.
-        new_id = &quot;%s_%.3f&quot; % (id, cpmg_frq)
-
-        # Set the NMR field strength.
-        spectrometer.frequency(id=new_id, frq=H_frq)
-
-        # Set the relaxation dispersion experiment type.
-        relax_disp.exp_type(spectrum_id=new_id, exp_type=exp_type)
-
-        # Relaxation dispersion CPMG constant time delay T (in s).
-        relax_disp.relax_time(spectrum_id=new_id, time=relax_time)
-
-        # Set the CPMG frequency.
-        relax_disp.cpmg_frq(spectrum_id=new_id, cpmg_frq=cpmg_frq)
-
-    # Read the R2eff data.
-    relax_disp.r2eff_read_spin(id=id, file=file, dir=DATA_PATH, 
spin_id=spin_id, disp_point_col=7, data_col=10, error_col=9)
-
-# Change the model.
-relax_disp.select_model('NS MMQ 3-site')
-
-# The R20 keys.
-r20_1h_sq_400_key = generate_r20_key(exp_type=EXP_TYPE_CPMG_PROTON_SQ, 
frq=400e6)
-r20_1h_sq_600_key = generate_r20_key(exp_type=EXP_TYPE_CPMG_PROTON_SQ, 
frq=600e6)
-r20_1h_sq_800_key = generate_r20_key(exp_type=EXP_TYPE_CPMG_PROTON_SQ, 
frq=800e6)
-r20_1h_sq_1000_key = generate_r20_key(exp_type=EXP_TYPE_CPMG_PROTON_SQ, 
frq=1000e6)
-r20_sq_400_key = generate_r20_key(exp_type=EXP_TYPE_CPMG_SQ, frq=400e6)
-r20_sq_600_key = generate_r20_key(exp_type=EXP_TYPE_CPMG_SQ, frq=600e6)
-r20_sq_800_key = generate_r20_key(exp_type=EXP_TYPE_CPMG_SQ, frq=800e6)
-r20_sq_1000_key = generate_r20_key(exp_type=EXP_TYPE_CPMG_SQ, frq=1000e6)
-r20_zq_400_key = generate_r20_key(exp_type=EXP_TYPE_CPMG_ZQ, frq=400e6)
-r20_zq_600_key = generate_r20_key(exp_type=EXP_TYPE_CPMG_ZQ, frq=600e6)
-r20_zq_800_key = generate_r20_key(exp_type=EXP_TYPE_CPMG_ZQ, frq=800e6)
-r20_zq_1000_key = generate_r20_key(exp_type=EXP_TYPE_CPMG_ZQ, frq=1000e6)
-r20_dq_400_key = generate_r20_key(exp_type=EXP_TYPE_CPMG_DQ, frq=400e6)
-r20_dq_600_key = generate_r20_key(exp_type=EXP_TYPE_CPMG_DQ, frq=600e6)
-r20_dq_800_key = generate_r20_key(exp_type=EXP_TYPE_CPMG_DQ, frq=800e6)
-r20_dq_1000_key = generate_r20_key(exp_type=EXP_TYPE_CPMG_DQ, frq=1000e6)
-r20_1h_mq_400_key = generate_r20_key(exp_type=EXP_TYPE_CPMG_PROTON_MQ, 
frq=400e6)
-r20_1h_mq_600_key = generate_r20_key(exp_type=EXP_TYPE_CPMG_PROTON_MQ, 
frq=600e6)
-r20_1h_mq_800_key = generate_r20_key(exp_type=EXP_TYPE_CPMG_PROTON_MQ, 
frq=800e6)
-r20_1h_mq_1000_key = generate_r20_key(exp_type=EXP_TYPE_CPMG_PROTON_MQ, 
frq=1000e6)
-r20_mq_400_key = generate_r20_key(exp_type=EXP_TYPE_CPMG_MQ, frq=400e6)
-r20_mq_600_key = generate_r20_key(exp_type=EXP_TYPE_CPMG_MQ, frq=600e6)
-r20_mq_800_key = generate_r20_key(exp_type=EXP_TYPE_CPMG_MQ, frq=800e6)
-r20_mq_1000_key = generate_r20_key(exp_type=EXP_TYPE_CPMG_MQ, frq=1000e6)
-
-# Manually set the parameter values.
-spin_N = cdp.mol[0].res[0].spin[1]
-spin_N.r2 = {
-    r20_1h_sq_400_key:   6.5,
-    r20_1h_sq_600_key:   7.0,
-    r20_1h_sq_800_key:   5.5,
-    r20_1h_sq_1000_key:  5.0,
-    r20_sq_400_key:      8.0,
-    r20_sq_600_key:      9.0,
-    r20_sq_800_key:     10.5,
-    r20_sq_1000_key:    11.5,
-    r20_zq_400_key:      6.0,
-    r20_zq_600_key:      7.5,
-    r20_zq_800_key:      7.0,
-    r20_zq_1000_key:     6.5,   
-    r20_dq_400_key:      8.5,
-    r20_dq_600_key:     10.5,
-    r20_dq_800_key:     12.5,
-    r20_dq_1000_key:    14.5,
-    r20_1h_mq_400_key:   7.5,
-    r20_1h_mq_600_key:   8.5,
-    r20_1h_mq_800_key:  11.5,
-    r20_1h_mq_1000_key: 13.5,
-    r20_mq_400_key:      9.0,
-    r20_mq_600_key:     10.0,
-    r20_mq_800_key:     12.0,
-    r20_mq_1000_key:    13.0
-}
-spin_N.pA = 0.85
-spin_N.pB = 0.05
-spin_N.pC = 0.10
-spin_N.kAB = 500.0
-spin_N.kAC = 0.0
-spin_N.kBC = 2000.0
-spin_N.dw_AB = -3.0
-spin_N.dw_AC =  8.0
-spin_N.dw_BC = 11.0
-spin_N.dwH_AB =  0.5
-spin_N.dwH_AC = -1.5
-spin_N.dwH_BC = -2.0
-
-# Calculate.
-calc()
-
-# Plot the dispersion curves.
-relax_disp.plot_disp_curves(dir=ds.tmpdir, num_points=100, extend=0, 
force=True)
-
-# Save the results.
-state.save('state', dir=ds.tmpdir, compress_type=1, force=True)



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Dec 03 15:00:01 2013</div>  
</body>
</html>
