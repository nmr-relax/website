<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.1//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>spectrum.read_intensities</TITLE>
<META NAME="description" CONTENT="spectrum.read_intensities">
<META NAME="keywords" CONTENT="relax">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">

  <!--Google analytics JS-->
  <script type="text/javascript">
  
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-30096326-1']);
    _gaq.push(['_setDomainName', 'nmr-relax.com']);
    _gaq.push(['_trackPageview']);
  
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  
  </script>

<LINK REL="STYLESHEET" HREF="relax.css">

<LINK REL="next" HREF="spectrum_read_spins.html">
<LINK REL="previous" HREF="spectrum_integration_points.html">
<LINK REL="up" HREF="The_list_of_functions.html">
<LINK REL="next" HREF="spectrum_read_spins.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html20171"
  HREF="spectrum_read_spins.html">
<IMG WIDTH="48" HEIGHT="48" TITLE="Next" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html20165"
  HREF="The_list_of_functions.html">
<IMG WIDTH="48" HEIGHT="48" TITLE="Up" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html20159"
  HREF="spectrum_integration_points.html">
<IMG WIDTH="48" HEIGHT="48" TITLE="Previous" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html20167"
  HREF="Contents.html">
<IMG WIDTH="48" HEIGHT="48" TITLE="Contents" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html20169"
  HREF="Index.html">
<IMG WIDTH="48" HEIGHT="48" TITLE="Index" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html1"
  HREF="http://download.gna.org/relax/manual/relax.pdf"><IMG
 ALIGN="BOTTOM" BORDER="0" SRC="http://www.nmr-relax.com/images/pdf_icon_nav.png"
 ALT="pdf_icon_nav.png"></A><A NAME="tex2html2"
  HREF="http://www.nmr-relax.com"><IMG
 ALIGN="BOTTOM" BORDER="0" SRC="http://www.nmr-relax.com/images/relax_logo_nav.png"
 ALT="relax_logo_nav.png"></A>
<BR>
<B> Next:</B> <A NAME="tex2html20172"
  HREF="spectrum_read_spins.html">spectrum.read_spins</A>
<B> Up:</B> <A NAME="tex2html20166"
  HREF="The_list_of_functions.html">The list of functions</A>
<B> Previous:</B> <A NAME="tex2html20160"
  HREF="spectrum_integration_points.html">spectrum.integration_points</A>
 &nbsp; <B>  <A NAME="tex2html20168"
  HREF="Contents.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html20170"
  HREF="Index.html">Index</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL CLASS="ChildLinks">
<LI><A NAME="tex2html20173"
  HREF="spectrum_read_intensities.html#SECTION0812212100000000000000">Synopsis</A>
<LI><A NAME="tex2html20174"
  HREF="spectrum_read_intensities.html#SECTION0812212200000000000000">Defaults</A>
<LI><A NAME="tex2html20175"
  HREF="spectrum_read_intensities.html#SECTION0812212300000000000000">Keyword arguments</A>
<LI><A NAME="tex2html20176"
  HREF="spectrum_read_intensities.html#SECTION0812212400000000000000">Description</A>
<LI><A NAME="tex2html20177"
  HREF="spectrum_read_intensities.html#SECTION0812212500000000000000">File formats</A>
<LI><A NAME="tex2html20178"
  HREF="spectrum_read_intensities.html#SECTION0812212600000000000000">Multiple files</A>
<LI><A NAME="tex2html20179"
  HREF="spectrum_read_intensities.html#SECTION0812212700000000000000">Prompt examples</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H2><A NAME="SECTION0812212000000000000000"></A> <A NAME="uf:_spectrum.read_intensities"></A>
<BR>
spectrum.read_intensities
</H2>
<IMG
  WIDTH="128" HEIGHT="128" ALIGN="BOTTOM" BORDER="0"
 SRC="./fid.png"
 ALT="Image fid"> <IMG
  WIDTH="128" HEIGHT="128" ALIGN="BOTTOM" BORDER="0"
 SRC="./document-open.png"
 ALT="Image document-open">

<P>

<H3><A NAME="SECTION0812212100000000000000">
Synopsis</A>
</H3>

<P>
Read<A NAME="38822"></A> peak intensities from a file.

<P>

<H3><A NAME="SECTION0812212200000000000000">
Defaults</A>
</H3>

<P>
<DIV ALIGN="LEFT">
<SPAN  CLASS="textsf"><SPAN  CLASS="textbf">spectrum.read_intensities</SPAN>(file=None, dir=None, spectrum_id=None, dim=1, int_method=`height', int_col=None, spin_id_col=None, mol_name_col=None, res_num_col=None, res_name_col=None, spin_num_col=None, spin_name_col=None, sep=None, spin_id=None, ncproc=None)</SPAN>

</DIV>

<P>

<H3><A NAME="SECTION0812212300000000000000">
Keyword arguments</A>
</H3>

<P>
 <SPAN  CLASS="textsf">file:</SPAN>  The name of the file or the list of files containing the intensity data.

<P>
 <SPAN  CLASS="textsf">dir:</SPAN>  The directory where the file is located.

<P>
 <SPAN  CLASS="textsf">spectrum_id:</SPAN>  The unique spectrum ID string or list of strings to associate with the peak intensity values.  If multiple files are given, then each file should have a corresponding spectrum ID string.  If `<TT>auto</TT>' is provided for a NMRPipe<A NAME="38835"></A> seriesTab formatted file, the IDs are auto generated in form of Z_A{i}.

<P>
 <SPAN  CLASS="textsf">dim:</SPAN>  Associate the data with the spins of any dimension in the peak list.  This defaults to w1, the heteronucleus in HSQC type experiments.

<P>
 <SPAN  CLASS="textsf">int_method:</SPAN>  The method by which peaks were integrated.

<P>
 <SPAN  CLASS="textsf">int_col:</SPAN>  The optional column containing the peak intensity data (used by the generic intensity file format, or if the intensities are in a non-standard column).

<P>
 <SPAN  CLASS="textsf">spin_id_col:</SPAN>  The spin ID string column used by the generic intensity file format (an alternative to the mol, res, and spin name and number columns).

<P>
 <SPAN  CLASS="textsf">mol_name_col:</SPAN>  The molecule<A NAME="38846"></A> name column used by the generic intensity file format (alternative to the spin ID column).

<P>
 <SPAN  CLASS="textsf">res_num_col:</SPAN>  The residue number column used by the generic intensity file format (alternative to the spin ID column).

<P>
 <SPAN  CLASS="textsf">res_name_col:</SPAN>  The residue name column used by the generic intensity file format (alternative to the spin ID column).

<P>
 <SPAN  CLASS="textsf">spin_num_col:</SPAN>  The spin number column used by the generic intensity file format (alternative to the spin ID column).

<P>
 <SPAN  CLASS="textsf">spin_name_col:</SPAN>  The spin name column used by the generic intensity file format (alternative to the spin ID column).

<P>
 <SPAN  CLASS="textsf">sep:</SPAN>  The column separator used by the generic intensity format (the default is white space).

<P>
 <SPAN  CLASS="textsf">spin_id:</SPAN>  The spin ID string used to restrict the loading of data to certain spin subsets.

<P>
 <SPAN  CLASS="textsf">ncproc:</SPAN>  The Bruker specific FID intensity scaling factor.

<P>

<H3><A NAME="SECTION0812212400000000000000">
Description</A>
</H3>

<P>
The peak intensity can either be from peak heights or peak volumes.

<P>
The spectrum ID is a label which is subsequently utilised by other user functions.  If this identifier matches that of a previously loaded set of intensities, then this indicates a replicated spectrum.

<P>
The spectral dimension is used to specify if the intensity data should be loaded into the spins identified by the first dimension w1, second dimension w2, etc.

<P>
The integration method is required for the subsequent error analysis.  When peak heights are measured, this should be set to `<TT>height</TT>'.  Volume integration methods are a bit varied and hence two values are accepted.  If the volume integration involves pure point summation, with no deconvolution algorithms or other methods affecting peak heights, then the value should be set to `<TT>point sum</TT>'.  All other volume integration methods, e.g. line shape fitting, the value should be set to `<TT>other</TT>'.

<P>
If a series of intensities extracted from Bruker FID files processed in Topspin or XWinNMR are to be compared, the ncproc parameter may need to be supplied.  This is because this FID is stored using integer representation and is scaled using ncproc to avoid numerical truncation artifacts.  If two spectra have significantly different maximal intensities, then ncproc will be different for both.  The intensity scaling is binary, <SPAN CLASS="MATH"><I>i</I></SPAN>.e. 2**ncproc. Therefore if spectrum A has an ncproc of 6 and and spectrum B a value of 7, then a reference intensity in B will be double that of A.  Internally, relax stores the intensities scaled by 2**ncproc.

<P>

<H3><A NAME="SECTION0812212500000000000000">
File formats</A>
</H3>

<P>
The peak list or intensity file will be automatically determined.

<P>
Sparky<A NAME="38866"></A><A NAME="38867"></A> peak list:  The file should be a Sparky<A NAME="38868"></A><A NAME="38869"></A> peak list saved after typing the command `<TT>lt</TT>'.  The default is to assume that columns 0, 1, 2, and 3 (1<!-- MATH
 $^{\mathrm{st}}$
 -->
<SPAN CLASS="MATH"><SUP>st</SUP></SPAN>, 2<!-- MATH
 $^{\mathrm{nd}}$
 -->
<SPAN CLASS="MATH"><SUP>nd</SUP></SPAN>, 3<!-- MATH
 $^{\mathrm{rd}}$
 -->
<SPAN CLASS="MATH"><SUP>rd</SUP></SPAN>, and 4<!-- MATH
 $^{\mathrm{th}}$
 -->
<SPAN CLASS="MATH"><SUP>th</SUP></SPAN>) contain the Sparky<A NAME="38875"></A><A NAME="38876"></A> assignment, w1, w2, and peak intensity data respectively.  The frequency data w1 and w2 are ignored while the peak intensity data can either be the peak height or volume displayed<A NAME="38877"></A> by changing the window options.  If the peak intensity data is not within column 3, set the integration column to the appropriate number (column numbering starts from 0 rather than 1).

<P>
XEasy<A NAME="38878"></A> peak list:  The file should be the saved XEasy<A NAME="38879"></A> text window output of the list peak entries command, `<TT>tw</TT>' followed by `<TT>le</TT>'.  As the columns are fixed, the peak intensity column is hardwired to number 10 (the 11<!-- MATH
 $^{\mathrm{th}}$
 -->
<SPAN CLASS="MATH"><SUP>th</SUP></SPAN> column) which contains either the peak height or peak volume data.  Because the columns are fixed, the integration column number will be ignored.

<P>
NMRView:<A NAME="38883"></A>  The file should be a NMRView<A NAME="38884"></A> peak list. The default is to use column 16 (which contains peak heights) for peak intensities. To use use peak volumes (or evolumes), int_col must be set to 15.

<P>
NMRPipe<A NAME="38885"></A> seriesTab:  The file should be a NMRPipe-format<A NAME="38886"></A> Spectral Series list.  If the spectrum_id=`<TT>auto</TT>', the IDs are auto generated in form of Z_A{i}.

<P>
Generic intensity file:  This is a generic format which can be created by scripting<A NAME="38888"></A><A NAME="38889"></A> to support non-supported peak lists.  It should contain in the first few columns enough information to identify the spin.  This can include columns for the molecule<A NAME="38890"></A> name, residue number, residue name, spin number, and spin name.  Alternatively a spin ID string column can be used. The peak intensities can be placed in another column specified by the integration column number.  Intensities from multiple spectra can be placed into different columns, and these can then be specified simultaneously by setting the integration column value to a list of columns.  This list must be matched by setting the spectrum ID to a list of the same length.  If columns are delimited by a character other than whitespace, this can be specified with the column separator.  The spin ID can be used to restrict the loading to specific spin subsets.

<P>

<H3><A NAME="SECTION0812212600000000000000">
Multiple files</A>
</H3>

<P>
The data from multiple files can be loaded simultaneously if a list of files is supplied.  In this case, a list of spectrum ID strings of equal length must be supplied.

<P>

<H3><A NAME="SECTION0812212700000000000000">
Prompt examples</A>
</H3>

<P>
To read<A NAME="38893"></A> the reference and saturated spectra peak heights from the Sparky<A NAME="38894"></A><A NAME="38895"></A> formatted files `<TT>ref.list</TT>' and `<TT>sat.list</TT>', type:

<P>
<PRE>[numbers=none]
relax&gt; spectrum.read_intensities(file='ref.list', spectrum_id='ref')
</PRE>

<P>
<PRE>[numbers=none]
relax&gt; spectrum.read_intensities(file='sat.list', spectrum_id='sat')
</PRE>

<P>
To read<A NAME="38902"></A> the reference and saturated spectra peak heights from the XEasy<A NAME="38903"></A> formatted files `<TT>ref.text</TT>' and `<TT>sat.text</TT>', type:

<P>
<PRE>[numbers=none]
relax&gt; spectrum.read_intensities(file='ref.text', spectrum_id='ref')
</PRE>

<P>
<PRE>[numbers=none]
relax&gt; spectrum.read_intensities(file='sat.text', spectrum_id='sat')
</PRE>

<P>

<BR>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html20171"
  HREF="spectrum_read_spins.html">
<IMG WIDTH="48" HEIGHT="48" TITLE="Next" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html20165"
  HREF="The_list_of_functions.html">
<IMG WIDTH="48" HEIGHT="48" TITLE="Up" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html20159"
  HREF="spectrum_integration_points.html">
<IMG WIDTH="48" HEIGHT="48" TITLE="Previous" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html20167"
  HREF="Contents.html">
<IMG WIDTH="48" HEIGHT="48" TITLE="Contents" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html20169"
  HREF="Index.html">
<IMG WIDTH="48" HEIGHT="48" TITLE="Index" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> <A NAME="tex2html1"
  HREF="http://download.gna.org/relax/manual/relax.pdf"><IMG
 ALIGN="BOTTOM" BORDER="0" SRC="http://www.nmr-relax.com/images/pdf_icon_nav.png"
 ALT="pdf_icon_nav.png"></A><A NAME="tex2html2"
  HREF="http://www.nmr-relax.com"><IMG
 ALIGN="BOTTOM" BORDER="0" SRC="http://www.nmr-relax.com/images/relax_logo_nav.png"
 ALT="relax_logo_nav.png"></A>
<BR>
<B> Next:</B> <A NAME="tex2html20172"
  HREF="spectrum_read_spins.html">spectrum.read_spins</A>
<B> Up:</B> <A NAME="tex2html20166"
  HREF="The_list_of_functions.html">The list of functions</A>
<B> Previous:</B> <A NAME="tex2html20160"
  HREF="spectrum_integration_points.html">spectrum.integration_points</A>
 &nbsp; <B>  <A NAME="tex2html20168"
  HREF="Contents.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html20170"
  HREF="Index.html">Index</A></B> </DIV>
<!--End of Navigation Panel-->
<ADDRESS>
The <a href="http://www.nmr-relax.com">relax</a> <a href="http://www.nmr-relax.com/manual/">user manual</a> (<a href="http://download.gna.org/relax/manual/relax.pdf">PDF</a>), created 2015-01-27.
</ADDRESS>
</BODY>
</HTML>
