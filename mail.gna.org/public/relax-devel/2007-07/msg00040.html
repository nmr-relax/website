<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Consistency tests -->
<!--X-From-R13: Eéonfgvra [beva <fronfgvra.zbeva.1Nhyniny.pn> -->
<!--X-Date: Fri, 13 Jul 2007 16:49:49 +0200 -->
<!--X-Message-Id: 20070713104859.jx5wsw40gwc4w44k@agora.ulaval.ca -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Consistency tests -- July 13, 2007 - 16:49</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Consistency tests</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00040" class="tabs">Index by Date</a> | <a href="threads.html#00040" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00039.html">Date Prev</a>] [<a href="msg00041.html">Date Next</a>] [<a href="msg00007.html">Thread Prev</a>] [<a href="msg00041.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Edward d'Auvergne &lt;edward.dauvergne@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Fri, 13 Jul 2007 10:48:59 -0400</li>
<li class="menuitem">
<em>Cc</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00040.html">20070713104859.jx5wsw40gwc4w44k@agora.ulaval.ca</a>&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Internet Messaging Program (IMP) 4.0-cvs</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Sébastien Morin</strong> on July 13, 2007 - 16:49:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Ed,

Here is the first part of the split patch as you asked for.

This one if for docstrings and comments in files :
    /branches/consistency_tests_1.2/prompt/consistency_tests.py
    /branches/consistency_tests_1.2/maths_fns/consistency_tests.py
    /branches/consistency_tests_1.2/test_suite/consistency_tests.py
    /branches/consistency_tests_1.2/sample_scripts/consistency_tests.py
    /branches/consistency_tests_1.2/specific_fns/consistency_tests.py

Should the commit log be something like what follows ?

&quot;This patch (patch_consistency_tests__l1.2_r3340__docstrings_and_comments)
corrects docstrings and comments errors which were remnants of the jw_mapping
code from which the consistency_tests code was inspired. Also, this patch adds
docstrings and comments to the code for making it easier for users to
understand what the code actually does.&quot;

Cheers


Séb  :)




Selon Edward d'Auvergne &lt;edward.dauvergne@xxxxxxxxx&gt;, 13.07.2007:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

This patch will need a few small changes before being committed.  The
first is the docstring of the set_frq function of
'prompt/consistency_tests.py'.  In the user function docstrings, the
list of keyword arguments need to be separated by newlines.  This is a
relax convention as can be seen in the equivalent function of
'prompt/jw_mapping.py'.  One problem with this is that the docstring
parser used to generate the relax manual might fail in this keyword
argument section.  An additional formatting convention is the use of
two blank lines in front of the section titles in the docstring.  This
allows easier reading of the much longer docstrings.

This isn't important but for the eta value, do you know if this is
eta_z or eta_xy?  A more important point is that the patch should be
split up so that there are different patches for different types of
fixes.  For example there are docstring and comment changes which
could be grouped together into a single patch.  Then there are
modifications to the test suite for the consistency tests which should
be separate.  In 'specific_fns/consistency_tests.py' there is a change
to the default value of the CSA and a number of other fundamental
changes.  These should all be separate.

It would be a good exercise in preparation for having full commit
access to the relax repository to split this patch into a number of
small patches.  No patch or commit to the relax repository should
contain two unrelated changes, even if these are tiny one line
changes.  For each commit to the repository, a detailed description of
the changes should be placed into the commit log (which is
automatically emailed to the relax-commits mailing list but remains in
the repository and is important for repository maintenance).  You can
see these messages by typing something like 'svn log -v --limit=100 |
less' within your checked out copy.  So if you could prepare a similar
commit message for the patches, it would be much appreciated.

Cheers,

Edward


P.S.  A small fix is needed in 'prompt/consistency_tests.py' at line
4.  And as for the self.__relax_help_ string, this isn't actually a
docstring but is used by the relax prompt help system.  These
__init__() functions don't have docstrings, and I don't remember if
this was deliberate because of the special help system or not.


On 7/13/07, Sébastien Morin &lt;sebastien.morin.1@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

Here is a patch for the consistency tests branch of the 1.2 line (r3340).

Some comments and docstrings were added as well as errors corrected from
</pre></blockquote><pre style="margin: 0em;">the
</pre><blockquote class="blockquote"><pre style="margin: 0em;">adaptation of this code from the jw_mapping code...

The following file are modified :
        prompt/consistency_tests.py
        maths_fns/consistency_tests.py
        test_suite/consistency_tests.py
        sample_scripts/consistency_tests.py
        specific_fns/consistency_tests.py

Formating should be OK in these files except maybe for one thing for which
</pre></blockquote><pre style="margin: 0em;">I'm
</pre><blockquote class="blockquote"><pre style="margin: 0em;">not sure. It's between lines 29 and 33 of prompt/consistency_tests.py 
where
</pre></blockquote><pre style="margin: 0em;">I
</pre><blockquote class="blockquote"><pre style="margin: 0em;">don't know if the docstring should be below the line 'def __init__(self,
relax):' or below the line 'self.__relax_help__ = \' as it is now... Note
</pre></blockquote><pre style="margin: 0em;">that
</pre><blockquote class="blockquote"><pre style="margin: 0em;">this is seen in many other code files...

Cheers


Sébastien :)



Selon Edward d'Auvergne &lt;edward.dauvergne@xxxxxxxxx&gt;, 09.07.2007:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

Both patches have been applied to the repository.  The patch
'patch_sample_scripts_consistency_tests' was committed at r3331.
Change from 5000 to 500 simulations is reasonable.  The large number
of simulations was because the calculation was so quick, but 500
should be more than sufficient.  The addition of Grace plotting
functions to the Reduced Spectral Density Mapping sample script is
very useful and I will probably port this commit very soon to the 1.3
line.  The patch 'patch_sample_scripts_jw_mapping' was applied (at
r3332) directly to the 1.2 line rather than the
'consistency_tests_1.2' branch.

Cheers,

Edward


On 7/9/07, Sébastien Morin &lt;sebastien.morin.1@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi again !

I added lines for plotting using grace in the sample script. Since 
this
</pre></blockquote><pre style="margin: 0em;">sample
</pre><blockquote class="blockquote"><pre style="margin: 0em;">script was inspired by the jw_mapping sample script, I also submit a
</pre></blockquote></blockquote></blockquote><pre style="margin: 0em;">patch
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">for
</pre><blockquote class="blockquote"><pre style="margin: 0em;">this file (adding lines for plotting, changing the number of Monte
</pre></blockquote></blockquote></blockquote><pre style="margin: 0em;">Carlo
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">simulations from 5000 to 500 and changing the sequence file from
</pre></blockquote><pre style="margin: 0em;">noe.500.out to
</pre><blockquote class="blockquote"><pre style="margin: 0em;">noe.600.out for more consistency)...

Ciao !


Sébastien :)




Selon Sébastien Morin &lt;sebastien.morin.1@xxxxxxxxx&gt;, 09.07.2007:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Ed

Tell me if this works better. I'm now using the mail server directly
</pre></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">from
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">the
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">internet GUI... (not with Thuderbird).

If this does not work neither, maybe we could try with the task...

Ciao !


Sébastien


Selon Edward d'Auvergne &lt;edward.dauvergne@xxxxxxxxx&gt;, 09.07.2007:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">I've tried cutting an pasting the patch but I get the following:

edau@klymene:/media/usbdisk/relax/branches/consistency_tests_1.2&gt;
patch -p0 &lt; patch
patching file prompt/consistency_tests.py
Hunk #2 FAILED at 26.
Hunk #3 FAILED at 40.
Hunk #4 FAILED at 49.
Hunk #5 FAILED at 74.
4 out of 5 hunks FAILED -- saving rejects to file
prompt/consistency_tests.py.rej
edau@klymene:/media/usbdisk/relax/branches/consistency_tests_1.2&gt;

I don't know why, but thunderbird is destroying the attachment.
</pre></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">The
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">failed 'hunks' are the wrapped lines.  Maybe there is a way to
</pre></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">prevent
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">thunderbird from doing this.  Otherwise using another email client
</pre></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">(or
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">webmail) may work.  I could also create a task for this 
consistency
test work and these could be attached to the task.  It's best 
that,
for the record, the files are located within the permanent relax
infrastructure.

Cheers,

Edward




On 7/9/07, Sebastien Morin &lt;sebastien.morin.1@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi again !

Here is again the first patch for the file
</pre></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">'prompt/consistency_tests.py'.
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">

I modified the header for the copyrights.

Also, the former patches were not copied-pasted, but attached
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">using
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">Thunderbird after their creation using a command like 'svn diff 
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

</pre></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">patch'
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">under Linux. When I send those kinds of files as attachment, I
</pre></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">usually
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">see them as text in the e-mail, but also as an attachment that
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">can be
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">save. Tell me if it is okay and if it is still a problem, I'll
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">put
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">them
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">on my lab's website...

Cheers


Séb :)



Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

Just add some text such as 'Copyright (C) 2007 Sebastien Morin
&lt;sebastien.morin.1 at ulaval.ca&gt;' underneath the already
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">existent
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">copyright text.  The can be changed later, for example I can
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">give
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">you
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">a ???@nmr-relax.com email address which is an alias for any
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">other
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">email address (once voted in as a relax developer).  Could you
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">add
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">this and then resend the patches?  Ta.  If they are attached
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">rather
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">than cut and paste that would be much easier for applying the
</pre></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">patches
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">(as email wraps lines).  Also, maybe responding to your
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">original
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">posts
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">will allow the patches to be more easily tracked in the 
mailing
</pre></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">list
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;"><a  rel="nofollow" href="https://mail.gna.org/public/relax-devel/">https://mail.gna.org/public/relax-devel/</a>.

Cheers,

Edward


On 7/9/07, Sebastien Morin &lt;sebastien.morin.1@xxxxxxxxx&gt; 
wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi !

I'm about to create the patches to merge the consistency 
tests
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">code
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">into
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">the 1.2 branch.

However, I have one question. How do I treat the copyrights ?
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">Do I
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">leave
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">the original author from which I copied the code and then
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">modified
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">it
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">or
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">do I had my name to the code headers..?

Thanks !


Sébastien  :)




Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Oh, I've committed your patch at

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote></blockquote></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;"><a  rel="nofollow" href="http://maple.rsvs.ulaval.ca/mediawiki/index.php/Patch_consistency_tests_2007-06-26">http://maple.rsvs.ulaval.ca/mediawiki/index.php/Patch_consistency_tests_2007-06-26</a>
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">

</pre><blockquote class="blockquote"><pre style="margin: 0em;">

as revision r3324, applying it to the 1.2 branch.  I've
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">carefully
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">checked the code and none of the changes are detrimental or
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">could
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">affect the stability of the stable 1.2 relax codebase.  
Note
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">however
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">that the code in the branch will not run as the
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">consistency_test.py
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">files are still identical copies of the jw_mapping.py 
files.

Cheers,

Edward


On 7/9/07, Edward d'Auvergne &lt;edward.dauvergne@xxxxxxxxx&gt;
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">wrote:
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

I've now created two branches within the relax repository
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">for
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">you
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">to
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">play with.  The first is a copy of the 1.2 line and is
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">located
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">at
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">svn.gna.org/svn/relax/branches/consistency_tests_1.2/.  
The
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">second
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">is
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">a copy of the 1.3 line and is located at
svn.gna.org/svn/relax/branches/consistency_tests_1.3/.
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">I've
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">initially
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">used 'svn cp' to create the 5 consistency_tests.py files 
as
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">described
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">in
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;"><a  rel="nofollow" href="https://mail.gna.org/public/relax-devel/2007-07/msg00001.html">https://mail.gna.org/public/relax-devel/2007-07/msg00001.html</a>
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">(Message-id:

</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">&lt;7f080ed10707090251ve1c4a8fl7f8618843e5c9459@xxxxxxxxxxxxxx&gt;).
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;"> Would you be able to create patches for these files (in
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">the
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">1.2
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">line
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">first, no need to worry about the 1.3 line yet), and then
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">post
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">the
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">individual patches as text file attachments to the mailing
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">list?
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">Thanks.  I will then be able to commit these patches
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">individually,
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">checking them in fine detail.

Things to note in creating the patches from the code at

</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;"><a  rel="nofollow" href="http://maple.rsvs.ulaval.ca/mediawiki/index.php/Relax_development">http://maple.rsvs.ulaval.ca/mediawiki/index.php/Relax_development</a>
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">include the copyright preservation, a number of integers 
in
'maths_fns/consistency_tests.py' which should be floating
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">point
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">numbers (just add '.0' to the end of the number), the
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">addition
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">of
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">Grace plots as an output in the
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">'sample_scripts/consistency_tests.py'
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">script to be able to create a picture similar to that on
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">your
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">relax
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">development site, maybe only allowing 'Tc' and 'tc' in the
return_data_name() function and not 'TC', and 'degrees'
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">instead
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">of
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">'degree' in the return_units() function.

One bug includes:

             setattr(self.relax.data.res[self.run][index],
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">'csa',
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">float(value[0]))
             setattr(self.relax.data.res[self.run][index],
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">'r',
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">float(value[1]))
+            setattr(self.relax.data.res[self.run][index],
'orientation', float(value[1]))
+            setattr(self.relax.data.res[self.run][index],
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">'tc',
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">float(value[1]))

value[1] has been used twice.  I have a feeling there is
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">another
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">bug
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">somewhere where an index has been repeated a few times 
when
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">it
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">should
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">be different indices, but I can't find it at the moment.
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">The
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">individual patches should help.  Finally, I have a feeling
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">that
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">there
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">is unused code which can be deleted as it is a relic from
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">the
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">copy
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">of
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">the J(w) mapping code and is not needed.  For the 1.3 line
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">code
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">I
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">would recommend that identical functions are shifted into
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">files
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">such
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">as 'specific_fns/base_class.py', but for the 1.2 line code
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">I
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">would
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">prefer the duplication as this means that the current
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">stable
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">code
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">base
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">remains stable.

Cheers,

Edward



On 6/26/07, Sebastien Morin &lt;sebastien.morin.1@xxxxxxxxx&gt;
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">wrote:
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

I started working on implementing the consistency tests
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">last
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">week
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">before
</pre><blockquote class="blockquote"><pre style="margin: 0em;">the last post was made and, hence, I worked on 
repository
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">line
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">1.2
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">(revision 3303).

I implemented the consistency tests as a new type of run
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">('ct')
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">similar
</pre><blockquote class="blockquote"><pre style="margin: 0em;">to the one for Jw mapping.

The calculations are made for J(0), F_eta and F_R2
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">separately
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">for each
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">magnetic field (one at a time). The output results file
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">is
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">similar to
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">the one for Jw mapping. The user then needs to plot them
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">and
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">look for
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">consistency with its own criteria (calculation
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">correlation
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">coefficients,  mean ratios and standard deviations, 
etc).

Please look at the followinr URL for a listing of the
</pre></blockquote></blockquote></blockquote><pre style="margin: 0em;">modifications to
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">old files and also necessary new files.


</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;"><a  rel="nofollow" href="http://maple.rsvs.ulaval.ca/mediawiki/index.php/Relax_development">http://maple.rsvs.ulaval.ca/mediawiki/index.php/Relax_development</a>
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">

The file 'sample_scripts/consistency_tests.py' should be
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">useful
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">to
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">understand how the new procedure works.

Even if this was done on repository line 1.2, I think it
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">is
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">quite fine
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">since nothing was deleted but only things added (maybe
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">too
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">much,
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">as I
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">reproduced the Jw mapping approach, maybe too much as I
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">added
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">lines in
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">the codes for grace, molmol, etc, maybe too much also
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">since
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">some
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">code is
</pre><blockquote class="blockquote"><pre style="margin: 0em;">duplicated from the Jw mapping code). The test-suite
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">still
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">works
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">perfectly and, so, I think it could be fine to add the
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">tests
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">to
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">the
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">1.2
</pre><blockquote class="blockquote"><pre style="margin: 0em;">line as well... However, if necessary, I could implement
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">the
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">consistency
</pre><blockquote class="blockquote"><pre style="margin: 0em;">testing procedure on line 1.3, following your comments 
as
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">I
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">am
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">quite new
</pre><blockquote class="blockquote"><pre style="margin: 0em;">to Python and maybe made things somehow not perfectly...

Please tell me what you think about this.

Cheers,


Sébastien  :)



Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

I have previously talked about data set consistency.
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">For
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">example
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">see
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">the post at
</pre></blockquote></blockquote><pre style="margin: 0em;">

</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;"><a  rel="nofollow" href="https://mail.gna.org/public/relax-users/2007-06/msg00001.html">https://mail.gna.org/public/relax-users/2007-06/msg00001.html</a>
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">in which a few reasons for inconsistencies have been
</pre></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">explained.  I
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">have, from experience, noticed that small changes in
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">protein
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">concentration can change the collected relaxation 
rates
</pre></blockquote></blockquote><pre style="margin: 0em;">significantly
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">- most likely because of packing interactions.  All
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">samples
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">should
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">essentially be identical in all respects for the
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">relaxation
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">rates to
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">be compared.  And the temperate should always be fine
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">tuned
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">between
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">experiments and spectrometers using methanol (and
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">always
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">checked
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">later
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">on if there is a large time between collecting the 
same
</pre></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">experiment).
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">

Therefore these tests would be quite useful.  Data
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">consistency
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">is
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">essential for the model-free results to be correct (as
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">well
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">as
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">reduced
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">spectral density mapping, SRLS, etc.) as this affects
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">both
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">the
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">optimisation and model selection and can result in
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">artificial
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">motions
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">appearing.  However I don't know how these test would
</pre></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">currently fit
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">within relax.  Maybe a new type of analysis should be
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">created
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">for
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">this
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">(see the pipe.create() user function in the 1.3 line 
or
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">the
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">run.create() user function in the 1.2 line).  These
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">ideas
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">should all
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">go into the 1.3 line (via a branch) as the 1.2 line is
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">stable
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">and no
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">new major features will be added to this code.  What
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">are
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">the
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">ideas you
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">have been playing with?

Cheers,

Edward


On 6/15/07, Sebastien Morin
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">&lt;sebastien.morin.1@xxxxxxxxx&gt;
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">wrote:
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">Hi everyone

During the last months, I was astonished to realize
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">that
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">some
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">spin
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">relaxation data I had acquired at different fields
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">were
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">not
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">consistent
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">between each other. The way I realized that was by
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">seeing
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">discrepancy
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">between J(0) values calculated with those different
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">datasets.
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">

I looked a little bit in the litterature and found
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">some
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">interesting
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">consistency tests in a paper by Fushman (Fushman et
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">al.,
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">JACS,
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">1998,
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">120:10947-10952).

This paper present 2 consistency tests to compare
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">datasets
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">from
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">different magnetic fields / samples / time / etc.

I think it would be interesting to implement those
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">simple
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">tests
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">in relax
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">so the user can, before trying to fit their data, 
know
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">the
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">quality of
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">those... Regrettably, very few people look at the
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">consistency
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">of
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">their
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">datasets before analysis...

The underlying principle is the same as when looking
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">at
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">consistency for
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">J(0). Thus, I think that those two tests and a J(0)
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">test
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">should be
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">implemented altogether...

I'll try to work a bit on this. Mimicking the code 
for
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">spectral
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">density
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">should be a good starting point.

Am I right ?
Do you see any value in those tests ?

Cheers


Sébastien  :)


_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

--
         ______________________________________
     _______________________________________________
    |                                               |
   || Sebastien Morin                               ||
  ||| Etudiant au PhD en biochimie                  |||
 |||| Laboratoire de resonance magnetique nucleaire ||||
||||| Dr Stephane Gagne                             
|||||
 |||| CREFSIP (Universite Laval, Quebec, CANADA)    ||||
  ||| 1-418-656-2131 #4530                          |||
   ||                                               ||
    |_______________________________________________|
         ______________________________________



</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

--
         ______________________________________
     _______________________________________________
    |                                               |
   || Sebastien Morin                               ||
  ||| Etudiant au PhD en biochimie                  |||
 |||| Laboratoire de resonance magnetique nucleaire ||||
||||| Dr Stephane Gagne                             |||||
 |||| CREFSIP (Universite Laval, Quebec, CANADA)    ||||
  ||| 1-418-656-2131 #4530                          |||
   ||                                               ||
    |_______________________________________________|
         ______________________________________



</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

--
         ______________________________________
     _______________________________________________
    |                                               |
   || Sebastien Morin                               ||
  ||| Etudiant au PhD en biochimie                  |||
 |||| Laboratoire de resonance magnetique nucleaire ||||
||||| Dr Stephane Gagne                             |||||
 |||| CREFSIP (Universite Laval, Quebec, CANADA)    ||||
  ||| 1-418-656-2131 #4530                          |||
   ||                                               ||
    |_______________________________________________|
         ______________________________________


Index: prompt/consistency_tests.py

</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">===================================================================
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">--- prompt/consistency_tests.py (revision 3324)
+++ prompt/consistency_tests.py (working copy)
@@ -1,6 +1,7 @@

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">###############################################################################
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;"> #
</pre></blockquote><pre style="margin: 0em;">   #
</pre><blockquote class="blockquote"><pre style="margin: 0em;"> # Copyright (C) 2004-2005 Edward d'Auvergne
</pre></blockquote><pre style="margin: 0em;">   #
</pre><blockquote class="blockquote"><pre style="margin: 0em;">+# Copyright (C) 2007 Sebastien Morin &lt;sebastien.morin.1 at
</pre></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">ulaval.ca&gt;
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;"> #
</pre></blockquote><pre style="margin: 0em;">   #
</pre><blockquote class="blockquote"><pre style="margin: 0em;"> # This file is part of the program relax.
</pre></blockquote><pre style="margin: 0em;">   #
</pre><blockquote class="blockquote"><pre style="margin: 0em;"> #
</pre></blockquote><pre style="margin: 0em;">   #
</pre><blockquote class="blockquote"><pre style="margin: 0em;">@@ -25,11 +26,11 @@
 import help


-class Jw_mapping:
+class Consistency_tests:
     def __init__(self, relax):
         # Help.
         self.__relax_help__ = \
-        &quot;&quot;&quot;Class containing functions specific to reduced
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">spectral
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">density
</pre><blockquote class="blockquote"><pre style="margin: 0em;">mapping.&quot;&quot;&quot;
</pre><blockquote class="blockquote"><pre style="margin: 0em;">+        &quot;&quot;&quot;Class containing functions specific to consistency
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">tests
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">for
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">datasets from different fields.&quot;&quot;&quot;
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

         # Add the generic help string.
         self.__relax_help__ = self.__relax_help__ + &quot;\n&quot; +
</pre></blockquote><pre style="margin: 0em;">help.relax_class_help
</pre><blockquote class="blockquote"><pre style="margin: 0em;">@@ -39,7 +40,7 @@


     def set_frq(self, run=None, frq=None):
-        &quot;&quot;&quot;Function for selecting which relaxation data to use
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">in
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">the
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">J(w)
</pre><blockquote class="blockquote"><pre style="margin: 0em;">mapping.
</pre><blockquote class="blockquote"><pre style="margin: 0em;">+        &quot;&quot;&quot;Function for selecting which relaxation data to use
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">in
</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">the
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">consistency tests.
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

         Keyword Arguments
         ~~~~~~~~~~~~~~~~~
@@ -48,24 +49,23 @@

         frq:  The spectrometer frequency in Hz.

-
         Description
         ~~~~~~~~~~~

-        This function will select the relaxation data to use in
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">the
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">reduced spectral density mapping
</pre><blockquote class="blockquote"><pre style="margin: 0em;">-        corresponding to the given frequency.
+        This function will select the relaxation data to use in
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">the
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">consistency tests
</pre><blockquote class="blockquote"><pre style="margin: 0em;">+        corresponding to the given frequencies.


         Examples
         ~~~~~~~~

-        relax&gt; jw_mapping.set_frq('jw', 600.0 * 1e6)
-        relax&gt; jw_mapping.set_frq(run='jw', frq=600.0 * 1e6)
+        relax&gt; consistency_tests.set_frq('test', 600.0 * 1e6)
+        relax&gt; consistency_tests.set_frq(run='test', frq=600.0 
*
</pre></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">1e6)
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">         &quot;&quot;&quot;

         # Function intro text.
         if self.__relax__.interpreter.intro:
-            text = sys.ps3 + &quot;jw_mapping.set_frq(&quot;
+            text = sys.ps3 + &quot;consistency_tests.set_frq(&quot;
             text = text + &quot;run=&quot; + `run`
             text = text + &quot;, frq=&quot; + `frq` + &quot;)&quot;
             print text
@@ -74,9 +74,9 @@
         if type(run) != str:
             raise RelaxStrError, ('run', run)

-        # The frq argument.
+        # The frq arguments.
         if type(frq) != float:
             raise RelaxStrError, ('frq', frq)

         # Execute the functional code.
-        self.__relax__.specific.jw_mapping.set_frq(run=run,
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">frq=frq)
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">+
</pre></blockquote></blockquote></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">self.__relax__.specific.consistency_tests.set_frq(run=run,
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">frq=frq)
</pre><blockquote class="blockquote"><pre style="margin: 0em;">


</pre></blockquote><pre style="margin: 0em;">


</pre></blockquote></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">


</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">


</pre></blockquote><pre style="margin: 0em;">



------------------------
Sébastien Morin
Étudiant M.Sc. Biochimie
Laboratoire S. Gagné
3252 Pav. Marchand (Université Laval)
Tél : (418) 656-2131 #4530
Fax : (418) 656-7176
e-mail : sebastien.morin.1@xxxxxxxxx</pre><pre style="margin: 0em;">Index: prompt/consistency_tests.py
===================================================================
--- prompt/consistency_tests.py (revision 3340)
+++ prompt/consistency_tests.py (working copy)
@@ -1,7 +1,7 @@
 
###############################################################################
 #                                                                            
 #
 # Copyright (C) 2004-2005 Edward d'Auvergne                                  
 #
-# Copyright (C) 2007 Sebastien Morin &lt;sebastien.morin.1 at ulaval.ca&gt;
+# Copyright (C) 2007 Sebastien Morin &lt;sebastien.morin.1 at ulaval.ca&gt;        
 #
 #                                                                            
 #
 # This file is part of the program relax.                                    
 #
 #                                                                            
 #
@@ -49,6 +49,7 @@
 
         frq:  The spectrometer frequency in Hz.
 
+
         Description
         ~~~~~~~~~~~
 
Index: maths_fns/consistency_tests.py
===================================================================
--- maths_fns/consistency_tests.py      (revision 3340)
+++ maths_fns/consistency_tests.py      (working copy)
@@ -29,12 +29,23 @@
 
 class Consistency:
     def __init__(self, frq=None, gx=None, gh=None, mu0=None, h_bar=None):
-        &quot;&quot;&quot;Consistency tests for data acquired at different magnetic 
fields.&quot;&quot;&quot;
+        &quot;&quot;&quot;Consistency tests for data acquired at different magnetic fields.
 
+        These three tests are used to assess the consistency of datasets 
aquired at different
+        magnetic fields. Inconsistency can affect extracted information from 
experimental data and
+        can be caused by variations in temperature, concentration, pH, water 
suppression, etc.
+
+        This code calculates three functions for each residue. When 
comparing datasets from
+        different magnetic field, the value should be the same for each 
function as these are field
+        field independent. The J(0) function is the spectral density at the 
zero frequency and is
+        obtained using a reduced spectral density approach. The F_eta and 
F_R2 functions are the
+        consistency functions proposed by Fushman D. et al. (1998) JACS, 
120: 10947-10952.
+        &quot;&quot;&quot;
+
         # Initialise the data container.
         self.data = Data()
 
-        # Add the initial data to self.data
+        # Add the initial data to self.data.
         self.data.gx = gx
         self.data.gh = gh
         self.data.mu0 = mu0
@@ -96,18 +107,27 @@
         jwx = 1.0 / (3.0*d + c) * (r1 - 1.4*sigma_noe)
 
         # Calculate P_2.
+        # p_2 is a second rank Legendre polynomial as p_2(x) = 0.5 * (3 * (x 
** 2) -1)
+        # where x is the cosine of the angle Theta when expressed in radians.
         p_2 = 0.5 * ((3.0 * (cos(orientation * pi / 180)) ** 2) -1)
 
         # Calculate eta.
+        # eta is the cross-correlation rate between 15N CSA and 15N-1H 
dipolar interaction. It is
+        # expressed here as proposed in Fushman D. &amp; Cowburn D. (1998) JACS, 
120: 7109-7110.
         eta = ((d * c) ** 0.5) * (4.0 * j0 + 3.0 * jwx) * p_2
 
         # Calculate F_eta.
+        # F_eta is independent of the magnetic field for residues with local 
mobility
         f_eta = eta * self.data.gh / (self.data.frq_list[0, 3] * (4.0 + 3.0 
/ (1 + (self.data.frq_list[0, 1] * tc) ** 2)))
 
         # Calculate P_HF.
+        # P_HF is the contribution to R2 from high frequency motions.
+        # P_HF = 0.5 * d * [J(wH-wN) + 6 * J(wH) + 6 * J(wH+wN)].
+        # Here, P_HF is described using a reduced spectral density approach.
         p_hf = 1.3 * (self.data.gx / self.data.gh) * (1.0 - noe) * r1
 
         # Calculate F_R2.
+        # F_R2 tests the consistency of the transverse relaxation data.
         f_r2 = (r2 - p_hf) / ((4.0 + 3.0 / (1 + (self.data.frq_list[0, 1] * 
tc) ** 2)) * (d + c/3.0))
 
         # Return the three values.
Index: test_suite/consistency_tests.py
===================================================================
--- test_suite/consistency_tests.py     (revision 3340)
+++ test_suite/consistency_tests.py     (working copy)
@@ -39,7 +39,7 @@
             # The test.
             self.test = self.set_value
 
-        # Spectral density calculation test.
+        # Consistency tests calculation test.
         if test_name == 'calc':
 
             # The name of the test.
@@ -58,7 +58,7 @@
         # Setup.
         self.calc_setup()
 
-        # Try the reduced spectral density mapping.
+        # Try the consistency testing.
         self.relax.interpreter._Minimisation.calc(self.run)
 
         # Success.
@@ -66,6 +66,7 @@
 
 
     def calc_integrity(self):
+        &quot;&quot;&quot;The consistency tests calculation sub-routine.&quot;&quot;&quot;
 
         # Correct consistency functions values:
         j0 = [4.0958793960056238e-09, 3.7976266046729745e-09]
@@ -103,6 +104,7 @@
     def calc_setup(self):
         &quot;&quot;&quot;Setup for the calculation test.&quot;&quot;&quot;
 
+        # Locate and describe the data.
         dir = sys.path[-1] + '/test_suite/data/jw_mapping/'
 
         dataPaths = [dir + 'noe.dat',
@@ -136,7 +138,7 @@
         # Set the approximate correlation time.
         self.relax.interpreter._Value.set(self.run, 13 * 1e-9, 'tc')
 
-        # Select the frequency.
+        # Set the frequency.
         self.relax.interpreter._Consistency_tests.set_frq(self.run, 
frq=600.0 * 1e6)
 
 
Index: sample_scripts/consistency_tests.py
===================================================================
--- sample_scripts/consistency_tests.py (revision 3340)
+++ sample_scripts/consistency_tests.py (working copy)
@@ -25,7 +25,7 @@
 # Set the approximate correlation time.
 value.set(name, 13 * 1e-9, 'tc')
 
-# Select the frequency.
+# Set the frequency.
 consistency_tests.set_frq(name, frq=600.0 * 1e6)
 
 # Consistency tests.
Index: specific_fns/consistency_tests.py
===================================================================
--- specific_fns/consistency_tests.py   (revision 3340)
+++ specific_fns/consistency_tests.py   (working copy)
@@ -96,7 +96,7 @@
             if frq_index == None:
                 continue
 
-            # Set the r1, r2, and NOE to None.
+            # Set the R1, R2, and NOE to None.
             r1 = None
             r2 = None
             noe = None
@@ -149,7 +149,7 @@
                     data.f_eta_sim = []
                     data.f_r2_sim = []
 
-                # Reduced spectral density values.
+                # Consistency tests values.
                 data.j0_sim.append(j0)
                 data.f_eta_sim.append(f_eta)
                 data.f_r2_sim.append(f_r2)
@@ -189,11 +189,11 @@
 
         tc:  Correlation time.
 
-        j0:  Spectral density value at 0 MHz.
+        j0:  Spectral density value at the zero frequency.
 
-        f_eta:  Eta test.
+        f_eta:  Eta-test (from Fushman D. et al. (1998) JACS, 120: 
10947-10952).
 
-        f_r2:  R2 test.
+        f_r2:  R2-test (from Fushman D. et al. (1998) JACS, 120: 
10947-10952).
         &quot;&quot;&quot;
 
         # Initialise.
@@ -215,8 +215,8 @@
 
     def default_value(self, param):
         &quot;&quot;&quot;
-        Reduced spectral density mapping default values
-        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
+        Consistency testing default values
+        ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
 
         
_______________________________________________________________________________________
         |                                       |               |            
                 |
@@ -287,7 +287,7 @@
 
 
     def return_conversion_factor(self, stat_type):
-        &quot;&quot;&quot;Dummy function for returning 1.0.&quot;&quot;&quot;
+        &quot;&quot;&quot;Dummy function for returning 1.0. This function is essential when 
writing grace files&quot;&quot;&quot;
 
         return 1.0
 
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00043" href="msg00043.html">Re: Consistency tests</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00041" href="msg00041.html">Re: Consistency tests</a></strong>
<ul><li><em>From:</em> Sebastien Morin</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sun Jul 15 16:40:30 2007</div>  
</body>
</html>
