<!-- MHonArc v2.6.16 -->
<!--X-Subject: SV: Palmer model selection -->
<!--X-From-R13: Qney Rvruy <Qney.RvruyNocp.yh.fr> -->
<!--X-Date: Thu, 25 Feb 2010 09:09:16 +0100 -->
<!--X-Message-Id: D1DBBF1D3E3030439060EFCDE32927A6C1A38B1593@UWEXMBX02.uw.lu.se -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: D1DBBF1D3E3030439060EFCDE32927A6C19F664654@UWEXMBX02.uw.lu.se -->
<!--X-Reference: 7f080ed11002120234q76aa9170sea16125b0689f0ad@mail.gmail.com -->
<!--X-Reference: D1DBBF1D3E3030439060EFCDE32927A6C19F664656@UWEXMBX02.uw.lu.se -->
<!--X-Reference: D1DBBF1D3E3030439060EFCDE32927A6C1A38B158E@UWEXMBX02.uw.lu.se -->
<!--X-Reference: 7f080ed11002240707t59916774r5c4bbe18691406b@mail.gmail.com -->
<!--X-Reference: D1DBBF1D3E3030439060EFCDE32927A6C1A38B1591@UWEXMBX02.uw.lu.se -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>SV: Palmer model selection -- February 25, 2010 - 09:09</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />SV: Palmer model selection</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00024" class="tabs">Index by Date</a> | <a href="threads.html#00024" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00023.html">Date Prev</a>] [<a href="msg00027.html">Date Next</a>] [<a href="msg00022.html">Thread Prev</a>] [<a href="msg00023.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Edward d'Auvergne&quot; &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 25 Feb 2010 08:01:37 +0100</li>
<li class="menuitem">
<em>Accept-language</em>: sv-SE</li>
<li class="menuitem">
<em>Acceptlanguage</em>: sv-SE</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00024.html">D1DBBF1D3E3030439060EFCDE32927A6C1A38B1593@UWEXMBX02.uw.lu.se</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;D1DBBF1D3E3030439060EFCDE32927A6C19F664654@xxxxxxxxxxxxxxxxxx&gt;	&lt;7f080ed11002120234q76aa9170sea16125b0689f0ad@xxxxxxxxxxxxxx&gt;	&lt;D1DBBF1D3E3030439060EFCDE32927A6C19F664656@xxxxxxxxxxxxxxxxxx&gt;	&lt;D1DBBF1D3E3030439060EFCDE32927A6C1A38B158E@xxxxxxxxxxxxxxxxxx&gt;,	&lt;7f080ed11002240707t59916774r5c4bbe18691406b@xxxxxxxxxxxxxx&gt;,	&lt;D1DBBF1D3E3030439060EFCDE32927A6C1A38B1591@xxxxxxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Thread-index</em>: Acq1YyCHdvqq/kcZTlCwjD3yH6lvCAAI0R9hABh+uD4=</li>
<li class="menuitem">
<em>Thread-topic</em>: Palmer model selection</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Carl Diehl</strong> on February 25, 2010 - 09:09:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi.
Well, the mail server said that it tried sending three times before giving 
up. I believe it has something to do with the mail servers at the university.

Anyway, sofar I've used relax 1.2.XX both for fitting and modelfree-selection.
Is there a any major difference in the fitting routines between the 1.2 and 
the 1.3 line?

So far I've used a modified full_analysis.py script (in relax 1.2.14) for 
analysis which works well and is able to accurately reproduce older 
modelfree-fits. I haven't made the transition into 1.3.4, since I would have 
to change from runs into pipes.

My basic idea is to rerun the my analysis script, only this time using the 
Palmer model-selection instead of AIC, which I've been using sofar.
</pre><blockquote class="blockquote"><pre style="margin: 0em;">From an old fit using Modelfree4 and Fast-MF (1field only), I know that 
there are only small differences in S2 compared to the 2field-data fitted 
using relax.
</pre></blockquote><pre style="margin: 0em;">I can easily redo my 2field fits using Modelfree4 and Fast-MF, although I 
would prefer to use relax. Time-wise, the full_analysis scripts seems to be 
much faster than the Fast-MF way.

I'll take a look at the repository and try to see if I can get it to work.

Regards,
Carl Diehl
_______________________________________
Från: edward.dauvergne@xxxxxxxxx [edward.dauvergne@xxxxxxxxx] f&amp;#246;r Edward 
d'Auvergne [edward@xxxxxxxxxxxxx]
Skickat: den 24 februari 2010 16:07
Till: Carl Diehl
Kopia: relax-users@xxxxxxx
Ämne: Re: Palmer model selection

Hi,

It's strange that your mail bounced.  Did you use a different email
address?  Maybe the mail server was down for a little while :S  As for
your question, did you use the Newton optimisation provided by relax
(via minfx <a  rel="nofollow" href="https://gna.org/projects/minfx/">https://gna.org/projects/minfx/</a>) or did you use relax to
control Art Palmer's Modelfree4 program?  If you have data at more
than one field strength, I would highly recommend you run relax-1.3.4
(or the repository 1.3 version) with the full_analysis.py script and
then compare.  This implements the new protocol I presented in:

d'Auvergne E. J., Gooley P. R. (2007). Set theory formulation of the
model-free problem and the diffusion seeded model-free paradigm. Mol.
Biosyst., 3(7), 483-494. (<a  rel="nofollow" href="http://dx.doi.org/10.1039/b702202f">http://dx.doi.org/10.1039/b702202f</a>)

and:

d'Auvergne, E. J. and Gooley, P. R. (2008). Optimisation of NMR
dynamic models II. A new methodology for the dual optimisation of the
model-free parameters and the Brownian rotational diffusion tensor. J.
Biomol. NMR, 40(2), 121-133.
(<a  rel="nofollow" href="http://dx.doi.org/10.1007/s10858-007-9213-3">http://dx.doi.org/10.1007/s10858-007-9213-3</a>)

The advances implemented in this script solve many, if not all, of the
problems people encounter in a model-free analysis.  And I would be
willing to bet that your results will be at least slightly different
and better after running this!

As for re-implementing the Mandel et al., 1995 model selection in
relax, this depends on if you used relax or Modelfree4 as the
optimisation engine.  In any case, what you can do is develop code
inside your own script to do this.  If it works, then the code can be
tidied up and shifted into the core of relax for the benefit of all
other users (or it can be added as a sample script with your name at
the top, and maybe a in the end reference to help with citation
counts).  The Mandel et al., 1995 paper would be the best reference to
start to implement this.  And Wikipedia would also help.  If you would
like to add code directly to relax to do this, that would be very much
accepted too.

A good starting point would be my old code for implementing this model
selection.  I've looked back at the history and found the file needed.
 It is located in version 0.2 of relax (relax was called mf back
then):

<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/">http://svn.gna.org/viewcvs/relax/</a>

This line was last touched 7 years ago!!!  Since then the file has
been deleted as it no longer was functional.  Luckily having relax in
a repository means that any file from any point of time can be
accessed.  Therefore it can be restored and added back to
generic_fns/model_selection.py.  To make it functional again will
require a lot of work (see my previous message at
<a  rel="nofollow" href="https://mail.gna.org/public/relax-users/2010-02/msg00003.html">https://mail.gna.org/public/relax-users/2010-02/msg00003.html</a>).  But
the file is located at:

<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/0.2/model_selection/palmer.py?rev=298&amp;view=markup">http://svn.gna.org/viewcvs/relax/0.2/model_selection/palmer.py?rev=298&amp;view=markup</a>

Actually, I found that the file was deleted at revision r697 in the
0.3 line.  The most up to date version before deletion is therefore:

<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/0.3/model_selection/palmer.py?rev=696&amp;view=markup">http://svn.gna.org/viewcvs/relax/0.3/model_selection/palmer.py?rev=696&amp;view=markup</a>

I hope this helps!

Cheers,

Edward




On 24 February 2010 12:48, Carl Diehl &lt;Carl.Diehl@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi.

I got a bounce from the gna-server, so I'm sending this again.

At the moment I have a bunch of data sets that have been fitted with 
relax-1.2.14 using the AIC model selection.
My supervisor wants to test the data sets using the Palmer methodology 
instead of using AIC or something similar.

I've used FAST Modelfree before, so for fast results I'm running that at 
the moment.
Since I'm much more used to relax, I'd prefer to use that instead.

In order to add the Chi2 and F-tests, is it possible to do this within a 
relax script or would I need to dig into the source code?

/Carl


________________________________________
Från: Edward d'Auvergne [edward.dauvergne@xxxxxxxxx]
Skickat: den 12 februari 2010 11:34
Till: Carl Diehl
Kopia: relax-users@xxxxxxx
Ämne: Re: Palmer model selection

Hi,

This model selection method used to be supported in relax.  No one has
used it in many, many years, so this code has deteriorated and appears
not to work anymore.  I think this was last used in the 0.3 relax
versions well over 7 years ago.  The deterioration might be related to
relax now using proper STAR format parsing of Art's mfout file.  The
F-tests are only implemented in Modelfree4 and not relax, so this
binary needs to be used as an optimisation engine in relax.

At the moment I don't have the time to repair this.  This requires
minimally the extraction of the chi-squared values and F-test info
from the modelfree4 mfout file.  This code is so old though that it
may require adding the functionality to execute Modelfree4 with the
model pairs to produce the F-test info.  Alternatively if relax is
used as the optimisation engine, the chi-squared and F-tests could be
added directly to relax.  In any case, this won't be trivial.  But if
anyone would like to contribute this functionality, it would be most
welcome for comparisons and historical purposes.  If you require fast
results, I would recommend looking at the FAST ModelFree
(<a  rel="nofollow" href="http://xbeams.chem.yale.edu/~loria/software.php">http://xbeams.chem.yale.edu/~loria/software.php</a>) or Art's scripts.

Regards,

Edward



On 12 February 2010 10:50, Carl Diehl &lt;Carl.Diehl@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi.
Is there any version of relax with a working model selection using the 
Palmer method?
Both in relax-1.2.15 and -1.3.4 the method don't seem to be supported?

If not, how difficult would it be to implement it in relax?

Regards,
Carl Diehl
Biophysical Chemistry
Lund University
_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>

</pre></blockquote><pre style="margin: 0em;">

_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>

</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00023" href="msg00023.html">Re: Palmer model selection</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00002" href="msg00002.html">Palmer model selection</a></strong>
<ul><li><em>From:</em> Carl Diehl</li></ul></li>
<li><strong><a name="00003" href="msg00003.html">Re: Palmer model selection</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00015" href="msg00015.html">SV: Palmer model selection</a></strong>
<ul><li><em>From:</em> Carl Diehl</li></ul></li>
<li><strong><a name="00016" href="msg00016.html">Re: Palmer model selection</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00026" href="msg00026.html">SV: Palmer model selection</a></strong>
<ul><li><em>From:</em> Carl Diehl</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Feb 25 23:40:14 2010</div>  
</body>
</html>
