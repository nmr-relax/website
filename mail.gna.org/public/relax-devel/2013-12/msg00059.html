<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: r21817 &#45; /trunk/lib/spectrum/nmrpipe.py -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Fri, 06 Dec 2013 11:22:03 +0100 -->
<!--X-Message-Id: CAED9pY&#45;2at8tTN4&#45;SgpmnnwQuiRG3qbFeur9M7kuR+rac9t8_w@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1VosLW&#45;0004An&#45;9p@subversion.gna.org -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: r21817 - /trunk/lib/spectrum/nmrpipe.py -- December 06, 2013 - 11:22</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: r21817 - /trunk/lib/spectrum/nmrpipe.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00059" class="tabs">Index by Date</a> | <a href="threads.html#00059" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00058.html">Date Prev</a>] [<a href="msg00060.html">Date Next</a>] [<a href="msg00057.html">Thread Prev</a>] [<a href="msg00060.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Fri, 6 Dec 2013 11:21:30 +0100</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:sender:in-reply-to:references:date:message-id:subject	:from:to:content-type;	bh=6YjTo4YGprsMIg1BAmS9kSCz8sazV4lB1yPsVEjDe60=;	b=XzlKO7LJn5oGeRqUHACa7Egp6kQwH5WJRTPvVc19tpYAsrQi5N+2AWja6DwH2LGt8K	p3jOEu+h6cGcfpv9NXpXXEV+5QcFAX4TAdnZtVWWg60zXeqPILyz3OITw47cjyzEOAdU	72hRLN23bz03abrhsN9qXDWBAhqc/8U+zRjQlA7hCYksBDEuckSSy82upbmgIOmFSKG8	zrT2vu1PwdvkThsR0gWx6MUf/VmxmybmUDbxrF8/pQe39Xybd900ioHltnZ0Y85DbSJP	Xi6PBfYgrOaoylVia5YJu90wstr/t2yZF8ly6WQogmUNuFP6iiu9txwcugjPKQwtOPO3	gpeQ==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00059.html">CAED9pY-2at8tTN4-SgpmnnwQuiRG3qbFeur9M7kuR+rac9t8_w@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1VosLW-0004An-9p@xxxxxxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on December 06, 2013 - 11:22:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Troels,

The raise statement cannot be used here at all.  It is only for
raising errors, and a warning is not an error.  For errors you use
'raise' but for warnings you use 'warn()' instead.  Also note that for
the formatting of warnings and errors in the relax UIs, you will need
to remove the newline character '\n'.  This will otherwise cause
strange behaviour with the colouring in the prompt or the detection of
errors and warnings by the relax controller in the GUI.

Cheers,

Edward




On 6 December 2013 11:09,  &lt;tlinnet@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Author: tlinnet
Date: Fri Dec  6 11:09:17 2013
New Revision: 21817

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=21817&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=21817&amp;view=rev</a>
Log:
Fix for issuing a warning in reading spins from a NMRPipe SeriesTab 
formatted file.

Work in progress for Support Request #3044, 
(<a  rel="nofollow" href="https://gna.org/support/index.php?3044">https://gna.org/support/index.php?3044</a>) - Load spins from SPARKY list.

Modified:
    trunk/lib/spectrum/nmrpipe.py

Modified: trunk/lib/spectrum/nmrpipe.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/lib/spectrum/nmrpipe.py?rev=21817&amp;r1=21816&amp;r2=21817&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/lib/spectrum/nmrpipe.py?rev=21817&amp;r1=21816&amp;r2=21817&amp;view=diff</a>
==============================================================================
--- trunk/lib/spectrum/nmrpipe.py (original)
+++ trunk/lib/spectrum/nmrpipe.py Fri Dec  6 11:09:17 2013
@@ -25,10 +25,12 @@

 # Python module imports.
 import re
+from warnings import warn

 # relax module imports.
 from lib.errors import RelaxError
 from lib.io import open_write_file, strip
+from lib.warnings import RelaxWarning


 def read_seriestab(peak_list=None, file_data=None, int_col=None):
@@ -118,14 +120,14 @@
         try:
             res_name1 = row1[-4]
         except:
-            raise RelaxWarning(&quot;Improperly formatted NMRPipe SeriesTab 
file, cannot process the assignment '%s' for residue name dimension 
1.\nSetting residue name to None.&quot; % line[0])
+            raise warn(RelaxWarning(&quot;Improperly formatted NMRPipe 
SeriesTab file, cannot process the assignment '%s' for residue name 
dimension 1.\nSetting residue name to None.&quot; % line[0]))
             res_name1 = None

         # The residue name for dimension 2.
         try:
             res_name2 = row2[-4]
         except:
-            raise RelaxWarning(&quot;Improperly formatted NMRPipe SeriesTab 
file, cannot process the assignment '%s' for residue name dimension 
2.\nSetting residue name to None.&quot; % line[0])
+            raise warn(RelaxWarning(&quot;Improperly formatted NMRPipe 
SeriesTab file, cannot process the assignment '%s' for residue name 
dimension 2.\nSetting residue name to None.&quot; % line[0]))
             res_name2 = None

         # Get the intensities.


_______________________________________________
relax (<a  rel="nofollow" href="/">http://www.nmr-relax.com</a>)

This is the relax-commits mailing list
relax-commits@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="/mail.gna.org/listinfo/relax-commits">https://mail.gna.org/listinfo/relax-commits</a>
</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Dec 06 11:40:08 2013</div>  
</body>
</html>
