<!-- MHonArc v2.6.18 -->
<!--X-Subject: r24050 &#45; in /branches/disp_spin_speed: ./ specific_analyses/relax_disp/sherekhan.py test_suite/system_tests/relax_disp.py -->
<!--X-From-R13: gyvaargNaze&#45;erynk.pbz -->
<!--X-Date: Tue, 17 Jun 2014 18:24:28 +0200 -->
<!--X-Message-Id: E1WwwBQ&#45;0003zG&#45;0q@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r24050 - in /branches/disp_spin_speed: ./ specific_analyses/relax_disp/sherekhan.py test_suite/system_tests/relax_disp.py -- June 17, 2014 - 18:24</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r24050 - in /branches/disp_spin_speed: ./ specific_analyses/relax_disp/sherekhan.py test_suite/system_tests/relax_disp.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00437" class="tabs">Index by Date</a> | <a href="threads.html#00437" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00436.html">Date Prev</a>] [<a href="msg00438.html">Date Next</a>] [<a href="msg00436.html">Thread Prev</a>] [<a href="msg00438.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Tue, 17 Jun 2014 16:24:27 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00437.html">E1WwwBQ-0003zG-0q@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>tlinnet</strong> on June 17, 2014 - 18:24:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: tlinnet
Date: Tue Jun 17 18:24:27 2014
New Revision: 24050

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=24050&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=24050&amp;view=rev</a>
Log:
Merged revisions 24047-24049 via svnmerge from 
svn+ssh://tlinnet@xxxxxxxxxxx/svn/relax/trunk

........
  r24047 | bugman | 2014-06-17 17:57:06 +0200 (Tue, 17 Jun 2014) | 7 lines
  
  Fixes for the Relax_disp.test_hansen_cpmg_data_missing_auto_analysis system 
test.
  
  The pA parameter is no longer tested for one spin as it moves to random 
values on different
  operating systems and 32 vs. 64-bit systems.  This is because this spin 
experiences no exchange,
  both dw and kex are zero.
........
  r24048 | bugman | 2014-06-17 18:05:23 +0200 (Tue, 17 Jun 2014) | 5 lines
  
  Decreased the value checking precision in the 
Relax_disp.test_hansen_cpmg_data_to_lm63 system test.
  
  This is to allow the test to pass on certain operating systems and 32-bit 
systems.
........
  r24049 | bugman | 2014-06-17 18:22:38 +0200 (Tue, 17 Jun 2014) | 7 lines
  
  Modified the precision of the output from the relax_disp.sherekhan_input 
user function.
  
  This is simply to allow the Relax_disp.test_sod1wt_t25_to_sherekhan_input 
system test to pass on
  certain 32-bit systems, as the float output to 15 decimal places is not 
always the same.  This
  system test has been updated for the change.
........

Modified:
    branches/disp_spin_speed/   (props changed)
    branches/disp_spin_speed/specific_analyses/relax_disp/sherekhan.py
    branches/disp_spin_speed/test_suite/system_tests/relax_disp.py

Propchange: branches/disp_spin_speed/
------------------------------------------------------------------------------
--- svnmerge-integrated (original)
+++ svnmerge-integrated Tue Jun 17 18:24:27 2014
@@ -1 +1 @@
-/trunk:1-24043
+/trunk:1-24049

Modified: branches/disp_spin_speed/specific_analyses/relax_disp/sherekhan.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/disp_spin_speed/specific_analyses/relax_disp/sherekhan.py?rev=24050&amp;r1=24049&amp;r2=24050&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/disp_spin_speed/specific_analyses/relax_disp/sherekhan.py?rev=24050&amp;r1=24049&amp;r2=24050&amp;view=diff</a>
==============================================================================
--- branches/disp_spin_speed/specific_analyses/relax_disp/sherekhan.py  
(original)
+++ branches/disp_spin_speed/specific_analyses/relax_disp/sherekhan.py  Tue 
Jun 17 18:24:27 2014
@@ -130,7 +130,7 @@
                         continue
 
                     # Store the data.
-                    lines.append(&quot;%20.15g %20.15g %20.15g\n&quot; % (point, 
spins[i].r2eff[param_key], spins[i].r2eff_err[param_key]))
+                    lines.append(&quot;%20.15g %20.13g %20.13g\n&quot; % (point, 
spins[i].r2eff[param_key], spins[i].r2eff_err[param_key]))
 
                 # No data.
                 if len(lines) == 1:

Modified: branches/disp_spin_speed/test_suite/system_tests/relax_disp.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/disp_spin_speed/test_suite/system_tests/relax_disp.py?rev=24050&amp;r1=24049&amp;r2=24050&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/disp_spin_speed/test_suite/system_tests/relax_disp.py?rev=24050&amp;r1=24049&amp;r2=24050&amp;view=diff</a>
==============================================================================
--- branches/disp_spin_speed/test_suite/system_tests/relax_disp.py      
(original)
+++ branches/disp_spin_speed/test_suite/system_tests/relax_disp.py      Tue 
Jun 17 18:24:27 2014
@@ -2234,9 +2234,9 @@
         print(&quot;%-20s %20.15g %20.15g %20.15g\n&quot; % (&quot;chi2&quot;, spin4.chi2, 
spin70.chi2, spin71.chi2))
         self.assertAlmostEqual(spin4.r2[r20_key1], 1.60463650370664, 2)
         self.assertAlmostEqual(spin4.r2[r20_key2], 1.63221675941434, 3)
-        self.assertAlmostEqual(spin4.pA, 0.818979078699935, 3)
-        self.assertAlmostEqual(spin4.dw, 5.07483389476542e-14, 3)
-        self.assertAlmostEqual(spin4.kex/10000, 2.29004732365492e-12/10000, 
3)
+        #self.assertAlmostEqual(spin4.pA, 0.818979078699935, 3)    # As dw 
(and kex) is zero, this parameter is not stable.
+        self.assertAlmostEqual(spin4.dw, 0.0, 6)
+        self.assertAlmostEqual(spin4.kex/10000, 0.0, 3)
         self.assertAlmostEqual(spin4.chi2, 26.7356711142038, 3)
         self.assertAlmostEqual(spin70.r2[r20_key1], 6.97268077496405, 3)
         self.assertAlmostEqual(spin70.r2[r20_key2], 9.41028133407727, 3)
@@ -2481,17 +2481,17 @@
         print(&quot;%-20s %20.15g %20.15g\n&quot; % (&quot;chi2&quot;, spin70.chi2, spin71.chi2))
 
         # Checks for residue :70.
-        self.assertAlmostEqual(spin70.r2[r20_key1], 6.7436229263957)
-        self.assertAlmostEqual(spin70.r2[r20_key2], 6.57406788826655)
-        self.assertAlmostEqual(spin70.phi_ex, 0.31273301746411)
-        self.assertAlmostEqual(spin70.kex/1000, 4723.09901154387/1000)
-        self.assertAlmostEqual(spin70.chi2, 363.534044873483)
+        self.assertAlmostEqual(spin70.r2[r20_key1], 6.7436229263957, 5)
+        self.assertAlmostEqual(spin70.r2[r20_key2], 6.57406788826655, 5)
+        self.assertAlmostEqual(spin70.phi_ex, 0.31273301746411, 5)
+        self.assertAlmostEqual(spin70.kex/1000, 4723.09901154387/1000, 5)
+        self.assertAlmostEqual(spin70.chi2, 363.534044873483, 5)
 
         # Checks for residue :71.
-        self.assertAlmostEqual(spin71.r2[r20_key1], 5.00776657729728)
-        self.assertAlmostEqual(spin71.phi_ex, 0.0553787825650613)
-        self.assertAlmostEqual(spin71.kex/1000, 2781.72292994154/1000)
-        self.assertAlmostEqual(spin71.chi2, 17.0776399916287)
+        self.assertAlmostEqual(spin71.r2[r20_key1], 5.00776657729728, 5)
+        self.assertAlmostEqual(spin71.phi_ex, 0.0553787825650613, 5)
+        self.assertAlmostEqual(spin71.kex/1000, 2781.72292994154/1000, 5)
+        self.assertAlmostEqual(spin71.chi2, 17.0776399916287, 5)
 
 
     def test_hansen_cpmg_data_to_ns_cpmg_2site_3D(self):
@@ -5213,37 +5213,37 @@
              &quot;0.06\n&quot;,
              &quot;# nu_cpmg (Hz)       R2eff (rad/s)        Error               
\n&quot;,
              &quot;# G10\n&quot;,
-             &quot;              33.333     26.5355607871143    
0.523610477116325\n&quot;,
-             &quot;              66.667     25.2973524331805    
0.487665741220049\n&quot;,
-             &quot;                 100     25.0947036140261    
0.482043886467136\n&quot;,
-             &quot;             133.333     25.1560327433112    
0.483737728608539\n&quot;,
-             &quot;             166.667     24.2721334175261    
0.459945790439514\n&quot;,
-             &quot;                 200     24.0036412032756    
0.452977319890459\n&quot;,
-             &quot;             266.667      24.035113951682    
0.453788066253567\n&quot;,
-             &quot;                 300     23.0476104002386    
0.429103912055714\n&quot;,
-             &quot;             333.333     22.9553030078664    
0.426874596397214\n&quot;,
-             &quot;                 400     23.0615881066175    
0.429442629362408\n&quot;,
-             &quot;             466.667     22.2679905409231    
0.410680961864409\n&quot;,
-             &quot;             533.333     21.9985141882301    
0.404523210473472\n&quot;,
-             &quot;             666.667     21.1965157095504    
0.386813617383113\n&quot;,
-             &quot;             833.333     20.3093849837925    
0.368260488789867\n&quot;,
-             &quot;                1000     20.2827325260871    
0.367719392568019\n&quot;,
+             &quot;              33.333       26.53556078711      
0.5236104771163\n&quot;,
+             &quot;              66.667       25.29735243318        
0.48766574122\n&quot;,
+             &quot;                 100       25.09470361403      
0.4820438864671\n&quot;,
+             &quot;             133.333       25.15603274331      
0.4837377286085\n&quot;,
+             &quot;             166.667       24.27213341753      
0.4599457904395\n&quot;,
+             &quot;                 200       24.00364120328      
0.4529773198905\n&quot;,
+             &quot;             266.667       24.03511395168      
0.4537880662536\n&quot;,
+             &quot;                 300       23.04761040024      
0.4291039120557\n&quot;,
+             &quot;             333.333       22.95530300787      
0.4268745963972\n&quot;,
+             &quot;                 400       23.06158810662      
0.4294426293624\n&quot;,
+             &quot;             466.667       22.26799054092      
0.4106809618644\n&quot;,
+             &quot;             533.333       21.99851418823      
0.4045232104735\n&quot;,
+             &quot;             666.667       21.19651570955      
0.3868136173831\n&quot;,
+             &quot;             833.333       20.30938498379      
0.3682604887899\n&quot;,
+             &quot;                1000       20.28273252609       
0.367719392568\n&quot;,
              &quot;# D11\n&quot;,
-             &quot;              33.333     24.7652026987816    
0.502647580870618\n&quot;,
-             &quot;              66.667     24.8773107447975    
0.505875291690583\n&quot;,
-             &quot;                 100     24.9035781523886    
0.506634855147857\n&quot;,
-             &quot;             133.333     23.7782506151049    
0.475195058386477\n&quot;,
-             &quot;             166.667       23.68548762076    
0.472701712863089\n&quot;,
-             &quot;                 200     23.5862965161838     
0.47005173776785\n&quot;,
-             &quot;             266.667     23.4773467118709    
0.467160174404351\n&quot;,
-             &quot;                 300     24.0864749377186    
0.483585556059788\n&quot;,
-             &quot;             333.333     22.9831437102859    
0.454291895080121\n&quot;,
-             &quot;                 400     22.8033936156766    
0.449710788558694\n&quot;,
-             &quot;             466.667     22.9163433536603    
0.452583303787421\n&quot;,
-             &quot;             533.333     22.5977414004565    
0.444533431132359\n&quot;,
-             &quot;             666.667     20.9177750759047    
0.404695572604609\n&quot;,
-             &quot;             833.333     20.7179255056613    
0.400236383500742\n&quot;,
-             &quot;                1000     19.5408000634922     
0.37511127518532\n&quot;,
+             &quot;              33.333       24.76520269878      
0.5026475808706\n&quot;,
+             &quot;              66.667        24.8773107448      
0.5058752916906\n&quot;,
+             &quot;                 100       24.90357815239      
0.5066348551479\n&quot;,
+             &quot;             133.333        23.7782506151      
0.4751950583865\n&quot;,
+             &quot;             166.667       23.68548762076      
0.4727017128631\n&quot;,
+             &quot;                 200       23.58629651618      
0.4700517377679\n&quot;,
+             &quot;             266.667       23.47734671187      
0.4671601744044\n&quot;,
+             &quot;                 300       24.08647493772      
0.4835855560598\n&quot;,
+             &quot;             333.333       22.98314371029      
0.4542918950801\n&quot;,
+             &quot;                 400       22.80339361568      
0.4497107885587\n&quot;,
+             &quot;             466.667       22.91634335366      
0.4525833037874\n&quot;,
+             &quot;             533.333       22.59774140046      
0.4445334311324\n&quot;,
+             &quot;             666.667        20.9177750759      
0.4046955726046\n&quot;,
+             &quot;             833.333       20.71792550566      
0.4002363835007\n&quot;,
+             &quot;                1000       19.54080006349      
0.3751112751853\n&quot;,
         ]
 
         # Check data_set_600
@@ -5261,41 +5261,41 @@
              &quot;0.04\n&quot;,
              &quot;# nu_cpmg (Hz)       R2eff (rad/s)        Error               
\n&quot;,
              &quot;# G10\n&quot;,
-             &quot;                  50     22.2808430739251    
0.294496634418347\n&quot;,
-             &quot;                 100     21.9349497776088    
0.291036276830675\n&quot;,
-             &quot;                 150       21.09850032232    
0.282892238351025\n&quot;,
-             &quot;                 200     20.8649396039739    
0.280673785364574\n&quot;,
-             &quot;                 250     20.7528726975239     
0.27961782050157\n&quot;,
-             &quot;                 300     20.2559715240636    
0.275001354698909\n&quot;,
-             &quot;                 350     19.9217216346714    
0.271955575650407\n&quot;,
-             &quot;                 400     19.9771205292184    
0.272457105050968\n&quot;,
-             &quot;                 450      19.468070104149    
0.267897212279303\n&quot;,
-             &quot;                 500      19.768754609467    
0.270577484920253\n&quot;,
-             &quot;                 550      19.391613674016    
0.267221696432671\n&quot;,
-             &quot;                 600     19.0394951769725    
0.264141789969355\n&quot;,
-             &quot;                 650     19.1221881213238    
0.264860505990111\n&quot;,
-             &quot;                 700     19.0103746145652    
0.263889358468269\n&quot;,
-             &quot;                 800     18.8339516290404    
0.262367432114342\n&quot;,
-             &quot;                 900     18.4752997243566     
0.25931236046873\n&quot;,
-             &quot;                1000     18.5252023120967    
0.259734339403753\n&quot;,
+             &quot;                  50       22.28084307393      
0.2944966344183\n&quot;,
+             &quot;                 100       21.93494977761      
0.2910362768307\n&quot;,
+             &quot;                 150       21.09850032232       
0.282892238351\n&quot;,
+             &quot;                 200       20.86493960397      
0.2806737853646\n&quot;,
+             &quot;                 250       20.75287269752      
0.2796178205016\n&quot;,
+             &quot;                 300       20.25597152406      
0.2750013546989\n&quot;,
+             &quot;                 350       19.92172163467      
0.2719555756504\n&quot;,
+             &quot;                 400       19.97712052922       
0.272457105051\n&quot;,
+             &quot;                 450       19.46807010415      
0.2678972122793\n&quot;,
+             &quot;                 500       19.76875460947      
0.2705774849203\n&quot;,
+             &quot;                 550       19.39161367402      
0.2672216964327\n&quot;,
+             &quot;                 600       19.03949517697      
0.2641417899694\n&quot;,
+             &quot;                 650       19.12218812132      
0.2648605059901\n&quot;,
+             &quot;                 700       19.01037461457      
0.2638893584683\n&quot;,
+             &quot;                 800       18.83395162904      
0.2623674321143\n&quot;,
+             &quot;                 900       18.47529972436      
0.2593123604687\n&quot;,
+             &quot;                1000        18.5252023121      
0.2597343394038\n&quot;,
              &quot;# D11\n&quot;,
-             &quot;                  50     22.1540389023659    
0.328558837982667\n&quot;,
-             &quot;                 100     21.8094678174581    
0.324718559871305\n&quot;,
-             &quot;                 150     21.7771541550532    
0.324361526681963\n&quot;,
-             &quot;                 200      21.416474642345    
0.320412202488137\n&quot;,
-             &quot;                 250     21.1709994082239    
0.317761632595752\n&quot;,
-             &quot;                 300     21.0374003057687    
0.316331649666449\n&quot;,
-             &quot;                 350     20.9539364828097    
0.315442766517216\n&quot;,
-             &quot;                 400     20.9331139933186    
0.315221543435985\n&quot;,
-             &quot;                 450     20.1821990522161    
0.307384865529062\n&quot;,
-             &quot;                 500     19.9359906508457    
0.304874469705735\n&quot;,
-             &quot;                 550     19.6847572545207    
0.302342449911335\n&quot;,
-             &quot;                 600     19.3357543393369     
0.29887419287975\n&quot;,
-             &quot;                 650     19.5391569219385    
0.300888619685272\n&quot;,
-             &quot;                 700     19.2018754350981    
0.297558776713363\n&quot;,
-             &quot;                 800      18.823609653682    
0.293886692387814\n&quot;,
-             &quot;                 900     18.7186176123768    
0.292879038013058\n&quot;,
-             &quot;                1000     17.9587804928716    
0.285734172115143\n&quot;,
+             &quot;                  50       22.15403890237      
0.3285588379827\n&quot;,
+             &quot;                 100       21.80946781746      
0.3247185598713\n&quot;,
+             &quot;                 150       21.77715415505       
0.324361526682\n&quot;,
+             &quot;                 200       21.41647464235      
0.3204122024881\n&quot;,
+             &quot;                 250       21.17099940822      
0.3177616325958\n&quot;,
+             &quot;                 300       21.03740030577      
0.3163316496664\n&quot;,
+             &quot;                 350       20.95393648281      
0.3154427665172\n&quot;,
+             &quot;                 400       20.93311399332       
0.315221543436\n&quot;,
+             &quot;                 450       20.18219905222      
0.3073848655291\n&quot;,
+             &quot;                 500       19.93599065085      
0.3048744697057\n&quot;,
+             &quot;                 550       19.68475725452      
0.3023424499113\n&quot;,
+             &quot;                 600       19.33575433934      
0.2988741928798\n&quot;,
+             &quot;                 650       19.53915692194      
0.3008886196853\n&quot;,
+             &quot;                 700        19.2018754351      
0.2975587767134\n&quot;,
+             &quot;                 800       18.82360965368      
0.2938866923878\n&quot;,
+             &quot;                 900       18.71861761238      
0.2928790380131\n&quot;,
+             &quot;                1000       17.95878049287      
0.2857341721151\n&quot;,
         ]
 
         # Check data_set_500



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Jun 17 18:40:03 2014</div>  
</body>
</html>
