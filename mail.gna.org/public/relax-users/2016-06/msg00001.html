<!-- MHonArc v2.6.19+ -->
<!--X-Subject: Re: missing data in relaxation dispersion -->
<!--X-From-R13: "Sqjneq q'Ohiretar" &#60;rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Fri, 03 Jun 2016 12:08:58 +0200 -->
<!--X-Message-Id: CAED9pY_GuWfLQ_ho0eEYUhYF2YsQRvT9NgKRT8dNzRdLiUdHwA@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20160422121850.GA16687@ncbr.ncbr.muni.cz -->
<!--X-Reference: CAED9pY8ejRFU4rhMgzdi6&#45;N_9WO+4B83n4B_xy4Z53+1Ak&#45;aJQ@mail.gmail.com -->
<!--X-Reference: 571A70D7.7030307@ncbr.muni.cz -->
<!--X-Reference: CAED9pY8tj_4au0y5yTewFtG6VMEEq_267tiW0dtwDoVnvb&#45;p5g@mail.gmail.com -->
<!--X-Reference: 20160429095833.GA13945@ncbr.ncbr.muni.cz -->
<!--X-Reference: CAED9pY&#45;P4=06f3JN_T7B3N3P65Y_a7xmZqiwyf8WxgXCVKtZ9g@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: missing data in relaxation dispersion -- June 03, 2016 - 12:08</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: missing data in relaxation dispersion</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00001" class="tabs">Index by Date</a> | <a href="threads.html#00001" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00000.html">Date Prev</a>] [<a href="msg00002.html">Date Next</a>] [<a href="msg00000.html">Thread Prev</a>] [<a href="msg00002.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Petr Padrta &lt;padrta@xxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Fri, 3 Jun 2016 12:08:28 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:from:date:message-id :subject:to:cc; bh=qxK13E2ef0xdpMuGvUAG8cngN27ao2DQtAXUWvCPugI=; b=UkJzST9urYDufQI7mI2Psd3VpWe4QZCy75FPvVQ9F+Jlzuz2P0nZum9BxQQrPZtdtx DifGCCHVnYakeD8biMMd6F6P7Ibnu04nSIoDo1kR9xhEJsf6hpYjQNAi8eov5j1+Fiyd wxhEARdDqc/6rdhyWHykFa5gnZxWfkuHGK4gb0pUsSzxGF72ZRHksPrvuSl1Mejijvfm HIKak/jCOvCvRJFc4bDkS5vgdbnEnzkN4E9gniaExSQgtRsneT5kVvOIyh4xcfHTaRFY m40D+C1bzJDiIsMSdX+FSBqcCA6CkCBEOHTrU5sG8d3v39jFeZyyfOCpsStRKTOjjYiD DwLA==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00001.html">CAED9pY_GuWfLQ_ho0eEYUhYF2YsQRvT9NgKRT8dNzRdLiUdHwA@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;20160422121850.GA16687@ncbr.ncbr.muni.cz&gt; &lt;CAED9pY8ejRFU4rhMgzdi6-N_9WO+4B83n4B_xy4Z53+1Ak-aJQ@mail.gmail.com&gt; &lt;571A70D7.7030307@ncbr.muni.cz&gt; &lt;CAED9pY8tj_4au0y5yTewFtG6VMEEq_267tiW0dtwDoVnvb-p5g@mail.gmail.com&gt; &lt;20160429095833.GA13945@ncbr.ncbr.muni.cz&gt; &lt;CAED9pY-P4=06f3JN_T7B3N3P65Y_a7xmZqiwyf8WxgXCVKtZ9g@mail.gmail.com&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on June 03, 2016 - 12:08:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Petr,

For the new bug report at <a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/bugs/?24675">https://gna.org/bugs/?24675</a>, now looking at
the results I can see that this is actually quite a deliberate
feature.  For reference, I will attach the plots for residues 133 and
134 for the CR2 model as a PDF file to that bug report
(disp_CKIRD_133_N.pdf and disp_CKIRD_134_N.pdf).  For residue 133,
there the blue line can be seen to be the dispersion curve predicted
for the missing 600 MHz data.  For 134, the green line is the
predicted dispersion curve for the 950 MHz data.

The R20 values come from the fitting of the single field strength data
points, and this value is independent of field strength.  So the
predicted curves are perfectly correct - they are exactly where they
are supposed to be.  Assuming the model to be correct, the predicted
curves are what the real data should look like.  So the curves without
measured data are actually quite powerful tools for investigating why
the data is missing.  They are also useful for investigating how well
the model fits to single field strength data.  It is also quite easy
in Grace to double click on the curve and hide it, if desired.
Therefore I think I'll leave the plotting code as it is.

Cheers,

Edward



On 2 May 2016 at 17:37, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">On 29 April 2016 at 11:58, Petr Padrta &lt;padrta@xxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">On Wed, Apr 27, 2016 at 11:27:09AM +0200, Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">On 22 April 2016 at 20:43, Petr Padrta &lt;padrta@xxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward,

OK,  I finally managed to create a bug report on gna with attached 
example.
</pre></blockquote><pre style="margin: 0em;">

Hi Petr,

Thank you for that.  For reference, the report is at
<a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/bugs/?24601">https://gna.org/bugs/?24601</a> .  I have taken your data and script and
created the following relax system test:

$ relax -s Relax_disp.test_bug_24601_r2eff_missing_data

I used this to catch the bug you saw and to fix all the issues.  Note
that it took a bit longer than normal as the first error you saw was
only one of 3.  I also had to update the Monte Carlo simulation error
analysis code, and the Grace plotting code.  I have committed the
changes:

    <a  rel="nofollow" href="http://article.gmane.org/gmane.science.nmr.relax.scm/25955">http://article.gmane.org/gmane.science.nmr.relax.scm/25955</a>

When using this, please carefully check that all is working as
expected.  The system test now passes, however there might be other
strangeness (for example, check your Grace graphs for incorrect data
labels).  For any other issues you see, if you could create a separate
bug report for each, that would be appreciated.  As before, if you
could include truncated data and a script to replicate the issue, that
would be much appreciated as I could then create the system test to
help fix the problem.  The more bugs reported - from critical to
superficial - the smoother we can make the analysis process!  Even
confusing text messages by relax deserve a report.

For obtaining the code, if you need this soon, I would suggest
directly obtaining it from the source code repository:

    <a  rel="nofollow" href="/download.html#Source_code_repository">http://www.nmr-relax.com/download.html#Source_code_repository</a>

The reason is because there are a few newly introduced bugs that I
would like solved before we release relax 4.0.2.  So it might take a
few weeks before the new release is out.

Regards,

Edward
</pre></blockquote><pre style="margin: 0em;">

Hi Edward,

Thanks! I fetched last SVN version (r28204) and so far it seems that your 
new
dispersion code works as expected. The (rhetorical) question is what to do 
with
interpolated dispersion curves from missing B0 fields - they have the right
shape but are shifted along R2eff-axis as their r20 is unknown. Hmm, I can
always delete them from the grace plots. Or maybe I'll do another bug 
report
after some more testing.
</pre></blockquote><pre style="margin: 0em;">

Hi Petr,

A new bug report for such things would be much appreciated.  I can
then list the bugs one after the other and their details in the
release notes.  It also makes it incredibly easy for a developer to
fix the bug if truncated, minimal data sets and a script and/or
instructions are attached to the bug report.  That way a system test
can be quickly constructed to reproducibly capture the bug.  In most
cases where a system test can be set up, the fix then only requires
5-10 minutes to resolve.

Cheers,

Edward
</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00002" href="msg00002.html">Re: missing data in relaxation dispersion</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sat Jun 25 20:00:04 2016</div>  
</body>
</html>
