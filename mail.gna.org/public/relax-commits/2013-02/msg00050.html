<!-- MHonArc v2.6.16 -->
<!--X-Subject: r18378 &#45; in /branches/frame_order_testing: ./ docs/ docs/latex/	test_suite/system_tests/ user_functions/ -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Fri, 01 Feb 2013 22:13:00 +0100 -->
<!--X-Message-Id: E1U1Nuu&#45;0005ds&#45;O1@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r18378 - in /branches/frame_order_testing: ./ docs/ docs/latex/	test_suite/system_tests/ user_functions/ -- February 01, 2013 - 22:13</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r18378 - in /branches/frame_order_testing: ./ docs/ docs/latex/	test_suite/system_tests/ user_functions/</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00050" class="tabs">Index by Date</a> | <a href="threads.html#00050" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00049.html">Date Prev</a>] [<a href="msg00051.html">Date Next</a>] [<a href="msg00049.html">Thread Prev</a>] [<a href="msg00051.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Fri, 01 Feb 2013 21:13:00 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00050.html">E1U1Nuu-0005ds-O1@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on February 01, 2013 - 22:13:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Fri Feb  1 22:13:00 2013
New Revision: 18378

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=18378&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=18378&amp;view=rev</a>
Log:
Merged revisions 18362-18364,18367-18368,18374 via svnmerge from 
svn+ssh://bugman@xxxxxxxxxxx/svn/relax/trunk

........
  r18362 | bugman | 2013-02-01 17:06:40 +0100 (Fri, 01 Feb 2013) | 5 lines
  
  Fix for the Bmrb.test_bug_20471_structure_present system test.
  
  The bmrb.read user function call should and does raise a RelaxError.
........
  r18363 | bugman | 2013-02-01 17:10:35 +0100 (Fri, 01 Feb 2013) | 3 lines
  
  Modified the bmrb.read documentation to make it clearer that the data pipe 
must be empty.
........
  r18364 | bugman | 2013-02-01 17:27:13 +0100 (Fri, 01 Feb 2013) | 3 lines
  
  Another fix for the new Bmrb.test_bug_20471_structure_present system test.
........
  r18367 | bugman | 2013-02-01 18:15:38 +0100 (Fri, 01 Feb 2013) | 6 lines
  
  Merged the relax version 2.2.1 CHANGES file back to trunk.
  
  The command used was:
  svn merge -r18365:18366 svn+ssh://bugman@xxxxxxxxxxx/svn/relax/tags/2.2.1 .
........
  r18368 | bugman | 2013-02-01 18:16:04 +0100 (Fri, 01 Feb 2013) | 3 lines
  
  Updated the release checklist to include the devel_scripts/log_converter.py 
script usage.
........
  r18374 | bugman | 2013-02-01 20:32:35 +0100 (Fri, 01 Feb 2013) | 3 lines
  
  Modified the relax manual subtitle as this is no longer only for relaxation 
analysis.
........

Modified:
    branches/frame_order_testing/   (props changed)
    branches/frame_order_testing/docs/CHANGES
    branches/frame_order_testing/docs/Release_Checklist
    branches/frame_order_testing/docs/latex/relax.tex
    branches/frame_order_testing/test_suite/system_tests/bmrb.py
    branches/frame_order_testing/user_functions/bmrb.py

Propchange: branches/frame_order_testing/
------------------------------------------------------------------------------
--- svnmerge-integrated (original)
+++ svnmerge-integrated Fri Feb  1 22:13:00 2013
@@ -1,1 +1,1 @@
-/trunk:1-18360
+/trunk:1-18377

Modified: branches/frame_order_testing/docs/CHANGES
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/docs/CHANGES?rev=18378&amp;r1=18377&amp;r2=18378&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/docs/CHANGES?rev=18378&amp;r1=18377&amp;r2=18378&amp;view=diff</a>
==============================================================================
--- branches/frame_order_testing/docs/CHANGES (original)
+++ branches/frame_order_testing/docs/CHANGES Fri Feb  1 22:13:00 2013
@@ -1,3 +1,36 @@
+Version 2.2.1
+(01 February 2013, from /trunk)
+<a  rel="nofollow" href="http://svn.gna.org/svn/relax/tags/2.2.1">http://svn.gna.org/svn/relax/tags/2.2.1</a>
+
+    Features:
+        N/A
+
+
+    Changes:
+        * Replaced a reference to freshmeat with Freecode in the Release 
checklist document.  Freshmeat no longer exists and is now called Freecode 
(<a  rel="nofollow" href="http://freecode.com/projects/nmr-relax">http://freecode.com/projects/nmr-relax</a>).  
+        * Created the Mf.test_bug_20464_missing_ri_data system test to catch 
bug #20464.  The data comes from the bug report submitted by Stanislava 
Panova (stpanova att gmail dot com) at <a  rel="nofollow" href="https://gna.org/bugs/?20464">https://gna.org/bugs/?20464</a>.  
+        * Created the Structure.test_bug_sr_2998_broken_conect_records 
system test.  This is to catch the bug reported as service request #2998 
(<a  rel="nofollow" href="https://gna.org/support/?2998">https://gna.org/support/?2998</a>) and is for corrupted PDB files with broken 
CONECT records.
+        * Created the 
Structure.test_bug_20469_scientific_parser_xray_records system test.  This is 
to catch bug #20469 (<a  rel="nofollow" href="https://gna.org/bugs/?20469">https://gna.org/bugs/?20469</a>).
+        * Created the Structure.test_bug_20470_alternate_location_indicator 
system test to catch bug #20470.  This report is at 
<a  rel="nofollow" href="https://gna.org/bugs/?20470">https://gna.org/bugs/?20470</a>.
+        * Created the Structure.test_alt_loc_missing system test.  This is 
to test that the internal relax PDB reader raises an error when a PDB file is 
encountered with alternate location indicators but the alt_loc argument has 
not been specified.
+        * Created the Bmrb.test_bug_20471_structure_present to catch bug 
#20471 (<a  rel="nofollow" href="https://gna.org/bugs/?20471">https://gna.org/bugs/?20471</a>).
+        * Modified the bmrb.read documentation to make it clearer that the 
data pipe must be empty.
+
+
+    Bugfixes:
+        * Python 3 fix for a print statement in the metal_pos_opt.py N-state 
model system test script.  
+        * Python 3 fix for the part of ScientificPython distributed with 
relax (for the PDB parser).  
+        * Python 3 import fixes for the GUI.  
+        * Python 3 fixes for the list sort() method - this has been replaced 
by the builtin sorted() function.  
+        * Fix for bug #20464 (<a  rel="nofollow" href="https://gna.org/bugs/?20464">https://gna.org/bugs/?20464</a>) - the model-free 
analysis failure with missing relaxation data.  The problem was the 
previously missing data had a value of None whereas now the dictionary 
element can be missing.  Checks have been added to make sure the spin 
specific relaxation data structures have the key corresponding to the data.  
+        * Fix for the N_state_model.test_monte_carlo_sims system test.  On 
certain systems, the chi2 check is too stringent.
+        * Fix for the bug reported as the support request #2998 
(<a  rel="nofollow" href="https://gna.org/support/?2998">https://gna.org/support/?2998</a>).  CONECT records pointing to non-existent 
atoms can now be handled.
+        * Fix for bug #20469 (<a  rel="nofollow" href="https://gna.org/bugs/?20469">https://gna.org/bugs/?20469</a>).  This is the 
Failure in reading X-ray PDB files using the ScientificPython parser.  The 
ScientificPython Geometry.Transformation module is now distributed with 
relax.  Some linear algebra imports in the Geometry.TensorModule in newly 
used code paths have been fixed as well.
+        * Fix for bug #20470 (<a  rel="nofollow" href="https://gna.org/bugs/?20470">https://gna.org/bugs/?20470</a>).  The 
structure.read_pdb user function now accepts the alt_loc argument for 
specifying the alternate location indicator to read.  This is used by the 
internal PDB reader.  The bug was caught by the 
Structure.test_bug_20470_alternate_location_indicator system test.
+        * Fix for bug #20471 (<a  rel="nofollow" href="https://gna.org/bugs/?20471">https://gna.org/bugs/?20471</a>) - the is_empty() 
AttributeError when reading BMRB files.  The problem was that the data pipe 
is_empty() method was not handling structural data correctly.  The is_empty() 
method now belongs to the MolContainer objects rather than cdp.structure, and 
the object cdp.structure is not always present.
+
+
+
 Version 2.2.0
 (27 January 2013, from /trunk)
 <a  rel="nofollow" href="http://svn.gna.org/svn/relax/tags/2.2.0">http://svn.gna.org/svn/relax/tags/2.2.0</a>

Modified: branches/frame_order_testing/docs/Release_Checklist
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/docs/Release_Checklist?rev=18378&amp;r1=18377&amp;r2=18378&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/docs/Release_Checklist?rev=18378&amp;r1=18377&amp;r2=18378&amp;view=diff</a>
==============================================================================
--- branches/frame_order_testing/docs/Release_Checklist (original)
+++ branches/frame_order_testing/docs/Release_Checklist Fri Feb  1 22:13:00 
2013
@@ -20,7 +20,10 @@
 
 
 
-* Review the SVN logs and add an entry into the CHANGES file (in the 'docs/' 
directory) for the current release.  Create three sections titled 'Features', 
'Changes', and 'Bugfixes'.  Commit the changes and then port the revision 
back into the main line.
+* Review the SVN logs and add an entry into the CHANGES file (in the 'docs/' 
directory) for the current release.  Create three sections titled 'Features', 
'Changes', and 'Bugfixes'.  Commit the changes and then port the revision 
back into the main line.  The 'devel_scripts/log_converter.py' script can be 
used to generate the documentation, which will need major editing (the 
starting revision is from the CHANGES merge of the previous release):
+
+$ svn log -v -r18314:HEAD &gt; log
+$ devel_scripts/log_converter.py log
 
 
 

Modified: branches/frame_order_testing/docs/latex/relax.tex
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/docs/latex/relax.tex?rev=18378&amp;r1=18377&amp;r2=18378&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/docs/latex/relax.tex?rev=18378&amp;r1=18377&amp;r2=18378&amp;view=diff</a>
==============================================================================
--- branches/frame_order_testing/docs/latex/relax.tex (original)
+++ branches/frame_order_testing/docs/latex/relax.tex Fri Feb  1 22:13:00 2013
@@ -140,10 +140,10 @@
 \vspace{\stretch{2}}
 
 % Subtitle.
-{\huge \textbf{A program for NMR relaxation}}
+{\huge \textbf{Molecular dynamics by}}
 \vspace{\stretch{0.5}}
 
-{\huge \textbf{data analysis}}
+{\huge \textbf{NMR data analysis}}
 \vspace{\stretch{1}}
 
 % Date.

Modified: branches/frame_order_testing/test_suite/system_tests/bmrb.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/test_suite/system_tests/bmrb.py?rev=18378&amp;r1=18377&amp;r2=18378&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/test_suite/system_tests/bmrb.py?rev=18378&amp;r1=18377&amp;r2=18378&amp;view=diff</a>
==============================================================================
--- branches/frame_order_testing/test_suite/system_tests/bmrb.py (original)
+++ branches/frame_order_testing/test_suite/system_tests/bmrb.py Fri Feb  1 
22:13:00 2013
@@ -30,6 +30,7 @@
 # relax module imports.
 from data import Relax_data_store; ds = Relax_data_store()
 import dep_check
+from relax_errors import RelaxError
 from status import Status; status = Status()
 from test_suite.system_tests.base_classes import SystemTestCase
 
@@ -249,7 +250,7 @@
 
         # Load the relaxation data.
         path = status.install_path + 
sep+'test_suite'+sep+'shared_data'+sep+'bmrb'
-        self.interpreter.bmrb.read(file='17226.txt', dir=path, version=None, 
sample_conditions=None)
+        self.assertRaises(RelaxError, self.interpreter.bmrb.read, 
file='17226.txt', dir=path, version=None, sample_conditions=None)
 
 
     def test_rw_bmrb_3_0_model_free(self):

Modified: branches/frame_order_testing/user_functions/bmrb.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/user_functions/bmrb.py?rev=18378&amp;r1=18377&amp;r2=18378&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/user_functions/bmrb.py?rev=18378&amp;r1=18377&amp;r2=18378&amp;view=diff</a>
==============================================================================
--- branches/frame_order_testing/user_functions/bmrb.py (original)
+++ branches/frame_order_testing/user_functions/bmrb.py Fri Feb  1 22:13:00 
2013
@@ -1,6 +1,6 @@
 
###############################################################################
 #                                                                            
 #
-# Copyright (C) 2003-2012 Edward d'Auvergne                                  
 #
+# Copyright (C) 2003-2013 Edward d'Auvergne                                  
 #
 #                                                                            
 #
 # This file is part of the program relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>).         
 #
 #                                                                            
 #
@@ -246,7 +246,7 @@
 )
 # Description.
 uf.desc.append(Desc_container())
-uf.desc[-1].add_paragraph(&quot;This will allow most of the data from a BMRB 
NMR-STAR formatted file to be loaded into the relax data store.  Note that a 
data pipe should be created for storing the data, and that currently only 
model-free data pipes can be used.  Also, only one sample condition can be 
read per relax data pipe.  Therefore if one of the sample conditions is not 
specified and multiple conditions exist in the NMR-STAR file, an error will 
be raised.&quot;)
+uf.desc[-1].add_paragraph(&quot;This will allow most of the data from a BMRB 
NMR-STAR formatted file to be loaded into the relax data store.  Note that an 
empty data pipe should be created for storing the data, and that currently 
only model-free data pipes can be used.  Also, only one sample condition can 
be read per relax data pipe.  Therefore if one of the sample conditions is 
not specified and multiple conditions exist in the NMR-STAR file, an error 
will be raised.&quot;)
 uf.backend = bmrb.read
 uf.menu_text = &quot;&amp;read&quot;
 uf.gui_icon = &quot;oxygen.actions.document-open&quot;



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sat Feb 02 10:00:02 2013</div>  
</body>
</html>
