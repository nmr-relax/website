<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: Failing system test ? -->
<!--X-From-R13: "Sqjneq q'Ohiretar" &#60;rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 10 Jun 2014 11:16:09 +0200 -->
<!--X-Message-Id: CAED9pY&#45;4BJnFBvR80KQwTK9dGMbAQ3jM81w3SCA32qcNo=dWmQ@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CA+CBx2MZSeRH5eEr7EvrR2sV9f6ZN&#45;Naxno&#45;OTV7xYV0RTtXGw@mail.gmail.com -->
<!--X-Reference: CA+CBx2NsynhZmgdYVnvGj+eaQjrYO&#45;fFXaxajpZB6S46+tsxYQ@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Failing system test ? -- June 10, 2014 - 11:16</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Failing system test ?</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00083" class="tabs">Index by Date</a> | <a href="threads.html#00083" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00082.html">Date Prev</a>] [<a href="msg00084.html">Date Next</a>] [<a href="msg00081.html">Thread Prev</a>] [<a href="msg00084.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 10 Jun 2014 11:15:38 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:date:message-id:subject :from:to:cc:content-type:content-transfer-encoding; bh=0PFxjGUg9KAMCToYPgYfUnWH7sjSop9Ls0se4Daon4Y=; b=d+B4j4QcmByw5Lbof4O7AA1IGHLsDYo1TlnssMt5M9I3XcSOJqDazfcc5ifdRhnaPO EwSoPczHmn2NwSaHJXu21QNaYKlqk+nclH3ZLrUJKaG2CK74lxDxNayEeiYp93HCvE5w Q6K1Vzl/N0M35kebbLp59Czb3hVJ+7cbMjFCKPROn4cXkc5gcln7y9cSGeKxciqtawRK XbBxoHTPjgvovA48HpUxveuP331JGpuDJPbh80uW/1eK5IBHtxxbAPHqGrNzw5kFUqJO qsyTBNocr12QjM+NCIAQhCGykVc1MMbduOqcmctxE1JZYarOpLjI3bBpRVX58Ft+tk+e Im8A==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;CAED9pY-4BJnFBvR80KQwTK9dGMbAQ3jM81w3SCA32qcNo=dWmQ@mail.gmail.com&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00080.html">CA+CBx2MZSeRH5eEr7EvrR2sV9f6ZN-Naxno-OTV7xYV0RTtXGw@mail.gmail.com</a>&gt; &lt;<a href="msg00081.html">CA+CBx2NsynhZmgdYVnvGj+eaQjrYO-fFXaxajpZB6S46+tsxYQ@mail.gmail.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on June 10, 2014 - 11:16:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Troels,

Running this system test on a 64-bit Linux system (Mageia 4), I see the 
message:

&quot;&quot;&quot;
Optimised parameter values:
r2a (SQ CPMG - 500.00000000 MHz)         5.100000000000000
r2a (SQ CPMG - 600.00000000 MHz)         5.200000000000000
r2a (SQ CPMG - 700.00000000 MHz)         5.300000000000001
r2b (SQ CPMG - 500.00000000 MHz)        10.100000000000000
r2b (SQ CPMG - 600.00000000 MHz)        10.199999999999999
r2b (SQ CPMG - 700.00000000 MHz)        10.300000000000001
r2a (SQ CPMG - 500.00000000 MHz)         6.100000000000000
r2a (SQ CPMG - 600.00000000 MHz)         6.200000000000000
r2a (SQ CPMG - 700.00000000 MHz)         6.300000000000000
r2b (SQ CPMG - 500.00000000 MHz)        11.099999999999998
r2b (SQ CPMG - 600.00000000 MHz)        11.199999999999999
r2b (SQ CPMG - 700.00000000 MHz)        11.300000000000001
r2a (SQ CPMG - 500.00000000 MHz)         7.100000000000000
r2a (SQ CPMG - 600.00000000 MHz)         7.199999999999999
r2a (SQ CPMG - 700.00000000 MHz)         7.300000000000000
r2b (SQ CPMG - 500.00000000 MHz)        12.100000000000000
r2b (SQ CPMG - 600.00000000 MHz)        12.199999999999999
r2b (SQ CPMG - 700.00000000 MHz)        12.300000000000001
r2a (SQ CPMG - 500.00000000 MHz)         8.100000000000000
r2a (SQ CPMG - 600.00000000 MHz)         8.199999999999999
r2a (SQ CPMG - 700.00000000 MHz)         8.300000000000001
r2b (SQ CPMG - 500.00000000 MHz)        13.100000000000001
r2b (SQ CPMG - 600.00000000 MHz)        13.199999999999999
r2b (SQ CPMG - 700.00000000 MHz)        13.300000000000001
dw                           1.000000000000000
dw                           2.000000000000000
dw                           3.000000000000000
dw                           4.000000000000000
pA                           0.900000000000000
kex                       1000.000000000000000
r2a
('NS CPMG 2-site star full', 'Ala', ':1@N', 'r2a', 'SQ CPMG -
600.00000000 MHz', 5.2, 5.2)
('NS CPMG 2-site star full', 'Ala', ':1@N', 'r2a', 'SQ CPMG -
500.00000000 MHz', 5.1, 5.1)
('NS CPMG 2-site star full', 'Ala', ':1@N', 'r2a', 'SQ CPMG -
700.00000000 MHz', 5.300000000000001, 5.3)
r2b
('NS CPMG 2-site star full', 'Ala', ':1@N', 'r2b', 'SQ CPMG -
600.00000000 MHz', 10.2, 10.2)
('NS CPMG 2-site star full', 'Ala', ':1@N', 'r2b', 'SQ CPMG -
500.00000000 MHz', 10.1, 10.1)
('NS CPMG 2-site star full', 'Ala', ':1@N', 'r2b', 'SQ CPMG -
700.00000000 MHz', 10.3, 10.3)
pA
('NS CPMG 2-site star full', 'Ala', ':1@N', 'pA', 0.90000000000000002, 0.9)
dw
('NS CPMG 2-site star full', 'Ala', ':1@N', 'dw', 1.0, 1.0)
kex
('NS CPMG 2-site star full', 'Ala', ':1@N', 'kex', 1000.0, 1000.0)
Traceback (most recent call last):
  File &quot;/data/relax/relax-trunk/test_suite/system_tests/relax_disp.py&quot;,
line 1017, in test_bug_22146_unpacking_r2a_r2b_cluster_NS_STAR
    
self.setup_bug_22146_unpacking_r2a_r2b_cluster(folder='ns_cpmg_2site_star_full',
model_analyse = MODEL_NS_CPMG_2SITE_STAR_FULL)
  File &quot;/data/relax/relax-trunk/test_suite/system_tests/relax_disp.py&quot;,
line 234, in setup_bug_22146_unpacking_r2a_r2b_cluster
    self.assertAlmostEqual(cur_spin.chi2, 0.0)
AssertionError: 2.4659455670347743e-05 != 0.0 within 7 places
&quot;&quot;&quot;


I guess this is what you see too.  On a 32-bit Linux VM (Mageia 4) I see:

&quot;&quot;&quot;
Traceback (most recent call last):
  File &quot;/data/relax/relax-trunk/test_suite/system_tests/relax_disp.py&quot;,
line 1017, in test_bug_22146_unpacking_r2a_r2b_cluster_NS_STAR
    
self.setup_bug_22146_unpacking_r2a_r2b_cluster(folder='ns_cpmg_2site_star_full',
model_analyse = MODEL_NS_CPMG_2SITE_STAR_FULL)
  File &quot;/data/relax/relax-trunk/test_suite/system_tests/relax_disp.py&quot;,
line 234, in setup_bug_22146_unpacking_r2a_r2b_cluster
    self.assertAlmostEqual(cur_spin.chi2, 0.0)
AssertionError: 2.1641004744754054e-05 != 0.0 within 7 places
&quot;&quot;&quot;


The reason for this is due to truncation artifacts.  The chi-squared
value might be decreased if the data in
test_suite/shared_data/dispersion/bug_22146_unpacking_r2a_r2b_cluster/ns_cpmg_2site_star_full/
is generated on a 64-bit computer and it is output to 15 or more
decimal places.  But the chi-squared value is pretty close to zero, so
you could just decrease the accuracy of the chi2 check to make the
test pass.  It is clear that despite a chi2 value of 2e-5 here, the
code is working correctly and the test should pass.

Regards,

Edward


On 9 June 2014 19:49, Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">At home, I have python 32 bit.

At work, it is 64 bit.

Can that have something to do with it?



2014-06-09 19:32 GMT+02:00 Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt;:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward.

I am experiencing something weird.

At my mac, this passes:

Relax_disp.test_bug_22146_unpacking_r2a_r2b_cluster_NS_STAR

but not at my linux box.

How is it for you?

</pre></blockquote><pre style="margin: 0em;">_______________________________________________
relax (<a  rel="nofollow" href="/">http://www.nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="/mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00080" href="msg00080.html">Failing system test ?</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00081" href="msg00081.html">Re: Failing system test ?</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Jun 10 11:40:12 2014</div>  
</body>
</html>
