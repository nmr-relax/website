<!-- MHonArc v2.6.19+ -->
<!--X-Subject: r28212 &#45; /tags/4.0.2/docs/CHANGES -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Fri, 13 May 2016 16:42:07 +0200 -->
<!--X-Message-Id: E1b1EI3&#45;00033A&#45;Oa@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r28212 - /tags/4.0.2/docs/CHANGES -- May 13, 2016 - 16:42</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r28212 - /tags/4.0.2/docs/CHANGES</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00007" class="tabs">Index by Date</a> | <a href="threads.html#00007" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00006.html">Date Prev</a>] [<a href="msg00008.html">Date Next</a>] [<a href="msg00006.html">Thread Prev</a>] [<a href="msg00008.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Fri, 13 May 2016 14:42:07 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00007.html">E1b1EI3-00033A-Oa@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on May 13, 2016 - 16:42:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Fri May 13 16:42:06 2016
New Revision: 28212

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=28212&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=28212&amp;view=rev</a>
Log:
Updated the CHANGES file for relax 4.0.2.


Modified:
    tags/4.0.2/docs/CHANGES

Modified: tags/4.0.2/docs/CHANGES
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/tags/4.0.2/docs/CHANGES?rev=28212&amp;r1=28211&amp;r2=28212&amp;view=diff">http://svn.gna.org/viewcvs/relax/tags/4.0.2/docs/CHANGES?rev=28212&amp;r1=28211&amp;r2=28212&amp;view=diff</a>
==============================================================================
--- tags/4.0.2/docs/CHANGES     (original)
+++ tags/4.0.2/docs/CHANGES     Fri May 13 16:42:06 2016
@@ -1,3 +1,74 @@
+Version 4.0.2
+(13 May 2016, from /trunk)
+<a  rel="nofollow" href="http://svn.gna.org/svn/relax/tags/4.0.2">http://svn.gna.org/svn/relax/tags/4.0.2</a>
+
+    Features:
+        * Addition of the new user functions system.cd and system.pwd to 
allow the working directory to be changed and displayed.
+        * Addition of the structure.delete_ss user function to remove the 
helix and sheet information from the internal structural object. 
+
+
+    Changes:
+        * Improved formatting for the \yes LaTeX command for the HTML manual 
(www.nmr-relax.com/manual/).  This now inputs the raw HTML character for a 
tick.
+        * The replicate title finding script now processes short titles as 
well.  This shows that the Frame_order.html file will be conflicting and 
overwritten.
+        * Avoidance of a replicated title in the frame order chapter of the 
manual.
+        * Added some unicode characters for improved formatting of the 
CHANGES file.
+        * A number of updates for the release checklist document.  This 
should make it easier to replicate the full release process.
+        * Update the release checklist document.  The version number at 
<a  rel="nofollow" href="http://wiki.nmr-relax.com/Template:Current_version_relax">http://wiki.nmr-relax.com/Template:Current_version_relax</a> also needs to be 
updated for each release.
+        * Added a check for the total argument for the 
frame_order.distribute user function.  The maximum value is 9999, as the PDB 
format cannot accept more models.
+        * Creation of the structure.delete_ss user function.  This simply 
resets the helices and sheets data structures in the internal structural 
object to [].
+        * Updated the copyright notices for 2016.
+        * Created a short Info_box copyright string for displaying in the 
main GUI window.  This shows the full range of copyright dates.
+        * Added the spin_num boolean argument to the structure.load_spins 
user function.  Setting this flag to False will cause the spin number 
information to be ignored when creating the spin containers.  This allows for 
better support of homologous structures but with different PDB atom 
numbering.  The default flag value is True, preserving the old behaviour.
+        * Added support for concatenating atomic positions in the 
structure.load_spins user function.  Together with the spin_num flag set to 
False, this allows for atomic positions to be read from multiple homologous 
structures with different PDB atomic numbering.  The spin containers will be 
created from the first structure, in which the spin is defined, and the 
atomic position from subsequent structures will be appended to the list of 
current atomic positions.
+        * Fix for the Structure.test_read_pdb_internal3 system test.  With 
the new atomic position concatenation support, when called sequentially the 
structure.load_spins user function should always use the same value for the 
ave_pos argument.
+        * In the GUI the userfunctions sys_info() and time() are now grouped 
into a &quot;system&quot; subclass.  This is to prepare for other system related 
functions.
+        * Added a new 16x16 icon for the oxygen folder-favorites icon.
+        * Adding a new file at lib/system.py.  This file will contain 
different functions related to python os and system related functions. For 
example changing directory or printing working directory.
+        * In /lib/__init__.py, adding the filename for system.py.
+        * Renaming the folder-favorites icon.
+        * Deleting the old folder-favorites icon.
+        * Adding a new graphics variable: WIZARD_OXYGEN_PATH, to use oxygen 
icons with size of 200px.
+        * Adding the new user function system.cd.  This is to change the 
current working directory.
+        * Adding a new 200px of oxygen folder-favorites icon. This is to be 
used in the wizard image.
+        * Adding a user function translation for:  This is to catch the new 
naming of these functions.
+        * Adding a new lib.system.pwd() function, to print and return the 
current working directory.
+        * Adding a new user function system.pwd() to print/display the 
current working directory.
+        * Adding new 16x16 px and 200px of the oxygen icon 
folder-development.  This icon is used for displaying the current working 
directory.
+        * Adding a relax GUI menu for changing the current working directory.
+        * Adding a menu item for changing the current working directory.
+        * Adding a verbose True/False for the lib.system.pwd() function.
+        * Storing the current working directory as a GUI variable.
+        * Adding a toolbar button for changing the current working directory.
+        * Adding a verbose flag to lib.system.pwd() function.
+        * Changing to a filedialog for the user function system.cd.
+        * Adding an observer for current working directory.
+        * Modifying the user function system.cd not to show the result to 
STDOUT.
+        * Letting the lib.system.cd function notify the observer, when 
changing directory.
+        * Letting the current working directory be printed in the statusbar 
in the bottom.
+        * Updating self.system_cwd_path when a directory change is observed.
+        * For the four auto-analysis methods, the default results directory 
is now the current working directory instead of the launch directory.
+        * Changing the keyboard shortcut for changing the working directory 
to Ctrl+W.  Since Ctrl+C is often used for copying (from the terminal).
+        * Fix for GUI prompt bug, where ANSI escape characters should not be 
printed when interpreter is inherited from wxPython.
+        * Added a newline character after printing the script.
+        * Optimising the width of the statusbar.
+        * When the user function script is called, a notification of 
pipe_alteration is made.  This will force the GUI to update, and make sure 
that it is up to-date.
+        * Updated the frame order auto-analysis for the time -&gt; system.time 
user function change.
+        * Fix for the GUI status bar element widths.  Fixed widths in pixels 
causes text truncation on many systems, depending on the width of the main 
relax window.  Instead variable widths should be used to allow wxPython to 
more elegantly present the text while minimising truncation.
+        * Created a system test for catching bug #24601.  This is the 
failure of the optimisation of the 'R2eff' dispersion model when peaks are 
missing from one spectrum, as reported by Petr Padrta at 
<a  rel="nofollow" href="https://gna.org/bugs/?24601">https://gna.org/bugs/?24601</a>.  The test uses his data and script to trigger 
the bug.
+        * Simplified the Relax_disp.test_bug_24601_r2eff_missing_data system 
test.  This is to allow the test to catch bug #24601 to complete in a 
reasonable time (2 seconds on one system).
+        * Fix for the independence of the relax library.  As lib.system was 
using the status object, the library independence was broken.  To work around 
this, the module has simply been shifted into the pipe_control package.
+        * Added some missing oxygen icons to allow the relax manual to 
compile.  These are the 128x128 EPS versions of the 
places/folder-development.png and places/folder-favorites.png Oxygen icons 
recently introduced.  For completeness the 32x32, 48x48, and 128x128 PNG 
versions of the icons have also been added.  To help create these EPS icons 
in the future, the graphics/README file has been added with a description of 
the *.eps.gz file creation.
+        * Some more details for the *.eps.gz icon creation process.
+        * Mac OS X fixes for the Structure.test_pca and 
Structure.test_pca_observers system tests.  The eigenvectors on this OS are 
sometimes inverted.  As the sign of the eigenvector is irrelevant, the 
vectors hardcoded into the system tests are now inverted as required.
+
+
+    Bugfixes:
+        * Fix for bug #24218 (<a  rel="nofollow" href="https://gna.org/bugs/?24218">https://gna.org/bugs/?24218</a>).  This is the 
incorrect labelling of alignment tensors by the align_tensor.matrix_angles 
user function when a subset of tensors is specified.  The logic for the 
labels was expanded from being only for all tensors to handling subsets.
+        * Bug fix for the structure.read_pdb user function (bug #24300, 
<a  rel="nofollow" href="https://gna.org/bugs/?24300">https://gna.org/bugs/?24300</a>).  When the merge flag is True, and both multiple 
structures and multiple models are present, the structure.read_pdb user 
function would fail with a RelaxError.  The problem was that the molecule 
index was simply not being updated correctly.
+        * Fix for bug #24601.  This is the failure of the optimisation of 
the 'R2eff' dispersion model when peaks are missing from one spectrum, as 
reported by Petr Padrta at <a  rel="nofollow" href="https://gna.org/bugs/?24601">https://gna.org/bugs/?24601</a>.  To handle the 
missing data, the peak intensity keys are now checked for in the spin 
container peak_intensities data structure.  This is both for the R2eff model 
optimisation as well as the data back-calculation.  A warning is given when 
the key is missing.  The relaxation dispersion base_data_loop() method has 
been modified to now yield the spin ID string, as this is used in the 
warnings.  In addition, the Grace plotting code in the relax library was also 
modified.  When peak intensity keys are missing, some of the Grace plots will 
have no data.  The code will now generate a plot for that data set, but 
detect the missing data and allow an empty plot to be created.
+
+
+
 Version 4.0.1
 (14 December 2015, from /trunk)
 <a  rel="nofollow" href="http://svn.gna.org/svn/relax/tags/4.0.1">http://svn.gna.org/svn/relax/tags/4.0.1</a>



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri May 13 17:00:08 2016</div>  
</body>
</html>
