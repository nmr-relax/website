<!-- MHonArc v2.6.18 -->
<!--X-Subject: r24087 &#45; /branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/ -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Wed, 18 Jun 2014 15:18:51 +0200 -->
<!--X-Message-Id: E1WxFlL&#45;0008S9&#45;34@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r24087 - /branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/ -- June 18, 2014 - 15:18</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r24087 - /branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00474" class="tabs">Index by Date</a> | <a href="threads.html#00474" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00473.html">Date Prev</a>] [<a href="msg00475.html">Date Next</a>] [<a href="msg00473.html">Thread Prev</a>] [<a href="msg00475.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Wed, 18 Jun 2014 13:18:50 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00474.html">E1WxFlL-0008S9-34@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on June 18, 2014 - 15:18:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Wed Jun 18 15:18:50 2014
New Revision: 24087

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=24087&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=24087&amp;view=rev</a>
Log:
Modified all of the dispersion model profiling scripts.

The single() function for timing the single spin target function speed has 
been modified to include
a second outer loop over 100 'spins'.  This means that the timing numbers are 
equivalent to the
cluster timings, as both are then over 100 spins.  This now allows not only 
relax version
differences and model differences to be compared, but also the non-clustered 
and clustered analysis
speeds.


Modified:
    
branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_b14.py
    
branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_cr72.py
    
branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_dpl94.py
    
branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_ns_cpmg_2site_expanded.py
    
branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_tsmfk01.py

Modified: 
branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_b14.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_b14.py?rev=24087&amp;r1=24086&amp;r2=24087&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_b14.py?rev=24087&amp;r1=24086&amp;r2=24087&amp;view=diff</a>
==============================================================================
--- 
branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_b14.py
       (original)
+++ 
branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_b14.py
       Wed Jun 18 15:18:50 2014
@@ -452,9 +452,11 @@
     # Instantiate class
     C1 = Profile(num_spins=num_spins, model=model, r2a=5.0, r2b=10.0, 
dw=3.0, pA=0.9, kex=1000.0, spins_params=['r2a', 'r2b', 'dw', 'pA', 'kex'])
 
-    # Repeat the function call, to simulate minimisation.
-    for i in xrange(iter):
-        chi2 = C1.calc(C1.params)
+    # Loop 100 times for each spin in the clustered analysis (to make the 
timing numbers equivalent).
+    for spin_index in xrange(100):
+        # Repeat the function call, to simulate minimisation.
+        for i in xrange(iter):
+            chi2 = C1.calc(C1.params)
     print(&quot;chi2 single:&quot;, chi2)
 
 

Modified: 
branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_cr72.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_cr72.py?rev=24087&amp;r1=24086&amp;r2=24087&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_cr72.py?rev=24087&amp;r1=24086&amp;r2=24087&amp;view=diff</a>
==============================================================================
--- 
branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_cr72.py
      (original)
+++ 
branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_cr72.py
      Wed Jun 18 15:18:50 2014
@@ -444,9 +444,11 @@
     # Instantiate class
     C1 = Profile(num_spins=num_spins, model=model, r2a=5.0, r2b=10.0, 
dw=3.0, pA=0.9, kex=1000.0, spins_params=['r2a', 'r2b', 'dw', 'pA', 'kex'])
 
-    # Repeat the function call, to simulate minimisation.
-    for i in xrange(iter):
-        chi2 = C1.calc(C1.params)
+    # Loop 100 times for each spin in the clustered analysis (to make the 
timing numbers equivalent).
+    for spin_index in xrange(100):
+        # Repeat the function call, to simulate minimisation.
+        for i in xrange(iter):
+            chi2 = C1.calc(C1.params)
     print(&quot;chi2 single:&quot;, chi2)
 
 

Modified: 
branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_dpl94.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_dpl94.py?rev=24087&amp;r1=24086&amp;r2=24087&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_dpl94.py?rev=24087&amp;r1=24086&amp;r2=24087&amp;view=diff</a>
==============================================================================
--- 
branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_dpl94.py
     (original)
+++ 
branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_dpl94.py
     Wed Jun 18 15:18:50 2014
@@ -440,9 +440,11 @@
     # Instantiate class
     C1 = Profile(num_spins=num_spins, model=model, r2a=5.0, r2b=10.0, 
dw=3.0, pA=0.9, kex=1000.0, spins_params=['r2a', 'r2b', 'dw', 'pA', 'kex'])
 
-    # Repeat the function call, to simulate minimisation.
-    for i in xrange(iter):
-        chi2 = C1.calc(C1.params)
+    # Loop 100 times for each spin in the clustered analysis (to make the 
timing numbers equivalent).
+    for spin_index in xrange(100):
+        # Repeat the function call, to simulate minimisation.
+        for i in xrange(iter):
+            chi2 = C1.calc(C1.params)
     print(&quot;chi2 single:&quot;, chi2)
 
 
@@ -505,4 +507,4 @@
     #model = C1.calc(params)
     #print(model)
 
-test_reshape()
+test_reshape()

Modified: 
branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_ns_cpmg_2site_expanded.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_ns_cpmg_2site_expanded.py?rev=24087&amp;r1=24086&amp;r2=24087&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_ns_cpmg_2site_expanded.py?rev=24087&amp;r1=24086&amp;r2=24087&amp;view=diff</a>
==============================================================================
--- 
branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_ns_cpmg_2site_expanded.py
    (original)
+++ 
branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_ns_cpmg_2site_expanded.py
    Wed Jun 18 15:18:50 2014
@@ -444,9 +444,11 @@
     # Instantiate class
     C1 = Profile(num_spins=num_spins, model=model, r2a=5.0, r2b=10.0, 
dw=3.0, pA=0.9, kex=1000.0, spins_params=['r2a', 'r2b', 'dw', 'pA', 'kex'])
 
-    # Repeat the function call, to simulate minimisation.
-    for i in xrange(iter):
-        chi2 = C1.calc(C1.params)
+    # Loop 100 times for each spin in the clustered analysis (to make the 
timing numbers equivalent).
+    for spin_index in xrange(100):
+        # Repeat the function call, to simulate minimisation.
+        for i in xrange(iter):
+            chi2 = C1.calc(C1.params)
     print(&quot;chi2 single:&quot;, chi2)
 
 

Modified: 
branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_tsmfk01.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_tsmfk01.py?rev=24087&amp;r1=24086&amp;r2=24087&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_tsmfk01.py?rev=24087&amp;r1=24086&amp;r2=24087&amp;view=diff</a>
==============================================================================
--- 
branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_tsmfk01.py
   (original)
+++ 
branches/disp_spin_speed/test_suite/shared_data/dispersion/profiling/profiling_tsmfk01.py
   Wed Jun 18 15:18:50 2014
@@ -443,9 +443,11 @@
     # Instantiate class
     C1 = Profile(num_spins=num_spins, model=model, r2a=5.0, r2b=10.0, 
dw=3.0, pA=0.9, kex=1000.0, spins_params=['r2a', 'r2b', 'dw', 'pA', 'kex'])
 
-    # Repeat the function call, to simulate minimisation.
-    for i in xrange(iter):
-        chi2 = C1.calc(C1.params)
+    # Loop 100 times for each spin in the clustered analysis (to make the 
timing numbers equivalent).
+    for spin_index in xrange(100):
+        # Repeat the function call, to simulate minimisation.
+        for i in xrange(iter):
+            chi2 = C1.calc(C1.params)
     print(&quot;chi2 single:&quot;, chi2)
 
 



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Jun 18 15:40:02 2014</div>  
</body>
</html>
