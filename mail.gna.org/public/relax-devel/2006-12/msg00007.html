<!-- MHonArc v2.6.10 -->
<!--X-Subject: Fwd: Re(2): r2860 &#45;	/branches/test_suite/test_suite/unit_tests/unit_test_runner.py -->
<!--X-From-R13: "tnel gubzcfba" <tnelgNozo.yrrqf.np.hx> -->
<!--X-Date: Sat, 02 Dec 2006 22:30:46 +0100 -->
<!--X-Message-Id: f001463a0612021330u73f2082qe5c2ee479cea5e73@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: f001463a0612021328y522b3933lcbc185de51df2f7d@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Fwd: Re(2): r2860 -	/branches/test_suite/test_suite/unit_tests/unit_test_runner.py -- December 02, 2006 - 22:30</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Fwd: Re(2): r2860 -	/branches/test_suite/test_suite/unit_tests/unit_test_runner.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00007" class="tabs">Index by Date</a> | <a href="threads.html#00007" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00009.html">Date Prev</a>] [<a href="msg00008.html">Date Next</a>] [<a href="msg00009.html">Thread Prev</a>] [<a href="msg00010.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-devel@xxxxxxx, edward.dauvergne@xxxxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Sat, 2 Dec 2006 21:30:08 +0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00007.html">f001463a0612021330u73f2082qe5c2ee479cea5e73@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00009.html">f001463a0612021328y522b3933lcbc185de51df2f7d@mail.gmail.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>gary thompson</strong> on December 02, 2006 - 22:30:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<br><br>---------- Forwarded message ----------<br><span class="gmail_quote">From: <b class="gmail_sendername">gary thompson</b> &lt;<a href="mailto:garyt.and.sarahb@xxxxxxxxx">garyt.and.sarahb@xxxxxxxxx</a>&gt;<br>Date: 02-Dec-2006 21:28
<br>Subject: Re(2): r2860 - /branches/test_suite/test_suite/unit_tests/unit_test_runner.py<br>To: <a href="mailto:relax-devel@xxxxxxx">relax-devel@xxxxxxx</a>, <a href="mailto:edward.dauvergne@xxxxxxxxx">edward.dauvergne@xxxxxxxxx
</a><br><br></span><blockquote style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;" class="gmail_quote"><div>Posted by <strong>Edward d'Auvergne</strong> on December 02, 2006 - 14:28:
</div><blockquote><pre style="margin: 0em;">&gt; I would like a clear distinction between the different classes of<br>&gt; tests so that relax can generate a report in the end.  I.e. all the<br>&gt; unit tests are clustered into a single TestSuite (which can be
<br><br>&gt; composed of multiple TestSuite objects for grouping) and all the<br>&gt; system/functional tests clustered into a single separate TestSuite<br>&gt; object.  Although the system/functional tests could possibly use the
<br><br>&gt; unittest framework, the unit tests and system tests don't have to be<br>&gt; within the same framework.<br>&gt;<br>No indeed and this is one of the thoughts we had.  The TestSuite tree of<br>instances should be something like this
<br></pre><br>
<pre style="margin: 0em;"><br>system_tests<br>|<br>--------------------------------------------<br>|                |            |            |<br>model_selection  jw_mapping   ...          unit_tests<br>                                           |
<br><br>                                           -----------------------------<br>                                           |              |            |<br>                                           test_x         test_y       ...
<br></pre><br>
<tt>(if the tree doesn't display you need to use a monospaced font)
</tt></blockquote><pre style="margin: 0em;"><br>I don't know if I would classify the unit tests as system tests though<br>(for example see <a href="http://en.wikipedia.org/wiki/Unit_testing" target="_blank" >
http://en.wikipedia.org/wiki/Unit_testing<br></a> and<br><a href="http://en.wikipedia.org/wiki/System_testing" target="_blank" >http://en.wikipedia.org/wiki/System_testing
</a>).  Instead I was thinking<br>of the following structure for the tests:</pre></blockquote><div><br>sorry just me not quite thinking as clearly as I should  j your scheme is basically what i was aiming for ;-0
<br></div><br><blockquote style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;" class="gmail_quote"><pre style="margin: 0em;">test suite:<br>   unit tests:<br>       test_relax.py
<br><br>           test 1<br>           test 2<br>       test_float.py<br>           test 1<br>           test 2<br>   system / functional tests:<br>       model-free:<br>           reading:<br>               test 1<br>               test 2
<br><br>           optimisation:<br>               test 1<br>               test 2<br>       reduced spectral density mapping:<br>           test 1<br>           test 2</pre><br><pre style="margin: 0em;">The unit tests can run first, printing a message saying that the tests
<br><br>passed.  Then the system/functional tests can be run, printing a<br>similar message.  For example if both pass the following could be<br>printed (with the unittest print out in between):</pre><br><pre style="margin: 0em;">
Unit tests ................. [ passed ]<br>Functional tests ........... [ passed ]<br>Test suite ................. [ passed ]</pre><br><pre style="margin: 0em;">I.e.  the first ideally tests if all parts of relax work on a function
<br><br>by function level and the second ideally runs all types of analyses on<br>the system level.  There's no need to print out a message for each of<br>the system tests.  relax could however print out '[ OK ]' or '[ passed
<br><br>]' messages for each category of unit and system tests if the<br>--test-suite command line flag is used together with --debug (or some<br>other flag).</pre></blockquote><div><blockquote style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;" class="gmail_quote">

<br><blockquote><pre style="margin: 0em;">&gt; I envisage the system tests to work quite differently in that the<br>&gt; instance 'self.relax' is passed into each test class (this is<br>&gt; essential).  Most of the automatic stuff in the unit tests will be
<br><br>&gt; unnecessary.  For example functions such as<br>&gt; 'get_module_relative_path()', etc. will be unnecessary.</pre><br>
<pre style="margin: 0em;">Indeed this is true  and my plan is to create a super class  which just<br>did test discovery without having to find relative paths etc the root<br>path would just be provided<br></pre></blockquote>

<pre style="margin: 0em;"><br>A base class placed in the base directory 'test_suite'?</pre></blockquote><div><br>yes <br></div><br><blockquote style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;" class="gmail_quote">

<blockquote><pre style="margin: 0em;">(We talked about subclassing TestCase as well so it has an idea of it's<br>directory and the root test_suite directory to give tests places to find<br>data from)<br>
</pre></blockquote><pre style="margin: 0em;"><br>That's probably the best way to do it.  Maybe the modified TestCase<br>could be called RelaxTestCase?</pre></blockquote><div><br>sounds iseal <br></div><br><blockquote style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;" class="gmail_quote">

<blockquote><pre style="margin: 0em;">&gt; Actually on<br>&gt; the subject of these functions, the ones not defined as class methods,<br>&gt; they could all be shifted into the classes and accessed by typing<br><br>&gt; '
self.get_module_relative_path()'.  Apart from the print statements at<br>&gt; the end of 'unit_test_runner.py', these functions are only accessed by<br>&gt; the other class methods.  These may as well be converted to an object
<br><br>&gt; oriented approach.<br>&gt;<br>Now that is an interesting question: Should they go in the class? Most<br>probably. However, should they be virtual methods that can be overidden?<br>Almost definitley not in my opinion (overridden methods should always be
<br><br>designed to be so) So I suggest they go in as static methods of the<br>class [this was my plan anyway I just have to get down to trying it]<br>also most of these methods should be private [they are not part of the
<br>
public interface])<br></pre></blockquote><pre style="margin: 0em;"><br>That sounds like a really good setup.  By static method, do you mean<br>using the @staticmethod function decorator?  If so, is there a<br>benefit?  And by virtual method do you mean a standard class method?
<br></pre></blockquote><div><br>the benefit is that people cant start overriding a static method and claiming that its an interface that we should be maintaining. Also its good style when operating in a function where there is no need to use self such as utility methods. 
e.g here is a quote from <a href="http://www.rexx.com/%7Edkuhlman/python_101/python_101.html" target="_blank" >http://www.rexx.com/~dkuhlman/python_101/python_101.html
</a><br><br>snip----------------------<br><ul><li>Most of the time, almost always, implement plain
<em>instance</em> methods. Implement an instance method whenever the
method needs access to the values that are specific to the
instance or needs to call other methods that have access to
instance specific values.  If the method needs <var>self</var>, then
you probably need an instance method.

<p>

</p></li><li>Implement a <em>class</em> method (1) when the method 
does <em>not</em> need access to instance variables and (2) when you
do not want to require the caller of the method to create an
instance and (3) when the method needs access to class variables.
A class method may be called on either an instance or the class.
A class method gets the class as a first argument, whether it is
called on the class or the instance.  If the method needs access
to the class but does not need self, then think class method.

<p>

</p></li><li>Implement a <em>static</em> method if you merely want to put 
the code of the method within the scope of the class, perhaps for
purposes of organizing your code, but the method needs access to
neither class nor instance variables (though you can access class
variables through the class itself).  A static method may be called
on either an instance or the class.  A static method gets neither
the class nor the instance as an argument.</li></ul></div>unsnip------------------<br><br><blockquote style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;" class="gmail_quote"><pre style="margin: 0em;">
Making the methods private is ok by me.  I haven't used private names,<br>but in the situation where someone is adding tests to the test suite -<br>this would be quite useful.  For sanity, I would use the following<br>ordering of the class methods throughout all of relax.  First would
<br><br>come the special methods 'self.__xxx__()' ordered alphabetically with,<br>of course, 'self.__init__()' as the very first method.  Then in<br>alphabetical order would be the private methods 'self.__xxx()'.<br>Finally, and again alphabetically ordered, would be the standard class
<br><br>methods.</pre><br>can I suggest a slightly different order (if this isn't already set in stone of course, otherwise I will obey ;-)</blockquote><div><br><br>constants<br>variables<br>special methods<br><pre style="margin: 0em;">
standard instance methods (watch out class methods can mean a different thing<br>private variables<br>private methods <br><br>all alphabetically listed<br><br>This makes for a logical ordering for the general reader (i.e. anm extrenal user of the class) as the things any one other that the developer of the class wants to read come first
<br><br><br></pre>
<br></div><br><blockquote style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;" class="gmail_quote"><blockquote><pre style="margin: 0em;">This leads to another question what is the minimum python version that
<br><br>we are aiming for in  the 1.3 branch?</pre><br>
<tt>(i.e. what facilities are available to us)
</tt></blockquote><pre style="margin: 0em;"><br>Which version do people think would be best?  I would say 2.4.  Would<br>you like to start a new thread to discuss this Gary? </pre></blockquote><div><br><br>can do<br>&nbsp;<br>

</div><br><blockquote style="border-left: 1px solid rgb(204, 204, 204); margin: 0pt 0pt 0pt 0.8ex; padding-left: 1ex;" class="gmail_quote"><pre style="margin: 0em;"> It's best that<br>everyone sees this discussion as it would probably be lost in this
<br><br>thread.  I'll respond to the rest in a second post as this is getting<br>too big.</pre><br><pre style="margin: 0em;">Edward</pre></blockquote>







&nbsp;</div><br>









<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00009" href="msg00009.html">Re(2): r2860 -	/branches/test_suite/test_suite/unit_tests/unit_test_runner.py</a></strong>
<ul><li><em>From:</em> gary thompson</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sun Dec 03 03:40:14 2006</div>  
</body>
</html>
