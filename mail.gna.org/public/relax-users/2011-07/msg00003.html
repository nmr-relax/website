<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: R1 and R2 calculation error -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Fri, 01 Jul 2011 13:50:34 +0200 -->
<!--X-Message-Id: BANLkTimVnSd_Sr6t=x5C6xHES0vQx&#45;4bZA@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 4FD807CCC93E4FA3B29FFD78C9D2C79A@AldinoPC -->
<!--X-Reference: BANLkTi=nvOmsJNbArhb1pM1QNitKNgDiZg@mail.gmail.com -->
<!--X-Reference: 618C49E4CFB34EDFB5ED30ECEEE64299@AldinoPC -->
<!--X-Reference: BANLkTi=zBW_1HOa_pAG+z84b6wkTxpZJUA@mail.gmail.com -->
<!--X-Reference: AA3714521CFD4721BD679A1BB8C2E181@AldinoPC -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: R1 and R2 calculation error -- July 01, 2011 - 13:50</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: R1 and R2 calculation error</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00003" class="tabs">Index by Date</a> | <a href="threads.html#00003" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00002.html">Date Prev</a>] [<a href="msg00004.html">Date Next</a>] [<a href="msg00002.html">Thread Prev</a>] [<a href="msg00004.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Aldino &lt;aldinoviegas@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Fri, 1 Jul 2011 13:50:03 +0200</li>
<li class="menuitem">
<em>Cc</em>: relax-users@xxxxxxx</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;	h=mime-version:sender:in-reply-to:references:date	:x-google-sender-auth:message-id:subject:from:to:cc:content-type	:content-transfer-encoding;	bh=esWZKqpkcTj1yHOGCAPy7XZXe+mliHXR6y0nF184l3g=;	b=dEu2aChwZ11iv11xLH3HYQW2BQZsoT92LN8yVQmR7HTQnlTduD2iIIW432JwfGGQq4	0nMD+6Unqn5klZ+IFEoNT4jOjfH0MWesA0VTdUEbUoocmgYrqHAP7Zn7br6DmkHlxaNf	hpEhgfUqsdAhbrzmPZUqbZ+rjUF59tQICFz48=</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00003.html">BANLkTimVnSd_Sr6t=x5C6xHES0vQx-4bZA@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;4FD807CCC93E4FA3B29FFD78C9D2C79A@AldinoPC&gt;	&lt;BANLkTi=nvOmsJNbArhb1pM1QNitKNgDiZg@xxxxxxxxxxxxxx&gt;	&lt;618C49E4CFB34EDFB5ED30ECEEE64299@AldinoPC&gt;	&lt;BANLkTi=zBW_1HOa_pAG+z84b6wkTxpZJUA@xxxxxxxxxxxxxx&gt;	&lt;AA3714521CFD4721BD679A1BB8C2E181@AldinoPC&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on July 01, 2011 - 13:50:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

I have now fixed the bug in the main 1.3 line.  The problem was that
the variable 'ds.relax_gui.sequencefile' did not exist, it had been
renamed.  So I have used your data and successfully calculated the R2
values.  I was wondering if it would be ok to add your truncated data
to the relax test suite so that I could be sure that such a bug never
returns?  It would be much appreciated.

One issue still is that the GUI is not very flexible and you cannot
currently specify which columns of your sequence file correspond to
residue names, residue numbers, spin numbers, etc.  It is hardcoded to
assume that a residue is in the first column :S  The prompt/scripting
based interface does not have this problem and you can have your
sequence data in any format.  This is one of the reasons why I am
currently rewriting the entire GUI - to eliminate such undocumented
inflexibilities.  For the new design you will have to wait.
Unfortunately it will also take me a while before I can release a new
version of relax.  However if you would like to use the fixed code,
you could follow the instructions at
<a  rel="nofollow" href="http://www.nmr-relax.com/download.html#Source_code_repository">http://www.nmr-relax.com/download.html#Source_code_repository</a>.  Note
for the R1 and R2, you will need to have the python development
libraries installed and the scons program (as well as a C compiler).
See the instructions at
<a  rel="nofollow" href="http://www.nmr-relax.com/download.html#Source_code_release">http://www.nmr-relax.com/download.html#Source_code_release</a>.  If this
is not possible and you cannot wait, you could try the relax_fit.py
sample script (in the sample_script directory) and run this from the
command line.

Regards,

Edward



On 27 June 2011 12:44, Aldino &lt;aldinoviegas@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Dear Edward,

I ran relax -g --debug and I got the following:


 File &quot;/home/aldino/Software/relax-1.3.10/gui/analyses/auto_rx_base.py&quot;,
line 438, in execute
  self.execute_thread('dummy')
 File &quot;/home/aldino/Software/relax-1.3.10/gui/analyses/auto_rx_base.py&quot;,
line 463, in execute_thread
  data, complete, missing = self.assemble_data()
 File &quot;/home/aldino/Software/relax-1.3.10/gui/analyses/auto_rx_base.py&quot;,
line 288, in assemble_data
  data.seq_args = [ds.relax_gui.sequencefile, None, None, 1, None, None,
None, None]
AttributeError: 'Gui' object has no attribute 'sequencefile'

It seems that it has some problem with the sequence....

the file I am using is of the type (*.seq):

MET   1
ALA   2
SER   3
ALA   4
...

and it works for the NOE calculation...
In the meanwile I am writing the bug report.

Cheers,
Aldino




-----Mensagem Original----- From: Edward d'Auvergne
Sent: Monday, June 27, 2011 10:08 AM
To: Aldino
Cc: relax-users@xxxxxxx
Subject: Re: R1 and R2 calculation error

Hi,

Thank you for the information.  I've been looking into this problem,
but it is hard to diagnose.  There has been a bug triggered somewhere
in the setup of the data (I think) but as this is running in a thread,
the relax error message is not being caught and reported.  That is the
meaning of &quot;Unhandled exception in thread&quot;.  So the real cause is
lost.  There is a way of bypassing this by using the debug flag.  I.e.
running relax as:

$ relax -g --debug

This will cause the real source of the error to be printed in the
terminal/shell in which you launched relax.  It would be very useful
if you were to report this in a bug report though, including a tiny,
randomised data set which still triggers the bug
(<a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/bugs/?func=additem&amp;group=relax">https://gna.org/bugs/?func=additem&amp;group=relax</a>).  Having the data
will allow me to very quickly reproduce the bug and hopefully have a
fix within ~5 min.

Cheers,

Edward



On 27 June 2011 10:39, Aldino &lt;aldinoviegas@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Dear Edward,

once again, thank you for your reply. This time I´ll make sure the message
goes to the mailing list.
So, here it goes:

I am using the latest Relax version (3.1.10)

Below I send the relax info (also in attach):

                                         relax 1.3.10

                           Molecular dynamics by NMR data analysis

                          Copyright (C) 2001-2006 Edward d'Auvergne
                      Copyright (C) 2006-2011 the relax development team

This is free software which you are welcome to modify and redistribute
under
the conditions of the
GNU General Public License (GPL).  This program, including all modules, is
licensed under the GPL
and comes with absolutely no warranty.  For details type 'GPL' within the
relax prompt.

Assistance in using the relax prompt and scripting interface can be
accessed
by typing 'help' within
the prompt.

Hardware information:
 Machine:                 i686
 Processor:               i686

System information:
 System:                  Linux
 Release:                 2.6.38-8-generic
 Version:                 #42-Ubuntu SMP Mon Apr 11 03:31:50 UTC 2011
 GNU/Linux version:       Ubuntu 11.04 natty
 Distribution:            Ubuntu 11.04 natty
 Full platform string:
Linux-2.6.38-8-generic-i686-with-Ubuntu-11.04-natty

Software information:
 Architecture:            32bit ELF
 Python version:          2.7.1+
 Python branch:           tags/r271
 Python build:            r271:86832, Apr 11 2011 18:05:24
 Python compiler:         GCC 4.5.2
 Python implementation:   CPython
 Python revision:         86832
 Numpy version:           1.5.1
 Libc version:            glibc 2.4

Python packages (most are optional):

Package              Installed       Version         Path
minfx                True            Unknown
/home/aldino/Software/relax-1.3.10/minfx
bmrblib              False
numpy                True            1.5.1
/usr/lib/pymodules/python2.7/numpy
ScientificPython     True            2.8
/usr/lib/python2.7/dist-packages/Scientific
wxPython             True
mpi4py               False
epydoc               False
optparse             True            1.5.3
/usr/lib/python2.7/optparse.pyc
Numeric              False
readline             True
/usr/lib/python2.7/lib-dynload/readline.so
profile              True
/usr/lib/python2.7/profile.pyc
bz2                  True
/usr/lib/python2.7/lib-dynload/bz2.so
gzip                 True
/usr/lib/python2.7/gzip.pyc
os.devnull           True
/usr/lib/python2.7/os.pyc

Compiled relax C modules:
 Relaxation curve fitting: True


In the mean wile I will try to submit a bug report for this.

Thanks,
Aldino

-----Mensagem Original----- From: Edward d'Auvergne
Sent: Wednesday, June 22, 2011 3:35 PM
To: Aldino
Cc: relax-users@xxxxxxx
Subject: Re: R1 and R2 calculation error

Dear Aldino,

Welcome to the relax mailing lists.  The problem you are seeing could
possibly be related to an older version of relax.  Which version are
you using?  Could you copy and paste the output of:

$ relax --info

If you are using version 1.3.9 or earlier, I would recommend trying
out 1.3.10 and see if the problem is solved.  If you are using version
1.3.10, you have encountered a new bug.  If so, would you be able to
submit a bug report for this?  See
<a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/bugs/?func=additem&amp;group=relax">https://gna.org/bugs/?func=additem&amp;group=relax</a>.  I would recommend
including a minimal data set (only data for one or two spins,
randomised if you would like to keep it private) and instructions for
how to trigger the bug.

Cheers,

Edward



On 21 June 2011 18:05, Aldino &lt;aldinoviegas@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Hi!

I have just started using RelaxGUI and I’m having some problems when
trying
to calculate R1 and R2.

For the steady-state NOE everything is alright but when I start the R1
calculation I get:



“Starting R1 calculation

Unhandled exception in thread started by &lt;bound method
Auto_r1.execute_thread of &lt;gui.analyses.auto_r1.Auto_r1 instance at
0xa47556c&gt;&gt;”



The same thing when trying to calculate R2...



“Starting R2 calculation

Unhandled exception in thread started by &lt;bound method
Auto_r2.execute_thread of &lt;gui.analyses.auto_r2.Auto_r2 instance at
0xa46f4cc&gt;&gt;”



Please help...
Thanks,
Aldino



______________________________________________
Aldino Viegas, PhD Student
Dep. Química, REQUIMTE
Faculdade de Ciências e Tecnologia
Universidade Nova de Lisboa
2829-516 Caparica, Portugal

Tlf. +351 212948300
Ext. 10900 Lab. 106-A
aldinoviegas@xxxxxxxxxxxxx
_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>


</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">


</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00004" href="msg00004.html">Re: R1 and R2 calculation error</a></strong>
<ul><li><em>From:</em> Aldino</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Jul 01 15:40:10 2011</div>  
</body>
</html>
