<!-- MHonArc v2.6.16 -->
<!--X-Subject: r19387 &#45; /branches/relax_disp/specific_analyses/relax_disp.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Fri, 05 Apr 2013 17:25:49 +0200 -->
<!--X-Message-Id: E1UO8WT&#45;0003iM&#45;58@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r19387 - /branches/relax_disp/specific_analyses/relax_disp.py -- April 05, 2013 - 17:25</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r19387 - /branches/relax_disp/specific_analyses/relax_disp.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00106" class="tabs">Index by Date</a> | <a href="threads.html#00106" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00105.html">Date Prev</a>] [<a href="msg00107.html">Date Next</a>] [<a href="msg00105.html">Thread Prev</a>] [<a href="msg00107.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Fri, 05 Apr 2013 15:25:49 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00106.html">E1UO8WT-0003iM-58@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on April 05, 2013 - 17:25:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Fri Apr  5 17:25:48 2013
New Revision: 19387

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=19387&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=19387&amp;view=rev</a>
Log:
Converted all relaxation dispersion parameters to lowercase.

This is so the variable names match the parameter names identically, avoiding 
problems with some of
the shared methods of the specific analysis API.


Modified:
    branches/relax_disp/specific_analyses/relax_disp.py

Modified: branches/relax_disp/specific_analyses/relax_disp.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/specific_analyses/relax_disp.py?rev=19387&amp;r1=19386&amp;r2=19387&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/relax_disp/specific_analyses/relax_disp.py?rev=19387&amp;r1=19386&amp;r2=19387&amp;view=diff</a>
==============================================================================
--- branches/relax_disp/specific_analyses/relax_disp.py (original)
+++ branches/relax_disp/specific_analyses/relax_disp.py Fri Apr  5 17:25:48 
2013
@@ -102,7 +102,7 @@
                 # Loop over the model parameters.
                 for i in range(len(spin.params)):
                     # Effective transversal relaxation rate.
-                    if spin.params[i] == 'R2eff':
+                    if spin.params[i] == 'r2eff':
                         if sim_index != None:
                             
param_vector.append(spin.r2eff_sim[key][sim_index])
                         elif spin.r2eff == None or key not in spin.r2eff:
@@ -111,7 +111,7 @@
                             param_vector.append(spin.r2eff[key])
 
                     # Initial intensity.
-                    elif spin.params[i] == 'I0':
+                    elif spin.params[i] == 'i0':
                         if sim_index != None:
                             param_vector.append(spin.i0_sim[key][sim_index])
                         elif spin.i0 == None or key not in spin.i0:
@@ -123,7 +123,7 @@
         spin = spins[0]
         for i in range(len(spin.params)):
             # Transversal relaxation rate.
-            if spin.params[i] == 'R2':
+            if spin.params[i] == 'r2':
                 if sim_index != None:
                     param_vector.append(spin.r2_sim[sim_index])
                 elif spin.r2 == None:
@@ -132,7 +132,7 @@
                     param_vector.append(spin.r2)
 
             # Chemical exchange contribution to 'R2'.
-            if spin.params[i] == 'Rex':
+            if spin.params[i] == 'rex':
                 if sim_index != None:
                     param_vector.append(spin.rex_sim[sim_index])
                 elif spin.rex == None:
@@ -150,7 +150,7 @@
                     param_vector.append(spin.kex)
 
             # Transversal relaxation rate for state A.
-            if spin.params[i] == 'R2A':
+            if spin.params[i] == 'r2a':
                 if sim_index != None:
                     param_vector.append(spin.r2a_sim[sim_index])
                 elif spin.r2a == None:
@@ -159,7 +159,7 @@
                     param_vector.append(spin.r2a)
 
             # Exchange rate from state A to state B.
-            if spin.params[i] == 'kA':
+            if spin.params[i] == 'ka':
                 if sim_index != None:
                     param_vector.append(spin.ka_sim[sim_index])
                 elif spin.ka == None:
@@ -219,11 +219,11 @@
         spin = spins[0]
         for i in range(len(spin.params)):
             # Transversal relaxation rate scaling.
-            if spin.params[i] == 'R2':
+            if spin.params[i] == 'r2':
                 scaling_matrix[param_index, param_index] = 10
 
             # Chemical exchange contribution to 'R2' scaling.
-            elif spin.params[i] == 'Rex':
+            elif spin.params[i] == 'rex':
                 scaling_matrix[param_index, param_index] = 10
 
             # Exchange rate scaling.
@@ -231,11 +231,11 @@
                 scaling_matrix[param_index, param_index] = 10000
 
             # Transversal relaxation rate for state A scaling
-            elif spin.params[i] == 'R2A':
+            elif spin.params[i] == 'r2a':
                 scaling_matrix[param_index, param_index] = 10
 
             # Exchange rate from state A to state B scaling.
-            elif spin.params[i] == 'kA':
+            elif spin.params[i] == 'ka':
                 scaling_matrix[param_index, param_index] = 10000
 
             # Chemical shift difference between states A and B scaling.
@@ -415,14 +415,14 @@
                 # Loop over the model parameters.
                 for i in range(len(spin.params)):
                     # Effective transversal relaxation rate.
-                    if spin.params[i] == 'R2eff':
+                    if spin.params[i] == 'r2eff':
                         if sim_index != None:
                             spin.r2eff_sim[sim_index][key] = 
param_vector[index]
                         else:
                             spin.r2eff[key] = param_vector[index]
 
                     # Initial intensity.
-                    elif spin.params[i] == 'I0':
+                    elif spin.params[i] == 'i0':
                         if sim_index != None:
                             spin.i0_sim[sim_index][key] = 
param_vector[index+1]
                         else:
@@ -432,14 +432,14 @@
         spin = spins[0]
         for i in range(len(spin.params)):
             # Transversal relaxation rate.
-            if spin.params[i] == 'R2':
+            if spin.params[i] == 'r2':
                 if sim_index != None:
                     spin.r2_sim[sim_index] = param_vector[param_index]
                 else:
                     spin.r2 = param_vector[param_index]
 
             # Chemical exchange contribution to 'R2'.
-            if spin.params[i] == 'Rex':
+            if spin.params[i] == 'rex':
                 if sim_index != None:
                     spin.rex_sim[sim_index] = param_vector[param_index]
                 else:
@@ -453,14 +453,14 @@
                     spin.kex = param_vector[param_index]
 
             # Transversal relaxation rate for state A.
-            if spin.params[i] == 'R2A':
+            if spin.params[i] == 'r2a':
                 if sim_index != None:
                     spin.r2a_sim[sim_index] = param_vector[param_index]
                 else:
                     spin.r2a = param_vector[param_index]
 
             # Exchange rate from state A to state B.
-            if spin.params[i] == 'kA':
+            if spin.params[i] == 'ka':
                 if sim_index != None:
                     spin.ka_sim[sim_index] = param_vector[param_index]
                 else:
@@ -622,12 +622,12 @@
                     # Loop over the parameters.
                     for i in range(len(spin.params)):
                         # R2eff relaxation rate (from 0 to 40 s^-1).
-                        if spin.params[i] == 'R2eff':
+                        if spin.params[i] == 'r2eff':
                             lower.append(0.0)
                             upper.append(40.0)
 
                         # Intensity.
-                        elif spin.params[i] == 'I0':
+                        elif spin.params[i] == 'i0':
                             lower.append(0.0)
                             upper.append(max(spin.intensities.values()))
 
@@ -635,12 +635,12 @@
             spin = spins[0]
             for i in range(len(spin.params)):
                 # R2 relaxation rate (from 0 to 40 s^-1).
-                if spin.params[i] == 'R2':
+                if spin.params[i] == 'r2':
                     lower.append(0.0)
                     upper.append(40.0)
 
                 # Chemical exchange contribution to 'R2'.
-                elif spin.params[i] == 'Rex':
+                elif spin.params[i] == 'rex':
                     lower.append(0.0)
                     upper.append(20.0)
 
@@ -650,12 +650,12 @@
                     upper.append(100000.0)
 
                 # Transversal relaxation rate for state A.
-                elif spin.params[i] == 'R2A':
+                elif spin.params[i] == 'r2a':
                     lower.append(0.0)
                     upper.append(20.0)
 
                 # Exchange rate from state A to state B.
-                elif spin.params[i] == 'kA':
+                elif spin.params[i] == 'ka':
                     lower.append(0.0)
                     upper.append(100000.0)
 
@@ -814,7 +814,7 @@
                 # Loop over the parameters.
                 for k in range(len(spin.params)):
                     # The transversal relaxation rate &gt;= 0.
-                    if spin.params[k] == 'R2':
+                    if spin.params[k] == 'r2':
                         A.append(zero_array * 0.0)
                         A[j][i] = 1.0
                         b.append(0.0)
@@ -824,14 +824,14 @@
         spin = spins[0]
         for k in range(len(spin.params)):
             # The transversal relaxation rate &gt;= 0.
-            if spin.params[k] == 'R2':
+            if spin.params[k] == 'r2':
                 A.append(zero_array * 0.0)
                 A[j][i] = 1.0
                 b.append(0.0)
                 j += 1
 
             # Relaxation rates and Rex.
-            elif search('^R', spin.params[k]):
+            elif search('^r', spin.params[k]):
                 # Rex, R2A &gt;= 0.
                 A.append(zero_array * 0.0)
                 A[j][i] = 1.0
@@ -1015,17 +1015,17 @@
         # Fast-exchange regime.
         if model == 'exp_fit':
             print(&quot;Basic exponential curve-fitting.&quot;)
-            params = ['R2eff', 'I0']
+            params = ['r2eff', 'i0']
 
         # Fast-exchange regime.
         elif model == 'fast 2-site':
             print(&quot;2-site fast-exchange.&quot;)
-            params = ['R2eff', 'I0', 'R2', 'Rex', 'kex']
+            params = ['r2eff', 'i0', 'r2', 'rex', 'kex']
 
         # Slow-exchange regime.
         elif model == 'slow 2-site':
             print(&quot;2-site slow-exchange.&quot;)
-            params = ['R2eff', 'I0', 'R2', 'R2A', 'kA', 'dw']
+            params = ['r2eff', 'i0', 'r2', 'r2a', 'ka', 'dw']
 
         # Invalid model.
         else:



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Apr 05 17:40:02 2013</div>  
</body>
</html>
