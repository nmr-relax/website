<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: r11361 &#45; in /branches/bieri_gui:	auto_analyses/dauvergne_protocol.py 	gui_bieri/analyses/auto_model_free.py -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 27 Jul 2010 10:17:33 +0200 -->
<!--X-Message-Id: AANLkTime8yE&#45;&#45;mM6OD0k9__YU0hnKVUc+1oSX0om8ZMd@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1OdbPn&#45;0007l4&#45;2G@subversion.gna.org -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: r11361 - in /branches/bieri_gui:	auto_analyses/dauvergne_protocol.py 	gui_bieri/analyses/auto_model_free.py -- July 27, 2010 - 10:17</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: r11361 - in /branches/bieri_gui:	auto_analyses/dauvergne_protocol.py 	gui_bieri/analyses/auto_model_free.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00021" class="tabs">Index by Date</a> | <a href="threads.html#00021" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00020.html">Date Prev</a>] [<a href="msg00022.html">Date Next</a>] [<a href="msg00020.html">Thread Prev</a>] [<a href="msg00022.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Tue, 27 Jul 2010 10:16:56 +0200</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00021.html">AANLkTime8yE--mM6OD0k9__YU0hnKVUc+1oSX0om8ZMd@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1OdbPn-0007l4-2G@xxxxxxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on July 27, 2010 - 10:17:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Michael,

I have now committed r11366 to the 1.3 line.  This allows
select.read() and deselect.read() to have the DummyFileObject (or any
file handle) passed into them.  Therefore this change is not
necessary.  These types of print statements should also not exist.
Therefore, could you please revert this commit?

Cheers,

Edward


On 27 July 2010 06:05,  &lt;michael.bieri@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Author: michaelbieri
Date: Tue Jul 27 06:05:14 2010
New Revision: 11361

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=11361&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=11361&amp;view=rev</a>
Log:
Function to exclude unresolved spins uses direct relax API commands, as the 
GUI uses a relax dummy file.

Modified:
   branches/bieri_gui/auto_analyses/dauvergne_protocol.py
   branches/bieri_gui/gui_bieri/analyses/auto_model_free.py

Modified: branches/bieri_gui/auto_analyses/dauvergne_protocol.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/bieri_gui/auto_analyses/dauvergne_protocol.py?rev=11361&amp;r1=11360&amp;r2=11361&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/bieri_gui/auto_analyses/dauvergne_protocol.py?rev=11361&amp;r1=11360&amp;r2=11361&amp;view=diff</a>
==============================================================================
--- branches/bieri_gui/auto_analyses/dauvergne_protocol.py (original)
+++ branches/bieri_gui/auto_analyses/dauvergne_protocol.py Tue Jul 27 
06:05:14 2010
@@ -148,6 +148,7 @@
 from float import floatAsByteArray
 from generic_fns.mol_res_spin import generate_spin_id, spin_index_loop, 
spin_loop
 from generic_fns import pipes
+from generic_fns import selection
 from prompt.interpreter import Interpreter
 from relax_errors import RelaxError
 from status import Status
@@ -815,7 +816,8 @@

            # Deselect spins to be excluded (including unresolved and 
specifically excluded spins).
            if self.unres:
-                self.interpreter.deselect.read(file=self.unres, 
spin_id_col=1)
+                selection.desel_read(file=self.unres, dir=None, 
spin_id_col=None, mol_name_col=None, res_num_col=1, res_name_col=None, 
spin_num_col=None, spin_name_col=None, sep=None, spin_id=None, 
boolean='AND', change_all=None)
+                print 'relax&gt; deselect.read(selected residues)'
            if self.exclude:
                self.interpreter.deselect.read(file=self.exclude, 
spin_id_col=1)


Modified: branches/bieri_gui/gui_bieri/analyses/auto_model_free.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/bieri_gui/gui_bieri/analyses/auto_model_free.py?rev=11361&amp;r1=11360&amp;r2=11361&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/bieri_gui/gui_bieri/analyses/auto_model_free.py?rev=11361&amp;r1=11360&amp;r2=11361&amp;view=diff</a>
==============================================================================
--- branches/bieri_gui/gui_bieri/analyses/auto_model_free.py (original)
+++ branches/bieri_gui/gui_bieri/analyses/auto_model_free.py Tue Jul 27 
06:05:14 2010
@@ -847,7 +847,7 @@
        # Redirect relax output and errors to the controller.
        redir = Redirect_text(self.gui.controller)
        sys.stdout = redir
-        sys.stderr = redir
+        #sys.stderr = redir

        # Print a header in the controller.
        wx.CallAfter(self.gui.controller.log_panel.AppendText, ('Starting 
Model-free calculation\n------------------------------------------\n\n') )


_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-commits mailing list
relax-commits@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-commits">https://mail.gna.org/listinfo/relax-commits</a>

</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Jul 27 10:40:22 2010</div>  
</body>
</html>
