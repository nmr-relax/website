<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Development of the relax&#45;disp branch. -->
<!--X-From-R13: Febryf Szgrxæe Zvaarg <gyvaargNtznvy.pbz> -->
<!--X-Date: Sun, 12 May 2013 20:42:34 +0200 -->
<!--X-Message-Id: CA+CBx2Osd0h3s95ny=LfnfoKc+yTUPXC3Fp5LouBe+QA_2_1xg@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: CAED9pY9kV+O_p19tRmhh3ESWWpc9k6VrtkCeKFY9&#45;ijbQrJ70Q@mail.gmail.com -->
<!--X-Reference: CAED9pY&#45;MnbcyDHZ0T6mLCbGaU9LpFArvA9d_1pGf6kA6Bcsh3A@mail.gmail.com -->
<!--X-Reference: CA+CBx2PdT6ZfOrVsGqLJgiwmH0xxu8rh9ef41TPeSW76&#45;RtuBg@mail.gmail.com -->
<!--X-Reference: CAED9pY&#45;iYo2NWDSBsw77mMENeBt0tiKKyjLOLbdbb9+bucy3oA@mail.gmail.com -->
<!--X-Reference: CA+CBx2OjKjGaUx9XsDyEL+&#45;mQ9B==6rj+U3O6swjR7jnwg=b6g@mail.gmail.com -->
<!--X-Reference: CAED9pY8Kyiv4d05pD4x6_C=H_mnW2FLHY0futeHEGHEex4tnSQ@mail.gmail.com -->
<!--X-Reference: CA+CBx2O8FG56SAbxgpZ6o0qU+OZNpDoS3rLkh4pJ0ydaOi4swQ@mail.gmail.com -->
<!--X-Reference: CAED9pY_o6WQbPzTEi90sb5HJNb2sTALpcPKBWdOWDS9BTc_TUw@mail.gmail.com -->
<!--X-Reference: CAED9pY8y47rKH_ykmjrUdDXPWj=VOj3SAOO7PUd04QszBS3xFA@mail.gmail.com -->
<!--X-Reference: CA+CBx2O+3v3WpPs0YAth7U2ipqA1mZfDKPAchCVN2DMojW2hTQ@mail.gmail.com -->
<!--X-Reference: CAED9pY9zyHATZoAsht5CJQei9zENRuSfom0tec3wvGs0QEFo0Q@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Development of the relax-disp branch. -- May 12, 2013 - 20:42</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Development of the relax-disp branch.</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00018" class="tabs">Index by Date</a> | <a href="threads.html#00018" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00017.html">Date Prev</a>] [<a href="msg00019.html">Date Next</a>] [<a href="msg00017.html">Thread Prev</a>] [<a href="msg00019.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Edward d'Auvergne&quot; &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Sun, 12 May 2013 20:41:41 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=x-received:mime-version:in-reply-to:references:from:date:message-id	:subject:to:cc:content-type;	bh=2/03J1vktqwHIEYexqGiWT9CoQxMnv+NysctqKWYWAE=;	b=e6Odv4JPjVDDpxq/mrFYFfWeXvrwaRzRHkjdU+xVDOaFW2zWW+nC9ZEbYykFTO9Oe4	bs3oVAhPXBLHviBEYVJKF2yWR2UOyUNcankovPX7CLxj6Dw1eXGM3QIcYQITgxEHDbfC	IIg8CkOc0mqdGSoZFQNYsUwPcz7HV3s9YUiZz5OKakzrMOd7y810lUYs8yf0CdOU0VqJ	Qiggyg4B4TPBx5wb0jdqzwYaRCs0iYzDqQJ8ChMqiNBL+a5eIOFUCMSi72dZw94DUJcU	Jl53IYJZjSiWTOvAhqXuuVQWZsgebwz/FMGhP/a89RayJ3Ytii9b0IW6hHrYVgokVaU7	787Q==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00018.html">CA+CBx2Osd0h3s95ny=LfnfoKc+yTUPXC3Fp5LouBe+QA_2_1xg@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;CAED9pY9kV+O_p19tRmhh3ESWWpc9k6VrtkCeKFY9-ijbQrJ70Q@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY-MnbcyDHZ0T6mLCbGaU9LpFArvA9d_1pGf6kA6Bcsh3A@xxxxxxxxxxxxxx&gt;	&lt;CA+CBx2PdT6ZfOrVsGqLJgiwmH0xxu8rh9ef41TPeSW76-RtuBg@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY-iYo2NWDSBsw77mMENeBt0tiKKyjLOLbdbb9+bucy3oA@xxxxxxxxxxxxxx&gt;	&lt;CA+CBx2OjKjGaUx9XsDyEL+-mQ9B==6rj+U3O6swjR7jnwg=b6g@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY8Kyiv4d05pD4x6_C=H_mnW2FLHY0futeHEGHEex4tnSQ@xxxxxxxxxxxxxx&gt;	&lt;CA+CBx2O8FG56SAbxgpZ6o0qU+OZNpDoS3rLkh4pJ0ydaOi4swQ@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY_o6WQbPzTEi90sb5HJNb2sTALpcPKBWdOWDS9BTc_TUw@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY8y47rKH_ykmjrUdDXPWj=VOj3SAOO7PUd04QszBS3xFA@xxxxxxxxxxxxxx&gt;	&lt;CA+CBx2O+3v3WpPs0YAth7U2ipqA1mZfDKPAchCVN2DMojW2hTQ@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY9zyHATZoAsht5CJQei9zENRuSfom0tec3wvGs0QEFo0Q@xxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Troels Emtekær Linnet</strong> on May 12, 2013 - 20:42:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Hi Edward.<div><br></div><div>I have a the file</div><div><b>python27.lib</b></div><div>in C:\Python27\libs.</div><div><br></div><div>I still don&#39;t have a clue whats wrong.</div><div>Could it be something with Visual C++ 2005 Express Edition?</div>

<div><br></div><div>I am not sure the installation went correct, since when I do</div><div>Windows Start button-&gt;Microsoft Windows SDK v7.1-&gt;Visual Studio Registration-&gt;Windows SDK Configuration Tool</div><div>Change &quot;Installed Windows SDK Versions:&quot; from v7.1 to 8.0</div>

<div>I get an error: </div><div>&quot;Your system does not have Visual Studio 2005 or  Visual Studio 2008 installed&quot;</div><div><br></div><div>Best<br clear="all"><div><br>Troels Emtekær Linnet<div style="display:inline">

</div></div>
<br><br><div class="gmail_quote">2013/5/11 Edward d&#39;Auvergne <span dir="ltr">&lt;<a rel="nofollow" href="mailto:edward@xxxxxxxxxxxxx" target="_blank">edward@xxxxxxxxxxxxx</a>&gt;</span><br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">

Hi,<br>
<br>
We should be able to get to the bottom of the problem and make this<br>
run.  But setting up the development platform on MS Windows of the<br>
MSVS compiler and Python is always painful.  Because of this I set up<br>
a virtual machine image of Windows 2000 with MSVS 2005 many years ago<br>
and have been using this to build the Windows pre-compiled relax<br>
distributions (<a rel="nofollow" href="http://www.nmr-relax.com/download.html#MS_Windows" target="_blank">http://www.nmr-relax.com/download.html#MS_Windows</a>) ever<br>
since.  I have updated Python to version 2.7 on this vm, but the<br>
compiler setup works and I don&#39;t want to have to set up another<br>
environment.<br>
<br>
>From the error messages, it is clear that this 2012 version of the<br>
Microsoft compiler catches more problems in the code.  The warning:<br>
<div class="im"><br>
c:\python27\github\relax_disp\target_functions\relax_fit.c(137) :<br>
warning C4700: uninitialized local variable &#39;params&#39; used<br>
<br>
</div>may be an issue.  I think this is harmless, but you could try to<br>
comment out line 137 of that file (the call to the exponential()<br>
function) and see if that makes a difference.  This is inside the<br>
dfunc() function which is both non-functional and not used.  This is<br>
supposed to return the gradient of the exponential curve but is not<br>
implemented yet as simplex optimisation, which does not require the<br>
gradient or Hessian, was sufficient for finding the solution for this<br>
2 parameter problem.<br>
<br>
>From these new messages, it is clear that the Python.h file is being<br>
found.  The include /I&quot;C:\Python27\Scripts\..\include&quot; is interesting<br>
as this implies that sys.prefix as seen by scons is set to<br>
&quot;C:\Python27\Scripts\..&quot;.  Although strange, this may not be an issue.<br>
 But when you run Python, you see sys.prefix as &quot;C:\Python27&quot;.<br>
Hmmmm.....<br>
<br>
Maybe the problem is not that Python.h cannot be found, but that the<br>
python32.lib file cannot be found.  Can you see this file in your<br>
C:\Python27\libs\ directory?  You can see that this is used in the<br>
linking command:<br>
<div class="im"><br>
link /nologo /dll /out:target_functions\relax_fit.pyd<br>
</div>/implib:target_functions\relax_fit.lib /LIBPATH:C:\Python27\libs<br>
<div class="im">target_functions\c_chi2.obj target_functions\exponential.obj<br>
target_functions\relax_fit.obj<br>
<br>
</div>On Windows, there should be a python32.lib file in the LIBPATH.<br>
<br>
Regards,<br>
<br>
Edward<br>
<div class="HOEnZb"><div class="h5"><br>
<br>
<br>
<br>
<br>
<br>
On 11 May 2013 12:41, Troels Emtekær Linnet &lt;<a rel="nofollow" href="mailto:tlinnet@xxxxxxxxx">tlinnet@xxxxxxxxx</a>&gt; wrote:<br>
&gt; Hi Edward.<br>
&gt;<br>
&gt; Sigh.<br>
&gt;<br>
&gt; I have looked around for<br>
&gt; &quot;error LNK2019: unresolved external symbol&quot;<br>
&gt; and it seems that many experience the problem.<br>
&gt;<br>
&gt; But there don&#39;t seem to be an universal explanation/bug fix.<br>
&gt; And if I find a thing I would like to try, I really don&#39;t know where to<br>
&gt; start. ? :-)<br>
&gt;<br>
&gt; - &quot;In Visual-Studio most linkage problems are related to forget adding .cpp<br>
&gt; files.&quot;<br>
&gt; - Url 2,  Url3, Url4, Url5, Url6<br>
&gt;<br>
&gt; In the last Url, there is this solution:<br>
&gt; ---<br>
&gt; in the Project properties, set the Platform Toolset to VS2008 (v90) and the<br>
&gt; correct directories depending on your installation (ie : include =&gt;<br>
&gt; C:\Program Files (x86)\Windows Kits\8.0\Include\shared;C:\Program Files<br>
&gt; (x86)\Windows Kits\8.0\Include\um;$(IncludePath) and Libraries =&gt; C:\Program<br>
&gt; Files (x86)\Windows Kits\8.0\Lib\win8\um\x64;$(LibraryPath)). Don&#39;t forget<br>
&gt; to set the .lib in Link entries.<br>
&gt; ---<br>
&gt;<br>
&gt; After installation of Visual Studio 2012, I do have the folder:<br>
&gt; C:\Program Files (x86)\Windows Kits\8.0<br>
&gt;<br>
&gt; I have  attached a text file, how I have installed until now.<br>
&gt;<br>
&gt; I hope we can break this &quot;annoying behaviour?&quot;<br>
&gt; Where should I look, if .ccp files is added ??<br>
&gt;<br>
&gt; Best<br>
&gt; Troels<br>
&gt; ------------------------<br>
&gt;<br>
&gt; C:\Python27\github\relax_disp&gt;scons clean_all<br>
&gt; scons: Reading SConscript files ...<br>
&gt; scons: done reading SConscript files.<br>
&gt; scons: Building targets ...<br>
&gt; clean_manual_files([&quot;manual_clean&quot;], [])<br>
&gt;<br>
&gt; ##########################################<br>
&gt; # Cleaning up the temporary manual files #<br>
&gt; ##########################################<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt; clean_files([&quot;clean&quot;], [])<br>
&gt;<br>
&gt; ###############################<br>
&gt; # Cleaning up temporary files #<br>
&gt; ###############################<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt; Removing the files ending in [&#39;pyc&#39;, &#39;pyo&#39;, &#39;bak&#39;, &#39;o&#39;, &#39;os&#39;, &#39;obj&#39;, &#39;exp&#39;,<br>
&gt; &#39;lib<br>
&gt; &#39;].<br>
&gt;<br>
&gt; Removing temporary relax save state files (of the form<br>
&gt; relax_state_xxxxxxxx_xxxx<br>
&gt; xx.bz2).<br>
&gt;<br>
&gt; Removing the Python 3 __pycache__ directories.<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt; clean_all_files([&quot;clean_all&quot;], [])<br>
&gt;<br>
&gt; #########################<br>
&gt; # Cleaning up all files #<br>
&gt; #########################<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt; Removing the files ending in [&#39;so&#39;, &#39;sconsign&#39;, &#39;dll&#39;, &#39;pyd&#39;].<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt; scons: done building targets.<br>
&gt;<br>
&gt; C:\Python27\github\relax_disp&gt;scons<br>
&gt; scons: Reading SConscript files ...<br>
&gt; scons: done reading SConscript files.<br>
&gt; scons: Building targets ...<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt; ###########################<br>
&gt; # Compiling the C modules #<br>
&gt; ###########################<br>
&gt;<br>
&gt;<br>
&gt; Building the relaxation curve fitting module<br>
&gt; &#39;target_functions\\relax_fit.pyd&#39;<br>
&gt;<br>
&gt; cl /Fotarget_functions\c_chi2.obj /c target_functions\c_chi2.c /nologo<br>
&gt; /I&quot;C:\Pyt<br>
&gt; hon27\Scripts\..\include&quot;<br>
&gt; c_chi2.c<br>
&gt; cl /Fotarget_functions\exponential.obj /c target_functions\exponential.c<br>
&gt; /nologo<br>
&gt;  /I&quot;C:\Python27\Scripts\..\include&quot;<br>
&gt; exponential.c<br>
&gt; cl /Fotarget_functions\relax_fit.obj /c target_functions\relax_fit.c /nologo<br>
&gt; /I&quot;<br>
&gt; C:\Python27\Scripts\..\include&quot;<br>
&gt; relax_fit.c<br>
&gt; c:\python27\github\relax_disp\target_functions\relax_fit.c(137) : warning<br>
&gt; C4700:<br>
&gt;  uninitialized local variable &#39;params&#39; used<br>
&gt; link /nologo /dll /out:target_functions\relax_fit.pyd<br>
&gt; /implib:target_functions\r<br>
&gt; elax_fit.lib /LIBPATH:C:\Python27\libs target_functions\c_chi2.obj<br>
&gt; target_functi<br>
&gt; ons\exponential.obj target_functions\relax_fit.obj<br>
&gt;    Creating library target_functions\relax_fit.lib and object<br>
&gt; target_functions\r<br>
&gt; elax_fit.exp<br>
&gt; relax_fit.obj : error LNK2019: unresolved external symbol<br>
&gt; __imp__PyFloat_FromDou<br>
&gt; ble referenced in function _func<br>
&gt; relax_fit.obj : error LNK2019: unresolved external symbol<br>
&gt; __imp__PyFloat_AsDoubl<br>
&gt; e referenced in function _setup<br>
&gt; relax_fit.obj : error LNK2019: unresolved external symbol __imp__PyList_New<br>
&gt; refe<br>
&gt; renced in function _back_calc_I<br>
&gt; relax_fit.obj : error LNK2019: unresolved external symbol<br>
&gt; __imp__PyList_SetItem<br>
&gt; referenced in function _back_calc_I<br>
&gt; relax_fit.obj : error LNK2019: unresolved external symbol<br>
&gt; __imp__PyArg_ParseTupl<br>
&gt; e referenced in function _func<br>
&gt; relax_fit.obj : error LNK2019: unresolved external symbol<br>
&gt; __imp__PyArg_ParseTupl<br>
&gt; eAndKeywords referenced in function _setup<br>
&gt; relax_fit.obj : error LNK2019: unresolved external symbol<br>
&gt; __imp__Py_InitModule4<br>
&gt; referenced in function _initrelax_fit<br>
&gt; relax_fit.obj : error LNK2019: unresolved external symbol<br>
&gt; __imp__PySequence_GetI<br>
&gt; tem referenced in function _setup<br>
&gt; relax_fit.obj : error LNK2019: unresolved external symbol<br>
&gt; __imp___Py_NoneStruct<br>
&gt; referenced in function _setup<br>
&gt; target_functions\relax_fit.pyd : fatal error LNK1120: 9 unresolved externals<br>
&gt; scons: *** [target_functions\relax_fit.pyd] Error 1120<br>
&gt; scons: building terminated because of errors.<br>
&gt;<br>
&gt; C:\Python27\github\relax_disp&gt;python<br>
&gt; Enthought Python Distribution -- <a rel="nofollow" href="http://www.enthought.com" target="_blank">www.enthought.com</a><br>
&gt; Version: 7.3-2 (64-bit)<br>
&gt;<br>
&gt; Python 2.7.3 |EPD 7.3-2 (64-bit)| (default, Apr 12 2012, 15:20:16) [MSC<br>
&gt; v.1500 6<br>
&gt; 4 bit (AMD64)] on win32<br>
&gt; Type &quot;credits&quot;, &quot;demo&quot; or &quot;enthought&quot; for more information.<br>
&gt;&gt;&gt;&gt; import sys<br>
&gt;&gt;&gt;&gt; from os import path<br>
&gt;&gt;&gt;&gt; print sys.prefix + path.sep + &#39;include&#39;<br>
&gt; C:\Python27\include<br>
&gt;&gt;&gt;&gt;<br>
&gt; C:\Python27\github\relax_disp&gt;dir C:\Python27\include\Python*<br>
&gt;  Directory of C:\Python27\include<br>
&gt;<br>
&gt; 15-04-2013  00:37            21.113 Python-ast.h<br>
&gt; 15-04-2013  00:37             4.329 Python.h<br>
&gt; 15-04-2013  00:37             7.339 pythonrun.h<br>
&gt;                3 File(s)         32.781 bytes<br>
&gt;                0 Dir(s)  60.963.274.752 bytes free<br>
&gt;<br>
&gt; C:\Python27\github\relax_disp&gt;<br>
</div></div></blockquote></div><br></div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00019" href="msg00019.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00002" href="msg00002.html">Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00003" href="msg00003.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00005" href="msg00005.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00007" href="msg00007.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00008" href="msg00008.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00009" href="msg00009.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00012" href="msg00012.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00013" href="msg00013.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00015" href="msg00015.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00016" href="msg00016.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00017" href="msg00017.html">Re: Development of the relax-disp branch.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sun May 12 21:40:06 2013</div>  
</body>
</html>
