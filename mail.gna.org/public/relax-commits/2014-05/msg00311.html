<!-- MHonArc v2.6.18 -->
<!--X-Subject: r23208 &#45; in /branches/frame_order_cleanup/test_suite/shared_data/frame_order/cam: superimpose.log superimpose.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Fri, 16 May 2014 16:36:46 +0200 -->
<!--X-Message-Id: E1WlJFe&#45;0003t1&#45;7w@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r23208 - in /branches/frame_order_cleanup/test_suite/shared_data/frame_order/cam: superimpose.log superimpose.py -- May 16, 2014 - 16:36</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r23208 - in /branches/frame_order_cleanup/test_suite/shared_data/frame_order/cam: superimpose.log superimpose.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00311" class="tabs">Index by Date</a> | <a href="threads.html#00311" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00310.html">Date Prev</a>] [<a href="msg00312.html">Date Next</a>] [<a href="msg00310.html">Thread Prev</a>] [<a href="msg00312.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Fri, 16 May 2014 14:36:46 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00311.html">E1WlJFe-0003t1-7w@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on May 16, 2014 - 16:36:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Fri May 16 16:36:45 2014
New Revision: 23208

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=23208&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=23208&amp;view=rev</a>
Log:
Updated the CaM frame order test model superimposition script.

The structure.superimpose user function is now correctly called.  The output 
log file has been added
to the repository as it contains the correct translation and Euler rotation 
information needed for
the test models.


Added:
    
branches/frame_order_cleanup/test_suite/shared_data/frame_order/cam/superimpose.log
Modified:
    
branches/frame_order_cleanup/test_suite/shared_data/frame_order/cam/superimpose.py

Added: 
branches/frame_order_cleanup/test_suite/shared_data/frame_order/cam/superimpose.log
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/frame_order_cleanup/test_suite/shared_data/frame_order/cam/superimpose.log?rev=23208&amp;view=auto">http://svn.gna.org/viewcvs/relax/branches/frame_order_cleanup/test_suite/shared_data/frame_order/cam/superimpose.log?rev=23208&amp;view=auto</a>
==============================================================================
--- 
branches/frame_order_cleanup/test_suite/shared_data/frame_order/cam/superimpose.log
 (added)
+++ 
branches/frame_order_cleanup/test_suite/shared_data/frame_order/cam/superimpose.log
 Fri May 16 16:36:45 2014
@@ -0,0 +1,101 @@
+
+
+
+                                  relax repository checkout rNone
+                                                None
+
+                              Molecular dynamics by NMR data analysis
+
+                             Copyright (C) 2001-2006 Edward d'Auvergne
+                         Copyright (C) 2006-2014 the relax development team
+
+This is free software which you are welcome to modify and redistribute under 
the conditions of the
+GNU General Public License (GPL).  This program, including all modules, is 
licensed under the GPL
+and comes with absolutely no warranty.  For details type 'GPL' within the 
relax prompt.
+
+Assistance in using the relax prompt and scripting interface can be accessed 
by typing 'help' within
+the prompt.
+
+Processor fabric:  Uni-processor.
+
+script = 'superimpose.py'
+----------------------------------------------------------------------------------------------------
+# Script for superimposing the C-domain structures to convert the pivoted 
rotation to a translation + CoM rotation.
+
+# Create a data pipe.
+pipe.create('superimpose', 'N-state')
+
+# Load the two structures.
+structure.read_pdb('1J7P_1st_NH.pdb', set_mol_name='C-dom', set_model_num=1)
+structure.read_pdb('1J7P_1st_NH_rot.pdb', set_mol_name='C-dom', 
set_model_num=2)
+
+# Superimpose.
+structure.superimpose(method='fit to first', centre_type='CoM')
+
+# Save the result.
+structure.write_pdb('superimpose.pdb', force=True)
+----------------------------------------------------------------------------------------------------
+
+relax&gt; pipe.create(pipe_name='superimpose', pipe_type='N-state', bundle=None)
+
+relax&gt; structure.read_pdb(file='1J7P_1st_NH.pdb', dir=None, read_mol=None, 
set_mol_name='C-dom', read_model=None, set_model_num=1, alt_loc=None, 
merge=False)
+
+Internal relax PDB parser.
+Opening the file '1J7P_1st_NH.pdb' for reading.
+Adding molecule 'C-dom' to model 1 (from the original molecule number 1 of 
model None)
+
+relax&gt; structure.read_pdb(file='1J7P_1st_NH_rot.pdb', dir=None, 
read_mol=None, set_mol_name='C-dom', read_model=None, set_model_num=2, 
alt_loc=None, merge=False)
+
+Internal relax PDB parser.
+Opening the file '1J7P_1st_NH_rot.pdb' for reading.
+Adding molecule 'C-dom' to model 2 (from the original molecule number 1 of 
model None)
+
+relax&gt; structure.superimpose(models=None, method='fit to first', 
atom_id=None, centre_type='CoM', centroid=None)
+Validating models:
+       All models are consistent
+
+Superimposition of structural models [1, 2] using the 'fit to first' 
algorithm.
+Calculating the centre of mass.
+    Total mass:      M = 1085.12894
+    Centre of mass:  R = array([ 48.105998313011526,  -9.256453511856387,  
30.742193705588587])
+Calculating the centre of mass.
+    Total mass:      M = 1085.12894
+    Centre of mass:  R = array([ 26.83678090574195 , -12.379064173184801,  
28.341541283932589])
+
+
+Calculating the rotational and translational displacements from model 1 to 
model 2 using the Kabsch algorithm.
+
+Start CoM:               [  48.105998313011526,   -9.256453511856387,   
30.742193705588587]
+End CoM:                 [  26.836780905741950,  -12.379064173184801,   
28.341541283932589]
+Translation vector:      [ -21.269217407269576,   -3.122610661328414,   
-2.400652421655998]
+Translation distance:    21.630844609250556
+Rotation matrix:
+   [[  -0.313343039541484,    0.937381760589709,    0.152090678493596]
+    [  -0.889228800536162,   -0.233411682389844,   -0.393435035070547]
+    [  -0.333299084709100,   -0.258523541360706,    0.906684784638187]]
+Rotation axis:           [   0.071200484289399,    0.256167842033371,   
-0.964006497771110]
+Rotation euler angles:   [   5.623469076122531,    0.435439405668396,    
5.081265529106499]
+Rotation angle (deg):    108.665039652996725
+
+relax&gt; structure.write_pdb(file='superimpose.pdb', dir=None, model_num=None, 
compress_type=0, force=True)
+Opening the file 'superimpose.pdb' for writing.
+
+Creating the PDB records
+
+REMARK
+HET
+HETNAM
+FORMUL
+
+MODEL 1
+ATOM, HETATM, TER
+ENDMDL
+
+MODEL 2
+ATOM, HETATM, TER
+ENDMDL
+CONECT
+
+MASTER
+END
+

Modified: 
branches/frame_order_cleanup/test_suite/shared_data/frame_order/cam/superimpose.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/frame_order_cleanup/test_suite/shared_data/frame_order/cam/superimpose.py?rev=23208&amp;r1=23207&amp;r2=23208&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/frame_order_cleanup/test_suite/shared_data/frame_order/cam/superimpose.py?rev=23208&amp;r1=23207&amp;r2=23208&amp;view=diff</a>
==============================================================================
--- 
branches/frame_order_cleanup/test_suite/shared_data/frame_order/cam/superimpose.py
  (original)
+++ 
branches/frame_order_cleanup/test_suite/shared_data/frame_order/cam/superimpose.py
  Fri May 16 16:36:45 2014
@@ -8,7 +8,7 @@
 structure.read_pdb('1J7P_1st_NH_rot.pdb', set_mol_name='C-dom', 
set_model_num=2)
 
 # Superimpose.
-structure.superimpose(method='fit to first', centre='CoM')
+structure.superimpose(method='fit to first', centre_type='CoM')
 
 # Save the result.
 structure.write_pdb('superimpose.pdb', force=True)



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri May 16 17:00:02 2014</div>  
</body>
</html>
