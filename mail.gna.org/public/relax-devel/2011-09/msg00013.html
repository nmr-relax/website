<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: CST branch -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 20 Sep 2011 18:38:20 +0200 -->
<!--X-Message-Id: CAED9pY9Y&#45;RdueXxcFf_=Xi4yBrHK4NbwtD_gJpr0&#45;g2QjUxC=A@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: p2l6052a51004080823g94a64268lf8af8d3e332c2a03@mail.gmail.com -->
<!--X-Reference: j2i7f080ed11004120000r80bba9bch9556be67b0c1707@mail.gmail.com -->
<!--X-Reference: g2v6052a51004131048sb5c01509sfc9a77045ad33310@mail.gmail.com -->
<!--X-Reference: r2g7f080ed11004131113mb209905eh63ff1eb61c171fee@mail.gmail.com -->
<!--X-Reference: l2q6052a51004301221h9ad09886ha016465129beb516@mail.gmail.com -->
<!--X-Reference: g2m7f080ed11005050153y2ad8b4bfjb4eb8191b0efd0cc@mail.gmail.com -->
<!--X-Reference: AANLkTin4nzkkOCxs94vUKCpT00R7ak22gLaL5rK&#45;VjPN@mail.gmail.com -->
<!--X-Reference: AANLkTinF4yNXoJQS&#45;rd81VBi3keRURUNeb&#45;_GdkxqqsG@mail.gmail.com -->
<!--X-Reference: AANLkTinibyBQvsoG1&#45;0vmzOXFmRJxD95VMF3eGxzSMMB@mail.gmail.com -->
<!--X-Reference: AANLkTimFT0&#45;Kbgdz_U5LeOW5Ln22mPBZBC8FL68n6CeF@mail.gmail.com -->
<!--X-Reference: AANLkTikhknBoHTc7B7GCRULkrEnxSx+PpqPP=x6KrDOH@mail.gmail.com -->
<!--X-Reference: AANLkTim0B&#45;E6kMW9Nn47o+u+atxrm38540u1Xhaoe6j0@mail.gmail.com -->
<!--X-Reference: AANLkTi=m5S08Nd1F5VDnMGTOu2s+j2Euz1t&#45;ytw0zOAf@mail.gmail.com -->
<!--X-Reference: AANLkTinxUWLu2N19dc3eaPgh22igv_SGy=6qmVnJN=Qj@mail.gmail.com -->
<!--X-Reference: AANLkTik0K3B7huKE8hJtAkXL_yzJmNa9BFxfczu8Sfx9@mail.gmail.com -->
<!--X-Reference: AANLkTin1JfUtMoVqR4c&#45;5dRHTf58N&#45;FAcv4_bc=LpH2b@mail.gmail.com -->
<!--X-Reference: AANLkTimBsSm504qysJd8&#45;e0O_thUdcwvciKrNhMTdoQW@mail.gmail.com -->
<!--X-Reference: AANLkTikf&#45;g23EPV+R2&#45;7inSpXbT5fqv5vDO8nL+DZrwA@mail.gmail.com -->
<!--X-Reference: AANLkTikNh5FTMmeQPqkSiX8ieG5oUw5UcuG83k8PeAiM@mail.gmail.com -->
<!--X-Reference: AANLkTimADCpNAJG4Pg02_UukH5hFW5eQfr&#45;SymzqXrc=@mail.gmail.com -->
<!--X-Reference: AANLkTi=8_288HiMhVQDwpFUCqMp+aBotECez44s44q7z@mail.gmail.com -->
<!--X-Reference: AANLkTi=vSTA2B&#45;jpTzShJab84W=&#45;z1YBzvhW10wTXg_P@mail.gmail.com -->
<!--X-Reference: AANLkTikXiEtqtDWOycdJdyYSG+KfxAARiXhtDwrQm_v+@mail.gmail.com -->
<!--X-Reference: AANLkTinWS1m+j069Y+sTXrae&#45;J5DamkkNTp&#45;Wx8u7OTX@mail.gmail.com -->
<!--X-Reference: AANLkTinNsF7fA3Va=&#45;63bYBE3EoOeZ21OOO8ZYunU0uR@mail.gmail.com -->
<!--X-Reference: AANLkTinw8sg3staDqr+=mBGqLgB0joQwKzKbFNGY_5sF@mail.gmail.com -->
<!--X-Reference: AANLkTi=aZJDUcj0+p_0Or_P1v3xwSvk=7=s=+DjHFRcA@mail.gmail.com -->
<!--X-Reference: AANLkTinB0kczjTRe5etQtviQ0p9sxu&#45;fmeh3FJ&#45;Lx6Pg@mail.gmail.com -->
<!--X-Reference: AANLkTikwqUH6Z&#45;NmxNmj02ysSaYYAQ_cuS5&#45;kJ6K4U5u@mail.gmail.com -->
<!--X-Reference: AANLkTikZXALuxeob=_YvJjE5&#45;ZyRrLTNqG&#45;wTf_nxgqf@mail.gmail.com -->
<!--X-Reference: AANLkTi=o2jzDfj+Y=WMMBTL=YpOT++n2X0sN=G4_S25+@mail.gmail.com -->
<!--X-Reference: AANLkTimthyxNok+Fsv94fnF8JVdia6VXJ6M0sDQYAAzT@mail.gmail.com -->
<!--X-Reference: AANLkTinydi7mCO0EeWvGOOyOw1a_h3f3618tC_+9FOF5@mail.gmail.com -->
<!--X-Reference: AANLkTimyoJqYWVk8Y7x3Y5UDWr_GaMa_dDVJ9492OEht@mail.gmail.com -->
<!--X-Reference: AANLkTi=DQ9KGP+e0ONhZ66XhSzKhuQzFoQcQNwXnVsgG@mail.gmail.com -->
<!--X-Reference: AANLkTind0EOBhSi_G=M_+LVY_WmLC=03f0&#45;TMrvzs6zs@mail.gmail.com -->
<!--X-Reference: AANLkTim1gTBVKDQPK=+aM1SHnuF7ZyKQTUzjpqBMt4xo@mail.gmail.com -->
<!--X-Reference: AANLkTinE=fRfL=&#45;dfe&#45;Uj6NAVuL9AOK9ENLC58C_&#45;1iu@mail.gmail.com -->
<!--X-Reference: AANLkTinaaQTrpANe1zqD&#45;pH3OGsk=sA8p7pWa4_GfrUb@mail.gmail.com -->
<!--X-Reference: AANLkTimFewU0=snUOZVVD==0d40oRuS4zNbdUsoEKMVM@mail.gmail.com -->
<!--X-Reference: AANLkTi=U0rRm2Rv+ynBehBgcJ58gOcyGpZRu5vBGM1Pv@mail.gmail.com -->
<!--X-Reference: AANLkTi=E2tq_mP1soRPB&#45;1c67a0cX&#45;NmXBYqVvot+aFA@mail.gmail.com -->
<!--X-Reference: AANLkTinBO3eWruVYxHj6g1m1Fbxr5BNC=FBo=a948V&#45;q@mail.gmail.com -->
<!--X-Reference: AANLkTikPLDbCmJRKfn+1j0epx&#45;=FAHq2eCBspBqwqizg@mail.gmail.com -->
<!--X-Reference: AANLkTintdOt63AWrtS4_7R5C64j7aXZ0u8T41UaSRpGJ@mail.gmail.com -->
<!--X-Reference: AANLkTikDPM+srXqbPRUxv9ehk2NfGQ5HA6ODWueN4FWB@mail.gmail.com -->
<!--X-Reference: AANLkTim0uEyEEmu1V3Rx8SN1hmWMThpxrORZr7RQDZ++@mail.gmail.com -->
<!--X-Reference: AANLkTi=D0wxL=MhE3AaSmW3b1cMR_btPNH&#45;BbrQhQC&#45;o@mail.gmail.com -->
<!--X-Reference: AANLkTinakhPRhkfj86B9ZS=h26WEqW9SbTvjGBDsNnUS@mail.gmail.com -->
<!--X-Reference: AANLkTikLWef6s46v1SJX6c05SnL4XFn4ZJVu4pCZ6F7Y@mail.gmail.com -->
<!--X-Reference: AANLkTimT4STLo&#45;0VawEDBSLRxSYywVnGQe4NpJNzV8hk@mail.gmail.com -->
<!--X-Reference: AANLkTimHnFmLtnO1jMXtd=LqC+y&#45;C27C8z7suigZVEh3@mail.gmail.com -->
<!--X-Reference: AANLkTinQgpwatnHtjeuLiLvv5uWJrY47_OZTQNHDjsnb@mail.gmail.com -->
<!--X-Reference: AANLkTinG2OF+JNup+2ZpyxfbYp_7bTDRjn1C_pFbxSiq@mail.gmail.com -->
<!--X-Reference: BANLkTi=bpUY5qJFFfmNFebJb0+28cWt&#45;WQ@mail.gmail.com -->
<!--X-Reference: BANLkTimr6GAGXTxs6&#45;W7v&#45;S4esKZ448gNg@mail.gmail.com -->
<!--X-Reference: CAOdMp4it+T1Mwz_bt735BedXCZaMEP4bnx9K+esGuePR=PiFig@mail.gmail.com -->
<!--X-Reference: CAED9pY8B+Rz0n3ZxKLQRbZbP1LPyz7m8aW1fnne2mdOmkRTUdw@mail.gmail.com -->
<!--X-Reference: CAOdMp4hmjBBQ3+tdqses=YKO0TMYXhUZb8GfaxbmwmC1&#45;4=MHA@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: CST branch -- September 20, 2011 - 18:38</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: CST branch</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00013" class="tabs">Index by Date</a> | <a href="threads.html#00013" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00012.html">Date Prev</a>] [<a href="msg00014.html">Date Next</a>] [<a href="msg00012.html">Thread Prev</a>] [<a href="msg00031.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Pavel Kaderavek &lt;pavel.kaderavek@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 20 Sep 2011 18:37:49 +0200</li>
<li class="menuitem">
<em>Cc</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;	h=mime-version:sender:in-reply-to:references:date	:x-google-sender-auth:message-id:subject:from:to:cc:content-type	:content-transfer-encoding;	bh=SEk+PZ1GkJskE4S3j99zCzp9SjaTTLD5F7ByieNXZJo=;	b=k2vdPOBqaLLYB2lbeIvRnEFt0OOZSJrq5TnuL0FzHX8I2CyVyGkT02o+U2VB2I0dnS	CH1Fh0VcjrhR6KPEB42hEA1a8JkqWpqhMzGt9l24Es0f0wWz2VdFzYuQc1YRc2I5LSvo	eEW85jLG9XS4sFG/3xIQjj6tEK4nhpvMJm6Po=</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00013.html">CAED9pY9Y-RdueXxcFf_=Xi4yBrHK4NbwtD_gJpr0-g2QjUxC=A@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;p2l6052a51004080823g94a64268lf8af8d3e332c2a03@xxxxxxxxxxxxxx&gt;	&lt;j2i7f080ed11004120000r80bba9bch9556be67b0c1707@xxxxxxxxxxxxxx&gt;	&lt;g2v6052a51004131048sb5c01509sfc9a77045ad33310@xxxxxxxxxxxxxx&gt;	&lt;r2g7f080ed11004131113mb209905eh63ff1eb61c171fee@xxxxxxxxxxxxxx&gt;	&lt;l2q6052a51004301221h9ad09886ha016465129beb516@xxxxxxxxxxxxxx&gt;	&lt;g2m7f080ed11005050153y2ad8b4bfjb4eb8191b0efd0cc@xxxxxxxxxxxxxx&gt;	&lt;AANLkTin4nzkkOCxs94vUKCpT00R7ak22gLaL5rK-VjPN@xxxxxxxxxxxxxx&gt;	&lt;AANLkTinF4yNXoJQS-rd81VBi3keRURUNeb-_GdkxqqsG@xxxxxxxxxxxxxx&gt;	&lt;AANLkTinibyBQvsoG1-0vmzOXFmRJxD95VMF3eGxzSMMB@xxxxxxxxxxxxxx&gt;	&lt;AANLkTimFT0-Kbgdz_U5LeOW5Ln22mPBZBC8FL68n6CeF@xxxxxxxxxxxxxx&gt;	&lt;AANLkTikhknBoHTc7B7GCRULkrEnxSx+PpqPP=x6KrDOH@xxxxxxxxxxxxxx&gt;	&lt;AANLkTim0B-E6kMW9Nn47o+u+atxrm38540u1Xhaoe6j0@xxxxxxxxxxxxxx&gt;	&lt;AANLkTi=m5S08Nd1F5VDnMGTOu2s+j2Euz1t-ytw0zOAf@xxxxxxxxxxxxxx&gt;	&lt;AANLkTinxUWLu2N19dc3eaPgh22igv_SGy=6qmVnJN=Qj@xxxxxxxxxxxxxx&gt;	&lt;AANLkTik0K3B7huKE8hJtAkXL_yzJmNa9BFxfczu8Sfx9@xxxxxxxxxxxxxx&gt;	&lt;AANLkTin1JfUtMoVqR4c-5dRHTf58N-FAcv4_bc=LpH2b@xxxxxxxxxxxxxx&gt;	&lt;AANLkTimBsSm504qysJd8-e0O_thUdcwvciKrNhMTdoQW@xxxxxxxxxxxxxx&gt;	&lt;AANLkTikf-g23EPV+R2-7inSpXbT5fqv5vDO8nL+DZrwA@xxxxxxxxxxxxxx&gt;	&lt;AANLkTikNh5FTMmeQPqkSiX8ieG5oUw5UcuG83k8PeAiM@xxxxxxxxxxxxxx&gt;	&lt;AANLkTimADCpNAJG4Pg02_UukH5hFW5eQfr-SymzqXrc=@xxxxxxxxxxxxxx&gt;	&lt;AANLkTi=8_288HiMhVQDwpFUCqMp+aBotECez44s44q7z@xxxxxxxxxxxxxx&gt;	&lt;AANLkTi=vSTA2B-jpTzShJab84W=-z1YBzvhW10wTXg_P@xxxxxxxxxxxxxx&gt;	&lt;AANLkTikXiEtqtDWOycdJdyYSG+KfxAARiXhtDwrQm_v+@xxxxxxxxxxxxxx&gt;	&lt;AANLkTinWS1m+j069Y+sTXrae-J5DamkkNTp-Wx8u7OTX@xxxxxxxxxxxxxx&gt;	&lt;AANLkTinNsF7fA3Va=-63bYBE3EoOeZ21OOO8ZYunU0uR@xxxxxxxxxxxxxx&gt;	&lt;AANLkTinw8sg3staDqr+=mBGqLgB0joQwKzKbFNGY_5sF@xxxxxxxxxxxxxx&gt;	&lt;AANLkTi=aZJDUcj0+p_0Or_P1v3xwSvk=7=s=+DjHFRcA@xxxxxxxxxxxxxx&gt;	&lt;AANLkTinB0kczjTRe5etQtviQ0p9sxu-fmeh3FJ-Lx6Pg@xxxxxxxxxxxxxx&gt;	&lt;AANLkTikwqUH6Z-NmxNmj02ysSaYYAQ_cuS5-kJ6K4U5u@xxxxxxxxxxxxxx&gt;	&lt;AANLkTikZXALuxeob=_YvJjE5-ZyRrLTNqG-wTf_nxgqf@xxxxxxxxxxxxxx&gt;	&lt;AANLkTi=o2jzDfj+Y=WMMBTL=YpOT++n2X0sN=G4_S25+@xxxxxxxxxxxxxx&gt;	&lt;AANLkTimthyxNok+Fsv94fnF8JVdia6VXJ6M0sDQYAAzT@xxxxxxxxxxxxxx&gt;	&lt;AANLkTinydi7mCO0EeWvGOOyOw1a_h3f3618tC_+9FOF5@xxxxxxxxxxxxxx&gt;	&lt;AANLkTimyoJqYWVk8Y7x3Y5UDWr_GaMa_dDVJ9492OEht@xxxxxxxxxxxxxx&gt;	&lt;AANLkTi=DQ9KGP+e0ONhZ66XhSzKhuQzFoQcQNwXnVsgG@xxxxxxxxxxxxxx&gt;	&lt;AANLkTind0EOBhSi_G=M_+LVY_WmLC=03f0-TMrvzs6zs@xxxxxxxxxxxxxx&gt;	&lt;AANLkTim1gTBVKDQPK=+aM1SHnuF7ZyKQTUzjpqBMt4xo@xxxxxxxxxxxxxx&gt;	&lt;AANLkTinE=fRfL=-dfe-Uj6NAVuL9AOK9ENLC58C_-1iu@xxxxxxxxxxxxxx&gt;	&lt;AANLkTinaaQTrpANe1zqD-pH3OGsk=sA8p7pWa4_GfrUb@xxxxxxxxxxxxxx&gt;	&lt;AANLkTimFewU0=snUOZVVD==0d40oRuS4zNbdUsoEKMVM@xxxxxxxxxxxxxx&gt;	&lt;AANLkTi=U0rRm2Rv+ynBehBgcJ58gOcyGpZRu5vBGM1Pv@xxxxxxxxxxxxxx&gt;	&lt;AANLkTi=E2tq_mP1soRPB-1c67a0cX-NmXBYqVvot+aFA@xxxxxxxxxxxxxx&gt;	&lt;AANLkTinBO3eWruVYxHj6g1m1Fbxr5BNC=FBo=a948V-q@xxxxxxxxxxxxxx&gt;	&lt;AANLkTikPLDbCmJRKfn+1j0epx-=FAHq2eCBspBqwqizg@xxxxxxxxxxxxxx&gt;	&lt;AANLkTintdOt63AWrtS4_7R5C64j7aXZ0u8T41UaSRpGJ@xxxxxxxxxxxxxx&gt;	&lt;AANLkTikDPM+srXqbPRUxv9ehk2NfGQ5HA6ODWueN4FWB@xxxxxxxxxxxxxx&gt;	&lt;AANLkTim0uEyEEmu1V3Rx8SN1hmWMThpxrORZr7RQDZ++@xxxxxxxxxxxxxx&gt;	&lt;AANLkTi=D0wxL=MhE3AaSmW3b1cMR_btPNH-BbrQhQC-o@xxxxxxxxxxxxxx&gt;	&lt;AANLkTinakhPRhkfj86B9ZS=h26WEqW9SbTvjGBDsNnUS@xxxxxxxxxxxxxx&gt;	&lt;AANLkTikLWef6s46v1SJX6c05SnL4XFn4ZJVu4pCZ6F7Y@xxxxxxxxxxxxxx&gt;	&lt;AANLkTimT4STLo-0VawEDBSLRxSYywVnGQe4NpJNzV8hk@xxxxxxxxxxxxxx&gt;	&lt;AANLkTimHnFmLtnO1jMXtd=LqC+y-C27C8z7suigZVEh3@xxxxxxxxxxxxxx&gt;	&lt;AANLkTinQgpwatnHtjeuLiLvv5uWJrY47_OZTQNHDjsnb@xxxxxxxxxxxxxx&gt;	&lt;AANLkTinG2OF+JNup+2ZpyxfbYp_7bTDRjn1C_pFbxSiq@xxxxxxxxxxxxxx&gt;	&lt;BANLkTi=bpUY5qJFFfmNFebJb0+28cWt-WQ@xxxxxxxxxxxxxx&gt;	&lt;BANLkTimr6GAGXTxs6-W7v-S4esKZ448gNg@xxxxxxxxxxxxxx&gt;	&lt;CAOdMp4it+T1Mwz_bt735BedXCZaMEP4bnx9K+esGuePR=PiFig@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY8B+Rz0n3ZxKLQRbZbP1LPyz7m8aW1fnne2mdOmkRTUdw@xxxxxxxxxxxxxx&gt;	&lt;CAOdMp4hmjBBQ3+tdqses=YKO0TMYXhUZb8GfaxbmwmC1-4=MHA@xxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on September 20, 2011 - 18:38:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

This might have to be compared to what code you currently have, and if
there is a difference to the 'cst' branch.  It is likely that comment
8 attached to the task (<a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/task/?6397#comment8">https://gna.org/task/?6397#comment8</a>) is
correct, except that the linked patch file is not quite correct.   The
file <a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/task/download.php?file_id=13916">https://gna.org/task/download.php?file_id=13916</a> has already been
applied, with the text of comment 8, but the comment and the file do
not match.  The file changes maths_fns/mf.py where the comment talks
about changes to both maths_fns/ri.py and maths_fns/mf.py.  Maybe the
patch only contained part of the change?

Cheers,

Edward


On 20 September 2011 18:17, Pavel Kaderavek &lt;pavel.kaderavek@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,
I don't know what happened. I believed I did everything as usual. Peter is
away now, but we can try to solve it without him. Should I try to send
something once again?
Pavel

On 19 September 2011 15:59, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Hi Pavel,

Would you know what happened with this patch?  Has it been applied to
the branch.  I don't have this commit message in the logs, but the
file <a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/task/download.php?file_id=13916">https://gna.org/task/download.php?file_id=13916</a> has been
committed!

Cheers,

Edward


On 19 August 2011 11:46, Pavel Kaderavek &lt;pavel.kaderavek@xxxxxxxxx&gt;
wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">This change is related to the task #6397 (<a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/task/?6397">https://gna.org/task/?6397</a>)

kada _at_ chemi _dot_ muni _dot_ cz

<a  rel="nofollow" href="/mail.gna.org/public/relax-devel/2011-03/msg00027.html">https://mail.gna.org/public/relax-devel/2011-03/msg00027.html</a>
<a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/task/download.php?file_id=13916">https://gna.org/task/download.php?file_id=13916</a>

This patch includes the changes in setup_equations function of class Mf
in a
file maths_fns/mf.py. The selection of the equation was modified in
order to
select based on both type of relaxation rate and type of interaction.

On 12 April 2011 17:06, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Hi,

I think we should avoid optimising the bond length and the CSA tensor,
if the full tensor is used or if there are multiple bond lengths for
one spin, at least for now.  This could be caught in the setup method
and a RelaxError thrown saying that the optimisation of these things
is not yet implemented.  That will allow for the current models and
the new code to work together.  Optimisation of the CSA tensor or
multiple dipole-dipole distances is too much effort for now, and there
probably isn't enough information in the current data to extract this.
 What do you think?

Cheers,

Edward


On 12 April 2011 15:28, Pavel Kaderavek &lt;pavel.kaderavek@xxxxxxxxx&gt;
wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

it seems possible, but I think that it means that there will be for
each
type of the interaction an unique (d,d2)ri_comps function. It will be
defined in the setup_equation (mf.py, class Mf). Currently, the
(d,d2)ri_comps function is selected just based on the fact whether
the
values of physical quantities (internuclei distance, csa) are
optimized
or
not. Now it will be selected again according to the same criteria and
moreover according the type of interaction. This ensure that inside
the
function (d,d2)ri_comps the function create_(d,d2)ri_comps will be
called
with appropriate parameters.

Generally, it is probably not very convenient to optimize all
internuclei
distances, but only the most crucial one (to the bonded hydrogen)
would
be
sufficient. However, the selection should be upon user. The
optimalization
of CST will be also quite difficult, because 5 parameters would be
needed to
optimize (3 euler angles + 2 csa values - corresponding to two pseudo
chemical shielding tensors which stand for asymmetric chemical
shielding
tensor - hence I always mention csa1 and csa2 as well as the
cross-term,
because they are not independent). So far I would consider only the
optimalization of the eigenvalues of the tensors, the optimalization
of
the
orientation might be added later.

Best regards,
Pavel

On 22 March 2011 12:23, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;
wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">At this point we would like to address a related question.
Currently
the
calculation of physical constant is done in a several steps.
First,
the
physical constant is calculated and the value is stored in the
data.dip_const_func or data.csa_const_func (grad, hess). Then,
when
the
relaxation rates are calculated, the physical constant is
recalculated
by
the function create_dip_func or create_csa_func (grad, hess)
(method
setup_equations in class Mf, maths_fns/mf.py).

            comp_dip_const_func(data, data.bond_length)
            comp_csa_const_func(data, data.csa)
            for i in xrange(data.num_ri):
                data.dip_comps_func[i] = data.dip_const_func
                if data.create_dip_func[i]:
                    data.dip_comps_func[i] =
data.create_dip_func[i](data.dip_const_func)
                if data.create_csa_func[i]:
                    data.csa_comps_func[i] =

data.create_csa_func[i](data.csa_const_func[data.remap_table[i]])

There is one exception, the dipolar physical constant is not
recalculated in
the case of calculation R1 relaxation rate, because the
function
create_dip_func does not exist in this case. We do not see a
reason
for
such
a recalculation.
</pre></blockquote><pre style="margin: 0em;">

The reason is because of the m10 to m39 models built into relax.
 I
have made it possible to optimise the bond length and CSA
information.
 However these models are not stable with the current relaxation
data.
 I do plan on working with these in the future though, so it
would
be
useful to keep them.  Note that for models m0 to m9, the
data.create_dip_func[i] and data.create_csa_func[i] function
pointers
are set to None.  Therefore for normal model-free analysis the
constant is not recalculated.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">It seems better to us to just change the coefficient in the
functions comp_r1_dip_jw, comp_r2_dip_jw, comp_r1_csa_jw,
comp_r2_csa_jw
(maths_fns/ri_comps.py). I guess, that this design was
dedicated
to
avoid
multiple calculation of the same interaction constant for each
measured
relaxation rate. We would suggest to reach the same effect by
this
construction:

            for i in xrange(data.num_ri):
                if data.const_func[0]:
                    data.const_func[i] = data.const_func[0]
                else
                    data.create_const_func(data)
</pre></blockquote><pre style="margin: 0em;">

For models m10 to m39, this construct will not work.  The
constants
are already pre-calculated for models m0 to m9 so this is not
needed.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">Note, the comp_dip_const_func and comp_csa_const_func should be
change
so
that, it is possible to call them just with the argument data
(maths_fns/ri_comps.py). Instead of:


def comp_dip_const_func(data, bond_length):
    &quot;&quot;&quot;Calculate the dipolar constant.

   ...

    if bond_length == 0.0:
        data.dip_const_func = 1e99
    else:
        data.dip_const_func = 0.25 * data.dip_const_fixed *
bond_length**-6


It should look like:

def comp_dip_const_func(data):
    &quot;&quot;&quot;Calculate the dipolar constant.

   ...

    if data.internuclei_distance == 0.0:
        data.const_func = 1e99
    else:
        data.const_func = 0.25 * data.dip_const_fixed *
data.internuclei_distance**-6
</pre></blockquote><pre style="margin: 0em;">

The bond_length arg was designed so that the bond length could
either
come from a fixed value supplied by the user or from the
parameter
vector when bond lengths or CSA values are optimised.  This
behaviour
might have to be preserved.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">data.dip_const_func were renamed to more general
data.const_func
and
instead
of bond_length the function directly takes  the internuclei
distance
for
the
current dipole-dipole interaction. The change of
data.dip_const_func
to
data.const_func later simplify the code design in the
maths_fns/ri_prime.py
. It will be reduced just to a multiplication of constant and
the
linear
combination of spectral density functions.
</pre></blockquote><pre style="margin: 0em;">

For models m10 to m39, I'm not sure if this design would work.
 Could
we redesign this in another way in which these complex models are
still functional?

</pre></blockquote><pre style="margin: 0em;">

Then, we would suggest to call the function  comp_dip_const_func,
comp_csa_const_func ... with full set of possible parameters, i.e.
comp_dip_const_func(data,internuclei_distance,csa1,csa2,rex)
comp_csa_const_func(data,internuclei_distance,csa1,csa2,rex)
...
If we would call the function with just physically relevant
arguments
then
we would have to use yet another condition to decide the type of
the
interaction in the loop where individual interaction contributions
are
calculated. The physical quantities irrelevent for the given
interaction
(for example csa1,csa2,rex for the dipole-dipole interaction) are
None
from
the initialization and will not be used by the function anyway.
</pre></blockquote><pre style="margin: 0em;">

It would be easier to have a different function for each physical
constant, as this is very specific code.  For example
comp_dip_const_func is only called from functions which require the
dipolar constant.  For the normal model-free models, this is only
called during setup.  So there is no need to pass in the csa1 and
csa2
constants, or Rex for this specific function.  For the CSA
constants,
do you calculate 2 separate constants?  For example would you use:

comp_dip_const_func(data[i],internuclei_distance)
comp_csa_const_func(data[j],csa1)
comp_csa_const_func(data[k],csa2)

where data[x] in each case is a different interaction?


</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">Moreover, there is an unanswered question about the NOE and the
additional
dipolar interaction. I am not sure if the suggested design is
physically
correct, rather not. During the NOE experiment, the protons are
saturated in
order to reach the steady state. Then a complete set cross
relaxation
rates
between all interacting spin pairs should be taken into the
account,
not
only between the spin of interest and all other interacting
nuclei.
On
the
other hand this is probably beyond the aim of the program
relax.
What
do
you
think about that?
</pre></blockquote><pre style="margin: 0em;">

This is getting quite complex as you would need to take the
cross-correlated relaxation rates between the different
relaxation
interactions into account, as well as the motion of all spins if
they
are not directly bonded.  Is this needed for the current work?
 Of
course anything is accepted into relax, especially if you would
like
to probe this area (with a paper in mind), but it has to play
nicely
with the rest of relax and not be a burden on the relax
developers
to
maintain in the future (as well as not make the current number
crunching code slower than it already is).  The code would
therefore
need to be designed in public.  So if you would like to tackle
such
a
task, I would first recommend finishing off the cst branch, and
then
make a new branch for this work.
</pre></blockquote><pre style="margin: 0em;">

Then, I will design the code as I suggested. So, the sigma_noe
will
be
calculated separately for all dipole-dipole interactions with the
central
spin (assuming they are isolated spin pairs). The total sigma_noe
will
be
calculated as a sum of all individual sigma_noe contributions.
</pre></blockquote><pre style="margin: 0em;">

This sounds the most reasonable for a first approximation.  In
reality
the cross rates will be important as well.

Cheers,

Edward
</pre></blockquote><pre style="margin: 0em;">


</pre></blockquote></blockquote><pre style="margin: 0em;">


</pre></blockquote></blockquote><pre style="margin: 0em;">


_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="/mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>


</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00031" href="msg00031.html">Re: CST branch</a></strong>
<ul><li><em>From:</em> Pavel Kaderavek</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00006" href="msg00006.html">Re: CST branch</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00012" href="msg00012.html">Re: CST branch</a></strong>
<ul><li><em>From:</em> Pavel Kaderavek</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sat Sep 24 15:40:13 2011</div>  
</body>
</html>
