<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: unit tests vs... the current test_suite -->
<!--X-From-R13: "Unel E. Fubzcfba" <tnelgNozo.yrrqf.np.hx> -->
<!--X-Date: Mon, 30 Oct 2006 17:48:37 +0100 -->
<!--X-Message-Id: 45462CAF.9060805@bmb.leeds.ac.uk -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: c225763e0610292348w78ce48bfw2d0c6a41c72d0b@mail.gmail.com -->
<!--X-Reference: 4545E861.3090003@bmb.leeds.ac.uk -->
<!--X-Reference: 1162216847.3525.94.camel@mrspell -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: unit tests vs... the current test_suite -- October 30, 2006 - 17:48</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: unit tests vs... the current test_suite</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00180" class="tabs">Index by Date</a> | <a href="threads.html#00180" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00179.html">Date Prev</a>] [<a href="msg00181.html">Date Next</a>] [<a href="msg00174.html">Thread Prev</a>] [<a href="msg00184.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Chris MacRaild &lt;c.a.macraild@xxxxxxxxxxx&gt;, relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Mon, 30 Oct 2006 16:47:43 +0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00180.html">45462CAF.9060805@bmb.leeds.ac.uk</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00172.html">c225763e0610292348w78ce48bfw2d0c6a41c72d0b@mail.gmail.com</a>&gt;	&lt;<a href="msg00173.html">4545E861.3090003@bmb.leeds.ac.uk</a>&gt;	&lt;<a href="msg00174.html">1162216847.3525.94.camel@mrspell</a>&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Mozilla Thunderbird 1.0 (X11/20041206)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Gary S. Thompson</strong> on October 30, 2006 - 17:48:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;"><br>I almost agree ;-)</pre><br>
<pre style="margin: 0em;">Here are my definitions</pre><br>
<tt>unit tests: are a test that that tests  a class or function at the 
lowest level and are designed to tests the limits of the functions 
inputs and that the function/class/methods obey the  contract they have 
been designed to. As far as possible such tests test a class in 
isolation if possible (even down to the use of mock objects, but that is 
another story). Often unit tests are used in combination with code 
coverage tools to check that all pathways through the code have at least 
be exercised....</tt><br>
<br>
<tt>regression tests: these are generally a set of tests that you write once 
you have the programming working to test that after a modification it 
still produces the correct results. However, regression tests are also 
often used to test that a bug that has been found doesn't occur again. 
As such regression tests are often unit tests as well.... (this is 
called thre find a bug write a test philosophy ;-))</tt><br>
<br>
<tt>functional tests functional tests are generally large scale regression 
tests. You use a set of known inputs for a complete program and check 
that the outputs are as expected. If the functional test fails but the 
failure doesn't trigger the failure of a unit test then the unit tests 
need more work and the implimentation of unit tests...</tt><br>
<br>
<br>
<blockquote class="blockquote"><tt>On Mon, 2006-10-30 at 11:56 +0000, Gary S. Thompson wrote:<br>
 </tt><br>
<br>
<blockquote class="blockquote"><tt>Hi Andrew<br>
   Unit tests have been on my radar as well as I have used them under 
java. As ususal having done things the wrong way round I am now 
implementing unit tests for the ieee float functions. Here is my suggestion:</tt><br>
<br>
<tt>0. use unittest, it is a tried and tested methodology<br>
1. if you have a file fred.py it should be accompanied by a unit test 
files test_fred.py with the correct main function<br>
2. if you have test data to go with fred.py it should be in  a directory 
test_data_fred<br>
3.  modify the relax test suite to scan the source directories for files 
with the correct names and apply the tests...</tt><br>
<br>
<tt>as a general note you ought to write the unit tests first  ;-) before 
coding if you want to stick to the 'true philosophy' of this methodology</tt><br>
<br>
<pre style="margin: 0em;">so the idea is
1. suggest feature
2. define relevant unit tests
3. code unit tests
4. code feature
5. check / correct / add more unit tests as needed</pre><br>
<tt>regards<br>
gary<br>
   </tt><br>
<br>
</blockquote><pre style="margin: 0em;"><br></pre><br>
<tt>It seems to me there are a couple of different issues here. </tt><br>
<br>
<tt>The first is would it be useful to have unit-tests for relax. From my<br>
point of view the answer is a clear yes, and I agree with Gary's<br>
suggestions regarding their organisation. </tt><br>
<br>
<tt>The second issue raised in Andrew's post is whether the Python unit-test<br>
mechanisms are worth using to drive the current test-suite. Again, I<br>
think the answer is yes: the test-suite is getting big and complex<br>
enough to justify using this mechanism. It should make coding new tests<br>
easier, and eliminate the need for much of the repeditive code in the<br>
current suite.<br>
 </tt><br>
<br>
</blockquote><pre style="margin: 0em;">I agree +1</pre><br>
<blockquote class="blockquote"><tt>As to why I think these are separate issues: the current test-suite<br>
(indeed the entire relax code base) contains not one single unit-test.<br>
Unit-tests, as their name implies, are intended to test the smallest<br>
possible unit of code in isolation (a single function or method, at most<br>
a single class). The type of test coded in the test-suite is much higher<br>
level than this, and is better termed a regression test - it is intended<br>
to test that all 'units' in the program are working together correctly.<br>
A complete set of regression tests should catch all bugs in relax, </tt><br>
<br>
</blockquote><tt>This can never be the case. Catching all bugs is generally beyond the 
available time and effort limits for testsing, all you can do is check 
that in most cases output is right and that you haven't regressed due to 
changes...</tt><br>
<br>
<blockquote class="blockquote"><pre style="margin: 0em;">but
might not reveal much about the nature of the bugs. On the other hand,
unit tests will miss bugs of regression, but should identify more detail
of the nature and location of the bugs they do catch.</pre><br>
</blockquote><pre style="margin: 0em;">again most regression ought to be caught as unit tests... see above</pre><br>
<blockquote class="blockquote"><tt>Both types of<br>
testing are important in a working package like relax. </tt><br>
<br>
<tt>I think its important that the distinction remains clear between the<br>
relax test-suite, which should be a reasonably exhaustive set of<br>
regression tests, and the relax unit-tests which will remain incomplete<br>
for the forseeable future. Gary's suggestion above is appropriate for<br>
the organisation of unit-tests, but the test-suite I think properly<br>
belongs as a seperate set of tests.<br>
 </tt><br>
<br>
</blockquote><tt><br>I agree but feel that the unit tests should be run as part of the test 
suite... and if the two don't fail together you have a problem... also 
is you run unit tests as part of the test suite it means the unit tests 
get exercised on lots of machines architectures etc</tt><br>
<br>
<blockquote class="blockquote"><pre style="margin: 0em;">All of that said, there is no reason why we can't use the Unittest
module as the testing mechanism for the test-suite.</pre><br>
<tt> </tt><br>
<br>
</blockquote><pre style="margin: 0em;">definitley</pre><br>
<blockquote class="blockquote"><pre style="margin: 0em;">Chris</pre><br>
<pre style="margin: 0em;"><br>.</pre><br>
<tt> </tt><br>
<br>
</blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">regards
gary</pre><br>
<pre style="margin: 0em;">--
-------------------------------------------------------------------
Dr Gary Thompson
Astbury Centre for Structural Molecular Biology,
University of Leeds, Astbury Building,
Leeds, LS2 9JT, West-Yorkshire, UK             Tel. +44-113-3433024
email: garyt@xxxxxxxxxxxxxxx                   Fax  +44-113-2331407
-------------------------------------------------------------------</pre><br>
<pre style="margin: 0em;"><br></pre><br>
<br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00184" href="msg00184.html">Re: unit tests vs... the current test_suite</a></strong>
<ul><li><em>From:</em> Chris MacRaild</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00172" href="msg00172.html">unit tests vs... the current test_suite</a></strong>
<ul><li><em>From:</em> Andrew Perry</li></ul></li>
<li><strong><a name="00173" href="msg00173.html">Re: unit tests vs... the current test_suite</a></strong>
<ul><li><em>From:</em> Gary S. Thompson</li></ul></li>
<li><strong><a name="00174" href="msg00174.html">Re: unit tests vs... the current test_suite</a></strong>
<ul><li><em>From:</em> Chris MacRaild</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Mon Oct 30 18:21:34 2006</div>  
</body>
</html>
