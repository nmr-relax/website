<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [bug #11476] Model "m0" instances break the minimise() function -->
<!--X-From-R13: Eéonfgvra [beva <fronfgvra.zbeva.1Nhyniny.pn> -->
<!--X-Date: Sun, 13 Apr 2008 00:45:47 +0200 -->
<!--X-Message-Id: 48013B7F.4050100@ulaval.ca -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 20080411&#45;133922.sv7147.29725@gna.org -->
<!--X-Reference: 7f080ed10804121336w2fb98442h9d4b1958858285e5@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [bug #11476] Model &quot;m0&quot; instances break the minimise() function -- April 13, 2008 - 00:45</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: [bug #11476] Model &quot;m0&quot; instances break the minimise() function</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00065" class="tabs">Index by Date</a> | <a href="threads.html#00065" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00064.html">Date Prev</a>] [<a href="msg00066.html">Date Next</a>] [<a href="msg00059.html">Thread Prev</a>] [<a href="msg00053.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Edward d'Auvergne &lt;edward.dauvergne@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Sat, 12 Apr 2008 18:45:19 -0400</li>
<li class="menuitem">
<em>Cc</em>: Sébastien Morin &lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt;,	relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00065.html">48013B7F.4050100@ulaval.ca</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;20080411-133922.sv7147.29725@xxxxxxx&gt;	&lt;7f080ed10804121336w2fb98442h9d4b1958858285e5@xxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Thunderbird 2.0.0.12 (X11/20080228)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Sébastien Morin</strong> on April 13, 2008 - 00:45:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<table width="100%"><tr><td bgcolor="#ffffff" style="background-color: #ffffff; color: #000000; "><font color="#000000">



Hi Ed,<br>
<br>
Cool ! This is really an elegant bug fix !<br>
<br>
I tried it on my small dataset (the one in the bug report) and it
worked fine as for you.<br>
<br>
I also tried it on a bigger dataset for the final run and it was also
fine : simulations are made for every residues before or after
encountering model "m0" and errors for residues following the one with
model "m0" are now much more realistic...<br>
<br>
I'll try to be aware of any bug this change could have introduced, but
as of now, it seems FINE.<br>
<br>
Thanks for solving this bug so quickly !!!!!<br>
<br>
Cheers, !<br>
<br>
<br>
S&eacute;b&nbsp; :)<br>
<br>
<br>
<br>
<br>
Edward d'Auvergne wrote:
<blockquote
 cite=""
 type="cite">
  <pre wrap="">Seb,

I've come up with a simple fix for this bug.  The files attached to
the bug report were perfect for debugging this!  Thank you so much!
Normally it would have taken me hours to find the problem, instead
because of these files it took less than 5 min!!!  However before I
make a new relax release, would you be able to check that the bug has
been fixed in you full data set?  It seems resolved in the data files
attached to the report, but I just want to be completely sure.

Cheers,

Edward


On Fri, Apr 11, 2008 at 7:39 PM, S&eacute;bastien Morin
<a rel="nofollow" class="moz-txt-link-rfc2396E"
 href="mailto:NO-REPLY.INVALID-ADDRESS@xxxxxxx">&lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt;</a> wrote:
  </pre>
  <blockquote type="cite">
    <pre wrap=""> URL:
  <a rel="nofollow" class="moz-txt-link-rfc2396E" href="http://gna.org/bugs/?11476">&lt;http://gna.org/bugs/?11476&gt;</a>

                 Summary: Model "m0" instances break the minimise() function
                 Project: relax
            Submitted by: semor
            Submitted on: Friday 04/11/2008 at 13:39
                Category: relax's source code
                Severity: 6 - Security
                Priority: 9 - Immediate
                  Status: None
                 Privacy: Public
             Assigned to: None
         Originator Name:
        Originator Email:
             Open/Closed: Open
         Discussion Lock: Any
                 Release: Repository: 1.2 line
        Operating System: GNU/Linux

    _______________________________________________________

 Details:

 Hi,

 This bug was found as a result of digging into bug 11454 (Constraint
 incorrectly supplied when using the "full_analysis.py" script)

 I had a look at some "final" run with 500 simulations and found out
 something.

 The simulations are affected by a break of the minimise() function when
 encountering model "m0" for a given residue...

 See, for example, errors for S2 for residues before residue 218 (for which
 "m0" was chosen) and after this residue. Before the residue, errors in S2 are
 fine, but after they are excessively small...

 ==============================
 ...
 216  val   1         error     N       m7    ...  0.031361478644779991
 217  thr   1         error     N       m7    ...  0.038211292618960502
 218  gly   1         error     N       m0    ...  None
 219  asn   1         error     N       m1    ...  1.112698441354078e-15
 220  leu   1         error     N       m3    ...  3.2268254799268261e-15
 ...
 ==============================

 If we have a look at some simulations, for example simulations 1, 2 and 3 :

 ==============================
 ...
 216  val   0         sim_1     N       m7    ...  0.78494175630280139
 217  thr   0         sim_1     N       m7    ...  0.82059932724210649
 218  gly   0         sim_1     N       m0    ...  None
 219  asn   0         sim_1     N       m1    ...  0.9225077650606851
 220  leu   0         sim_1     N       m3    ...  0.84861925081698242
 ...
 216  val   1         sim_2     N       m7    ...  0.81063701088779105
 217  thr   1         sim_2     N       m7    ...  0.8206973815627201
 218  gly   1         sim_2     N       m0    ...  None
 219  asn   1         sim_2     N       m1    ...  0.9225077650606851
 220  leu   1         sim_2     N       m3    ...  0.84861925081698242
 ...
 216  val   1         sim_3     N       m7    ...  0.83600457272281326
 217  thr   1         sim_3     N       m7    ...  0.81752904637249857
 218  gly   1         sim_3     N       m0    ...  None
 219  asn   1         sim_3     N       m1    ...  0.9225077650606851
 220  leu   1         sim_3     N       m3    ...  0.84861925081698242
 ...
 ==============================

 we see that simulated values vary for residues before 218 (with model "m0"),
 but never vary (obviously are not simulated) for residues following this
 first instance of model "m0" in the sequence.

 In the log file, the error is seen as "The constraints have been incorrectly
 supplied." as in bug 11454.

 Joined is a simple reproduction kit for the bug. This includes a short
 script, a "ellipsoid.bz2" file to initiate the simulations, a small pdb file
 and several results files (log, saved state, results).

 This bug is a really serious one.




    _______________________________________________________

 File Attachments:


 -------------------------------------------------------
 Date: Friday 04/11/2008 at 13:39  Name: ellipsoid.bz2  Size: 2kB   By: semor

 <a rel="nofollow" class="moz-txt-link-rfc2396E"
 href="http://gna.org/bugs/download.php?file_id=4179">&lt;http://gna.org/bugs/download.php?file_id=4179&gt;</a>
 -------------------------------------------------------
 Date: Friday 04/11/2008 at 13:39  Name: log__final.bz2  Size: 2kB   By: semor

 <a rel="nofollow" class="moz-txt-link-rfc2396E"
 href="http://gna.org/bugs/download.php?file_id=4180">&lt;http://gna.org/bugs/download.php?file_id=4180&gt;</a>
 -------------------------------------------------------
 Date: Friday 04/11/2008 at 13:39  Name: full_analysis.py  Size: 2kB   By:
 semor

 <a rel="nofollow" class="moz-txt-link-rfc2396E"
 href="http://gna.org/bugs/download.php?file_id=4181">&lt;http://gna.org/bugs/download.php?file_id=4181&gt;</a>
 -------------------------------------------------------
 Date: Friday 04/11/2008 at 13:39  Name: results.bz2  Size: 53kB   By: semor

 <a rel="nofollow" class="moz-txt-link-rfc2396E"
 href="http://gna.org/bugs/download.php?file_id=4182">&lt;http://gna.org/bugs/download.php?file_id=4182&gt;</a>

    _______________________________________________________

 Reply to this item at:

  <a rel="nofollow" class="moz-txt-link-rfc2396E" href="http://gna.org/bugs/?11476">&lt;http://gna.org/bugs/?11476&gt;</a>

 _______________________________________________
  Message sent via/by Gna!
  <a rel="nofollow" class="moz-txt-link-freetext" href="http://gna.org/">http://gna.org/</a>


 _______________________________________________
 relax (<a rel="nofollow" class="moz-txt-link-freetext" href="http://nmr-relax.com">http://nmr-relax.com</a>)

 This is the relax-devel mailing list
 <a rel="nofollow" class="moz-txt-link-abbreviated" href="mailto:relax-devel@xxxxxxx">relax-devel@xxxxxxx</a>

 To unsubscribe from this list, get a password
 reminder, or change your subscription options,
 visit the list information page at
 <a rel="nofollow" class="moz-txt-link-freetext"
 href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>

    </pre>
  </blockquote>
  <pre wrap=""><!---->
  </pre>
</blockquote>


</font></td></tr></table>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00050" href="msg00050.html">[bug #11476] Model &quot;m0&quot; instances break the minimise() function</a></strong>
<ul><li><em>From:</em> Sébastien Morin</li></ul></li>
<li><strong><a name="00059" href="msg00059.html">Re: [bug #11476] Model &quot;m0&quot; instances break the minimise() function</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sun Apr 13 01:22:56 2008</div>  
</body>
</html>
