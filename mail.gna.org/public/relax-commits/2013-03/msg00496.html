<!-- MHonArc v2.6.16 -->
<!--X-Subject: r19078 &#45; /trunk/docs/data_model_redesign -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Sat, 23 Mar 2013 19:44:05 +0100 -->
<!--X-Message-Id: E1UJTQD&#45;0007T3&#45;AA@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r19078 - /trunk/docs/data_model_redesign -- March 23, 2013 - 19:44</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r19078 - /trunk/docs/data_model_redesign</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00496" class="tabs">Index by Date</a> | <a href="threads.html#00496" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00495.html">Date Prev</a>] [<a href="msg00497.html">Date Next</a>] [<a href="msg00495.html">Thread Prev</a>] [<a href="msg00497.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Sat, 23 Mar 2013 18:44:05 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00496.html">E1UJTQD-0007T3-AA@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on March 23, 2013 - 19:44:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Sat Mar 23 19:44:04 2013
New Revision: 19078

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=19078&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=19078&amp;view=rev</a>
Log:
Removed the ancient relax data model redesign document.

This was started in 2006 and has long been completed.


Removed:
    trunk/docs/data_model_redesign

Removed: trunk/docs/data_model_redesign
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/docs/data_model_redesign?rev=19077&amp;view=auto">http://svn.gna.org/viewcvs/relax/trunk/docs/data_model_redesign?rev=19077&amp;view=auto</a>
==============================================================================
--- trunk/docs/data_model_redesign (original)
+++ trunk/docs/data_model_redesign (removed)
@@ -1,123 +1,0 @@
-######################################################
-# The relax data model redesign -- planning document #
-######################################################
-
-
-# The proposal.
-###############
-
-The proposal was split into multiple posts to relax-devel.  The posts are:
-
-* The parent message 'Redesign of the relax data model:  A HOWTO for 
breaking relax'.
-Located at <a  rel="nofollow" href="/mail.gna.org/public/relax-devel/2006-10/msg00053.html">https://mail.gna.org/public/relax-devel/2006-10/msg00053.html</a> 
(Message-id: &lt;1160550133.9523.54.camel@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&gt;).
-
-* Section 1 'Redesign of the relax data model:  1.  Why change?'.
-Located at <a  rel="nofollow" href="/mail.gna.org/public/relax-devel/2006-10/msg00054.html">https://mail.gna.org/public/relax-devel/2006-10/msg00054.html</a> 
(Message-id: &lt;1160551172.9523.60.camel@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&gt;).
-
-* Section 2 'Subject: Redesign of the relax data model:  2.  A new run 
concept'.
-Located at <a  rel="nofollow" href="/mail.gna.org/public/relax-devel/2006-10/msg00056.html">https://mail.gna.org/public/relax-devel/2006-10/msg00056.html</a> 
(Message-id: &lt;1160555137.9523.70.camel@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&gt;).
-
-* Section 3 'Redesign of the relax data model:  3.  Molecules, residues, and 
spins'.
-Located at <a  rel="nofollow" href="/mail.gna.org/public/relax-devel/2006-10/msg00057.html">https://mail.gna.org/public/relax-devel/2006-10/msg00057.html</a> 
(Message-id: &lt;1160557041.9523.74.camel@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&gt;).
-
-* Section 4 'Redesign of the relax data model:  4.  Conclusion'.
-Located at <a  rel="nofollow" href="/mail.gna.org/public/relax-devel/2006-10/msg00058.html">https://mail.gna.org/public/relax-devel/2006-10/msg00058.html</a> 
(Message-id: &lt;1160557876.9523.79.camel@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&gt;).
-
-
-
-# Preparation.
-##############
-
-1 [Done].  Firstly release relax version 1.3.0 prior to any changes (to 
allow a functional version which handles RNA better, has the tensor PDB 
representation code, etc).
-
-2 [Done].  Redesign 'self.relax.data'.
-
-3.  Create the data pipe looping function for the 'pipes' argument (Chris 
MacRaild, <a  rel="nofollow" href="/mail.gna.org/public/relax-devel/2006-10/msg00060.html">https://mail.gna.org/public/relax-devel/2006-10/msg00060.html</a>, 
Message-id: &lt;1160562239.14487.98.camel@mrspell&gt;).  The user functions could 
be implemented as functors (Chris MacRaild, 
<a  rel="nofollow" href="/mail.gna.org/public/relax-devel/2007-01/msg00020.html">https://mail.gna.org/public/relax-devel/2007-01/msg00020.html</a>, Message-ID: 
&lt;1168432131.7569.338.camel@mrspell&gt;).  The design will need to take into 
account the user function docstrings, relax help system, and the relax manual 
docstring fetching code.
-
-4 [Done].  Create the spin_loop function (Edward d'Auvergne, 
<a  rel="nofollow" href="/mail.gna.org/public/relax-devel/2006-10/msg00057.html">https://mail.gna.org/public/relax-devel/2006-10/msg00057.html</a>, Message-id: 
&lt;1160557041.9523.74.camel@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&gt;).  Use a 
generator function, using the yield statement, to return the spin data 
containers which are essentially pointers to the data (Gary Thompson, 
<a  rel="nofollow" href="/mail.gna.org/public/relax-devel/2007-01/msg00014.html">https://mail.gna.org/public/relax-devel/2007-01/msg00014.html</a>, Message-id: 
&lt;f001463a0701071417w6bd7927cp8fdd052e698575ec@xxxxxxxxxxxxxx&gt;).  The 
implementation was essentially given by Chris MacRaild at 
<a  rel="nofollow" href="/mail.gna.org/public/relax-devel/2007-01/msg00036.html">https://mail.gna.org/public/relax-devel/2007-01/msg00036.html</a> (Message-ID: 
&lt;1168883717.7569.511.camel@mrspell&gt;).
-
-5 [Done].  Implement a parser for the following molecule/residue/spin 
selection syntax (Gary Thompson, 
<a  rel="nofollow" href="/mail.gna.org/public/relax-devel/2007-01/msg00014.html">https://mail.gna.org/public/relax-devel/2007-01/msg00014.html</a>, Message-id: 
&lt;f001463a0701071417w6bd7927cp8fdd052e698575ec@xxxxxxxxxxxxxx&gt;):
-    #&lt;molecule number&gt; | 
&lt;molecule_name&gt;:&lt;residue_selection&gt;[,&lt;residue_selection&gt;...]@&lt;atom_selection&gt; 
[,&lt;atom_selection&gt;]
-    residue_selection=&lt;residue_number&gt; | &lt;residue_range&gt; | &lt;residue_type&gt;
-    residue_selection=&lt;residue_number&gt;-&lt;residue_number&gt;
-    atom_selection=&lt;string_and_wildcards&gt;
-This syntax will need to be properly referenced (in addition to being fully 
described) in the user function docstrings.  I.e. the reference for Molmol 
syntax, the reference for UCSF syntax, etc.  We need to find the source and 
name of the syntax.
-
-6 [Done].  Convert the methods of the class 'Selection' from the file 
'generic_fns/selection.py' into methods and then add the following functions 
(Chris MacRaild at 
<a  rel="nofollow" href="/mail.gna.org/public/relax-devel/2007-01/msg00036.html">https://mail.gna.org/public/relax-devel/2007-01/msg00036.html</a> Message-ID: 
&lt;1168883717.7569.511.camel@mrspell&gt;; Edward d'Auvergne, 
<a  rel="nofollow" href="/mail.gna.org/public/relax-devel/2007-01/msg00041.html">https://mail.gna.org/public/relax-devel/2007-01/msg00041.html</a>, Message-ID: 
&lt;7f080ed10701190408i8a5dee3y8ccbe1aba11bcba@xxxxxxxxxxxxxx&gt;):
-    parse_token()
-    tokenise()
-
-7.  Create the spin_command function (Chris MacRaild, 
<a  rel="nofollow" href="/mail.gna.org/public/relax-devel/2007-01/msg00036.html">https://mail.gna.org/public/relax-devel/2007-01/msg00036.html</a>, Message-ID: 
&lt;1168883717.7569.511.camel@mrspell&gt;).
-
-8 [Done].  Rename 'prompt/run.py' to 'prompt/pipe.py'.  Rename 
'generic_fns/runs.py' to 'generic_fns/pipes.py'.
-
-9 [Done].  Create the new pipe user functions (from the old run user 
functions):
-    pipe.copy()         # Create a new pipe with the current contents of 
another pipe.
-    pipe.create()       # Create a new pipe.  Switch to this pipe by default.
-    pipe.current()      # Print the current pipe name.
-    pipe.delete()       # Delete the pipe.
-    [this is almost the same as reset() so it will not be implemented] 
pipe.delete_all()   # Delete all pipes.  Essentially deleting 
'self.relax.data'.
-    pipe.hybridise()    # Fuse two pipes into the current pipe.  Overlapping 
data in the two pipes must be identical!
-    pipe.list()         # Print the details of all pipes.
-    pipe.switch()       # Switch to a different pipe.
-
-10 [Done].  Create the 'molecule' user function class:
-    molecule.create()
-    molecule.copy()     # Copy the molecule information (name and num) from 
another pipe.
-    molecule.delete()
-    molecule.display()     # Print the molecule info.
-    molecule.rename()
-The molecule.add() user function should be used to create all the residue 
and spin structures for that molecule from a loaded structure.  This can be 
done through an API to allow users to code their own PDB readers (which could 
in future be incorporated into relax).  For more information see Gary 
Thompson's post at 
<a  rel="nofollow" href="/mail.gna.org/public/relax-devel/2007-01/msg00014.html">https://mail.gna.org/public/relax-devel/2007-01/msg00014.html</a> (Message-ID: 
&lt;f001463a0701071417w6bd7927cp8fdd052e698575ec@xxxxxxxxxxxxxx&gt;).  The user 
function should also allow for the creation of an empty molecule data 
container to allow for analyses whereby no structure is needed (relaxation 
curve-fitting, NOE calculation, model-free analysis with isotropic diffusion, 
etc.).  The sequence user function class can then be used to load the 
sequence (or spin.read()).
-
-11 [Done].  Create the 'residue' user function class:
-    residue.copy()
-    residue.create()    # This is currently named 'sequence.add()'.
-    residue.delete()
-    residue.display()
-    residue.rename()
-    residue.renumber()
-
-12 [Done].  Create the 'spin' user function class:
-    spin.copy()         # Copy the spin info (name and num) from another 
pipe.
-    spin.create()
-    spin.delete()
-    spin.display()
-    spin.rename()
-    spin.renumber()
-
-13 [Done].  Create a single user function class which handles molecules, 
residues, and spins together with selections:
-    sequence.display()
-    sequence.read()
-    sequence.write()
-
-
-# The incremental changes.
-##########################
-
-The following are the steps to be taken for the function to function, file 
to file incremental conversion of the old system to the new system.  For each 
function:
-
-1.  Rewrite the function docstring expanding to better describe what the 
function is doing.  Convert to the epytext format for describing what data is 
input, what data is returned, etc.
-
-2.  User function docstrings should not be converted to epytext format.  The 
variable __doctype__ should be set to 'plaintext' just after each docstring 
so that the API documentation can properly interpret the docstring.
-
-3.  Write unit tests for the function to check all its expected behaviour.  
This must be done prior to modifying the code.
-
-4.  Remove all the 'run' arguments and the code accessing it.
-
-5.  Add the 'pipes' argument to each user function in the 'prompt' directory 
to allow looping over a number of data pipes (Chris MacRaild, 
<a  rel="nofollow" href="/mail.gna.org/public/relax-devel/2006-10/msg00060.html">https://mail.gna.org/public/relax-devel/2006-10/msg00060.html</a>, Message-id: 
&lt;1160562239.14487.98.camel@mrspell&gt;).
-
-6.  Use the following code at the start if 'self.relax.data' is accessed by 
the function:
------
-# Alias the data for the current data pipe.
-data = self.relax.data[self.relax.pipe]
------
-Then access the object 'data' throughout the function.
-
-
-
-# Bugs and improvements.
-########################
-
-If bugs are found in the code the a bug report should be added to the relax 
bug tracker (<a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/bugs/?group=relax">https://gna.org/bugs/?group=relax</a>).  The bug should be fixed 
and, if the 1.2 line is affected as well, then the revision can be requested 
to be back ported.
-
-As large amounts of old code will be read, ideas for improvements will be 
inevitable.  If small, these improvements can be implemented on the spot.  
Otherwise if the idea is large and disruptive, it can be lodged as a task 
(<a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/task/?group=relax">https://gna.org/task/?group=relax</a>).



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sat Mar 23 20:40:03 2013</div>  
</body>
</html>
