<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [bug #22409] Minimisation of R1rho model give random results -->
<!--X-From-R13: "Sqjneq q'Ohiretar" &#60;rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Thu, 31 Jul 2014 14:52:15 +0200 -->
<!--X-Message-Id: CAED9pY_aZDmTD+jT2+DVjyu&#45;67V8cVdrc+rencHHBf56xG74kw@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20140730&#45;212129.sv20529.88747@gna.org -->
<!--X-Reference: CAED9pY&#45;0kbChtbPsOuYom50_D8HW7HyY0kUz+S&#45;rzr6o8L1rKQ@mail.gmail.com -->
<!--X-Reference: CA+CBx2MxGaVj5V4F81OhrU4N4j_YZ7qjnwWmbU9MkbmETV0PjA@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [bug #22409] Minimisation of R1rho model give random results -- July 31, 2014 - 14:52</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: [bug #22409] Minimisation of R1rho model give random results</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00082" class="tabs">Index by Date</a> | <a href="threads.html#00082" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00081.html">Date Prev</a>] [<a href="msg00083.html">Date Next</a>] [<a href="msg00077.html">Thread Prev</a>] [<a href="msg00095.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 31 Jul 2014 14:51:40 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;Troels E. Linnet&quot; &lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt;, &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:date:message-id:subject :from:to:cc:content-type; bh=PfcQ18tMARFs1YPIjSFqRXCrVIzFA9joSRRgJ+b/h7k=; b=Lz5xhDLvSxJuxzJMMKQlxQzlamhwO4y1xllkJ1PfnbsOhnSPXBpPgcRRYTFrrax7I1 j6xIYq5TRcS92aff1JL0GauXKN5Kx/gL1RZACUZdIOGM7yyVrqkNlbYQpwkyoaDM5Igm Q1K3WVu3qmXT5xZDG/iwnst2wl/djvkSd8ctU/QJLEJmiEhr8bFh6yuvqGI6PTfjleF8 IeLckswrjSZhM0ockcWMj/pqC+/RKXU6prd3Tq/s/v+/VS5upf+ArvXyKvXdRHzE4ac9 zgXXWAB537hx74Xc4sLwypFwfoL9rvBAuWHOv/ylUzefujFbg1suX03meFG/+otiJywX D4zQ==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00082.html">CAED9pY_aZDmTD+jT2+DVjyu-67V8cVdrc+rencHHBf56xG74kw@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00069.html">20140730-212129.sv20529.88747@gna.org</a>&gt; &lt;<a href="msg00075.html">CAED9pY-0kbChtbPsOuYom50_D8HW7HyY0kUz+S-rzr6o8L1rKQ@mail.gmail.com</a>&gt; &lt;<a href="msg00077.html">CA+CBx2MxGaVj5V4F81OhrU4N4j_YZ7qjnwWmbU9MkbmETV0PjA@mail.gmail.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on July 31, 2014 - 14:52:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

</pre><blockquote class="blockquote"><pre style="margin: 0em;">I thought you were up for changing something.
</pre></blockquote><pre style="margin: 0em;">

No, as this is your branch.  I'll also be on a holiday for two weeks,
starting in a few hours.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">There is though one thing there still is a little tricky.

I can't test X, Y values for graphs which are interpolated.
</pre></blockquote><pre style="margin: 0em;">

Hmmm, strange!


</pre><blockquote class="blockquote"><pre style="margin: 0em;">This could for example be for the model DPL94.

They will change &quot;alot&quot;.
</pre></blockquote><pre style="margin: 0em;">

The interpolation should not change.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">This is because, that the fitted parameters to the model will change,
for each run.

This is again related to the exponential curves, as then the R2eff
errors are determined by Monte
Carlo simulations which are random.
</pre></blockquote><pre style="margin: 0em;">

Can you change the test so it uses some other data?  Data which
consists of the 2-point approximation rather than the full exponential
curve?


</pre><blockquote class="blockquote"><pre style="margin: 0em;">When there is random errors, the chi-square values will also be
subject to random values,
and hence the minimisation will give rise to random results of the
fitted parameters of the model.
R1rho', phi_ex, kex.
</pre></blockquote><pre style="margin: 0em;">

Then the exponential curves must be avoided without question in the
test.  Alternatively the 'R2eff' model is optimised and the results
saved.  These saved results are then loaded by the system test as the
starting values.  This saved state trick may not work if the
auto-analysis is involved, but if you run the auto-analysis in the
test you should expect and handle the randomness.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">This could be quite confusing for the user.

For every analysis, he/she will get random values and graphs.

Is this a design by purpose?

Methods to solve this, could be:
- Large number of monte carlo simulations, to minimise the difference
in the error between analysis.
</pre></blockquote><pre style="margin: 0em;">

A minimum of 500 simulations should be run, as is the default.  In
such a case, the parameter variation will be negligible and it should
not confuse the user.  A system test cannot afford to run so many
simulations, but a user must do this.  It is so fast that they could
run 1000, 5000, or more simulations for higher quality results and
that is why I provide an option in the auto-analysis for specifying
these simulations separately.  But 500 is reasonable.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">- Make it possible to pass a number to the random generator, thereby
being able to &quot;fix&quot; the randomness.
</pre></blockquote><pre style="margin: 0em;">

This is not possible.  As mentioned above, for a relaxation dispersion
system test you only have three options available.  Use the 2-point
data, use a saved state, or expect and handle the randomness.

Regards,

Edward


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00069" href="msg00069.html">[bug #22409] Minimisation of R1rho model give random results</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00075" href="msg00075.html">Re: [bug #22409] Minimisation of R1rho model give random results</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00077" href="msg00077.html">Re: [bug #22409] Minimisation of R1rho model give random results</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Jul 31 17:40:13 2014</div>  
</body>
</html>
