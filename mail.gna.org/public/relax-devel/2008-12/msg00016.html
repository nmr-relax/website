<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Generic intensity file &#45; more or less generic ? -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Thu, 04 Dec 2008 10:29:19 +0100 -->
<!--X-Message-Id: 7f080ed10812040129pe2887deu339ae08b9021062a@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 493747CD.1000008@ulaval.ca -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Generic intensity file - more or less generic ? -- December 04, 2008 - 10:29</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Generic intensity file - more or less generic ?</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00016" class="tabs">Index by Date</a> | <a href="threads.html#00016" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00015.html">Date Prev</a>] [<a href="msg00017.html">Date Next</a>] [<a href="msg00015.html">Thread Prev</a>] [<a href="msg00017.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Sébastien Morin&quot; &lt;sebastien.morin.1@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 4 Dec 2008 10:29:15 +0100</li>
<li class="menuitem">
<em>Cc</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00016.html">7f080ed10812040129pe2887deu339ae08b9021062a@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;493747CD.1000008@xxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on December 04, 2008 - 10:29:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">On Thu, Dec 4, 2008 at 4:00 AM, Sébastien Morin
&lt;sebastien.morin.1@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

I've written the code for the reading of the generic intensity file as
formatted in &quot;test_suite/shared_data/peak_lists/generic_intensity.txt&quot;
(revisions 8118 to 8124).

The code now handles a file with the following format :

mol_name    res_num    res_name    spin_num    spin_name    proton
intensity_1  ...  intensity_n

The number of intensities input is automatically calculated and should
match the number of delays given as input in the used script.

Ok... This is less versatile than proposed in &quot;prompt/spectrum.py&quot; (line
370 and following). However, this is much easier to script and allows
the use of less coding to load the file (more friendly to the user)...
In fact, no &quot;int_col&quot; argument must be given and the file must be loaded
only once to be read entirely...

So... Should we think about making this 'generic' file format even more
'generic' (as suggested in &quot;prompt/spectrum.py&quot;, line 370 and following)
or is the current 'generic' format suitable and enough to allow users to
easily input their data ?
</pre></blockquote><pre style="margin: 0em;">

I'm not sure if this would be the best way, or only way, for the NOE,
relaxation dispersion data, or any other type of analysis implemented
in the future.  As you ask, it would be useful to implement the
int_col arg to allow for it to be a list (one that is exactly the same
size as the spectrum_ids list) rather than automatically loading all
of the generic formatted file.  This will also allow a user to pull
out and use a single column from the file, and will give flexibility
for the user to label their spectra differently from what is in the
file.  Oh, note that when loading peak intensities, there should be no
association with relaxation times to allow peak intensities to be
separated from the R1 and R2.  Just think of using this code for the
NOE as well.

This doesn't mean that we should loose the ability of the automatic
reading of the file.  I think that this could be allowed if both the
int_col and spectrum_ids args are set to None.  Or if spectrum_ids is
supplied, it should match the number of intensity columns exactly
(here this lets the user name the spectra as they wish).  All of these
ideas could be implemented as separate system tests.  But for all of
this flexibility, print outs will be very useful.  I suggest minimally
printing the list of spectrum ids, either from the user function arg
or as read from the header of the generic file.  Also any information
the automatic reading does could be printed as well to give the user
feedback and to help them if something fails.

Regards,

Edward


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00015" href="msg00015.html">Generic intensity file - more or less generic ?</a></strong>
<ul><li><em>From:</em> Sébastien Morin</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Dec 04 16:20:10 2008</div>  
</body>
</html>
