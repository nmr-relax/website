<!-- MHonArc v2.6.16 -->
<!--X-Subject: r10129 &#45;	/branches/multi_processor_merge/specific_fns/model_free/multi_processor_commands.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Thu, 07 Jan 2010 14:40:59 +0100 -->
<!--X-Message-Id: E1NSsbi&#45;0004L3&#45;Tl@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r10129 -	/branches/multi_processor_merge/specific_fns/model_free/multi_processor_commands.py -- January 07, 2010 - 14:40</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r10129 -	/branches/multi_processor_merge/specific_fns/model_free/multi_processor_commands.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00031" class="tabs">Index by Date</a> | <a href="threads.html#00031" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00030.html">Date Prev</a>] [<a href="msg00032.html">Date Next</a>] [<a href="msg00030.html">Thread Prev</a>] [<a href="msg00032.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Thu, 07 Jan 2010 13:40:58 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00031.html">E1NSsbi-0004L3-Tl@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on January 07, 2010 - 14:40:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Thu Jan  7 14:40:58 2010
New Revision: 10129

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=10129&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=10129&amp;view=rev</a>
Log:
Removed a ton of dead code.  This was all commented out.


Modified:
    
branches/multi_processor_merge/specific_fns/model_free/multi_processor_commands.py

Modified: 
branches/multi_processor_merge/specific_fns/model_free/multi_processor_commands.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/multi_processor_merge/specific_fns/model_free/multi_processor_commands.py?rev=10129&amp;r1=10128&amp;r2=10129&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/multi_processor_merge/specific_fns/model_free/multi_processor_commands.py?rev=10129&amp;r1=10128&amp;r2=10129&amp;view=diff</a>
==============================================================================
--- 
branches/multi_processor_merge/specific_fns/model_free/multi_processor_commands.py
 (original)
+++ 
branches/multi_processor_merge/specific_fns/model_free/multi_processor_commands.py
 Thu Jan  7 14:40:58 2010
@@ -196,42 +196,6 @@
                 print(len(string) * '~')
 
 
-#    def do_minimise(self, memo):
-#
-## FIXME: add to checking class
-##        new_mf_map = self.get_hash_map(self.mf)
-##        self.assert_hash_map_same(self.mf_hash_map, new_mf_map)
-##        new_minimise_map = self.get_hash_map(self.minimise)
-##        self.assert_hash_map_same(self.minimise_hash_map, new_minimise_map)
-#
-#        mf = self.build_mf()
-#        results = generic_minimise(func=self.mf.func, dfunc=self.mf.dfunc, 
d2func=self.mf.d2func, **self.minimise_map)
-#
-#        m_f = memo.model_free
-#        param_vector, func, iter, fc, gc, hc, warning = results
-#        m_f.disassemble_result(param_vector=param_vector, func=func, 
iter=iter, fc=fc, gc=gc, hc=hc, warning=warning, spin=memo.spin, 
sim_index=memo.sim_index, model_type=memo.model_type, scaling=memo.scaling, 
scaling_matrix=memo.scaling_matrix)
-
-
-# FIXME: add to checking class
-#    def get_hash_map(self, map):
-#        import Numeric
-#        result = {}
-#        for key, elem in map.items():
-#            #print key, elem, type(elem), dir(type(elem))
-#            #if isinstance(elem, Numeric.array):
-#            #    print '*** here 888'
-#            #    elem = tuple(elem.aslist())
-#            #elem.__class__.__name__
-#            result[key] = (`elem`)
-#        return result
-
-# FIXME: add to checking class
-#    def assert_hash_map_same(self, ref_map, new_map):
-#        for key in ref_map.keys():
-#            if ref_map[key] != new_map[key]:
-#                print 'bad compare ' + key
-
-
     def post_command_feedback(self, results, processor):
         pass
 
@@ -248,10 +212,6 @@
     def pre_run(self, processor):
        pass
        #FIXME: move to processor startup
-
-
-#    def process_result(self, processor):
-#        self.process_results(self.results, processor, completed)
 
 
     # rename confusing with processor process_results
@@ -298,9 +258,6 @@
         # Fill out the mf_map using the keyword args.
         self.mf_map.update(kwargs)
 
-        # FIXME: add to checking class
-        #self.mf_hash_map = self.get_hash_map(self.mf_map)
-
 
     def set_minimise(self, **kwargs):
         &quot;&quot;&quot;Place the minimisation and other information into the appropriate 
maps.&quot;&quot;&quot;
@@ -322,9 +279,6 @@
         # Fill out the minimise_map using the remaining keyword args.
         self.minimise_map.update(kwargs)
 
-        # FIXME: add to checking class
-        #self.mf_minimise_map = self.get_hash_map(self.minimise_map)
-
 
 class MF_grid_command(MF_minimise_command):
     def __init__(self):
@@ -337,46 +291,14 @@
 
 
     def pre_command_feed_back(self, processor):
-#        print_prefix = self.minimise_map['print_prefix']
-#        verbosity = self.minimise_map['print_flag']
-#        grid_step = self.minimise_map['min_options'].start
-#        grid_size = self.minimise_map['min_options'].steps
-#        full_output = self.minimise_map['full_output']
-#        A = self.minimise_map['A']
-#        b = self.minimise_map['b']
-
         set_generic_pre_and_post_amble(False)
         set_grid_pre_and_post_amble(False)
-#        if grid_step == 0:
-#            print &quot;Unconstrained grid search size: &quot; + `grid_size` + &quot; 
(constraints may decrease this size).\n&quot;
-#
-#            if verbosity:
-#                if verbosity &gt;= 2:
-#                    print print_prefix
-#                print print_prefix
-#                print print_prefix + &quot;Grid search&quot;
-#                print print_prefix + &quot;~~~~~~~~~~~&quot;
-#
-#            # Linear constraints.
-#            if A != None and b != None:
-#                if verbosity &gt;= 3:
-#                    print print_prefix + &quot;Linear constraint matrices.&quot;
-#                    print print_prefix + &quot;A: &quot; + `A`
-#                    print print_prefix + &quot;b: &quot; + `b`
 
 
     def process_results(self, results, processor, completed):
         param_vector, func, iter, fc, gc, hc, warning = results
 
         processor.return_object(MF_grid_result_command(processor, 
result_string, self.memo_id, param_vector, func, iter, fc, gc, hc, warning, 
completed=completed))
-
-
-#    def run(self, processor, completed):
-#        pass
-
-
-    #def run_command()
-    #    return super(MF_grid_command, self).run(processor, completed)
 
 
 class MF_result_command(Result_command):
@@ -398,7 +320,6 @@
         m_f.f_count = 0
         m_f.g_count = 0
         m_f.h_count = 0
-        #raise Exception()
         m_f._disassemble_result(param_vector=self.param_vector, 
func=self.func, iter=self.iter, fc=self.fc, gc=self.gc, hc=self.hc, 
warning=self.warning, spin=memo.spin, sim_index=memo.sim_index, 
model_type=memo.model_type, scaling=memo.scaling, 
scaling_matrix=memo.scaling_matrix)
 
 
@@ -428,13 +349,8 @@
 
 
     def add_result(self, sub_memo, results):
-#        print '**** add result ****', sub_memo.memo_id(), 
results[OFFSET_FK], len(self.sub_memos)
-#        print results
-#        print self.full_output
-#        print results[OFFSET_FK], self.fk
         if self.full_output:
             if results[OFFSET_FK] &lt; self.fk:
-                #print 'adding ******'
                 self.xk = results[OFFSET_XK]
                 self.fk = results[OFFSET_FK]
             self.k += results[OFFSET_K]
@@ -466,7 +382,6 @@
 
         if self.first_time == None:
             self.first_time = True
-        #print '****', self.xk, self.fk, self.k, self.f_count, self.g_count, 
self.h_count, self.warning
 
 
     def add_sub_memo(self, memo):



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Jan 07 15:00:01 2010</div>  
</body>
</html>
