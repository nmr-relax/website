<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: r25609 &#45; /trunk/lib/io.py -->
<!--X-From-R13: "Sqjneq q'Ohiretar" &#60;rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Thu, 04 Sep 2014 11:30:39 +0200 -->
<!--X-Message-Id: CAED9pY&#45;_g&#45;=vq2W+sE=9+OFZm9wrfv&#45;FiaAv4DgoxR8j1AjVTA@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1XPHVv&#45;00075M&#45;4v@subversion.gna.org -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: r25609 - /trunk/lib/io.py -- September 04, 2014 - 11:30</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: r25609 - /trunk/lib/io.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00090" class="tabs">Index by Date</a> | <a href="threads.html#00090" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00089.html">Date Prev</a>] [<a href="msg00091.html">Date Next</a>] [<a href="msg00088.html">Thread Prev</a>] [<a href="msg00095.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 4 Sep 2014 11:30:08 +0200</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:date:message-id:subject :from:to:content-type; bh=UjeSqh+pJPkdplPnO7YyUUgB753ekJ7Mg70TysihKSs=; b=xfoVStxdLGj/wcJVz4g+SMgHkKekxDmaSmAZ3/VLtC1XPVa/T4wE3Y163T1q7G0qTj ffrJaOcmK2HQBaxn0IjKnR8XAuaD/4t1bmhrtvqda18bux/PU7h/leE0mi2NgD6T0cBj 2AF8LQ6Er4a7Sr9FjMpdzfZKW4myJ2Q7p5RKgYChZ7W6evSqC3I81+O9zqgF1++7du/c w6WpN9lh6G+m8B3cbQqpS39zc+1QpIEPbVvZ1gl3AfA5Yg05omifubT56h1FyF3UFSVU tgZGFy8gyyWdsC9c8Gv5O+m6BPXH9Nfti+82WjqDFHrZVaz3zStxjGTP58z237mWjifE I3bQ==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;CAED9pY-_g-=vq2W+sE=9+OFZm9wrfv-FiaAv4DgoxR8j1AjVTA@mail.gmail.com&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1XPHVv-00075M-4v@subversion.gna.org&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on September 04, 2014 - 11:30:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Troels,

You have to be very careful with Python 3 compatibility when using
lambda.  I actually actively avoid this construct, as it may be
removed in the future.  If you would like to use it, make sure you
thoroughly test it with Python 3.  Note this very important post by
the inventor and lead developer of Python:

<a  rel="nofollow" href="http://www.artima.com/weblogs/viewpost.jsp?thread=98196">http://www.artima.com/weblogs/viewpost.jsp?thread=98196</a>

</pre><blockquote class="blockquote"><pre style="margin: 0em;">From this, the lambda construct appears to be in danger of deletion in
</pre></blockquote><pre style="margin: 0em;">future Python versions.  Guido doesn't like it, so he may just decide
to kill it one day.  Therefore it might be better to avoid it.

Cheers,

Edward



On 3 September 2014 22:50,  &lt;tlinnet@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Author: tlinnet
Date: Wed Sep  3 22:50:46 2014
New Revision: 25609

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=25609&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=25609&amp;view=rev</a>
Log:
Added function to lib.io to sort a list of filenames into 
human-understandable alphanumeric order.

Modified:
    trunk/lib/io.py

Modified: trunk/lib/io.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/lib/io.py?rev=25609&amp;r1=25608&amp;r2=25609&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/lib/io.py?rev=25609&amp;r1=25608&amp;r2=25609&amp;view=diff</a>
==============================================================================
--- trunk/lib/io.py     (original)
+++ trunk/lib/io.py     Wed Sep  3 22:50:46 2014
@@ -37,7 +37,7 @@
 from os import devnull
 from os import F_OK, X_OK, access, altsep, getenv, makedirs, pathsep, 
remove, sep
 from os.path import expanduser, basename, splitext, isfile
-from re import search
+from re import search, split
 from sys import stdin, stdout, stderr
 from warnings import warn

@@ -480,6 +480,31 @@
         return file_obj


+def sort_filenames(filenames=None, rev=False):
+    &quot;&quot;&quot;Sort the given list in alphanumeric order.  Should be equivalent to 
unix 'ls -n' command.
+
+    @keyword filenames: The list of filenames
+    @type l:            list of strings
+    @keyword rev:       Flag, if the list should be reverted
+    @type rev:          boold
+    &quot;&quot;&quot;
+
+    # Define function to convert to integers if text is digit.
+    convert = lambda text: int(text) if text.isdigit() else text
+
+    # Define function to create key for sorting.
+    alphanum_key = lambda key: [ convert(c) for c in split('([0-9]+)', 
key) ]
+
+    # Now sort according to key.
+    filenames.sort( key=alphanum_key )
+
+    # Reverse the list if needed.
+    if rev:
+        return reversed(filenames)
+    else:
+        return filenames
+
+
 def strip(data, comments=True):
     &quot;&quot;&quot;Remove all comment and empty lines from the file data structure.



_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-commits mailing list
relax-commits@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-commits">https://mail.gna.org/listinfo/relax-commits</a>
</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Sep 05 12:20:29 2014</div>  
</body>
</html>
