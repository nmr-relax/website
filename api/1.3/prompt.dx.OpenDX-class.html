<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>prompt.dx.OpenDX</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://nmr-relax.com">relax</a></th>
          </tr></table></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="prompt-module.html">Package&nbsp;prompt</a> ::
        <a href="prompt.dx-module.html">Module&nbsp;dx</a> ::
        Class&nbsp;OpenDX
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="prompt.dx.OpenDX-class.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== CLASS DESCRIPTION ==================== -->
<h1 class="epydoc">Class OpenDX</h1><p class="nomargin-top"><span class="codelink"><a href="prompt.dx-pysrc.html#OpenDX">source&nbsp;code</a></span></p>
<center>
<center>  <map id="uml_class_diagram_for_prompt_d_4" name="uml_class_diagram_for_prompt_d_4">
<area shape="rect" id="node642" href="prompt.dx.OpenDX-class.html#execute" title="Function for running OpenDX." alt="" coords="17,116,1044,135"/>
<area shape="rect" id="node642" href="prompt.dx.OpenDX-class.html#map" title="Function for creating a map of the given space in OpenDX format." alt="" coords="17,135,1044,153"/>
<area shape="rect" id="node1" href="prompt.dx.OpenDX-class.html" title="Class for interfacing with OpenDX." alt="" coords="5,83,1056,159"/>
<area shape="rect" id="node643" href="prompt.base_class.User_fn_class-class.html#__init__" title="Initialise the user function class, compiling the help string." alt="" coords="440,39,621,57"/>
<area shape="rect" id="node2" href="prompt.base_class.User_fn_class-class.html" title="prompt.base_class.User_fn_class" alt="" coords="428,6,633,63"/>
</map>
  <img src="uml_class_diagram_for_prompt_d_4.gif" alt='' usemap="#uml_class_diagram_for_prompt_d_4" ismap="ismap" class="graph-without-title" />
</center>
</center>
<hr />
<pre class="literalblock">
Class for interfacing with OpenDX.

</pre>

<!-- ==================== INSTANCE METHODS ==================== -->
<a name="section-InstanceMethods"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Instance Methods</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-InstanceMethods"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="prompt.dx.OpenDX-class.html#execute" class="summary-sig-name">execute</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">file</span>=<span class="summary-sig-default"><code class="variable-quote">'</code><code class="variable-string">map</code><code class="variable-quote">'</code></span>,
        <span class="summary-sig-arg">dir</span>=<span class="summary-sig-default"><code class="variable-quote">'</code><code class="variable-string">dx</code><code class="variable-quote">'</code></span>,
        <span class="summary-sig-arg">dx_exe</span>=<span class="summary-sig-default"><code class="variable-quote">'</code><code class="variable-string">dx</code><code class="variable-quote">'</code></span>,
        <span class="summary-sig-arg">vp_exec</span>=<span class="summary-sig-default">True</span>)</span><br />
      Function for running OpenDX.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="prompt.dx-pysrc.html#OpenDX.execute">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="prompt.dx.OpenDX-class.html#map" class="summary-sig-name">map</a>(<span class="summary-sig-arg">self</span>,
        <span class="summary-sig-arg">params</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">map_type</span>=<span class="summary-sig-default"><code class="variable-quote">'</code><code class="variable-string">Iso3D</code><code class="variable-quote">'</code></span>,
        <span class="summary-sig-arg">spin_id</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">inc</span>=<span class="summary-sig-default">20</span>,
        <span class="summary-sig-arg">lower</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">upper</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">axis_incs</span>=<span class="summary-sig-default">5</span>,
        <span class="summary-sig-arg">file_prefix</span>=<span class="summary-sig-default"><code class="variable-quote">'</code><code class="variable-string">map</code><code class="variable-quote">'</code></span>,
        <span class="summary-sig-arg">dir</span>=<span class="summary-sig-default"><code class="variable-quote">'</code><code class="variable-string">dx</code><code class="variable-quote">'</code></span>,
        <span class="summary-sig-arg">point</span>=<span class="summary-sig-default">None</span>,
        <span class="summary-sig-arg">point_file</span>=<span class="summary-sig-default"><code class="variable-quote">'</code><code class="variable-string">point</code><code class="variable-quote">'</code></span>,
        <span class="summary-sig-arg">remap</span>=<span class="summary-sig-default">None</span>)</span><br />
      Function for creating a map of the given space in OpenDX format.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="prompt.dx-pysrc.html#OpenDX.map">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
  <tr>
    <td colspan="2" class="summary">
    <p class="indent-wrapped-lines"><b>Inherited from <code><a href="prompt.base_class.User_fn_class-class.html">base_class.User_fn_class</a></code></b>:
      <code><a href="prompt.base_class.User_fn_class-class.html#__init__">__init__</a></code>
      </p>
    </td>
  </tr>
</table>
<!-- ==================== METHOD DETAILS ==================== -->
<a name="section-MethodDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Method Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-MethodDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="execute"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">execute</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">file</span>=<span class="sig-default"><code class="variable-quote">'</code><code class="variable-string">map</code><code class="variable-quote">'</code></span>,
        <span class="sig-arg">dir</span>=<span class="sig-default"><code class="variable-quote">'</code><code class="variable-string">dx</code><code class="variable-quote">'</code></span>,
        <span class="sig-arg">dx_exe</span>=<span class="sig-default"><code class="variable-quote">'</code><code class="variable-string">dx</code><code class="variable-quote">'</code></span>,
        <span class="sig-arg">vp_exec</span>=<span class="sig-default">True</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="prompt.dx-pysrc.html#OpenDX.execute">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Function for running OpenDX.

Keyword Arguments
~~~~~~~~~~~~~~~~~

file:  The file name prefix.  For example if file is set to 'temp', then the OpenDX program
temp.net will be loaded.

dir:  The directory to change to for running OpenDX.  If this is set to None, OpenDX will
be run in the current directory.

dx_exe:  The OpenDX executable file.

vp_exec:  A flag specifying whether to execute the visual program automatically at
start-up.  The default of True causes the program to be executed.

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<a name="map"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">map</span>(<span class="sig-arg">self</span>,
        <span class="sig-arg">params</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">map_type</span>=<span class="sig-default"><code class="variable-quote">'</code><code class="variable-string">Iso3D</code><code class="variable-quote">'</code></span>,
        <span class="sig-arg">spin_id</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">inc</span>=<span class="sig-default">20</span>,
        <span class="sig-arg">lower</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">upper</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">axis_incs</span>=<span class="sig-default">5</span>,
        <span class="sig-arg">file_prefix</span>=<span class="sig-default"><code class="variable-quote">'</code><code class="variable-string">map</code><code class="variable-quote">'</code></span>,
        <span class="sig-arg">dir</span>=<span class="sig-default"><code class="variable-quote">'</code><code class="variable-string">dx</code><code class="variable-quote">'</code></span>,
        <span class="sig-arg">point</span>=<span class="sig-default">None</span>,
        <span class="sig-arg">point_file</span>=<span class="sig-default"><code class="variable-quote">'</code><code class="variable-string">point</code><code class="variable-quote">'</code></span>,
        <span class="sig-arg">remap</span>=<span class="sig-default">None</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="prompt.dx-pysrc.html#OpenDX.map">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <pre class="literalblock">
Function for creating a map of the given space in OpenDX format.

Keyword Arguments
~~~~~~~~~~~~~~~~~

params:  The parameters to be mapped.  This argument should be an array of strings, the
meanings of which are described below.

map_type:  The type of map to create.  For example the default, a 3D isosurface, the type is
'Iso3D'.  See below for more details.

spin_id:  The spin identification numbe.

inc:  The number of increments to map in each dimension.  This value controls the resolution
of the map.

lower:  The lower bounds of the space.  If you wish to change the lower bounds of the map
then supply an array of length equal to the number of parameters in the model.  A lower
bound for each parameter must be supplied.  If nothing is supplied then the defaults will
be used.

upper:  The upper bounds of the space.  If you wish to change the upper bounds of the map
then supply an array of length equal to the number of parameters in the model.  A upper
bound for each parameter must be supplied.  If nothing is supplied then the defaults will
be used.

axis_incs:  The number of increments or ticks displaying parameter values along the axes of
the OpenDX plot.

file_prefix:  The file name.  All the output files are prefixed with this name.  The main file
containing the data points will be called the value of 'file'.  The OpenDX program will be
called 'file.net' and the OpenDX import file will be called 'file.general'.

dir:  The directory to output files to.  Set this to 'None' if you do not want the files to
be placed in subdirectory.  If the directory does not exist, it will be created.

point:  An array of parameter values where a point in the map, shown as a red sphere, will
be placed.  The length must be equal to the number of parameters.

point_file:  The name of that the point output files will be prefixed with.

remap:  A user supplied remapping function.  This function will receive the parameter array
and must return an array of equal length.


Map type
~~~~~~~~

The map type can be changed by supplying the 'map_type' keyword argument.  Here is a list of
currently supported map types:
_____________________________________________________________________________
|                                           |                               |
| Surface type                              | Pattern                       |
|___________________________________________|_______________________________|
|                                           |                               |
| 3D isosurface                             | 'Iso3D'                       |
|___________________________________________|_______________________________|

This argument is case insensitive.


Examples
~~~~~~~~

The following commands will generate a map of the extended model-free space for model 'm5'
consisting of the parameters {S2, S2f, ts}.  Files will be output into the
directory 'dx' and will be prefixed by 'map'.  In this case, the system is a protein and
residue number 6 will be mapped.

relax&gt; dx.map(['S2', 'S2f', 'ts'], spin_id=':6')
relax&gt; dx.map(['S2', 'S2f', 'ts'], spin_id=':6', file_prefix='map', dir='dx')
relax&gt; dx.map(params=['S2', 'S2f', 'ts'], spin_id=':6', inc=20, file_prefix='map', dir='dx')
relax&gt; dx.map(params=['S2', 'S2f', 'ts'], spin_id=':6', map_type='Iso3D', inc=20,
              file_prefix='map', dir='dx')


To map the model-free space 'm4' for residue 2, spin N6 defined by the parameters {S2, te,
Rex}, name the results 'test', and to place the files in the current directory, use one of
the following commands:

relax&gt; dx.map(['S2', 'te', 'Rex'], spin_id=':2@N6', file_prefix='test', dir=None)
relax&gt; dx.map(params=['S2', 'te', 'Rex'], spin_id=':2@N6', inc=100, file_prefix='test', dir=None)




Regular expression
~~~~~~~~~~~~~~~~~~

The python function 'match', which uses regular expression, is used to determine which data
type to set values to, therefore various data_type strings can be used to select the same
data type.  Patterns used for matching for specific data types are listed below.

This is a short description of python regular expression, for more information see the
regular expression syntax section of the Python Library Reference.  Some of the regular
expression syntax used in this function is:

    '[]':  A sequence or set of characters to match to a single character.  For example,
    '[Ss]2' will match both 'S2' and 's2'.

    '^':  Match the start of the string.

    '$':  Match the end of the string.  For example, '^[Ss]2$' will match 's2' but not 'S2f'
    or 's2s'.

    '.':  Match any character.

    'x*':  Match the character 'x' any number of times, for example 'x' will match, as will
    'xxxxx'

    '.*':  Match any sequence of characters of any length.

Importantly, do not supply a string for the data type containing regular expression.  The
regular expression is implemented so that various strings can be supplied which all match
the same data type.


Diffusion tensor parameter string matching patterns
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

____________________________________________________________________________________________
|                                                        |              |                  |
| Data type                                              | Object name  | Patterns         |
|________________________________________________________|______________|__________________|
|                                                        |              |                  |
| Global correlation time - tm                           | 'tm'         | '^tm$'           |
|                                                        |              |                  |
| Isotropic component of the diffusion tensor - Diso     | 'Diso'       | '[Dd]iso'        |
|                                                        |              |                  |
| Anisotropic component of the diffusion tensor - Da     | 'Da'         | '[Dd]a'          |
|                                                        |              |                  |
| Rhombic component of the diffusion tensor - Dr         | 'Dr'         | '[Dd]r$'         |
|                                                        |              |                  |
| Eigenvalue associated with the x-axis of the diffusion | 'Dx'         | '[Dd]x'          |
| diffusion tensor - Dx                                  |              |                  |
|                                                        |              |                  |
| Eigenvalue associated with the y-axis of the diffusion | 'Dy'         | '[Dd]y'          |
| diffusion tensor - Dy                                  |              |                  |
|                                                        |              |                  |
| Eigenvalue associated with the z-axis of the diffusion | 'Dz'         | '[Dd]z'          |
| diffusion tensor - Dz                                  |              |                  |
|                                                        |              |                  |
| Diffusion coefficient parallel to the major axis of    | 'Dpar'       | '[Dd]par'        |
| the spheroid diffusion tensor - Dpar                   |              |                  |
|                                                        |              |                  |
| Diffusion coefficient perpendicular to the major axis  | 'Dper'       | '[Dd]per'        |
| of the spheroid diffusion tensor - Dper                |              |                  |
|                                                        |              |                  |
| Ratio of the parallel and perpendicular components of  | 'Dratio'     | '[Dd]ratio'      |
| the spheroid diffusion tensor - Dratio                 |              |                  |
|                                                        |              |                  |
| The first Euler angle of the ellipsoid diffusion       | 'alpha'      | '^a$' or 'alpha' |
| tensor - alpha                                         |              |                  |
|                                                        |              |                  |
| The second Euler angle of the ellipsoid diffusion      | 'beta'       | '^b$' or 'beta'  |
| tensor - beta                                          |              |                  |
|                                                        |              |                  |
| The third Euler angle of the ellipsoid diffusion       | 'gamma'      | '^g$' or 'gamma' |
| tensor - gamma                                         |              |                  |
|                                                        |              |                  |
| The polar angle defining the major axis of the         | 'theta'      | 'theta'          |
| spheroid diffusion tensor - theta                      |              |                  |
|                                                        |              |                  |
| The azimuthal angle defining the major axis of the     | 'phi'        | 'phi'            |
| spheroid diffusion tensor - phi                        |              |                  |
|________________________________________________________|______________|__________________|



Model-free data type string matching patterns
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

____________________________________________________________________________________________
|                        |                  |                                              |
| Data type              | Object name      | Patterns                                     |
|________________________|__________________|______________________________________________|
|                        |                  |                                              |
| Local tm               | 'local_tm'       | '[Ll]ocal[ -_]tm'                            |
|                        |                  |                                              |
| Order parameter S2     | 's2'             | '^[Ss]2$'                                    |
|                        |                  |                                              |
| Order parameter S2f    | 's2f'            | '^[Ss]2f$'                                   |
|                        |                  |                                              |
| Order parameter S2s    | 's2s'            | '^[Ss]2s$'                                   |
|                        |                  |                                              |
| Correlation time te    | 'te'             | '^te$'                                       |
|                        |                  |                                              |
| Correlation time tf    | 'tf'             | '^tf$'                                       |
|                        |                  |                                              |
| Correlation time ts    | 'ts'             | '^ts$'                                       |
|                        |                  |                                              |
| Chemical exchange      | 'rex'            | '^[Rr]ex$' or '[Cc]emical[ -_][Ee]xchange'   |
|                        |                  |                                              |
| Bond length            | 'r'              | '^r$' or '[Bb]ond[ -_][Ll]ength'             |
|                        |                  |                                              |
| CSA                    | 'csa'            | '^[Cc][Ss][Aa]$'                             |
|                        |                  |                                              |
| Heteronucleus type     | 'heteronuc_type' | '^[Hh]eteronucleus$'                         |
|                        |                  |                                              |
| Proton type            | 'proton_type'    | '^[Pp]roton$'                                |
|________________________|__________________|______________________________________________|

</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Project homepage -->
      <th class="navbar" align="right" width="100%">
        <table border="0" cellpadding="0" cellspacing="0">
          <tr><th class="navbar" align="center"
            ><a class="navbar" target="_top" href="http://nmr-relax.com">relax</a></th>
          </tr></table></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Fri Feb 18 16:58:56 2011
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
