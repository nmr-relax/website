<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [sr #3155] An R1rho expression for a spin in chemical exchange between two sites with unequal transverse relaxation rates -->
<!--X-From-R13: "Sqjneq q'Ohiretar" &#60;rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Fri, 02 May 2014 16:25:02 +0200 -->
<!--X-Message-Id: CAED9pY_Wdzrz+Xt&#45;wMM&#45;_SasFLAwDJ4E+Uy=6sjH=oC38xRQCg@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20140429&#45;225947.sv20529.58155@gna.org -->
<!--X-Reference: CAED9pY_EqTXxWh&#45;UU9d3epa0JJG9UOR66kYNDzUCsQC59EO9Aw@mail.gmail.com -->
<!--X-Reference: 5360CDCF.8020809@chem.ox.ac.uk -->
<!--X-Reference: CAED9pY9F7_&#45;s2tDvsYRv=2oyA4VN28NpzdAd4dv6eiZJ70mnGw@mail.gmail.com -->
<!--X-Reference: 536209BC.4080300@chem.ox.ac.uk -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [sr #3155] An R1rho expression for a spin in chemical exchange between two sites with unequal transverse relaxation rates -- May 02, 2014 - 16:25</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: [sr #3155] An R1rho expression for a spin in chemical exchange between two sites with unequal transverse relaxation rates</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00052" class="tabs">Index by Date</a> | <a href="threads.html#00052" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00051.html">Date Prev</a>] [<a href="msg00053.html">Date Next</a>] [<a href="msg00011.html">Thread Prev</a>] [<a href="msg00053.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Andrew Baldwin &lt;andrew.baldwin@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Fri, 2 May 2014 16:24:10 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;Troels E. Linnet&quot; &lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt;, &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:date:message-id:subject :from:to:cc:content-type; bh=dIqKKG68SiKHB/TvvI/M1Rj/QMYKQBYtU684XZvmC+M=; b=jvyIrCoVpbz7BY2ryxeoSviUdzx2va4/M6xhVXRiE/c6h8FwCYo1OgBblbcMkLb+AR Yvz/Mqi+rNrXwHqhLL4TkzeVMnCLdvb8pwHJpd0tHTBz4yVgWiwbInAP19d20dZRyoVT CrNsRGE0JGwWEsoYUOHl64pydSH+/mv1CU46FLwa/UoAIrVJ+aM4256JMewH9yKVuGXX Tcw1NzojF8yWUn6NJSQt7vtwpLEDSmO/czbl3j4Mnnp9KItQl4HXW9C5UFNvfUghMcpF 9yUdPxVLiDhKrZ4hBD3c97hHmjdBn6ADk9gSrTJc7lbeI2V0P8sX8uv704qAL41GXYJj 3xVw==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;CAED9pY_Wdzrz+Xt-wMM-_SasFLAwDJ4E+Uy=6sjH=oC38xRQCg@mail.gmail.com&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;20140429-225947.sv20529.58155@gna.org&gt; &lt;CAED9pY_EqTXxWh-UU9d3epa0JJG9UOR66kYNDzUCsQC59EO9Aw@mail.gmail.com&gt; &lt;<a href="msg00001.html">5360CDCF.8020809@chem.ox.ac.uk</a>&gt; &lt;CAED9pY9F7_-s2tDvsYRv=2oyA4VN28NpzdAd4dv6eiZJ70mnGw@mail.gmail.com&gt; &lt;<a href="msg00011.html">536209BC.4080300@chem.ox.ac.uk</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on May 02, 2014 - 16:25:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Andy,

For public mailing lists, it is best to avoid attaching files.  This
puts a lot of strain on the open source infrastructure as the
attachment is copied many times and stored in many places on the
internet (there are 4 permanent archives of each relax mailing list,
see <a  rel="nofollow" href="http://www.nmr-relax.com/communication.html">http://www.nmr-relax.com/communication.html</a>).  It is better to
attach files to a support request or task
(<a  rel="nofollow" href="https://gna.org/support/?3154">https://gna.org/support/?3154</a> and <a  rel="nofollow" href="https://gna.org/support/?3155">https://gna.org/support/?3155</a>, for
example).  As the message is getting quite long, I'll answer it in a
number of parts:


</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">Do you have code for this R1rho model?  It may help to have the code,
either to use it directly or for comparison and test suite purposes.
In relax, the implementation is in Python.
</pre></blockquote><pre style="margin: 0em;">

Here some very unoptimised code. Note that you have to adjust the offset
(see below).
J. Biol. NMR (2013), 55:211-218.
</pre></blockquote><pre style="margin: 0em;">

Cheers!  This will come in handy for implementing the model.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">In the paper is a formula that predicts accurately when it will work and
when it will not (Page 214, 4 lines from the bottom). This formula will
break when the relevant eigenvalue is no longer the smallest. As ever, this
treatment proves that the R1rho is resilient to differences in relaxation,
but to analyse data, use at minimum the 6x6 matrix.
</pre></blockquote><pre style="margin: 0em;">

The aim for relax is to support absolutely everything.  It is up to
the user to judge the models, theory level, etc.  If they use the
defaults, then they shouldn't go wrong.


</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">But as numpy is used, the
different between Python and C is minimal.  The fine details of the
implementation itself make more of a difference for speed than the
choice of language.
</pre></blockquote><pre style="margin: 0em;">

Debatable. Sure a decent workup in numpy gets you much faster, but you'll
notice even the ardent supports of numpy concede that C whoops it's ass. Ie
optimised numpy will be slower than C. I say that as someone that does
almost everything in python.
</pre></blockquote><pre style="margin: 0em;">

Well, FORTRAN beats C hands down, especially when you use BLAS and
LAPACK libraries.  But I've see so many inefficient implementations in
my time - mostly replicating calculations at the lowest loop levels,
or preforming calculations in low loop level when it can be performed
higher up - that the implementation differences really are greater
than the language choice.  I can even see this in the code for Dmitry
Korzhnev's cpmg_fit software (the clc_jac() function of the min_cp.c
file has quite a number of replicated calculations).  But it is true
that fully optimised code would be fastest in the order of FORTRAN, C,
and finally Python.  Though I doubt that fully optimised code exists
anywhere in the dispersion field, relax included ;)

Regards,

Edward


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00001" href="msg00001.html">Re: [sr #3155] An R1rho expression for a spin in chemical exchange between two sites with unequal transverse relaxation rates</a></strong>
<ul><li><em>From:</em> Andrew Baldwin</li></ul></li>
<li><strong><a name="00011" href="msg00011.html">Re: [sr #3155] An R1rho expression for a spin in chemical exchange between two sites with unequal transverse relaxation rates</a></strong>
<ul><li><em>From:</em> Andrew Baldwin</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri May 02 18:40:09 2014</div>  
</body>
</html>
