<!-- MHonArc v2.6.16 -->
<!--X-Subject: r8747 &#45; in /branches/relax_disp: ./ generic_fns/	generic_fns/structure/ test_suite/system_tests/ -->
<!--X-From-R13: fronfgvra.zbeva.1Nhyniny.pn -->
<!--X-Date: Thu, 05 Feb 2009 16:28:33 +0100 -->
<!--X-Message-Id: E1LV69Z&#45;0000mE&#45;MV@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r8747 - in /branches/relax_disp: ./ generic_fns/	generic_fns/structure/ test_suite/system_tests/ -- February 05, 2009 - 16:28</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r8747 - in /branches/relax_disp: ./ generic_fns/	generic_fns/structure/ test_suite/system_tests/</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00043" class="tabs">Index by Date</a> | <a href="threads.html#00043" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00042.html">Date Prev</a>] [<a href="msg00044.html">Date Next</a>] [<a href="msg00042.html">Thread Prev</a>] [<a href="msg00044.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Thu, 05 Feb 2009 15:28:33 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00043.html">E1LV69Z-0000mE-MV@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>sebastien . morin . 1</strong> on February 05, 2009 - 16:28:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: semor
Date: Thu Feb  5 16:28:33 2009
New Revision: 8747

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=8747&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=8747&amp;view=rev</a>
Log:
Merged revisions 8714,8717,8723,8725-8732,8734-8746 via svnmerge from 
svn+ssh://semor@xxxxxxxxxxx/svn/relax/1.3

........
  r8714 | bugman | 2009-02-02 04:58:41 -0500 (Mon, 02 Feb 2009) | 3 lines
  
  Added some printouts stating which file the relax saved state is placed in 
when in Debug mode.
........
  r8717 | bugman | 2009-02-02 05:30:54 -0500 (Mon, 02 Feb 2009) | 11 lines
  
  Fixed an annoying bug in the RelaxError debugging mode.
  
  The problem here is that the relax state was being saved in the __init__() 
methods if in debug mode.
  The result was that in try statements which catch and allow for 
RelaxErrors, the relax state was
  being saved even though the error message and exception was suppressed.  
The fix was to shift the
  state saving code into the __str__() method.
  
  A side effect of this change is a simplification of all the RelaxError 
classes as the debug code is
  no longer duplicated in each class.
........
  r8723 | bugman | 2009-02-03 12:05:58 -0500 (Tue, 03 Feb 2009) | 6 lines
  
  Wrote 2 new system tests for the new structural data design.
  
  In test_read_pdb_internal6(), 2 different structures are loaded as 2 
molecules.  In
  test_read_pdb_internal7(), 2 identical structures are loaded as 2 molecules.
........
  r8725 | bugman | 2009-02-04 04:33:25 -0500 (Wed, 04 Feb 2009) | 3 lines
  
  Duplicated 5 systems tests of the internal PDB reader for the Scientific 
python PDB reader.
........
  r8726 | bugman | 2009-02-04 04:37:40 -0500 (Wed, 04 Feb 2009) | 5 lines
  
  Bug fix for the load_pdb() method.
  
  When set_model_num is None, this is now handled properly.
........
  r8727 | bugman | 2009-02-04 04:51:40 -0500 (Wed, 04 Feb 2009) | 6 lines
  
  Fixes for the test_read_pdb_mol_2_model_scientific() system test.
  
  The Scientific python PDB reader somehow decided to split the single 
structures in
  'lactose_MCMM4_S1_*.pdb' into 2.
........
  r8728 | bugman | 2009-02-04 09:55:49 -0500 (Wed, 04 Feb 2009) | 5 lines
  
  Fixes for the load_pdb() method.
  
  Previously loaded structures were not being taken into account.
........
  r8729 | bugman | 2009-02-04 10:16:25 -0500 (Wed, 04 Feb 2009) | 5 lines
  
  More fixes for load_pdb().
  
  Collapsing 2 models into 1 was failing.
........
  r8730 | bugman | 2009-02-04 11:22:01 -0500 (Wed, 04 Feb 2009) | 5 lines
  
  Another fix for the load_pdb() method.
  
  The mol_offset value should be calculated at all times!
........
  r8731 | bugman | 2009-02-04 11:22:38 -0500 (Wed, 04 Feb 2009) | 3 lines
  
  Added error checking to load_pdb() for when the number of molecules exceeds 
the set_mol_name list.
........
  r8732 | bugman | 2009-02-04 11:24:47 -0500 (Wed, 04 Feb 2009) | 3 lines
  
  The read_mol arg now does something in load_pdb()!!!
........
  r8734 | bugman | 2009-02-04 11:32:36 -0500 (Wed, 04 Feb 2009) | 6 lines
  
  Fix for the test_read_pdb_complex_scientific() system test.
  
  Retarded Scientific python splitting a perfectly good molecule into 2 when 
it can't recognise a
  residue type!
........
  r8735 | bugman | 2009-02-05 04:00:21 -0500 (Thu, 05 Feb 2009) | 6 lines
  
  Modified test_read_pdb_internal1() to catch a molecule name identification 
bug.
  
  The test_read_pdb_scientific1() was similarly modified, but there is no bug 
in the Scientific python
  code.
........
  r8736 | bugman | 2009-02-05 04:18:17 -0500 (Thu, 05 Feb 2009) | 5 lines
  
  Bug fix for the atom_loop() method.
  
  The molecule name was not being checked!
........
  r8737 | bugman | 2009-02-05 04:22:02 -0500 (Thu, 05 Feb 2009) | 3 lines
  
  Added a check for the molecule name.
........
  r8738 | bugman | 2009-02-05 04:22:35 -0500 (Thu, 05 Feb 2009) | 3 lines
  
  Modified a print out to make it clearer.
........
  r8739 | bugman | 2009-02-05 05:30:37 -0500 (Thu, 05 Feb 2009) | 3 lines
  
  Modified the get_pipe() function to check if a data pipe exists.
........
  r8740 | bugman | 2009-02-05 05:43:43 -0500 (Thu, 05 Feb 2009) | 3 lines
  
  Modified 2 system tests for the loading of N-Ca vectors.
........
  r8741 | bugman | 2009-02-05 08:41:36 -0500 (Thu, 05 Feb 2009) | 22 lines
  
  Massive speed up of the bond_vectors() method.
  
  The algorithm used was very, very poorly designed.  Now when setting the 
profile flag to 1 gives the
  following.  Before in one test:
  
           11168736 function calls (10986641 primitive calls) in 76.750 CPU 
seconds
  
     ncalls  tottime  percall  cumtime  percall filename:lineno(function)
     758954   12.160    0.000   51.060    0.000 
/home/edau/relax/relax-1.3/generic_fns/relax_re.py:31(search)
        141    0.890    0.006   67.620    0.480 
/home/edau/relax/relax-1.3/generic_fns/structure/internal.py:444(bond_vectors)
  
  All other function call info lines have been removed.  After the changes:
  
           2586419 function calls (2579305 primitive calls) in 21.370 CPU 
seconds
  
     ncalls  tottime  percall  cumtime  percall filename:lineno(function)
      62803    1.180    0.000    5.020    0.000 
/home/edau/relax/relax-1.3/generic_fns/relax_re.py:31(search)
        141    0.060    0.000   12.020    0.085 
/home/edau/relax/relax-1.3/generic_fns/structure/internal.py:444(bond_vectors)
  
  The difference is that the selection object is no longer used, as it is 
completely unnecessary.
........
  r8742 | bugman | 2009-02-05 08:42:51 -0500 (Thu, 05 Feb 2009) | 3 lines
  
  Modified the base API bond_vectors() method.
........
  r8743 | bugman | 2009-02-05 08:46:28 -0500 (Thu, 05 Feb 2009) | 3 lines
  
  Added the atoms 'NZ' and 'OH' as nitrogens and oxygens of amino acids 
respectively.
........
  r8744 | bugman | 2009-02-05 08:54:50 -0500 (Thu, 05 Feb 2009) | 8 lines
  
  Fixes for the bond_vectors() method.
  
  The atom_id string is now generated as it is no longer passed in.  This is 
a temporary fix and this
  function is very inefficient, just as the internal object bond_vectors() 
method was (which was fixed
  in r8741).
........
  r8745 | bugman | 2009-02-05 09:00:36 -0500 (Thu, 05 Feb 2009) | 5 lines
  
  Fix for the test_read_pdb_scientific1() system test.
  
  The current data pipe was not aliased.
........
  r8746 | bugman | 2009-02-05 09:03:40 -0500 (Thu, 05 Feb 2009) | 3 lines
  
  Removed some debugging print statements.
........

Modified:
    branches/relax_disp/   (props changed)
    branches/relax_disp/generic_fns/pipes.py
    branches/relax_disp/generic_fns/structure/api_base.py
    branches/relax_disp/generic_fns/structure/internal.py
    branches/relax_disp/generic_fns/structure/main.py
    branches/relax_disp/generic_fns/structure/scientific.py
    branches/relax_disp/relax_errors.py
    branches/relax_disp/test_suite/system_tests/structure.py

[This mail would be too long, it was shortened to contain the URLs only.]

Modified: branches/relax_disp/generic_fns/pipes.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/generic_fns/pipes.py?rev=8747&amp;r1=8746&amp;r2=8747&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/relax_disp/generic_fns/pipes.py?rev=8747&amp;r1=8746&amp;r2=8747&amp;view=diff</a>

Modified: branches/relax_disp/generic_fns/structure/api_base.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/generic_fns/structure/api_base.py?rev=8747&amp;r1=8746&amp;r2=8747&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/relax_disp/generic_fns/structure/api_base.py?rev=8747&amp;r1=8746&amp;r2=8747&amp;view=diff</a>

Modified: branches/relax_disp/generic_fns/structure/internal.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/generic_fns/structure/internal.py?rev=8747&amp;r1=8746&amp;r2=8747&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/relax_disp/generic_fns/structure/internal.py?rev=8747&amp;r1=8746&amp;r2=8747&amp;view=diff</a>

Modified: branches/relax_disp/generic_fns/structure/main.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/generic_fns/structure/main.py?rev=8747&amp;r1=8746&amp;r2=8747&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/relax_disp/generic_fns/structure/main.py?rev=8747&amp;r1=8746&amp;r2=8747&amp;view=diff</a>

Modified: branches/relax_disp/generic_fns/structure/scientific.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/generic_fns/structure/scientific.py?rev=8747&amp;r1=8746&amp;r2=8747&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/relax_disp/generic_fns/structure/scientific.py?rev=8747&amp;r1=8746&amp;r2=8747&amp;view=diff</a>

Modified: branches/relax_disp/relax_errors.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/relax_errors.py?rev=8747&amp;r1=8746&amp;r2=8747&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/relax_disp/relax_errors.py?rev=8747&amp;r1=8746&amp;r2=8747&amp;view=diff</a>

Modified: branches/relax_disp/test_suite/system_tests/structure.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/relax_disp/test_suite/system_tests/structure.py?rev=8747&amp;r1=8746&amp;r2=8747&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/relax_disp/test_suite/system_tests/structure.py?rev=8747&amp;r1=8746&amp;r2=8747&amp;view=diff</a>



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Feb 05 19:00:03 2009</div>  
</body>
</html>
