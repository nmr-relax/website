<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: {1H}&#45;15N NOE analysis -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 10 Apr 2007 09:33:58 +0200 -->
<!--X-Message-Id: 7f080ed10704100033h7a9cdc42uc87c0af7783c0477@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 169D09BF&#45;FE31&#45;46FD&#45;A80D&#45;45C613B839B1@gmail.com -->
<!--X-Reference: 7f080ed10703271911s3f1727a2i8b53bb854595815@mail.gmail.com -->
<!--X-Reference: B1B1C8E7&#45;9AA8&#45;42B4&#45;B16D&#45;078ADCF785E4@gmail.com -->
<!--X-Reference: 7f080ed10703290643g402bdccdudef56ef7dc1d7649@mail.gmail.com -->
<!--X-Reference: 460C1357.4080702@ulaval.ca -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: {1H}-15N NOE analysis -- April 10, 2007 - 09:33</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: {1H}-15N NOE analysis</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00003" class="tabs">Index by Date</a> | <a href="threads.html#00003" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00002.html">Date Prev</a>] [<a href="msg00004.html">Date Next</a>] [<a href="msg00001.html">Thread Prev</a>] [<a href="msg00004.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Sebastien Morin&quot; &lt;sebastien.morin.1@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 10 Apr 2007 17:33:19 +1000</li>
<li class="menuitem">
<em>Cc</em>: relax-users@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00003.html">7f080ed10704100033h7a9cdc42uc87c0af7783c0477@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;169D09BF-FE31-46FD-A80D-45C613B839B1@xxxxxxxxx&gt;	&lt;7f080ed10703271911s3f1727a2i8b53bb854595815@xxxxxxxxxxxxxx&gt;	&lt;B1B1C8E7-9AA8-42B4-B16D-078ADCF785E4@xxxxxxxxx&gt;	&lt;7f080ed10703290643g402bdccdudef56ef7dc1d7649@xxxxxxxxxxxxxx&gt;	&lt;460C1357.4080702@xxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on April 10, 2007 - 09:33:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hi,

Sorry, I have been unable to respond to emails or work on relax for a
little while.  I don't think that the 9 combinations for three
independent sets should be the default.  Unless all six sets are
collected interleaved as one experiment on the same spectrometer, I
don't know if I could trust two spectra of the same type to have
exactly the same peak height after the removal of the noise (obviously
noise removal is impossible).  The combinatorial error analysis
approach should be optional.

The  experiment number argument could still be used to input the peak
intensities and the type of error analysis could be specified by a new
user function such as noe.analysis_type().  If this user function is
not called, then the automatic determination of the error analysis to
use can be carried out (see the post at
<a  rel="nofollow" href="/mail.gna.org/public/relax-users/2007-03/msg00005.html">https://mail.gna.org/public/relax-users/2007-03/msg00005.html</a>).  This
will allow for backwards compatibility with relax scripts.  Seb, do
you see this approach as being sufficient?

Cheers,

Edward


On 3/30/07, Sebastien Morin &lt;sebastien.morin.1@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">
Hi all

I agree with Edward about the general approach.

However, I think that when using multiple NOE sets, different spectra
(with and without saturation) shouldn't be joined together before the
analysis to permit another type of error analysis to be performed.
Hence, NOE values shouldn't be input, but the actual raw data.

Let's say you record 3 spectra with saturation and 3 spectra without
saturation. With the approach proposed before, you get 3 sets from which
you can extract errors. However, if you treat every spectrum separately,
you get 9 sets of NOEs...

1. sat-1 + nosat-1
2. sat-1 + nosat-2
3. sat-1 + nosat-3
4. sat-2 + nosat-1
5. sat-2 + nosat-2
6. sat-2 + nosat-3
7. sat-3 + nosat-1
8. sat-3 + nosat-2
9. sat-3 + nosat-3

From those 9 sets, the error calculated can be much more exact relative
to reality.

This approach has been used before in Renner et al. (JBNMR, 23 : 23-33,
2002).

Bye


SÃ©bastien :)





Edward d'Auvergne wrote:
&gt; I think I have an idea as to how relax can be made to handle the
&gt; multiple NOE experiments (at a single field strength).  The noe.read()
&gt; user function could be modified to include an argument such as
&gt; 'exp_num'.  The standard single NOE 'ref' and 'sat' peak intensity
&gt; list will then default to exp_num=0.  The noe.error() would also
&gt; default to exp_num=0 and hence a user with a single NOE experiment
&gt; won't see any differences.  This is important for compatibility
&gt; requirements between the 1.2 relax versions.
&gt;
&gt; For those with multiple NOE experiments at a single field strength,
&gt; the 'exp_num' argument can be changed from 0 to 1 or higher.  The rest
&gt; of the procedure will be automatic from the perspective of the user
&gt; and the NOE calculation is carried out as normal.  If more than a
&gt; single experiment has been loaded into that run, the calc() user
&gt; function can determine what to do next.  For the NOE value, this can
&gt; be averaged.  For the NOE error two options will be possible.  Firstly
&gt; if the noe.error() user function has not been invoked, then the NOE
&gt; error can be calculated from the standard deviations of a single spin
&gt; system peak intensity (with a RelaxError thrown if only two
&gt; experiments have been loaded).  Secondly if errors have been set for
&gt; all loaded spectra, then the standard NOE error formula can be applied
&gt; and the error for a single spin averaged across the multiple NOE
&gt; experiments.
&gt;
&gt; Does anyone see any problems with this approach?  If not I'll try to
&gt; implement it soon.
&gt;
&gt; Cheers,
&gt;
&gt; Edward
&gt;
&gt;
&gt; On 3/29/07, Douglas Kojetin &lt;douglas.kojetin@xxxxxxxxx&gt; wrote:
&gt;&gt; Hi Edward,
&gt;&gt;
&gt;&gt; We currently use the second method you proposed below (calculate the
&gt;&gt; error from the deviations between peak intensities in the three
&gt;&gt; spectra).  Both methods could be implemented, then the user could
&gt;&gt; choose their preferred method.
&gt;&gt;
&gt;&gt; Doug
&gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;&gt; On Mar 27, 2007, at 10:11 PM, Edward d'Auvergne wrote:
&gt;&gt;
&gt;&gt; &gt; Hi,
&gt;&gt; &gt;
&gt;&gt; &gt; Unfortunately relax doesn't have the ability to do this but the
&gt;&gt; &gt; functionality could be added (it could even be implemented in the
&gt;&gt; &gt; relax script if all else fails).  The averaging of the NOE for the
&gt;&gt; &gt; three sets is obvious, but how would you like to carry out error
&gt;&gt; &gt; analysis?  Do you wish to use the RMSD of the base plane noise,
&gt;&gt; &gt; calculate three standard deviations for each spin system, and then
&gt;&gt; &gt; average that error?  Do you wish to calculate the error from the
&gt;&gt; &gt; deviations between peak intensities in the three spectra?  Or is there
&gt;&gt; &gt; another way to calculate the error that you would like to use?
&gt;&gt; &gt;
&gt;&gt; &gt; Cheers,
&gt;&gt; &gt;
&gt;&gt; &gt; Edward
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt; On 3/28/07, Douglas Kojetin &lt;douglas.kojetin@xxxxxxxxx&gt; wrote:
&gt;&gt; &gt;&gt; Hi All,
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; Does anyone have an example noe.py script to analyze and average
&gt;&gt; &gt;&gt; three identical {1H}-15N NOE experiments?
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; Thanks,
&gt;&gt; &gt;&gt; Doug
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; _______________________________________________
&gt;&gt; &gt;&gt; relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; This is the relax-users mailing list
&gt;&gt; &gt;&gt; relax-users@xxxxxxx
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt; To unsubscribe from this list, get a password
&gt;&gt; &gt;&gt; reminder, or change your subscription options,
&gt;&gt; &gt;&gt; visit the list information page at
&gt;&gt; &gt;&gt; <a  rel="nofollow" href="/mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>
&gt;&gt; &gt;&gt;
&gt;&gt;
&gt;&gt;
&gt;
&gt; _______________________________________________
&gt; relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)
&gt;
&gt; This is the relax-users mailing list
&gt; relax-users@xxxxxxx
&gt;
&gt; To unsubscribe from this list, get a password
&gt; reminder, or change your subscription options,
&gt; visit the list information page at
&gt; <a  rel="nofollow" href="/mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>
&gt;

--
         ______________________________________
     _______________________________________________
    |                                               |
   || Sebastien Morin                               ||
  ||| Etudiant au PhD en biochimie                  |||
 |||| Laboratoire de resonance magnetique nucleaire ||||
||||| Dr Stephane Gagne                             |||||
 |||| CREFSIP (Universite Laval, Quebec, CANADA)    ||||
  ||| 1-418-656-2131 #4530                          |||
   ||                                               ||
    |_______________________________________________|
         ______________________________________



</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00004" href="msg00004.html">Re: {1H}-15N NOE analysis</a></strong>
<ul><li><em>From:</em> Sebastien Morin</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00000" href="msg00000.html">Re: {1H}-15N NOE analysis</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00001" href="msg00001.html">Re: {1H}-15N NOE analysis</a></strong>
<ul><li><em>From:</em> Sebastien Morin</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Apr 11 17:00:37 2007</div>  
</body>
</html>
