<!-- MHonArc v2.6.18 -->
<!--X-Subject: r23685 &#45; /branches/frame_order_cleanup/test_suite/system_tests/scripts/frame_order/cam/base_script.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Fri, 06 Jun 2014 10:36:25 +0200 -->
<!--X-Message-Id: E1WspdR&#45;0001tA&#45;Et@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r23685 - /branches/frame_order_cleanup/test_suite/system_tests/scripts/frame_order/cam/base_script.py -- June 06, 2014 - 10:36</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r23685 - /branches/frame_order_cleanup/test_suite/system_tests/scripts/frame_order/cam/base_script.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00072" class="tabs">Index by Date</a> | <a href="threads.html#00072" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00071.html">Date Prev</a>] [<a href="msg00073.html">Date Next</a>] [<a href="msg00071.html">Thread Prev</a>] [<a href="msg00073.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Fri, 06 Jun 2014 08:36:25 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00072.html">E1WspdR-0001tA-Et@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on June 06, 2014 - 10:36:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Fri Jun  6 10:36:24 2014
New Revision: 23685

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=23685&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=23685&amp;view=rev</a>
Log:
Modified the CaM frame order base system test script to catch a bug in the 
free rotor model.

The axis spherical angles are no longer set for the rotor or free rotor 
models, as they use the
alpha angle instead and the lack of the theta and phi parameters triggers the 
bug.  The PDB
representation of the frame order motions is also now tested for all frame 
order models, as it was
turned off for the rigid, rotor and free rotor models and this is where the 
bug lies.


Modified:
    
branches/frame_order_cleanup/test_suite/system_tests/scripts/frame_order/cam/base_script.py

Modified: 
branches/frame_order_cleanup/test_suite/system_tests/scripts/frame_order/cam/base_script.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/frame_order_cleanup/test_suite/system_tests/scripts/frame_order/cam/base_script.py?rev=23685&amp;r1=23684&amp;r2=23685&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/frame_order_cleanup/test_suite/system_tests/scripts/frame_order/cam/base_script.py?rev=23685&amp;r1=23684&amp;r2=23685&amp;view=diff</a>
==============================================================================
--- 
branches/frame_order_cleanup/test_suite/system_tests/scripts/frame_order/cam/base_script.py
 (original)
+++ 
branches/frame_order_cleanup/test_suite/system_tests/scripts/frame_order/cam/base_script.py
 Fri Jun  6 10:36:24 2014
@@ -87,6 +87,8 @@
         # Parameter conversions.
         if self.MODEL in ['rotor', 'free rotor']:
             self.convert_rotor(theta=self.AXIS_THETA, phi=self.AXIS_PHI, 
pivot=self.PIVOT, com=self.COM)
+            self.AXIS_THETA = None
+            self.AXIS_PHI = None
 
         # Alias the user function executor method.
         self._execute_uf = exec_fn
@@ -238,9 +240,8 @@
         self._execute_uf(uf_name='structure.read_pdb', 
file='1J7O_1st_NH.pdb', dir=BASE_PATH)
         self._execute_uf(uf_name='structure.read_pdb', 
file='1J7P_1st_NH_rot.pdb', dir=BASE_PATH)
 
-        # Create the cone PDB file.
-        if self.CONE:
-            self._execute_uf(uf_name='frame_order.pdb_model', 
ave_pos_file='devnull', rep_file='devnull', dist_file='devnull', force=True)
+        # Create the PDB representation.
+        self._execute_uf(uf_name='frame_order.pdb_model', 
ave_pos_file='devnull', rep_file='devnull', dist_file='devnull', force=True)
 
 
     def setup_full(self):



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Jun 06 10:40:02 2014</div>  
</body>
</html>
