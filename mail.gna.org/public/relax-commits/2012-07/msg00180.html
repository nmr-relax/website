<!-- MHonArc v2.6.16 -->
<!--X-Subject: r17294 &#45; /branches/frame_order_testing/specific_fns/frame_order.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Mon, 23 Jul 2012 12:03:52 +0200 -->
<!--X-Message-Id: E1StFUV&#45;0004Lm&#45;Vc@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r17294 - /branches/frame_order_testing/specific_fns/frame_order.py -- July 23, 2012 - 12:03</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r17294 - /branches/frame_order_testing/specific_fns/frame_order.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00180" class="tabs">Index by Date</a> | <a href="threads.html#00180" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00179.html">Date Prev</a>] [<a href="msg00181.html">Date Next</a>] [<a href="msg00179.html">Thread Prev</a>] [<a href="msg00181.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Mon, 23 Jul 2012 10:03:51 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00180.html">E1StFUV-0004Lm-Vc@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on July 23, 2012 - 12:03:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Mon Jul 23 12:03:51 2012
New Revision: 17294

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=17294&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=17294&amp;view=rev</a>
Log:
Added some print outs for the frame order target function set up.

This make the optimisation more informative, giving feedback to the user 
about the integration
method, the precision, and the base data used.


Modified:
    branches/frame_order_testing/specific_fns/frame_order.py

Modified: branches/frame_order_testing/specific_fns/frame_order.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/specific_fns/frame_order.py?rev=17294&amp;r1=17293&amp;r2=17294&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/frame_order_testing/specific_fns/frame_order.py?rev=17294&amp;r1=17293&amp;r2=17294&amp;view=diff</a>
==============================================================================
--- branches/frame_order_testing/specific_fns/frame_order.py (original)
+++ branches/frame_order_testing/specific_fns/frame_order.py Mon Jul 23 
12:03:51 2012
@@ -30,6 +30,7 @@
 from numpy import arccos, array, dot, eye, float64, identity, ones, 
transpose, zeros
 from numpy.linalg import inv
 from re import search
+import sys
 from warnings import warn
 
 # relax module imports.
@@ -1267,6 +1268,19 @@
         # The number of integration points.
         if not hasattr(cdp, 'num_int_pts'):
             cdp.num_int_pts = 200000
+
+        # Print outs.
+        if cdp.quad_int:
+            sys.stdout.write(&quot;Numerical integration via Scipy quadratic 
integration.\n&quot;)
+        else:
+            sys.stdout.write(&quot;Numerical integration via the quasi-random 
Sobol' sequence.\n&quot;)
+            sys.stdout.write(&quot;Number of integration points: %s\n&quot; % 
cdp.num_int_pts)
+        base_data = []
+        if rdcs != None:
+            base_data.append(&quot;RDCs&quot;)
+        if pcs != None:
+            base_data.append(&quot;PCSs&quot;)
+        sys.stdout.write(&quot;Base data: %s\n&quot; % repr(base_data))
 
         # Set up the optimisation function.
         target = frame_order.Frame_order(model=cdp.model, 
init_params=param_vector, full_tensors=full_tensors, 
full_in_ref_frame=full_in_ref_frame, rdcs=rdcs, rdc_errors=rdc_err, 
rdc_weights=rdc_weight, rdc_vect=rdc_vect, dip_const=rdc_const, pcs=pcs, 
pcs_errors=pcs_err, pcs_weights=pcs_weight, atomic_pos=pcs_atoms, temp=temp, 
frq=frq, paramag_centre=paramag_centre, scaling_matrix=scaling_matrix, 
pivot=pivot, pivot_opt=pivot_opt, num_int_pts=cdp.num_int_pts, 
quad_int=cdp.quad_int)



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Mon Jul 23 16:00:02 2012</div>  
</body>
</html>
