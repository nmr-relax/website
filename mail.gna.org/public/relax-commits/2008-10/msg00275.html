<!-- MHonArc v2.6.16 -->
<!--X-Subject: r7746 &#45; /branches/multi_processor_merge/multi/processor.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Thu, 16 Oct 2008 13:46:01 +0200 -->
<!--X-Message-Id: E1KqRIn&#45;0008D9&#45;5z@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r7746 - /branches/multi_processor_merge/multi/processor.py -- October 16, 2008 - 13:46</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r7746 - /branches/multi_processor_merge/multi/processor.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00275" class="tabs">Index by Date</a> | <a href="threads.html#00275" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00274.html">Date Prev</a>] [<a href="msg00276.html">Date Next</a>] [<a href="msg00274.html">Thread Prev</a>] [<a href="msg00276.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Thu, 16 Oct 2008 11:46:01 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00275.html">E1KqRIn-0008D9-5z@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on October 16, 2008 - 13:46:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Thu Oct 16 13:46:00 2008
New Revision: 7746

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=7746&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=7746&amp;view=rev</a>
Log:
Clean up of the module docstring.

This includes whitespace fixes, punctuation fixes, spelling fixes, and fixes 
for the epydoc format.


Modified:
    branches/multi_processor_merge/multi/processor.py

Modified: branches/multi_processor_merge/multi/processor.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/multi_processor_merge/multi/processor.py?rev=7746&amp;r1=7745&amp;r2=7746&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/multi_processor_merge/multi/processor.py?rev=7746&amp;r1=7745&amp;r2=7746&amp;view=diff</a>
==============================================================================
--- branches/multi_processor_merge/multi/processor.py (original)
+++ branches/multi_processor_merge/multi/processor.py Thu Oct 16 13:46:00 2008
@@ -2,7 +2,6 @@
 #                                                                            
  #
 # Copyright (C) 2007  Gary S Thompson (see 
<a  rel="nofollow" href="https://gna.org/users/varioustoxins">https://gna.org/users/varioustoxins</a> #
 #                                      for contact details)                  
  #
-#                                                                            
  #
 #                                                                            
  #
 # This file is part of the program relax.                                    
  #
 #                                                                            
  #
@@ -22,79 +21,87 @@
 #                                                                            
  #
 
################################################################################
 
-'''
-The processor class is the central class in the multi python multiprocessor 
framework.
+# Module docstring.
+'''The processor class is the central class in the multi python 
multiprocessor framework.
 
 Overview
 ========
 
-The framework has two main responsibilities
-
-     1. process management - if needed the processor can create the slave 
processes it
-        manages if they haven't been created by the operating system. It is 
also reponsible for
-        reporting exceptions and shutting down the multiprocessor in the 
face of errors.
-     2. sheduling commands on the slave processors via an interprocess 
communication fabric (MPI,
-        PVM, threads etc) and processing returned text and result
-        commands
+The framework has two main responsibilities:
+
+     1. Process management - if needed the processor can create the slave 
processes it manages if
+        they haven't been created by the operating system. It is also 
responsible for reporting
+        exceptions and shutting down the multiprocessor in the face of 
errors.
+     2. Scheduling commands on the slave processors via an interprocess 
communication fabric (MPI,
+        PVM, threads etc) and processing returned text and result commands.
 
 
 Using the processor framework
 =============================
 
-users of the processor framework will typically use the following methodoloy:
-
-     1. at application startup determine the name of the required processor 
implimentation a
-        and  the number of slave processors requested
-
-     2. create an Application_callback object
-
-     3. dynamically load a processor implimentation using the name of the 
processor and the
-        number of required slave processors using::
-        processor = 
Processor.load_multiprocessor(relax_instance.multiprocessor_type,
+Users of the processor framework will typically use the following 
methodology:
+
+     1. At application startup determine the name of the required processor 
implementation and the
+        number of slave processors requested.
+
+     2. Create an Application_callback object.
+
+     3. Dynamically load a processor implementation using the name of the 
processor and the number
+        of required slave processors using:
+            processor = 
Processor.load_multiprocessor(relax_instance.multiprocessor_type,
                     callbacks, processor_size=relax_instance.n_processors)
-     4. call run on the processor instance resturned above and handle all 
Exceptions
-     5. after calling run the processor will call back to 
Application_callback.init_master from
-        which you should call you main program (Application_callback 
defaults to
-        self.master.run())
-     5. once in the main program you should call processor.add_to_queue with 
a series of
-        multi.Slave_command objects you wish to be run across the slave 
processor pool and then
-        call processor.run_queue to actually execute the commands remotely 
while blocking.
+
+     4. Call run on the processor instance returned above and handle all 
Exceptions.
+
+     5. After calling run, the processor will call back to 
Application_callback.init_master from
+        which you should call you main program (Application_callback 
defaults to self.master.run()).
+
+     6. Once in the main program you should call processor.add_to_queue with 
a series of
+        multi.Slave_command objects you wish to be run across the slave 
processor pool and then call
+        processor.run_queue to actually execute the commands remotely while 
blocking.
         &gt;&gt;&gt;
         example here...
-     6. processor.Slave_commands will then run remotely on the slaves and 
any thrown exceptions
-        and processor.result_commands queued to processor.return_object will 
be returned to the
-        master processor and handled or executed. The slave processors also 
provide facilities
-        for capturing the stderr and stdout streams and returning their 
contents as strings for
-        display on the masters stout and stderr streams (***more**?)
+
+     7. Processor.Slave_commands will then run remotely on the slaves and 
any thrown exceptions and
+        processor.result_commands queued to processor.return_object will be 
returned to the master
+        processor and handled or executed. The slave processors also provide 
facilities for capturing
+        the STDERR and STDOUT streams and returning their contents as 
strings for display on the
+        master's STDOUT and STDERR streams (***more**?).
+
 
 Extending the processor framework with a new interprocess communication 
fabric
 
==============================================================================
 
-The processor class acts as a base class that defines all the commands that 
a processor
-implimenting a new inter processo communication fabric needs. All that is 
required is to
-impliment a subclass of processor providing the required methods (of course 
as python provides
-dynamic typing and polymorphism 'duck typing' you can always impliment a 
class with the same
-set of method and it will also work). Currnently processor classes are 
loaded from the
-processor module and are modules with names of the form:
+The processor class acts as a base class that defines all the commands that 
a processor implementing
+a new inter processor communication fabric needs. All that is required is to 
implement a subclass of
+processor providing the required methods (of course as python provides 
dynamic typing and
+polymorphism 'duck typing' you can always implement a class with the same 
set of method and it will
+also work). Currently processor classes are loaded from the processor module 
and are modules with
+names of the form:
+
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">multi.&lt;type&gt;_processor.&lt;Type&gt;_processor
</pre></blockquote></blockquote></blockquote><pre style="margin: 0em;"> 
 where &lt;Type&gt; is the name of the processor with the correct capitalisation 
e.g.
 
-&gt;&gt;&gt;
-processor_name =  'mpi4py'
-callback = My_application-callback()
-proccesor_size=6
-processor.load_multiprocessor(processor_name, callback, processor_size)
-
-will load multi.mpi4py_processor.Mpi4py_Processor
-
-todo
+&gt;&gt;&gt; processor_name =  'mpi4py'
+&gt;&gt;&gt; callback = My_application-callback()
+&gt;&gt;&gt; proccesor_size=6
+&gt;&gt;&gt; processor.load_multiprocessor(processor_name, callback, processor_size)
+
+will load multi.mpi4py_processor.Mpi4py_Processor.
+
+
+TODO
 ====
 
-    1. there is no ability of the processor to request command line arguments
-    2. the processor can't currently be loaded from somewhere other than the 
multi directory
+The following are yet to be implemented:
+
+    1. There is no ability of the processor to request command line 
arguments.
+
+    2. The processor can't currently be loaded from somewhere other than the 
multi directory.
 
 '''
+
 #FIXME: better  requirement of inherited commands
 # TODO: check exceptiosn on master
 import time,datetime,math,sys,os



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Oct 16 16:20:02 2008</div>  
</body>
</html>
