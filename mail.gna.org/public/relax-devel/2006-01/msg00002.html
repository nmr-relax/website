<!-- MHonArc v2.6.10 -->
<!--X-Subject: [Relax&#45;devel] Re: python to c++ -->
<!--X-From-R13: Sqjneq q'Ohiretar <rqjneq.qnhiretarNtznvy.pbz> -->
<!--X-Date: Mon, 09 Jan 2006 06:17:17 +0100 -->
<!--X-Message-Id: 7f080ed10601082115o7895e435v@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: c225763e0601071632r6b3af884hd6a4d2efd9459f66@mail.gmail.com -->
<!--X-Reference: 7f080ed10601082101s39030d97l@mail.gmail.com -->
<!--X-Reference: c225763e0601082109w98e74a4k479be719697d05cf@mail.gmail.com -->
<!--X-Head-End-->
<!doctype html public "-//W3C//DTD HTML//EN">
<html>
<head>
<title>[Relax-devel] Re: python to c++ -- January 09, 2006 - 06:17</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/style.css"> 
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h1>[Relax-devel] Re: python to c++ (January 09, 2006 - 06:17)</h1>
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00002" class="tabs">Index by Date</a> | <a href="threads.html#00002" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00001.html">Date Prev</a>] [<a href="msg00003.html">Date Next</a>] [<a href="msg00001.html">Thread Prev</a>] [Thread Next]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<div class="boxtitle">Headers</div>
<div class="boxitemalt">
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Andrew Perry &lt;<a href="mailto:andrewjamesperry@DOMAIN.HIDDEN">andrewjamesperry@xxxxxxxxx</a>&gt;</li>
<li><em>Subject</em>: [Relax-devel] Re: python to c++</li>
<li><em>From</em>: Edward d'Auvergne &lt;<a href="mailto:edward.dauvergne@DOMAIN.HIDDEN">edward.dauvergne@xxxxxxxxx</a>&gt;</li>
<li><em>Date</em>: Mon, 9 Jan 2006 16:15:58 +1100</li>
<li><em>Cc</em>: <a href="mailto:relax-devel@DOMAIN.HIDDEN">relax-devel@xxxxxxx</a></li>
<li><em>Domainkey-signature</em>: a=rsa-sha1; q=dns; c=nofws; s=beta; d=gmail.com;	h=received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;	b=jrwZgOpA7Ghtu3qH9b6yL7kdTj/pCosUZrzrXEBQC1UgmwJPHJMeMUZN5q4jgTTTwGczzKrMfNg0pYZBsloCN3gF75IPrB68KlYlj0HYFWcvtma5xKiZTlwK6r5zT7Tb2mldsti3sPdETqd1/OZhAwV1uHEoKHa0Jdp+WXg2nh0=</li>
<li><em>Message-id</em>: &lt;<a href="msg00002.html">7f080ed10601082115o7895e435v@mail.gmail.com</a>&gt;</li>
<li><em>References</em>: &lt;c225763e0601071632r6b3af884hd6a4d2efd9459f66@mail.gmail.com&gt;	&lt;<a href="msg00001.html">7f080ed10601082101s39030d97l@mail.gmail.com</a>&gt;	&lt;c225763e0601082109w98e74a4k479be719697d05cf@mail.gmail.com&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div>
<p>&nbsp;</p>
<div class="data">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>You can change all the paths in the setup.py file, but to get
distutils to function so that you get a functional program rather than
a distributable module requires a large number of things to be
changed.  It's quite ugly, very long, destroys all the portability
advantages of distutils, and is very painful.

Would you know how to change the email address so that certain
messages appear to be sent from edward at nmr-relax.com rather than
edward.dauvergne at gmail.com?

Edward


On 09/01/06, Andrew Perry &lt;andrewjamesperry@xxxxxxxxx&gt; wrote:
&gt; I'm not a big fan of Makefiles, but hey, if they work thats what counts.
&gt;
&gt; I think you can change the installation path with distutils in a
&gt; similar way to GNU configure .. just do &quot;python setup.py
&gt; --prefix=/home/bla&quot; . You could probably hardwire this in the setup.py
&gt; script if you really wanted it to go somewhere into a home dir instead
&gt; of /usr/lib/pythonX.X/site-packages.
&gt;
&gt; The LAPACK/BLAS stuff sounds promising.
&gt;
&gt; On 1/9/06, Edward d'Auvergne &lt;edward.dauvergne@xxxxxxxxx&gt; wrote:
&gt; &gt; I think I'm on the right track with the low level Python/C API.  I've
&gt; &gt; worked out how to build the shared objects and get them to import into
&gt; &gt; relax.  Now I need a bit more C knowledge to get the functions
&gt; &gt; functional.  This approach is probably the best as I now know how to
&gt; &gt; include Fortran code as well.  You use one of the C/Fortran APIs to
&gt; &gt; use the Fortran functions in the C code, the functions of which are
&gt; &gt; used by the Python code.  That way I can start using the fast linear
&gt; &gt; algebra functions of LAPACK or BLAS (maybe even ATLAS) to massively
&gt; &gt; speed up the number crunching in relax.
&gt; &gt;
&gt; &gt; Oh, the use of the distutils package for compiling the code and
&gt; &gt; installing relax did not work very well.  It seems to be designed for
&gt; &gt; site-packages, building the code creates a directory called 'build' in
&gt; &gt; the base directory, followed by a directory named after the build
&gt; &gt; architecture, then a few other directories, and finally the name of
&gt; &gt; the actual directory the module belongs to (eg 'maths_fns').  Running
&gt; &gt; 'python setup.py install' then copies the compiled *.so file into the
&gt; &gt; 'site-packages' directory of the global python install.  Modifying
&gt; &gt; distutils to be useful seems like too much of a pain.  It will be very
&gt; &gt; useful once I spin the minimisation code out into it's own project but
&gt; &gt; for relax, distulits is not the right approach.
&gt; &gt;
&gt; &gt; I've therefore decided to use Makefiles.  I've migrated my scripts for
&gt; &gt; cleaning up the byte compiled python files, the *.o and *.so files,
&gt; &gt; etc into the Makefile (without any modification of the rm command).
&gt; &gt; There is also the relax manual compilation script, HTML version of the
&gt; &gt; manual compilation script, the packaging script, etc which can be
&gt; &gt; migrated to make rules.  It's a lot simpler than the distutil package,
&gt; &gt; although much less portable.
&gt; &gt;
&gt; &gt; Edward
&gt; &gt;
&gt; &gt;
&gt; &gt; P.S.  I hope you don't mind me forwarding this to the relax-devel mailing list.
&gt; &gt;
&gt; &gt;
&gt; &gt; On 08/01/06, Andrew Perry &lt;andrewjamesperry@xxxxxxxxx&gt; wrote:
&gt; &gt; &gt; I found yet another python to &quot;something faster maybe&quot; converter:
&gt; &gt; &gt;
&gt; &gt; &gt; <a  href="http://shed-skin.blogspot.com/">http://shed-skin.blogspot.com/</a>
&gt; &gt; &gt;
&gt; &gt; &gt; Probably won't be much use yet, but I've added it to my list :)
&gt; &gt; &gt;
&gt; &gt;
&gt;


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00001" href="msg00001.html">[Relax-devel] Re: python to c++</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<div class="boxtitle">Related Mails</div>
<div class="boxitemalt">
<ul>
<li>Prev by Date:
<strong><a href="msg00001.html">[Relax-devel] Re: python to c++</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00003.html">[Relax-devel] handling of relaxation data in results files</a></strong>
</li>

<li>Previous by thread:
<strong><a href="msg00001.html">[Relax-devel] Re: python to c++</a></strong>
</li>

</ul>
</div>
<br /><br /><br />

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Jan 10 18:00:22 2006</div>  
</body>
</html>
