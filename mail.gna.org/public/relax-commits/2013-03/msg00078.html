<!-- MHonArc v2.6.16 -->
<!--X-Subject: r18660 &#45; /trunk/generic_fns/structure/internal.py -->
<!--X-From-R13: rqjneqNaze&#45;erynk.pbz -->
<!--X-Date: Wed, 06 Mar 2013 17:37:25 +0100 -->
<!--X-Message-Id: E1UDHLJ&#45;0000KJ&#45;48@subversion.gna.org -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>r18660 - /trunk/generic_fns/structure/internal.py -- March 06, 2013 - 17:37</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />r18660 - /trunk/generic_fns/structure/internal.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00078" class="tabs">Index by Date</a> | <a href="threads.html#00078" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00077.html">Date Prev</a>] [<a href="msg00079.html">Date Next</a>] [<a href="msg00077.html">Thread Prev</a>] [<a href="msg00079.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-commits@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Wed, 06 Mar 2013 16:37:25 -0000</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00078.html">E1UDHLJ-0000KJ-48@subversion.gna.org</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>edward</strong> on March 06, 2013 - 17:37:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Author: bugman
Date: Wed Mar  6 17:37:24 2013
New Revision: 18660

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=18660&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=18660&amp;view=rev</a>
Log:
Bug fix for the XYZ 3D structure file reader.

The atom name is now correctly set up for each atom in the file.  The element 
type setting has also
been simplified.


Modified:
    trunk/generic_fns/structure/internal.py

Modified: trunk/generic_fns/structure/internal.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/generic_fns/structure/internal.py?rev=18660&amp;r1=18659&amp;r2=18660&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/generic_fns/structure/internal.py?rev=18660&amp;r1=18659&amp;r2=18660&amp;view=diff</a>
==============================================================================
--- trunk/generic_fns/structure/internal.py (original)
+++ trunk/generic_fns/structure/internal.py Wed Mar  6 17:37:24 2013
@@ -2257,13 +2257,8 @@
 
             # Add the atom.
             if len(record) == 4:
-                # Attempt at determining the element, if missing.
-                element = record[0]
-                if not element:
-                    element = self._det_pdb_element(record[2])
-
                 # Add.
-                self.atom_add(atom_num=atom_number, pos=[record[1], 
record[2], record[3]], element=element)
+                self.atom_add(atom_name=record[0], atom_num=atom_number, 
pos=[record[1], record[2], record[3]], element=record[0])
 
                 # Increment of atom number
                 atom_number = atom_number + 1



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Mar 06 18:00:03 2013</div>  
</body>
</html>
