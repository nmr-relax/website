<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: relax use -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Wed, 31 Oct 2012 09:25:30 +0100 -->
<!--X-Message-Id: CAED9pY&#45;COe6c=oh3W4LsG=3L7UF_L97hLxTxUtcb8Cm2oLnufA@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CAMxgn6OHtTUfU22pbFGPML57nshnRrH9oLR=aJP00_858nX58Q@mail.gmail.com -->
<!--X-Reference: CAED9pY&#45;09&#45;jGmLN=EkdPoqAm1s3iXUrTPbqKqTMef6FAWO6vAg@mail.gmail.com -->
<!--X-Reference: CAMxgn6MpLoH6BnP2fNOztvc7mhHu&#45;oMYjjZmV71&#45;Htgd3&#45;ziCg@mail.gmail.com -->
<!--X-Reference: CAED9pY&#45;G5shLUPvaV06qzWTHnU0z&#45;4bSKabHYgJZsnDfy6diFQ@mail.gmail.com -->
<!--X-Reference: 598A7866E3185247BED7E5C2EFCDAF560F3ED17B@DB3PRD0311MB415.eurprd03.prod.outlook.com -->
<!--X-Reference: CAED9pY9ncd=NJTBx9xUvq3EmddB03RB&#45;9qaOP5R1CX0TFY85WQ@mail.gmail.com -->
<!--X-Reference: 598A7866E3185247BED7E5C2EFCDAF560F3ED710@DB3PRD0311MB415.eurprd03.prod.outlook.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: relax use -- October 31, 2012 - 09:25</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: relax use</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00001" class="tabs">Index by Date</a> | <a href="threads.html#00001" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00000.html">Date Prev</a>] [<a href="msg00002.html">Date Next</a>] [<a href="msg00006.html">Thread Prev</a>] [Thread Next]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Robertson, Ian&quot; &lt;ian.robertson@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Wed, 31 Oct 2012 09:25:01 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:sender:in-reply-to:references:date	:x-google-sender-auth:message-id:subject:from:to:cc:content-type;	bh=a8W1Oa3OHxD6CD9JyLOvUPuh35fFXuU8+MY3c8Wf3y4=;	b=ZKT1tjb+IUgr8CUtp4WLTpKIQ8D7+649YeythKdpzWaXzati93fac5k8cAVLz92j+0	Au2+QlBwPL19GA+0m9LFEYjcnk6mO7lbZ/c0yCuL8M7v2DMOecuNgdI0c7qVDikgxdZQ	OSuzJYIEMsWx768Ty6izLNlXI1TDDdfcyBVvSBUSRhVd8OfgU7/sSVwXuJa8BNs17yRW	bktMnygJggIHTYMBJFo//QXibxEBmt9AsR6+Ymqmp6wTjBOy+b/W5nIZygCPABqzys8J	5sLfbyRVpeYmbtmJeeQJgsBARJ3h1E0t04DF/5uMi5fUWdboqnxBOaZLYVvAixeSl3e4	55kA==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00001.html">CAED9pY-COe6c=oh3W4LsG=3L7UF_L97hLxTxUtcb8Cm2oLnufA@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;CAMxgn6OHtTUfU22pbFGPML57nshnRrH9oLR=aJP00_858nX58Q@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY-09-jGmLN=EkdPoqAm1s3iXUrTPbqKqTMef6FAWO6vAg@xxxxxxxxxxxxxx&gt;	&lt;CAMxgn6MpLoH6BnP2fNOztvc7mhHu-oMYjjZmV71-Htgd3-ziCg@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY-G5shLUPvaV06qzWTHnU0z-4bSKabHYgJZsnDfy6diFQ@xxxxxxxxxxxxxx&gt;	&lt;598A7866E3185247BED7E5C2EFCDAF560F3ED17B@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&gt;	&lt;CAED9pY9ncd=NJTBx9xUvq3EmddB03RB-9qaOP5R1CX0TFY85WQ@xxxxxxxxxxxxxx&gt;	&lt;598A7866E3185247BED7E5C2EFCDAF560F3ED710@xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on October 31, 2012 - 09:25:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Ian,

It is possible, but you have to change the 'Protocol' mode.  The fully
automated analysis does not support this but, just as in the scripting
mode, you can execute the analysis for each diffusion tensor and these
will auto-detect where to start from.  You will then need to
separately execute the 'final' run to obtain the final results.  This
is not so convenient, but this 'hidden' recovery feature was really
designed to help with the development and debugging of this
complicated model-free protocol rather than as a feature a relax user.
 So it isn't perfect.

Regards,

Edward




On 29 October 2012 17:43, Robertson, Ian &lt;ian.robertson@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward,

Thanks for your comments.

I did save the state prior to clicking 'Execute'; however, once I restart
the calculation it always goes back to the start.

I will just renice the calculation when I need to and use the safe sleep
mode as you suggested.

Thanks again.

Regards,

Ian


On 2012-10-29, at 8:28 AM, Edward d'Auvergne wrote:

Hi Ian,

The halting of relax and restarting using the scripting mode was
really only backup system.  This is not a clean way of running the
model-free protocol as the data from the currently running model-free
protocol iteration are lost.  All data from previous iterations are
stored in the saved 'results.bz2' files.  When re-running the
protocol, it will first check if any results files are present and if
so, then it will attempt to load the results files from previous
iterations and then restart the calculations for each diffusion
tensor.  This may result is slightly different results than if the
calculation was not interrupted as converged diffusion models are
reoptimised (though this should not change the results significantly).

Note that all of the user interfaces (prompt, script, GUI) use the
same code for the analysis.  Therefore this resumption behaviour you
know from the scripting mode should be active in the GUI mode as well.
I haven't tested this so I don't know how well this works.  I would
recommend saving your state prior to clicking on 'Execute relax', and
then load this state when you would like to restart the calculation.
Clicking on 'Execute relax' should then run the same analysis code,
find the last results files, and continue from there.

However I would recommend you use your Mac's &quot;Safe sleep&quot; mode if you
would like to turn your Mac off.  This will allow you to resume the
relax once you turn your computer back on.

Regards,

Edward



On 28 October 2012 13:34, Robertson, Ian &lt;ian.robertson@xxxxxxxxx&gt; wrote:

Hi Edward,


I have a question that's an extension of Ravi's.


I'm using my laptop to run relax and I'd like to be able to halt the

calculation and then return to it later to avoid leaving my computer on the

entire time. If I remember correctly, it was possible for me to do this when

running relax from the command line. However, when I stop and start the

calculation in the GUI it always returns to the beginning of the

calculation. Furthermore, while the calculation is running, the &quot;save&quot; and

&quot;save as&quot; buttons are shaded out. I reviewed the mailing lists but couldn't

see this brought up anywhere.


I'm running relax 2.1.2 on lion, although I've also noted this issue on

earlier versions of relax.


Regards,


Ian



On 2012-10-25, at 3:19 PM, Edward d'Auvergne wrote:


Hi Ravi,


I will answer your questions below:


(1) I am running this program on macpro computer with i7 processor and 4 Gb


run. When the program is running in GUI mode, it slows down the computer. is


it normal or is there a way to make it faster without slowing down the


computer?



A full model-free analysis - i.e. execution of the full protocol and

not simply running the basic model-free models - can require a long

time to calculate.  This is explained in a few places in the relax

manual, for example:


<a  rel="nofollow" href="http://www.nmr-relax.com/manual/d_Auvergne_protocol_script_mode_execution.html">http://www.nmr-relax.com/manual/d_Auvergne_protocol_script_mode_execution.html</a>


and:


<a  rel="nofollow" href="http://www.nmr-relax.com/manual/new_protocol_in_GUI.html">http://www.nmr-relax.com/manual/new_protocol_in_GUI.html</a>


Essentially this is a long calculation which can take up to a couple

of weeks to complete, depending on the system, and you can use Gary

Thompson's multi-processor code to speed things up if you need

(<a  rel="nofollow" href="http://www.nmr-relax.com/manual/multi_processor_framework.html">http://www.nmr-relax.com/manual/multi_processor_framework.html</a>).


Depending on your operating system, you can use priorities to allow

your computer to run at a reasonable speed during an intensive

number-crunching calculation.  You can renice processes using, for

example, 'top' in GNU/Linux and Mac OS X systems.  In MS Windows you

can use the task manager to reset the priorities.



(2) My protein is 152 amino acid long. it seems the program  is running for


last few days and many more models to complete. Usually how long does it


take to complete a full automated run?



As it says in the manual, this is not possible to predict but it can

take up to a couple of weeks.  If you are lucky, then only a few days

are required.  This really depends on what types of internal dynamics

you have as well as the quality of the R1, R2, and NOE relaxation

data.  You can check the quality of the data using the Sebastien

Morin's consistency testing analysis in relax

(<a  rel="nofollow" href="http://www.nmr-relax.com/manual/Consistency_testing.html">http://www.nmr-relax.com/manual/Consistency_testing.html</a>).  It might

be worth running the relaxation curve-fitting and NOE calculation

through relax as well to be sure of the error estimates:


<a  rel="nofollow" href="http://www.nmr-relax.com/manual/Relaxation_curve_fitting.html">http://www.nmr-relax.com/manual/Relaxation_curve_fitting.html</a>

<a  rel="nofollow" href="http://www.nmr-relax.com/manual/Calculating_NOE.html">http://www.nmr-relax.com/manual/Calculating_NOE.html</a>


These are simply links to the relevant chapters of the relax user

manual.  What software did you use to calculate your R1, R2, and NOE

data?  My paper:


d'Auvergne, E. J. and Gooley, P. R. (2008). Optimisation of NMR

dynamic models II. A new methodology for the dual optimisation of the

model-free parameters and the Brownian rotational diffusion tensor. J.

Biomol. NMR, 40(2), 121-133.

(<a  rel="nofollow" href="http://dx.doi.org/10.1007/s10858-007-9213-3">http://dx.doi.org/10.1007/s10858-007-9213-3</a>).


talks about this as well.  See figure 2 for an idea of how long global

convergence of the combined model-free optimisation and model-free

model selection problem can take.



(3) what are differences between local_tm models and model-free models? What


i could see is that local-tm models have tm with it whereas model-free


models dont!



This is again described in the manual:


<a  rel="nofollow" href="http://www.nmr-relax.com/manual/model_free_models.html">http://www.nmr-relax.com/manual/model_free_models.html</a>


However a much better description is given in some of my published papers:


d'Auvergne E. J., Gooley P. R. (2007). Set theory formulation of the

model-free problem and the diffusion seeded model-free paradigm. Mol.

Biosyst., 3(7), 483-494. (<a  rel="nofollow" href="http://dx.doi.org/10.1039/b702202f">http://dx.doi.org/10.1039/b702202f</a>).


and:


d'Auvergne, E. J. and Gooley, P. R. (2008). Optimisation of NMR

dynamic models II. A new methodology for the dual optimisation of the

model-free parameters and the Brownian rotational diffusion tensor. J.

Biomol. NMR, 40(2), 121-133.

(<a  rel="nofollow" href="http://dx.doi.org/10.1007/s10858-007-9213-3">http://dx.doi.org/10.1007/s10858-007-9213-3</a>).


Note that these papers also describe the protocol that you are using.

The Lipari-Szabo model-free theory is only part of the problem.  On

top of this is the bigger problem of the internal bond motions verses

external global tumbling.  A number of protocols have been developed

over time to solve this problem (see the manual and the above papers

for a list of these protocols), and in relax via the GUI you are using

the new model-free protocol that I developed in the group of Prof.

Paul Gooley.  You can click on the 'About' button in the GUI for more

information.



(4) I want to see the results of local_tm run which seems to be over with


aic and tm0-tm9 folders created having results.bz2 in it? How to check the


results, for example, i want to see the overall correlation time of my


protein, how to see the results.bz2 file and which folder to check? How to


look for other parameters?



You will have to wait until the analysis is finished.  To understand

what is possible, you will need to minimally read the two references

given above.  But to properly understand the complexity of the

analysis you are performing, you should really read all the relevant

references listed in the citations chapter of the user manual

(<a  rel="nofollow" href="http://www.nmr-relax.com/manual/Citations.html">http://www.nmr-relax.com/manual/Citations.html</a>, though the citations

here are not properly built so you should see the PDF version of the

manual <a  rel="nofollow" href="http://download.gna.org/relax/manual/relax.pdf">http://download.gna.org/relax/manual/relax.pdf</a>).


After reading these, you will note that there is no overall

correlation time for the local tm models - and this is the power of

these models and the key to the start of the protocol I developed.

You will also see that you need to wait until the protocol has

completed to obtain the information that you are after.  Until then

relax will not be responsive and you will not be able to do anything.

I would also recommend looking at Figure 1 of my 2008b paper.



Since, i am trying use relax for 1st time, these questions might be naive of


its kind. Sorry for any inconvenience and looking forward to hear from your


side.



This isn't a problem.  If you have any other questions or need

pointers to the right documentation, user manual section or reference,

don't hesitate to ask.


Regards,


Edward


_______________________________________________

relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)


This is the relax-users mailing list

relax-users@xxxxxxx


To unsubscribe from this list, get a password

reminder, or change your subscription options,

visit the list information page at

<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>



Ian Robertson, Ph.D.

Professor Malcolm Irving's Lab

Randall Division of Cell &amp; Molecular Biophysics

3.26 New Hunt's House

Guy's Campus

King's College London

ian.robertson@xxxxxxxxx




Ian Robertson, Ph.D.
Professor Malcolm Irving's Lab
Randall Division of Cell &amp; Molecular Biophysics
3.26 New Hunt's House
Guy's Campus
King's College London
ian.robertson@xxxxxxxxx

</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Nov 01 18:00:06 2012</div>  
</body>
</html>
