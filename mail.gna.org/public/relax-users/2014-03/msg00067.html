<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: R2 from R1rho &#38; R1 -->
<!--X-From-R13: "Sqjneq q'Ohiretar" &#60;rqjneq.qnhiretarNtznvy.pbz> -->
<!--X-Date: Thu, 27 Mar 2014 10:01:53 +0100 -->
<!--X-Message-Id: CAED9pY_eY5J1zXdDjQhKS2tTEd+qJD&#45;4P8oT6=hzOWFua=hfYA@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 5332B7B4.3030001@fz&#45;juelich.de -->
<!--X-Reference: CA+CBx2OX9_wUX2XZi45rG+ZCeFfGtxaOB_2gCKzAZKOo4vYxrA@mail.gmail.com -->
<!--X-Reference: 5332C0D0.2030505@fz&#45;juelich.de -->
<!--X-Reference: CAED9pY&#45;+msx3ht68sn0Rb7aMWO_C2L_v7y50tm_8n+6KvunUMQ@mail.gmail.com -->
<!--X-Reference: 5332D4A6.8000901@fz&#45;juelich.de -->
<!--X-Reference: CAED9pY_FzuggT_qvHb1hQjoB4BN0pJ9N4o+ASuE=P+k4J9VW2Q@mail.gmail.com -->
<!--X-Reference: CA+CBx2MOEVnhgUex0_vM1MZbdrZnf_e6JW&#45;DmjVU+yq3reAj1Q@mail.gmail.com -->
<!--X-Reference: CAED9pY&#45;Th1ZJNd8Z51BVty6iV7cL06wHVGVxpe_8sEYo7eyfiQ@mail.gmail.com -->
<!--X-Reference: CA+CBx2O2vTfmWQ5OnQyBBoEz&#45;c1UCFJhRy2Kut_XuXMJBPBH4g@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: R2 from R1rho &amp; R1 -- March 27, 2014 - 10:01</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: R2 from R1rho &amp; R1</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00067" class="tabs">Index by Date</a> | <a href="threads.html#00067" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00068.html">Date Prev</a>] [<a href="msg00069.html">Date Next</a>] [<a href="msg00068.html">Thread Prev</a>] [<a href="msg00061.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Troels Emtek√¶r Linnet &lt;tlinnet@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 27 Mar 2014 10:01:20 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:in-reply-to:references:date:message-id:subject:from:to :cc:content-type; bh=+flBBFQMGFfO4Hg6WQ2GKGhTT3y8Bt3QY+MCMaEQdfI=; b=0Kldj+kLOz3IhRPH42VfttVw12loyUtMEQeYD4fR2asfP68NeC9XQmrYK1cx0GtX1K PLeOD9eYt75VSbFZnWzlvrxBcYkrjuap0qkp8ej9n6qPZmkDsmOwk2atZpzb83cjzzZh UWO2VIfT4Hr5Usnvjt6NxK6nkZujdNtgq6QuYqQEiEcvVSyfLtvMmes4RTmZskEq22Qd GyB4YMHLI20LO5/lL05ijjwRREEAxs48WjdF5yixQAmBiy+cO71i+aN8AecJoBlWXkdr 6bz79lckRSSfUSO687g+ykdIGQeCnSmEH7N2Zh1t0RSSeVLQ+wUQgVw8EWjF+udfTolm rzOQ==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;CAED9pY_eY5J1zXdDjQhKS2tTEd+qJD-4P8oT6=hzOWFua=hfYA@mail.gmail.com&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00051.html">5332B7B4.3030001@fz-juelich.de</a>&gt; &lt;<a href="msg00052.html">CA+CBx2OX9_wUX2XZi45rG+ZCeFfGtxaOB_2gCKzAZKOo4vYxrA@mail.gmail.com</a>&gt; &lt;<a href="msg00053.html">5332C0D0.2030505@fz-juelich.de</a>&gt; &lt;<a href="msg00054.html">CAED9pY-+msx3ht68sn0Rb7aMWO_C2L_v7y50tm_8n+6KvunUMQ@mail.gmail.com</a>&gt; &lt;<a href="msg00056.html">5332D4A6.8000901@fz-juelich.de</a>&gt; &lt;CAED9pY_FzuggT_qvHb1hQjoB4BN0pJ9N4o+ASuE=P+k4J9VW2Q@mail.gmail.com&gt; &lt;<a href="msg00062.html">CA+CBx2MOEVnhgUex0_vM1MZbdrZnf_e6JW-DmjVU+yq3reAj1Q@mail.gmail.com</a>&gt; &lt;<a href="msg00064.html">CAED9pY-Th1ZJNd8Z51BVty6iV7cL06wHVGVxpe_8sEYo7eyfiQ@mail.gmail.com</a>&gt; &lt;<a href="msg00068.html">CA+CBx2O2vTfmWQ5OnQyBBoEz-c1UCFJhRy2Kut_XuXMJBPBH4g@mail.gmail.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on March 27, 2014 - 10:01:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Troels,

Please see below.  It might be best to shift these discussions to the
relax-devel mailing list as well.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">Yep, I think some &quot;porcelain functions&quot; that will work on
relax base &quot;plumbing&quot; functions would be the best solution?
</pre></blockquote><pre style="margin: 0em;">

I'm not quite sure what you mean here, but it sounds good ;)  In relax
there are a lot of API interfaces between the different parts of the
code.  By keeping a clean separation between the different parts of
relax, adding interpolation to one part requires zero changes to other
parts of the program.  I guess this is along the same lines.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">That could return info to screen, and return values in dictionarys, where
the dictionary keys are also stored.
Actually, an extension of &quot;calc_rotating_frame_params&quot; in
&quot;specific_analyses.relax_disp.disp_data&quot;
which should take interpolated offset data as a possibility.
</pre></blockquote><pre style="margin: 0em;">

Extending calc_rotating_frame_params() is not necessary and is more of
a complication.  A single interpolation function where you pass in the
offset array with arguments for how much interpolation and how much
extension to add, and then that function returns the interpolated
array.  I.e. exactly as is performed in the
relax_disp.plot_disp_curves user function right now.  This is after
assembling the data, so we have jumped through one API already and the
dictionaries and keys no longer exist at this stage.  This makes life
a lot easier :)


</pre><blockquote class="blockquote"><pre style="margin: 0em;">For 3D, I would prefer that we use gnuplot instead ?
</pre></blockquote><pre style="margin: 0em;">

In relax there is currently Grace and OpenDX plotting abilities.
Adding matplotlib and gnuplot would be complementary.  For matplotlib
we would have to detect if this Python package is installed - which is
rather trivial.  But for gnuplot, this can be available at all times.
The most difficult part for gnuplot graphing support would be to find
a relax developer who knows the gnuplot commands for creating graphs!

This can also be saved for the relax-devel mailing list, but a plan
for the future would be to collect all these user functions into one
'plotting' user function class, for example:

plotting.dx_execute
plotting.dx_map
plotting.gnuplot_view
plotting.gnuplot_write
plotting.grace_view
plotting.grace_write
plotting.matplotlib_view
plotting.matplotlib_write

This is simply to make it easier for the user to find and choose.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">I really really start liking the idea of the grace files.
Here you in &quot;one&quot; file carry around both the data and definitions to the
plot.
</pre></blockquote><pre style="margin: 0em;">

It is rather old software, but it is incredibly powerful.  And it
produces the highest quality, professional-looking 2D plots for
papers.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">For matplotlib, you would need to acquire that the user has relax and
matplotlib installed at the same time.
That is not so good, and would be a problem for the compiled sources.
</pre></blockquote><pre style="margin: 0em;">

I am writing something at the moment for the relax-devel mailing list.
 But this is actually trivial.  If matplotlib is not present, we just
give a RelaxWarning to the user when they try to create a matplotlib
graph (this includes in the auto-analyses which are simply very large
relax scripts).


</pre><blockquote class="blockquote"><pre style="margin: 0em;">Unless you export python files, with the data inside, and then the plot
commands to matplotlib.
</pre></blockquote><pre style="margin: 0em;">

This would need to be discussed on the relax-devel mailing list.  As I
don't know matplotlib, I don't know the best way to do this.  Do you
create Python files with data so the user can change the plot, or do
everything in relax and output to SVG or some other format, as is
currently done in NESSY?  We can save this discussion for the
relax-devel mailing list.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hm hm.

What is best?

Expect the user to know gnuplot , and have that installed?
Or that the user have matplotlib ?
</pre></blockquote><pre style="margin: 0em;">

The best here would be to give everything to the user.  Then you will
hear less from the users ;)  But this can be a gradual process.  We
could even one day add a new chapter to the relax manual about data
plotting, just to help the user understand what the best tools are and
how to create and visualise these plots.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">I know that matplotlib on our RHEL system is only 0.99, and is not moving.
Gnuplot is old... And proven to work.

Reach for the future or backwards-compability?
</pre></blockquote><pre style="margin: 0em;">

relax is flexible enough to do everything!  For the record:

- gnuplot is from 1986 but is still developed.
- Grace is from 1991 but is also still developed (just).
- OpenDX is from 1991 but is abandoned.  Though it is insanely
powerful for multi-dimensional data plotting!
- matplotlib is from 2002 and is still active.

For the future though, you can never know when something will be
abandoned or when abandoned open source software will come back in a
more powerful incarnation.  So instead of choosing what would be best
and forcing that on a user, a relax developer who prefers one plotting
software over another can simply add support for that software.  And a
relax user with some scripting knowledge can easily become a relax
developer and add it themselves :)

Regards,

Edward


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00051" href="msg00051.html">R2 from R1rho &amp; R1</a></strong>
<ul><li><em>From:</em> Justin Lecher</li></ul></li>
<li><strong><a name="00052" href="msg00052.html">Re: R2 from R1rho &amp; R1</a></strong>
<ul><li><em>From:</em> Troels Emtek√¶r Linnet</li></ul></li>
<li><strong><a name="00053" href="msg00053.html">Re: R2 from R1rho &amp; R1</a></strong>
<ul><li><em>From:</em> Justin Lecher</li></ul></li>
<li><strong><a name="00054" href="msg00054.html">Re: R2 from R1rho &amp; R1</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00056" href="msg00056.html">Re: R2 from R1rho &amp; R1</a></strong>
<ul><li><em>From:</em> Justin Lecher</li></ul></li>
<li><strong><a name="00057" href="msg00057.html">Re: R2 from R1rho &amp; R1</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00062" href="msg00062.html">Re: R2 from R1rho &amp; R1</a></strong>
<ul><li><em>From:</em> Troels Emtek√¶r Linnet</li></ul></li>
<li><strong><a name="00064" href="msg00064.html">Re: R2 from R1rho &amp; R1</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00068" href="msg00068.html">Re: R2 from R1rho &amp; R1</a></strong>
<ul><li><em>From:</em> Troels Emtek√¶r Linnet</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Mar 27 18:00:13 2014</div>  
</body>
</html>
