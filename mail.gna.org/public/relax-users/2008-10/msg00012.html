<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Difficulty with noe.py sample script -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneq.qnhiretarNtznvy.pbz> -->
<!--X-Date: Tue, 07 Oct 2008 21:29:40 +0200 -->
<!--X-Message-Id: 7f080ed10810071229v39fae139i3c4f1d330a773063@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20081006103122.7gfeyzj11lsk4ok4@my5.dal.ca -->
<!--X-Reference: 7f080ed10810061244m46d2575s3a543ce31ecffc52@mail.gmail.com -->
<!--X-Reference: 20081007111240.c6amr0pfzoggk4ww@my2.dal.ca -->
<!--X-Reference: 7f080ed10810070744u466075f1oc242f3741870f48e@mail.gmail.com -->
<!--X-Reference: 20081007144810.ab985qup4408wokg@my3.dal.ca -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Difficulty with noe.py sample script -- October 07, 2008 - 21:29</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Difficulty with noe.py sample script</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00012" class="tabs">Index by Date</a> | <a href="threads.html#00012" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00011.html">Date Prev</a>] [<a href="msg00013.html">Date Next</a>] [<a href="msg00011.html">Thread Prev</a>] [<a href="msg00013.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Tyler Reddy&quot; &lt;TREDDY@xxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 7 Oct 2008 21:29:34 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00012.html">7f080ed10810071229v39fae139i3c4f1d330a773063@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;20081006103122.7gfeyzj11lsk4ok4@xxxxxxxxxx&gt;	&lt;7f080ed10810061244m46d2575s3a543ce31ecffc52@xxxxxxxxxxxxxx&gt;	&lt;20081007111240.c6amr0pfzoggk4ww@xxxxxxxxxx&gt;	&lt;7f080ed10810070744u466075f1oc242f3741870f48e@xxxxxxxxxxxxxx&gt;	&lt;20081007144810.ab985qup4408wokg@xxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on October 07, 2008 - 21:29:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">On Tue, Oct 7, 2008 at 7:48 PM, Tyler Reddy &lt;TREDDY@xxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward,

Thanks for your continued patience.
</pre></blockquote><pre style="margin: 0em;">

That's okay, it's not a problem.


</pre><blockquote class="blockquote"><pre style="margin: 0em;">Okay, it seems that aligning the data height column by the left most digit
rather than the right most digit is not tolerated. Now the script (1.2)
almost
gets to the end, but there is still an error output, where the program opens
noe.out for writing (see below). The noe.out file is created, but it's
blank.
Assuming I can get functional input for the 1.2 version (which is supposed
to
work), if this input doesn't work for the 1.3 version I'm happy to submit
the
bug report at that stage.
</pre></blockquote><pre style="margin: 0em;">

relax simply splits the text file by whitespace so alignment is only
an issue if columns fuse.  I think there is another issue somewhere.
I've tried the analysis with some of my old data, but I get the
following error:

relax&gt; calc(run='noe', print_flag=1)

relax&gt; value.write(run='noe', param='noe', file='noe.out', dir=None, force=1)
Opening the file 'noe.out' for writing.
Traceback (most recent call last):
  File &quot;/data/relax/releases/relax-1.2.14/relax&quot;, line 457, in &lt;module&gt;
    Relax()
  File &quot;/data/relax/releases/relax-1.2.14/relax&quot;, line 167, in __init__
    self.interpreter.run()
  File &quot;/data/relax/releases/relax-1.2.14/prompt/interpreter.py&quot;, line
216, in run
    run_script(intro=self.relax.intro_string, local=self.local,
script_file=self.relax.script_file, quit=1)
  File &quot;/data/relax/releases/relax-1.2.14/prompt/interpreter.py&quot;, line
391, in run_script
    console.interact(intro, local, script_file, quit)
  File &quot;/data/relax/releases/relax-1.2.14/prompt/interpreter.py&quot;, line
343, in interact_script
    execfile(script_file, local)
  File &quot;noe.py&quot;, line 29, in &lt;module&gt;
    value.write(name, param='noe', file='noe.out', force=1)
  File &quot;/data/relax/releases/relax-1.2.14/prompt/value.py&quot;, line 506, in write
    self.__relax__.generic.value.write(run=run, param=param,
file=file, dir=dir, force=force)
  File &quot;/data/relax/releases/relax-1.2.14/generic_fns/value.py&quot;, line
537, in write
    self.write_data(file, return_value)
  File &quot;/data/relax/releases/relax-1.2.14/generic_fns/value.py&quot;, line
549, in write_data
    self.function_type =
self.relax.data.run_types[self.relax.data.run_names.index(run)]
ValueError: list.index(x): x not in list


This is exactly what you see.  So I then tested this on many previous
relax releases and found that all versions up to 1.2.12 function
properly.  This error is a regression which appeared in the 1.2.13
version and still exists in 1.2.14.  So a temporary but quick fix
would be to do the NOE analysis using relax-1.2.12.  For relaxation
curve fitting and model-free analysis, the 1.3.1 version can be used
(there are system tests for these analyses there so this is much less
likely to fail).  I'm sorry if this caused inconveniences, I have no
idea how this error was introduced.  I've created a bug report for
this issue (<a  rel="nofollow" href="https://web.archive.org/web/https://gna.org/bugs/index.php">https://gna.org/bugs/index.php</a>).


</pre><blockquote class="blockquote"><pre style="margin: 0em;">Also, I think it would be very useful if a sample of functional input data,
as
you supplied for me in the previous email, would be incorporated in the
relax
manual. Different labs can have different naming conventions and formats,
even
within a Sparky list, and the column alignment can be tricky (even if
trivial
once you know about it). Also, if there is sensitivity to the nomenclature
system employed (as some of your previous responses on this topic attest),
then
an example directly in the manual would definitely be appreciated. I know
that
part of the design philosophy is that it's very easy to incorporate new
format
tolerance into relax, but it's even faster for a new user who uses a
slightly
different format to just read the relevant section of the manual and format
that way.
</pre></blockquote><pre style="margin: 0em;">

Done, I've added exactly the text you suggest
(<a  rel="nofollow" href="/mail.gna.org/public/relax-commits/2008-10/msg00079.html">https://mail.gna.org/public/relax-commits/2008-10/msg00079.html</a>).
Thanks for the idea, that should be of help to others as well.  Don't
worry about creating a bug report for relax-1.3.x as I'm now in the
process of creating a system test for the NOE analysis using a subset
of my old data.

Cheers,

Edward


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00014" href="msg00014.html">Re: Difficulty with noe.py sample script</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00013" href="msg00013.html">Re: Difficulty with noe.py sample script</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00005" href="msg00005.html">Difficulty with noe.py sample script</a></strong>
<ul><li><em>From:</em> Tyler Reddy</li></ul></li>
<li><strong><a name="00008" href="msg00008.html">Re: Difficulty with noe.py sample script</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00009" href="msg00009.html">Re: Difficulty with noe.py sample script</a></strong>
<ul><li><em>From:</em> Tyler Reddy</li></ul></li>
<li><strong><a name="00010" href="msg00010.html">Re: Difficulty with noe.py sample script</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00011" href="msg00011.html">Re: Difficulty with noe.py sample script</a></strong>
<ul><li><em>From:</em> Tyler Reddy</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Oct 07 23:40:18 2008</div>  
</body>
</html>
