<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [bug #8996] Bugs in palmer.py -->
<!--X-From-R13: Qney Rvruy <Qney.RvruyNocp.yh.fr> -->
<!--X-Date: Tue, 15 May 2007 12:37:54 +0200 -->
<!--X-Message-Id: 1179225433.3066.67.camel@matsl.fkem2.lth.se -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20070425&#45;123224.sv0.53502@gna.org -->
<!--X-Reference: 7f080ed10705071433n483c3828ie57638282a55db22@mail.gmail.com -->
<!--X-Reference: 7f080ed10705071500o6bc3fdbg5cfc06212de0b599@mail.gmail.com -->
<!--X-Reference: 1178613004.3066.20.camel@matsl.fkem2.lth.se -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [bug #8996] Bugs in palmer.py -- May 15, 2007 - 12:37</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: [bug #8996] Bugs in palmer.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00010" class="tabs">Index by Date</a> | <a href="threads.html#00010" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00009.html">Date Prev</a>] [<a href="msg00011.html">Date Next</a>] [<a href="msg00003.html">Thread Prev</a>] [<a href="msg00011.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 15 May 2007 12:37:13 +0200</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00010.html">1179225433.3066.67.camel@matsl.fkem2.lth.se</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;20070425-123224.sv0.53502@xxxxxxx&gt;	&lt;7f080ed10705071433n483c3828ie57638282a55db22@xxxxxxxxxxxxxx&gt;	&lt;7f080ed10705071500o6bc3fdbg5cfc06212de0b599@xxxxxxxxxxxxxx&gt;	&lt;1178613004.3066.20.camel@xxxxxxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Carl Diehl</strong> on May 15, 2007 - 12:37:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">On Tue, 2007-05-08 at 10:30, Carl Diehl wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward.

This was maybe a too hasty bug submit, since this problem doesn't appear
in relax v1.3 which I installed after this version didn't work. But I'll
test the fixes anyway. 
Cheers 
Carl Diehl
Biophysical Chemistry, Lund University

On Tue, 2007-05-08 at 00:00, Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

I have now fixed the bug.  Carl, would you be able to test the fixes?
I unfortunately cannot replicate the bug as the relaxation data you
use is not available (however if absolutely necessary I could extract
it from the saved file).  To check it you need the program Subversion
installed and then either type:

svn co svn://svn.gna.org/svn/relax/1.2 relax-1.2

or:

svn co <a  rel="nofollow" href="http://svn.gna.org/svn/relax/1.2">http://svn.gna.org/svn/relax/1.2</a> relax-1.2

The resultant code in the 'relax-1.2' directory can then be directly
run using the script.  I'll attempt a fix for your other bug report
and then maybe release relax-1.2.11.

Cheers,

Edward


On 5/7/07, Edward d'Auvergne &lt;edward.dauvergne@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Carl,

I'm sorry about the delayed response.  I have just moved from
Australia to Germany to start a postdoc and have been too busy to
reply to any email until now.  Thank you for the bug report.  I've
tried replicating the bug you have identified using your attached
files but unfortunately I have recently upgraded my system and
realised that relax doesn't function using Python 2.5.  The relax
error system is completely broken.  I'll fix that then try to fix your
problem.

Cheers,

Edward



On 4/25/07, anonymous &lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

URL:
  &lt;<a  rel="nofollow" href="http://gna.org/bugs/?8996">http://gna.org/bugs/?8996</a>&gt;

                 Summary: Bugs in palmer.py
                 Project: relax
            Submitted by: None
            Submitted on: Wednesday 04/25/2007 at 12:32 CEST
                Category: relax's source code
                Severity: 3 - Normal
                Priority: 5 - Normal
                  Status: None
                 Privacy: Public
             Assigned to: None
         Originator Name: Carl Diehl
        Originator Email: carl.diehl@xxxxxxxxx
             Open/Closed: Open
         Discussion Lock: Any
                 Release: 1.2.10
        Operating System: GNU/Linux

    _______________________________________________________

Details:

The following bug were encountered while running the palmer.py script 
with
stage=2, stage=1 worked fine with the original data.


relax&gt; run.create(run='aic', run_type='mf')

relax&gt; model_selection(method='AIC', modsel_run='aic', runs=None)
AIC model selection.

Instance 0.

Run                  Num_params_(k)       Num_data_sets_(n)    Chi2
      Criterion

The model from the run None has been selected.

Instance 1.

Run                  Num_params_(k)       Num_data_sets_(n)    Chi2
      Criterion
m1                   1                    6                    4.17590
      6.17590
m2                   2                    6                    3.77440
      7.77440
m3                   2                    6                    4.17590
      8.17590
m4                   3                    6                    3.77440
      9.77440
m5                   3                    6                    6.09960
      12.09960

The model from the run 'm1' has been selected.

relax&gt; results.write(run='aic', file='results', dir='aic', force=1,
format='columnar', compress_type=1)
Opening the file 'aic/results.bz2' for writing.
Traceback (most recent call last):
  File &quot;/home/matsl/carl/apps/relax-1.2.10/relax&quot;, line 454, in ?
    Relax()
  File &quot;/home/matsl/carl/apps/relax-1.2.10/relax&quot;, line 166, in 
__init__
    self.interpreter.run()
  File &quot;/home/matsl/carl/apps/relax-1.2.10/prompt/interpreter.py&quot;, 
line 213,
in run
    run_script(intro=self.relax.intro_string, local=self.local,
script_file=self.relax.script_file, quit=1)
  File &quot;/home/matsl/carl/apps/relax-1.2.10/prompt/interpreter.py&quot;, 
line 388,
in run_script
    console.interact(intro, local, script_file, quit)
  File &quot;/home/matsl/carl/apps/relax-1.2.10/prompt/interpreter.py&quot;, 
line 340,
in interact_script
    execfile(script_file, local)
  File &quot;palmer.py&quot;, line 132, in ?
    exec_stage_2(runs)
  File &quot;palmer.py&quot;, line 85, in exec_stage_2
    results.write(run=name, file='results', force=1)
  File &quot;/home/matsl/carl/apps/relax-1.2.10/prompt/results.py&quot;, line 
201, in
write
    self.__relax__.generic.results.write(run=run, file=file, 
directory=dir,
force=force, format=format, compress_type=compress_type)
  File &quot;/home/matsl/carl/apps/relax-1.2.10/generic_fns/results.py&quot;, 
line 166,
in write
    self.write_function(results_file, run)
  File 
&quot;/home/matsl/carl/apps/relax-1.2.10/specific_fns/model_free.py&quot;, line
4980, in write_columnar_results
    self.write_columnar_line(file=file, num=data.num, name=data.name,
select=data.select, data_set='error', nucleus=nucleus, model=model,
equation=equation, params=params, param_set=self.param_set, s2=s2, 
s2f=s2f,
s2s=s2s, local_tm=local_tm, te=te, tf=tf, ts=ts, rex=rex, r=r, 
csa=csa,
diff_type=diff_type, diff_params=diff_params, pdb=pdb, 
pdb_model=pdb_model,
pdb_heteronuc=data.heteronuc, pdb_proton=data.proton, xh_vect=xh_vect,
ri_labels=ri_labels, remap_table=remap_table, frq_labels=frq_labels, 
frq=frq,
ri=ri, ri_error=ri_error)
AttributeError: Element instance has no attribute 'heteronuc'




    _______________________________________________________

File Attachments:


-------------------------------------------------------
Date: Wednesday 04/25/2007 at 12:32 CEST  Name: palmer.py  Size: 4kB  
 By:
None

&lt;<a  rel="nofollow" href="http://gna.org/bugs/download.php?file_id=2268">http://gna.org/bugs/download.php?file_id=2268</a>&gt;
-------------------------------------------------------
Date: Wednesday 04/25/2007 at 12:32 CEST  Name: stage1.save.bz2  
Size: 3kB
By: None

&lt;<a  rel="nofollow" href="http://gna.org/bugs/download.php?file_id=2269">http://gna.org/bugs/download.php?file_id=2269</a>&gt;

    _______________________________________________________

Reply to this item at:

  &lt;<a  rel="nofollow" href="http://gna.org/bugs/?8996">http://gna.org/bugs/?8996</a>&gt;

_______________________________________________
  Message sent via/by Gna!
  <a  rel="nofollow" href="http://gna.org/">http://gna.org/</a>


_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>

</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote></blockquote></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00011" href="msg00011.html">Re: [bug #8996] Bugs in palmer.py</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue May 22 11:00:22 2007</div>  
</body>
</html>
