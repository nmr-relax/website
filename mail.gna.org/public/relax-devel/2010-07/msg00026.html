<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: r11372 &#45; /branches/bieri_gui/auto_analyses/relax_fit.py -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Wed, 28 Jul 2010 11:19:05 +0200 -->
<!--X-Message-Id: AANLkTi=KAAAZ8BN2T7q5CN3garxL&#45;ZYs6B&#45;5H3uujLyr@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1OdyWH&#45;0004qF&#45;VX@subversion.gna.org -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: r11372 - /branches/bieri_gui/auto_analyses/relax_fit.py -- July 28, 2010 - 11:19</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: r11372 - /branches/bieri_gui/auto_analyses/relax_fit.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00026" class="tabs">Index by Date</a> | <a href="threads.html#00026" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00025.html">Date Prev</a>] [<a href="msg00027.html">Date Next</a>] [<a href="msg00023.html">Thread Prev</a>] [<a href="msg00028.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Wed, 28 Jul 2010 11:18:26 +0200</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00026.html">AANLkTi=KAAAZ8BN2T7q5CN3garxL-ZYs6B-5H3uujLyr@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1OdyWH-0004qF-VX@xxxxxxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on July 28, 2010 - 11:19:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

Could you please change the &quot;@keyword file_root:&quot; in
auto_analyses/relax_fit.py to the following:

The file root of the output files.  This is used to create the
relaxation rate file by addition of the suffix '.out', the grace
output file by addition of the suffix '.agr', and the saved program
state by addition of the suffix '.save'.

This allows the user to script, as they will know what this code will
spit out and therefore what files their script will need to open.

Cheers,

Edward



On 28 July 2010 06:45,  &lt;michael.bieri@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Author: michaelbieri
Date: Wed Jul 28 06:45:29 2010
New Revision: 11372

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=11372&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=11372&amp;view=rev</a>
Log:
Argument 'filename' is replaced to 'file_root', as suggested by Edward 
d'Auvergne (<a  rel="nofollow" href="https://mail.gna.org/public/relax-devel/2010-07/msg00012.html">https://mail.gna.org/public/relax-devel/2010-07/msg00012.html</a>).

Modified:
   branches/bieri_gui/auto_analyses/relax_fit.py

Modified: branches/bieri_gui/auto_analyses/relax_fit.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/branches/bieri_gui/auto_analyses/relax_fit.py?rev=11372&amp;r1=11371&amp;r2=11372&amp;view=diff">http://svn.gna.org/viewcvs/relax/branches/bieri_gui/auto_analyses/relax_fit.py?rev=11372&amp;r1=11371&amp;r2=11372&amp;view=diff</a>
==============================================================================
--- branches/bieri_gui/auto_analyses/relax_fit.py (original)
+++ branches/bieri_gui/auto_analyses/relax_fit.py Wed Jul 28 06:45:29 2010
@@ -34,11 +34,11 @@


 class Relax_fit:
-    def __init__(self, filename='rx', pipe_name='rx', results_directory = 
None, seq_args=None, file_names=None, relax_times=None, pdb_file=None, 
unresolved='unresolved', int_method='height', heteronuc='N', proton='H', 
mc_num=500, inc='11', view_plots=True):
+    def __init__(self, file_root='rx', pipe_name='rx', 
results_directory=None, seq_args=None, file_names=None, relax_times=None, 
pdb_file=None, unresolved='unresolved', int_method='height', heteronuc='N', 
proton='H', mc_num=500, inc='11', view_plots=True):
        &quot;&quot;&quot;Perform relaxation curve fitting.

-        @keyword filename:      Name of the output file.
-        @type filename:         str
+        @keyword file_root:     File root of the output filea.
+        @type file_root:        str
        @keyword pipe_name:     The name of the data pipe to create.
        @type pipe_name:        str
        @keyword directory:     The directory, where results files are 
saved.
@@ -68,7 +68,7 @@
        &quot;&quot;&quot;

        # Store the args.
-        self.filename = filename
+        self.file_root = file_root
        self.pipe_name = pipe_name
        self.results_directory = results_directory
        if results_directory:
@@ -152,7 +152,7 @@
        self.interpreter.monte_carlo.error_analysis()

        # Save the relaxation rates.
-        self.interpreter.value.write(param='rx', 
file=self.filename+'.out', dir=self.results_directory, force=True)
+        self.interpreter.value.write(param='rx', 
file=self.file_root+'.out', dir=self.results_directory, force=True)

        # Save the results.
        self.interpreter.results.write(file='results', 
dir=self.results_directory, force=True)
@@ -160,7 +160,7 @@
        # Create Grace plots of the data.
        self.interpreter.grace.write(y_data_type='chi2', file='chi2.agr', 
dir=self.grace_dir, force=True)    # Minimised chi-squared value.
        self.interpreter.grace.write(y_data_type='i0', file='i0.agr', 
dir=self.grace_dir, force=True)    # Initial peak intensity.
-        self.interpreter.grace.write(y_data_type='rx', 
file=self.filename+'.agr', dir=self.grace_dir, force=True)    # Relaxation 
rate.
+        self.interpreter.grace.write(y_data_type='rx', 
file=self.file_root+'.agr', dir=self.grace_dir, force=True)    # Relaxation 
rate.
        self.interpreter.grace.write(x_data_type='relax_times', 
y_data_type='int', file='intensities.agr', dir=self.grace_dir, force=True)  
  # Average peak intensities.
        self.interpreter.grace.write(x_data_type='relax_times', 
y_data_type='int', norm=True, file='intensities_norm.agr', 
dir=self.grace_dir, force=True)    # Average peak intensities (normalised).

@@ -168,12 +168,12 @@
        if self.view_plots:
            self.interpreter.grace.view(file='chi2.agr', dir=self.grace_dir)
            self.interpreter.grace.view(file='i0.agr', dir=self.grace_dir)
-            self.interpreter.grace.view(file=self.filename+'.agr', 
dir=self.grace_dir)
+            self.interpreter.grace.view(file=self.file_root+'.agr', 
dir=self.grace_dir)
            self.interpreter.grace.view(file='intensities.agr', 
dir=self.grace_dir)
            self.interpreter.grace.view(file='intensities_norm.agr', 
dir=self.grace_dir)

        # Save the program state.
-        self.interpreter.state.save(self.filename+'.save', 
dir=self.results_directory, force=True)
+        self.interpreter.state.save(self.file_root+'.save', 
dir=self.results_directory, force=True)


    def check_vars(self):


_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-commits mailing list
relax-commits@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-commits">https://mail.gna.org/listinfo/relax-commits</a>

</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Jul 28 12:00:21 2010</div>  
</body>
</html>
