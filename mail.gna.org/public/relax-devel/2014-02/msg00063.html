<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [sr #3117] Functionality to inspect interactively after running	script &#45; The equivalence to python &#45;i -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Thu, 13 Feb 2014 17:08:46 +0100 -->
<!--X-Message-Id: CAED9pY9sEUCyndvEtjdZNH7vn+nyXTkLQxp7XZfPaQXUy5Yc6A@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20140213&#45;114757.sv20529.7323@gna.org -->
<!--X-Reference: CAED9pY8sgxr+B3=dKoUBqWhd+eMcL5Lh0fCpNXo67No_B7aJPA@mail.gmail.com -->
<!--X-Reference: CA+CBx2M&#45;4ZsQ7XCiMdLE7671PBjfxcq_uO28K8cS=sxRgYtD5g@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [sr #3117] Functionality to inspect interactively after running	script - The equivalence to python -i -- February 13, 2014 - 17:08</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: [sr #3117] Functionality to inspect interactively after running	script - The equivalence to python -i</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00063" class="tabs">Index by Date</a> | <a href="threads.html#00063" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00062.html">Date Prev</a>] [<a href="msg00064.html">Date Next</a>] [<a href="msg00062.html">Thread Prev</a>] [<a href="msg00064.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 13 Feb 2014 17:08:15 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:sender:in-reply-to:references:date:message-id:subject	:from:to:cc:content-type:content-transfer-encoding;	bh=KnnUCAZKMvjaGYjA/g9Vf0HYwIM39mtqln/vgMeej4E=;	b=dxz7lXw+mXOs0QmTJ93tUNLMSYfhPfoZnqsAk63wyWs0R5pCYCL8kBd1mxlNDiDISn	8cyVYlI0zeK2dfiQuorMlw7VkwN56evGWVgM7q9f328HZFz5AxKSVCOK7dS1dPrPnSEf	XN5MDRGAeUMR1NqgpPfZrmIzoDl95nT8NMTtYAu1PX1Zm3oOAhuMDPJuZsAMu2nS6uV7	//wiLAidpyY0njpijQI6q2DscdaNhSdmfSfA03h7Ip6Z5eLh3IPMQw49izEcNIJvbk6K	aU8n1lzbqztjjhwDNdxyuXE7kKkznsu00daWVI4cjEwyZUGfHJwBBIzhe5iYMnNhHXnr	JTgQ==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00063.html">CAED9pY9sEUCyndvEtjdZNH7vn+nyXTkLQxp7XZfPaQXUy5Yc6A@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;20140213-114757.sv20529.7323@xxxxxxx&gt;	&lt;CAED9pY8sgxr+B3=dKoUBqWhd+eMcL5Lh0fCpNXo67No_B7aJPA@xxxxxxxxxxxxxx&gt;	&lt;CA+CBx2M-4ZsQ7XCiMdLE7671PBjfxcq_uO28K8cS=sxRgYtD5g@xxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on February 13, 2014 - 17:08:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Troels,

The key is in the last if-else statement.  This logic executes the
run_script() function returns the result if a script file is provided.
 And if not, the prompt() function is executed.  This is the problem,
for your aim you need both executed!  I hope this helps.

Regards,

Edward



On 13 February 2014 16:59, Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt; 
wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward.

In interpreter.py I have a problem.

-----------------
    # Quit relax.
    # FIXME: need to drop off end of interpreter loop to exit cleanly
    #if quit:
    #    sys.exit()
-------------

I have tried tried to set the Quit flag to False, but it seems it is not in
use?

So I can't find what causes relax to quit after running the script.

Best
Troels



2014-02-13 12:59 GMT+01:00 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Troels,

Such functionality would be great!  The option '-i' is already used
though for the system information printout.  Do you have an
alternative suggestion?  Maybe:

-c, --continue    Execute the given script and continue into the
prompt mode to allow for interactive inspection.
-p, --prompt      Execute the given script and continue into the
prompt mode to allow for interactive inspection (this will require
changing the -p, --pedantic flag, which is not an issue).

I like the second as it is more logical.  What would your suggestions be?

As for an implementation, this should not be too hard.  Actually, it
should be rather trivial by just launching into the prompt mode with
the script as an argument, and then running the script inside the
prompt.interpreter.Interpreter.run() method.  Look at that method and
you'll see that implementing this feature should be a patch of less
than 10 lines!  Just that file and the base 'relax.py' file for adding
a new option and passing the script name in should be sufficient.

Regards,

Edward

On 13 February 2014 12:47, Troels E. Linnet
&lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">URL:
  &lt;<a  rel="nofollow" href="http://gna.org/support/?3117">http://gna.org/support/?3117</a>&gt;

                 Summary: Functionality to inspect interactively after
running
script - The equivalence to python -i
                 Project: relax
            Submitted by: tlinnet
            Submitted on: Thu 13 Feb 2014 11:47:57 AM UTC
                Category: None
                Priority: 5 - Normal
                Severity: 1 - Wish
                  Status: Need Info
             Assigned to: None
        Originator Email:
             Open/Closed: Open
         Discussion Lock: Any
        Operating System: None

    _______________________________________________________

Details:

I would be of interest ti have an option: relax -i script.py

It should be the equivalence to the functionality: python -i script.py

At the moment, such a possibility is reached by:
relax
script(&quot;script.py&quot;)

But here one can only access the relax data containers.
Any defined variables in the script is not reached.








    _______________________________________________________

Reply to this item at:

  &lt;<a  rel="nofollow" href="http://gna.org/support/?3117">http://gna.org/support/?3117</a>&gt;

_______________________________________________
  Message sent via/by Gna!
  <a  rel="nofollow" href="http://gna.org/">http://gna.org/</a>


_______________________________________________
relax (<a  rel="nofollow" href="/">http://www.nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="/mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
</pre></blockquote></blockquote><pre style="margin: 0em;">


</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00064" href="msg00064.html">Re: [sr #3117] Functionality to inspect interactively after running	script - The equivalence to python -i</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00059" href="msg00059.html">[sr #3117] Functionality to inspect interactively after running	script - The equivalence to python -i</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00061" href="msg00061.html">Re: [sr #3117] Functionality to inspect interactively after running	script - The equivalence to python -i</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00062" href="msg00062.html">Re: [sr #3117] Functionality to inspect interactively after running	script - The equivalence to python -i</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Feb 13 17:40:11 2014</div>  
</body>
</html>
