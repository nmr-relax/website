<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: Optimisation tests in the test suite. -->
<!--X-From-R13: "Unel E. Fubzcfba" <tnelgNozo.yrrqf.np.hx> -->
<!--X-Date: Fri, 20 Oct 2006 11:24:02 +0200 -->
<!--X-Message-Id: 4538958E.8070604@bmb.leeds.ac.uk -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 7f080ed10610190804w5681fafav843718f50f985f40@mail.gmail.com -->
<!--X-Reference: 1161276661.7703.14.camel@mrspell -->
<!--X-Reference: 481156b20610191601w2ad4ec5eh3f24088abc44bb07@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Optimisation tests in the test suite. -- October 20, 2006 - 11:24</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Optimisation tests in the test suite.</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00118" class="tabs">Index by Date</a> | <a href="threads.html#00118" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00117.html">Date Prev</a>] [<a href="msg00119.html">Date Next</a>] [<a href="msg00116.html">Thread Prev</a>] [<a href="msg00122.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Fri, 20 Oct 2006 10:23:26 +0100</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00118.html">4538958E.8070604@bmb.leeds.ac.uk</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00114.html">7f080ed10610190804w5681fafav843718f50f985f40@mail.gmail.com</a>&gt;	&lt;<a href="msg00115.html">1161276661.7703.14.camel@mrspell</a>&gt;	&lt;<a href="msg00116.html">481156b20610191601w2ad4ec5eh3f24088abc44bb07@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Mozilla Thunderbird 1.0 (X11/20041206)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Gary S. Thompson</strong> on October 20, 2006 - 11:24:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Alexandar Hansen wrote:</pre><br>
<blockquote class="blockquote"><tt>Maybe I'm missing something, but to me 1e-21 is the same as 1e-27 in 
computer language.  Let's assume a small amount of error in 
measurements of 1%.  With that amount of random error, I couldn't 
possibly expect much less than 1e-3 or 1e-4 as an overall chi2.  Is 
there significance to having this high of precision when our 
measurements could never reach it?</tt><br>
<br>
<tt>Alex
</tt></blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">Hi Alex
  Two points:</pre><br>
<pre style="margin: 0em;">1. the tolerable level of error differs depending on whether you are
looking at a low level optimisation or a final result as errors
propogate add etc
2. you want to know that a function is operating properly so you want to
assign the tightest bounds to it you can.... as its better to have
bounds that are to tight rather than to loose</pre><br>
<pre style="margin: 0em;">regards gary</pre><br>
<blockquote class="blockquote"><tt><br>On 10/19/06, *Chris MacRaild* &lt;c.a.macraild@xxxxxxxxxxx 
&lt;<a  href="mailto:c.a.macraild@xxxxxxxxxxx">mailto:c.a.macraild@xxxxxxxxxxx</a>&gt;&gt; wrote:</tt><br>
<br>
<pre style="margin: 0em;">    On Fri, 2006-10-20 at 01:04 +1000, Edward d'Auvergne wrote:
    &gt; On 10/20/06, Alexandar Hansen &lt;viochemist@xxxxxxxxx
    &lt;<a  href="mailto:viochemist@xxxxxxxxx">mailto:viochemist@xxxxxxxxx</a>&gt;&gt; wrote:
    &gt; &gt; First, I tried the test-suite again, and it failed (new
    failures this time
    &gt; &gt; though :) )
    &gt; &gt;
    &gt; &gt; #############################
    &gt; &gt; # Results of the test suite #
    &gt; &gt; #############################
    &gt; &gt; Updated to revision 2654:
    &gt; &gt;
    &gt; &gt; The model-free tests:
    &gt; &gt;
    &gt; &gt;     Constrained BFGS opt, backtracking line search {S2=0.970,
    te=2048,
    &gt; &gt; Rex=0.149} ....... [ Failed ]
    &gt; &gt;     Constrained BFGS opt, backtracking line search {S2= 0.970,
    te=2048,
    &gt; &gt; Rex=0.149} ....... [ Failed ]
    &gt; &gt;     Constrained Newton opt, GMW Hessian mod, backtracking line
    search
    &gt; &gt; {S2=0.970, te=2048, Rex=0.149}  [ Failed ]
    &gt; &gt;     Constrained Newton opt, GMW Hessian mod, More and Thuente
    line search
    &gt; &gt; {S2=0.970, te=2048, Rex=0.149 }  [ Failed ]
    &gt;
    &gt; I've deliberately started a new thread to talk about optimisation
    &gt; tests in the test suite.  This originates from the post located at
    &gt; <a  href="http://www.nmr-relax.com/mail.gna.org/public/relax-devel/2006-10/msg00112.html">https://mail.gna.org/public/relax-devel/2006-10/msg00112.html</a>
    &gt; (Message-id: &lt;
    481156b20610190725ud6bab67w1f8fbbdf849da52c@xxxxxxxxxxxxxx
    &lt;<a  href="mailto:481156b20610190725ud6bab67w1f8fbbdf849da52c@xxxxxxxxxxxxxx">mailto:481156b20610190725ud6bab67w1f8fbbdf849da52c@xxxxxxxxxxxxxx</a>&gt;&gt;).
    &gt;
    &gt; These are new optimisation tests I have added.  The problem with
    &gt; setting up these types of test is that machine precision and
    round-off
    &gt; error causes slightly different optimisation results on different
    &gt; systems (different numbers of iterations, function counts, gradient
    &gt; counts, etc).  The model-free parameters should be, to within
    machine
    &gt; precision, the same each time.  Things which may influence this are
    &gt; the CPU type, Python version, Numeric version, underlying C library,
    &gt; operating system, etc.
    &gt;
    &gt; Would you have the text output of one of these tests?  Can you
    see if
    &gt; it is a model-free parameter or optimisation static causing the
    &gt; problem?  I've tried the tests on Windows and exactly the same tests
    &gt; fail (excluding the third one).  The problem is the chi-squared
    value
    &gt; is ~1e-24 when ~1e-27 was expected.  Optimisation terminates a
    little
    &gt; earlier on Windows (less iterations of the optimisation algorithm).
    &gt; I'm wondering if testing the optimisation statistics is
    worthwhile in
    &gt; the test suite considering the variability?
    &gt;</pre><br>
<pre style="margin: 0em;">    The BFGS and Newton optimisation tests fail of my machine for this
    reason (chi2 as big as 7e-21 in some cases). I'm running Linux on dual
    64 bit AMDs. Python is 2.4.1 compiled with gcc.</pre><br>
<pre style="margin: 0em;">    Testing optimisation stats may be appropriate in some cases, but it is
    clearly expecting too much to have 1e-27 correct to a relative
    error of
    1e-8, which I think is what you are testing for. If the optimisation
    algorithm in question should terminate based on some chi2 tolerance,
    then it is should be adequate to demand the value to be less than that
    tolerance. Alternatively, if the expected chi2 is finite, because of
    noise in the data, then it is fair enough to test for it (+/- a
    reasonable tolerance).</pre><br>
<pre style="margin: 0em;"><br>    Chris</pre><br>
<pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">    &gt; Edward
    &gt;
    &gt; _______________________________________________
    &gt; relax ( <a  href="http://nmr-relax.com">http://nmr-relax.com</a>)
    &gt;
    &gt; This is the relax-devel mailing list
    &gt; relax-devel@xxxxxxx &lt;<a  href="mailto:relax-devel@xxxxxxx">mailto:relax-devel@xxxxxxx</a>&gt;
    &gt;
    &gt; To unsubscribe from this list, get a password
    &gt; reminder, or change your subscription options,
    &gt; visit the list information page at
    &gt; <a  href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
    &gt;</pre><br>
<pre style="margin: 0em;">------------------------------------------------------------------------</pre><br>
<pre style="margin: 0em;">_______________________________________________
relax (<a  href="http://nmr-relax.com">http://nmr-relax.com</a>)</pre><br>
<pre style="margin: 0em;">This is the relax-devel mailing list
relax-devel@xxxxxxx</pre><br>
<tt>To unsubscribe from this list, get a password<br>
reminder, or change your subscription options,<br>
visit the list information page at<br>
<a  href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a><br>
 </tt><br>
<br>
</blockquote><pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;">--
-------------------------------------------------------------------
Dr Gary Thompson
Astbury Centre for Structural Molecular Biology,
University of Leeds, Astbury Building,
Leeds, LS2 9JT, West-Yorkshire, UK             Tel. +44-113-3433024
email: garyt@xxxxxxxxxxxxxxx                   Fax  +44-113-2331407
-------------------------------------------------------------------</pre><br>
<pre style="margin: 0em;"><br></pre><br>
<pre style="margin: 0em;"><br></pre><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00114" href="msg00114.html">Optimisation tests in the test suite.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00115" href="msg00115.html">Re: Optimisation tests in the test suite.</a></strong>
<ul><li><em>From:</em> Chris MacRaild</li></ul></li>
<li><strong><a name="00116" href="msg00116.html">Re: Optimisation tests in the test suite.</a></strong>
<ul><li><em>From:</em> Alexandar Hansen</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Oct 20 13:40:35 2006</div>  
</body>
</html>
