<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Building relax trunk on mac OS X 10.9 -->
<!--X-From-R13: Febryf Szgrxæe Zvaarg <gyvaargNtznvy.pbz> -->
<!--X-Date: Mon, 02 Dec 2013 17:40:38 +0100 -->
<!--X-Message-Id: CA+CBx2PauFwQZxXqsX_Le8hkSO=wczv+vbe8oNQGa_89CXOhVQ@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CA+CBx2Pev0kch3=StAkDyfeusZYHy&#45;NTBiDHvYPnRgMC7pX9Eg@mail.gmail.com -->
<!--X-Reference: CAED9pY&#45;WQ7zEcmGDOHzpPJKxmOBa5=d&#45;nJcjaqSgJ9ENqBhGvA@mail.gmail.com -->
<!--X-Reference: CA+CBx2PqZuHBtsvy3j7nAu&#45;TzeR&#45;Ub26AMEnQ+Zt_ZbV2SByMQ@mail.gmail.com -->
<!--X-Reference: CA+CBx2NXJEoZYsG+fjHuvd8hyuEhy2XYJWuThgdoh=oqxTb3iw@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Building relax trunk on mac OS X 10.9 -- December 02, 2013 - 17:40</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Building relax trunk on mac OS X 10.9</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00004" class="tabs">Index by Date</a> | <a href="threads.html#00004" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00003.html">Date Prev</a>] [<a href="msg00005.html">Date Next</a>] [<a href="msg00003.html">Thread Prev</a>] [<a href="msg00007.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Edward d'Auvergne&quot; &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Mon, 2 Dec 2013 17:39:47 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:in-reply-to:references:from:date:message-id:subject:to	:cc:content-type:content-transfer-encoding;	bh=X94ywL/cjuiswV2U2jStRcZ3/jddnNrpC0KYwBQVifc=;	b=wTIzlC84N9kd53GK/O9FmZ7xzLy+cqVBIt4Bk62yvzN7q9DieYFb5y5Q4JH6MuSM7i	74g2YHz/5D4fhJMCViZzo1JWNkT2DEEeoXOWlEGHyfJXT4mleYGK/9pAXl8JArGYdkHu	Zj4gcPSVvcpgEWiKxoTtySGMe85uu0pXftbeRPQXWtn7uBHE41Hn0ipcMLH4F7kPf25I	hy3pKox+1/QYSBbMWHfOkF0K9N0XvwlrxbZY5OAYsUwdxA8uRAON5HwyNYHP3OWZDtFp	uazcqtG5AahOUufbVP1zXLMn9bRt+Iw1E0db27ZBMqinFz1Fguy8msS0JAdNUG3Pc6AM	EviQ==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00004.html">CA+CBx2PauFwQZxXqsX_Le8hkSO=wczv+vbe8oNQGa_89CXOhVQ@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;CA+CBx2Pev0kch3=StAkDyfeusZYHy-NTBiDHvYPnRgMC7pX9Eg@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY-WQ7zEcmGDOHzpPJKxmOBa5=d-nJcjaqSgJ9ENqBhGvA@xxxxxxxxxxxxxx&gt;	&lt;CA+CBx2PqZuHBtsvy3j7nAu-TzeR-Ub26AMEnQ+Zt_ZbV2SByMQ@xxxxxxxxxxxxxx&gt;	&lt;CA+CBx2NXJEoZYsG+fjHuvd8hyuEhy2XYJWuThgdoh=oqxTb3iw@xxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Troels Emtekær Linnet</strong> on December 02, 2013 - 17:40:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">For the record.

I had problems setting up wxPython on Mavericks.
I decided to go with brew:

1) Install brew
<a  rel="nofollow" href="http://crosstown.coolestguidesontheplanet.com/os-x/55-setting-up-os-x-mavericks-and-homebrew">http://crosstown.coolestguidesontheplanet.com/os-x/55-setting-up-os-x-mavericks-and-homebrew</a>
Notes: I could not and I did not have to do: xcode-select --install

2) Install python+numpy+scipy+matplotlib+ipython over brew
<a  rel="nofollow" href="http://www.lowindata.com/2013/installing-scientific-python-on-mac-os-x/">http://www.lowindata.com/2013/installing-scientific-python-on-mac-os-x/</a>
Notes: Skipped virtualenv

For matplotlib, I had to do:
pip install git+git://github.com/matplotlib/matplotlib.git
(It was due to a package error ... )

After finishing to pygments, I could also install spyder as an editor
pip install spyder

3) wxPython
<a  rel="nofollow" href="http://superuser.com/questions/196197/installing-wxpython-via-pip-or-easy-install">http://superuser.com/questions/196197/installing-wxpython-via-pip-or-easy-install</a>
brew install --python wxmac --devel

4) minfx and bmrblib
<a  rel="nofollow" href="http://wiki.nmr-relax.com/Installation_mac#Minfx_and_Bmrblib">http://wiki.nmr-relax.com/Installation_mac#Minfx_and_Bmrblib</a>


----- .bash_profile used ----

##Setting color for terminal
export CLICOLOR=1
export LSCOLORS=ExFxCxDxBxegedabagacad
## black background
# export LSCOLORS=gxBxhxDxfxhxhxhxhxcxcx

# Directory to show in basj
export PS1='\u@\H:\W$ '

## Setting path for git
PATH=&quot;/usr/local/git/bin:${PATH}&quot;
export PATH

## From: <a  rel="nofollow" href="http://hackercodex.com/guide/mac-osx-mavericks-10.9-configuration/">http://hackercodex.com/guide/mac-osx-mavericks-10.9-configuration/</a>
# Set architecture flags
# export ARCHFLAGS=&quot;-arch x86_64&quot;

## Ensure user-installed binaries take precedence
export PATH=/usr/local/bin:$PATH
export PATH=/usr/local/share/python:$PATH

## Test
# export PYTHONPATH=/usr/local/lib/python:$PYTHONPATH
# Load .bashrc if it exists
# test -f ~/.bashrc &amp;&amp; source ~/.bashrc

alias ipyt='ipython qtconsole --pylab=inline'
alias textedit='open -a TextEdit'
alias relax=$HOME/software/relax_trunk/relax

Troels Emtekær Linnet


2013/12/2 Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxx&gt;:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">By the way, I get this error when I start in GUI mode

----
iCCP: known incorrect sRGB profile
----

Troels Emtekær Linnet


2013/12/2 Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxx&gt;:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward.

For a long time I thought it was a problem with xcode.
And I have tried alot...

But it was simple, I just altered the archs, and it worked.
-----------
    def det_arch(self):
        &quot;&quot;&quot;Nasty hack to make Scons behave properly with
cross-compilation on Mac OS X!

        @return:    The list of CPU architects to cross compile.
        @rtype:     list of str
        &quot;&quot;&quot;

        # The list of archectures to try.
        #archs = ['i386', 'ppc', 'x86_64']
        archs = ['x86_64']
-----------------

Troels Emtekær Linnet


2013/12/2 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

I'm not sure what is happening here.  This normally works.  Maybe you
should look at the det_arch() method in the 'sconstruct' script, as
that is the likely failure point.  I would guess that it is not able
to correctly determine the supported architectures on your system.
This has worked on numerous Macs before, so maybe there is something
different with the setup (Xcode is a likely culprit).

Regards,

Edward




On 1 December 2013 23:33, Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward.

I tried compiling relax on mac OS X Mavericks.

Should I in some way specify which kernel to build for?

I get these errors:
----------
linmac:relax_trunk tlinnet$ scons

scons: Reading SConscript files ...

scons: done reading SConscript files.

scons: Building targets ...





###########################

# Compiling the C modules #

###########################



Building the relaxation curve fitting module 
'target_functions/relax_fit.so'


gcc -o target_functions/c_chi2.os -c
-I/Library/Frameworks/Python.framework/Versions/2.7/include/python2.7
-arch i386 -arch ppc -arch x86_64 -fPIC target_functions/c_chi2.c

In file included from target_functions/c_chi2.c:20:

In file included from /usr/include/stdio.h:64:

/usr/include/sys/cdefs.h:655:2: error: Unsupported architecture

#error Unsupported architecture

 ^

In file included from target_functions/c_chi2.c:20:

In file included from /usr/include/stdio.h:67:

In file included from /usr/include/_types.h:27:

In file included from /usr/include/sys/_types.h:33:

/usr/include/machine/_types.h:34:2: error: architecture not supported

#error architecture not supported

 ^

In file included from target_functions/c_chi2.c:20:

In file included from /usr/include/stdio.h:67:

In file included from /usr/include/_types.h:27:

/usr/include/sys/_types.h:94:9: error: unknown type name '__int64_t'

typedef __int64_t       __darwin_blkcnt_t;      /* total blocks */

        ^

/usr/include/sys/_types.h:95:9: error: unknown type name '__int32_t'

typedef __int32_t       __darwin_blksize_t;     /* preferred block size 
*/

        ^

/usr/include/sys/_types.h:96:9: error: unknown type name '__int32_t'

typedef __int32_t       __darwin_dev_t;         /* dev_t */

        ^

/usr/include/sys/_types.h:99:9: error: unknown type name '__uint32_t'

typedef __uint32_t      __darwin_gid_t;         /* [???] process and
group IDs */

        ^

/usr/include/sys/_types.h:100:9: error: unknown type name '__uint32_t'

typedef __uint32_t      __darwin_id_t;          /* [XSI] pid_t, uid_t,
or gid_t*/

        ^

/usr/include/sys/_types.h:101:9: error: unknown type name '__uint64_t'

typedef __uint64_t      __darwin_ino64_t;       /* [???] Used for 64
bit inodes */

        ^

/usr/include/sys/_types.h:107:9: error: unknown type name 
'__darwin_natural_t'

typedef __darwin_natural_t __darwin_mach_port_name_t; /* Used by mach */

        ^

/usr/include/sys/_types.h:109:9: error: unknown type name '__uint16_t'

typedef __uint16_t      __darwin_mode_t;        /* [???] Some file 
attributes */

        ^

/usr/include/sys/_types.h:110:9: error: unknown type name '__int64_t'

typedef __int64_t       __darwin_off_t;         /* [???] Used for file 
sizes */

        ^

/usr/include/sys/_types.h:111:9: error: unknown type name '__int32_t'

typedef __int32_t       __darwin_pid_t;         /* [???] process and
group IDs */

        ^

/usr/include/sys/_types.h:131:9: error: unknown type name '__uint32_t'

typedef __uint32_t      __darwin_sigset_t;      /* [???] signal set */

        ^

/usr/include/sys/_types.h:132:9: error: unknown type name '__int32_t'

typedef __int32_t       __darwin_suseconds_t;   /* [???] microseconds */

        ^

/usr/include/sys/_types.h:133:9: error: unknown type name '__uint32_t'

typedef __uint32_t      __darwin_uid_t;         /* [???] user IDs */

        ^

/usr/include/sys/_types.h:134:9: error: unknown type name '__uint32_t'

typedef __uint32_t      __darwin_useconds_t;    /* [???] microseconds */

        ^

In file included from target_functions/c_chi2.c:20:

In file included from /usr/include/stdio.h:71:

/usr/include/sys/_types/_va_list.h:31:9: error: unknown type name
'__darwin_va_list'; did you mean '__builtin_va_list'?

typedef __darwin_va_list va_list;

        ^

note: '__builtin_va_list' declared here

In file included from target_functions/c_chi2.c:20:

In file included from /usr/include/stdio.h:72:

/usr/include/sys/_types/_size_t.h:30:9: error: unknown type name
'__darwin_size_t'; did you mean '__darwin_ino_t'?

typedef __darwin_size_t        size_t;

        ^

/usr/include/sys/_types.h:103:26: note: '__darwin_ino_t' declared here

typedef __darwin_ino64_t __darwin_ino_t;        /* [???] Used for inodes 
*/

                         ^

In file included from target_functions/c_chi2.c:20:

In file included from /usr/include/stdio.h:434:

/usr/include/sys/_types/_ssize_t.h:30:9: error: unknown type name
'__darwin_ssize_t'

typedef __darwin_ssize_t        ssize_t;

        ^

19 errors generated.

scons: *** [target_functions/c_chi2.os] Error 1

scons: building terminated because of errors.

linmac:relax_trunk tlinnet$





Troels Emtekær Linnet

_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
</pre></blockquote></blockquote></blockquote></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00007" href="msg00007.html">Re: Building relax trunk on mac OS X 10.9</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00000" href="msg00000.html">Building relax trunk on mac OS X 10.9</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00001" href="msg00001.html">Re: Building relax trunk on mac OS X 10.9</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00002" href="msg00002.html">Re: Building relax trunk on mac OS X 10.9</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00003" href="msg00003.html">Re: Building relax trunk on mac OS X 10.9</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Mon Dec 02 18:20:06 2013</div>  
</body>
</html>
