<!-- MHonArc v2.6.19+ -->
<!--X-Subject: Re: Javascript problems on the relax wiki. -->
<!--X-From-R13: Febryf Szgrxæe Zvaarg &#60;gyvaargNaze&#45;erynk.pbz> -->
<!--X-Date: Tue, 20 Oct 2015 13:01:08 +0200 -->
<!--X-Message-Id: CA+CBx2MjRKdTsruKJESxy9O+yhOv817VOcf_FhxKbZvzLSSCsQ@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CAED9pY9daNydCBfTfn&#45;JQRPLnsJ&#45;E&#45;CQaY+LLyvnBoz3wjF3rw@mail.gmail.com -->
<!--X-Reference: CA+CBx2OTr3&#45;8RJrc8hXcSkRjHmmP0H5JDxedSnKaJT=7saA4Lw@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Javascript problems on the relax wiki. -- October 20, 2015 - 13:01</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Javascript problems on the relax wiki.</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00009" class="tabs">Index by Date</a> | <a href="threads.html#00009" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00008.html">Date Prev</a>] [<a href="msg00010.html">Date Next</a>] [<a href="msg00008.html">Thread Prev</a>] [<a href="msg00010.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Edward d'Auvergne&quot; &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Tue, 20 Oct 2015 13:00:19 +0200</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:from:date:message-id :subject:to:cc:content-type; bh=MZeHhptaaRfYC48NnZdYj9XOhZ2lqH3RHWtR0RDJ8Aw=; b=ssXVuGS+REQ7uDwaXvq9gHCdnYVt6JblO+TIqsIeBL8awYK6QWVzLXt8eDIjnVTkMn WdnLungRtlH8c655aqI3V07ZDYwrEb36xG6SRRI/GWdfwY2jzRmRfF+tBolrPW/AKARw RSiufAgkxOgvIbjEJ/ynQi2Ov+4ykhRlop0Xbe2xH7FmcX6DvjuQ0pyrW5IVGRKfeLAz /NioBnoQwtHISGTs8lzClVoiFRz4lyRLOVsuVtbEmzoQwQwbuRiRAqsmR/JHd4FDFINE JYHMFwIOkLizSs/Nrp8ax6G8M2+UP0iBuHNQ0PP4XDzt2cIZbETZ4k4hVuuSjOI0BVIe 5MUw==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00009.html">CA+CBx2MjRKdTsruKJESxy9O+yhOv817VOcf_FhxKbZvzLSSCsQ@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00005.html">CAED9pY9daNydCBfTfn-JQRPLnsJ-E-CQaY+LLyvnBoz3wjF3rw@mail.gmail.com</a>&gt; &lt;CA+CBx2OTr3-8RJrc8hXcSkRjHmmP0H5JDxedSnKaJT=7saA4Lw@mail.gmail.com&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Troels Emtekær Linnet</strong> on October 20, 2015 - 13:01:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi Edward.

In:
<a  rel="nofollow" href="https://www.mediawiki.org/wiki/Manual:Collapsible_elements#NavFrame">https://www.mediawiki.org/wiki/Manual:Collapsible_elements#NavFrame</a>

It says with red text, that* MediaWiki version: ≤ 1.18*

*??*


2015-10-20 12:45 GMT+02:00 Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt;:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward.

I have tried:
<a  rel="nofollow" href="http://wiki.nmr-relax.com/Javascript_testing">http://wiki.nmr-relax.com/Javascript_testing</a>

For me this looks fine?

For the NavFrame test, I see both an expanded and collapsed box.

Is the error, that you don't see &quot; the [hide] and [show] links to the
right of the titles&quot; ?

This must be what you are missing:
*I also don't see the possibility to expand or hide.*

From:
<a  rel="nofollow" href="http://wiki.nmr-relax.com/Special:Version">http://wiki.nmr-relax.com/Special:Version</a>

I see:
MediaWiki 1.21.1
PHP 5.3.29 (cgi-fcgi)
MySQL 5.6.25-1~dotdeb+7.1

Latest version of Mediawiki is:
1.25.3, and 1.21.1 is from 2013-05-25.
<a  rel="nofollow" href="https://www.mediawiki.org/wiki/News">https://www.mediawiki.org/wiki/News</a>

On the server is: PHP 5.3 enabled.
I can change to: 5.4, 5.5, 5.6, 7.0 (RC).

And there is options to change for PHP.
allow_url_fopen: On
allow_url_include: On
always_populate_raw_post_data: 0
apc.rfc1867: On
asp_tags: On
date.timezone
default_mimetype: text/html
display_errors: On
engine: On
expose_php: On
file_uploads: On
html_errors: On
magic_quotes_gpc: Off
max_execution_time: 30
max_file_uploads: 20
max_input_time: 60
max_input_vars: 1000
mbstring.func_overload: 0
mbstring.internal_encoding:
memory_limit: 128 MB
mysql.allow_persistent: On
mysql.default_host:
mysql.default_port: 3306
mysql.default_user:
mysql.trace_mode: Off
output_buffering: Off
post_max_size: 32 Mb
realpath_cache_size: 16
realpath_cache_ttl: 120
register_globals: Off
safe_mode: Off
session.auto_start: Off
session.bug_compat_42: Off
session.bug_compat_warn: Off
session.cookie_domain:
session.cookie_lifetime: 0
session.cookie_path: /
session.gc_maxlifetime: 3600

and some 20 more.


Does any of this help you?

Best
Troels




2015-10-19 14:59 GMT+02:00 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Troels,

I am having problems with javascript on the wiki, and was wondering if
you might have an idea what the problem might be.  I have been trying
to set up a template to allow for collapsible scripts based on the
NavFrame, to de-clutter some of the wiki articles.  The template is:

    <a  rel="nofollow" href="http://wiki.nmr-relax.com/Template:Collapsible_script">http://wiki.nmr-relax.com/Template:Collapsible_script</a>

This is based on exactly the same template I wrote at:

   <a  rel="nofollow" href="http://wiki.flightgear.org/Template:Collapsible_script">http://wiki.flightgear.org/Template:Collapsible_script</a>

The idea is based on the collapsible NavFrame examples at:

    <a  rel="nofollow" href="https://www.mediawiki.org/wiki/Manual:Collapsible_elements">https://www.mediawiki.org/wiki/Manual:Collapsible_elements</a>

The problem is that javascript is not working properly on the relax
wiki and the [hide] and [show] text programmatically inserted into the
&lt;div&gt; element to allow it to collapse and expand is missing (it can be
seen as functional on the FlightGear wiki, for reference).  To check
our set up, I've set up a test page at:

    <a  rel="nofollow" href="http://wiki.nmr-relax.com/Javascript_testing">http://wiki.nmr-relax.com/Javascript_testing</a>

This shows that Javascript is now working (previously it was not due
to the Harvard references js), but that the NavFrame javascript is
not.  I do not know why this is not working, as according to the
Manual:Collapsible_elements page, this should work from MediaWiki 1.18
and above (we are using 1.21.1).  I have inserted the relevant
javascript and CSS at:

    <a  rel="nofollow" href="http://wiki.nmr-relax.com/MediaWiki:Common.js">http://wiki.nmr-relax.com/MediaWiki:Common.js</a>
    <a  rel="nofollow" href="http://wiki.nmr-relax.com/MediaWiki:Common.css">http://wiki.nmr-relax.com/MediaWiki:Common.css</a>

Would you have an idea why this is not working?  I tried commenting
out all extensions in the LocalSettings.php file, but that did not
help on the <a  rel="nofollow" href="http://wiki.nmr-relax.com/Javascript_testing">http://wiki.nmr-relax.com/Javascript_testing</a> page.  This
really has me stumped!  Maybe it is a bug in MediaWiki itself, and we
need to update it?  Maybe it is related to the bug &quot;Fix comma errors
in various js files&quot; fixed in MediaWiki 1.21.3 (
<a  rel="nofollow" href="https://www.mediawiki.org/wiki/Release_notes/1.21#MediaWiki_1.21.3">https://www.mediawiki.org/wiki/Release_notes/1.21#MediaWiki_1.21.3</a> ) -
this might cause other javascript to be broken.

Cheers,

Edward

_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>

</pre></blockquote><pre style="margin: 0em;">


</pre></blockquote><pre style="margin: 0em;">

</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00010" href="msg00010.html">Re: Javascript problems on the relax wiki.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00005" href="msg00005.html">Javascript problems on the relax wiki.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00008" href="msg00008.html">Re: Javascript problems on the relax wiki.</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Tue Oct 20 15:20:06 2015</div>  
</body>
</html>
