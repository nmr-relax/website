<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [task #7581] Mac OS X support -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Thu, 03 May 2012 14:47:15 +0200 -->
<!--X-Message-Id: CAED9pY_mHZE1nv5Mz6xLDaZx+JOqg8JKKL9bHk9tPn+XC8ZT=A@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 20120410&#45;191441.sv2782.36089@gna.org -->
<!--X-Reference: 20120410&#45;191739.sv2782.69715@gna.org -->
<!--X-Reference: 20120410&#45;201151.sv2782.3104@gna.org -->
<!--X-Reference: 20120502&#45;173845.sv0.32980@gna.org -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [task #7581] Mac OS X support -- May 03, 2012 - 14:47</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: [task #7581] Mac OS X support</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00001" class="tabs">Index by Date</a> | <a href="threads.html#00001" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00000.html">Date Prev</a>] [<a href="msg00002.html">Date Next</a>] [<a href="msg00000.html">Thread Prev</a>] [<a href="msg00002.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>Date</em>: Thu, 3 May 2012 14:46:44 +0200</li>
<li class="menuitem">
<em>Cc</em>: Jack Howarth &lt;howarth@xxxxxxxxxxxxxxxx&gt;, relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:sender:in-reply-to:references:date	:x-google-sender-auth:message-id:subject:from:cc:content-type;	bh=lD/kFG4aByExopln6elx/H0CJIjr7oFtNUu5RIZP51s=;	b=dRLxaOBeO/V+a7FsKH3EPuKVsc0uxtvTs7zxpDUxHn09M1GlEsjAEnBtiHumOD+S6D	/ISZBHhkIxXy7dXTo2o2/uJeGXwfunpIkz0O+xm+CXDUCf77zVbRcWmXZTywTiPh0jFP	O2SmlV7h2llhGGmSK5MhOGeUWiPpqi4ayxplt5jcaGmbOePVIk4krmg/Q1nSBdXRErdm	A1kltz0Uy9/onVxxwSXOrjXJBgPr80ERQeyylISzn31OSPwf8YVwaCWxDJWcYLzHSr2E	FzCAIS6PQuM/f/jJQQDrQ0H9P/GU0sPqmtIq8lc6enoizIGJCKScO9OX2PjvFatmWgP9	Q5Qg==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00001.html">CAED9pY_mHZE1nv5Mz6xLDaZx+JOqg8JKKL9bHk9tPn+XC8ZT=A@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;20120410-191441.sv2782.36089@xxxxxxx&gt;	&lt;20120410-191739.sv2782.69715@xxxxxxx&gt;	&lt;20120410-201151.sv2782.3104@xxxxxxx&gt;	&lt;20120502-173845.sv0.32980@xxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on May 03, 2012 - 14:47:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
Hi Jack,<br><br>I have been playing with the fink files you attached to the task (<a rel="nofollow" href="http://gna.org/task/?7581" target="_blank">http://gna.org/task/?7581</a>).  I now know the problem with the md5sums I was having before.  For some reason when downloading the files from my email, the Mac OS end of line characters &#39;\r&#39; were being converted to DOS end of line characters &#39;\r\n&#39;!  Now with the proper characters, the md5sum is fine and I can install relax via fink on a Mac with:<br>
<br>$ fink -m install relax-py27<br><br>I have encountered the same problem you reported in private:<br><br><br>./relax --system-tests;./relax --unit-tests;exit 0<br>
Echoing of user function calls has been enabled.<br>
<br>
<br>
<br>
<br>
#############################<br>
# System / functional tests #<br>
#############################<br>
<br>
<br>
........................................................................................................................................F................................................................................................<br>

======================================================================<br>
FAIL: test_write_results (test_suite.system_tests.model_free.Mf)<br>
Writing of model-free results using the user function results.write().<br>
----------------------------------------------------------------------<br>
<br>
relax&gt; pipe.create(pipe_name=&#39;mf&#39;, pipe_type=&#39;mf&#39;)<br>
<br>
relax&gt; results.read(file=&#39;final_results_trunc_1.2&#39;, dir=&#39;/sw/src/fink.build/relax-py27-1.3.15-1/relax-1.3.15/test_suite/shared_data/model_free/OMP&#39;)<br>
Opening the file &#39;/sw/src/fink.build/relax-py27-1.3.15-1/relax-1.3.15/test_suite/shared_data/model_free/OMP/final_results_trunc_1.2.bz2&#39; for reading.<br>
relax 1.2 model-free results file.<br>
<br>
Generating the sequence.<br>
<br>
Setting the diffusion tensor.<br>
Diffusion type: prolate<br>
RelaxWarning: The PDB file 1F35_H.pdb cannot be found, no structures will be loaded.<br>
<br>
Loading simulations.<br>
sim_0<br>
sim_1<br>
sim_2<br>
<br>
relax&gt; results.write(file=&lt;relax_io.DummyFileObject instance at 0x107b46cf8&gt;, dir=&#39;/sw/src/fink.build/relax-py27-1.3.15-1/relax-1.3.15/test_suite/shared_data/model_free/OMP&#39;, compress_type=1, force=False)<br>

Opening the file &#39;/sw/src/fink.build/relax-py27-1.3.15-1/relax-1.3.15/test_suite/shared_data/model_free/OMP/final_results_trunc_1.3_new.bz2&#39; for reading.<br>
Traceback (most recent call last):<br>
  File &quot;/sw/src/fink.build/relax-py27-1.3.15-1/relax-1.3.15/test_suite/system_tests/model_free.py&quot;, line 2532, in test_write_results<br>
    self.assertEqual(test_line, true_line)<br>
AssertionError: &#39;            &lt;frq&gt;\n&#39; != &quot;           
 &lt;frq&gt;{&#39;R2_600&#39;: 600000000.0, &#39;R1_600&#39;: 600000000.0, &#39;R2_800&#39;: 
800000000.0, &#39;R1_800&#39;: 800000000.0, &#39;NOE_800&#39;: 800000000.0, &#39;NOE_600&#39;: 
600000000.0}&lt;/frq&gt;\n&quot;<br>
<br>
----------------------------------------------------------------------<br>
Ran 233 tests in 357.044s<br>
<br>
FAILED (failures=1)<br>
<br>
<br>
<br>
<br>
###################################<br>
# Summary of the relax test suite #<br>
###################################<br>
<br>
<br>
# Optional packages/modules<br>
###########################<br>
<br>
No tests skipped due to missing modules.<br>
<br>
# Synopsis<br>
##########<br>
<br>
System/functional tests ......................................... [ Failed ]<br>
<br>
<br><br>This was quite difficult in tracking down, but the problem lies in fink itself.  There is a package called PyXML which is a dependency of some package relax-py27 pulls in, though I can&#39;t find the offending package to check if it really is a dependency.  But the problem is two fold.  First is that this software is very old, the newest release of 0.8.4 was from 2004 - it is a very dead project.  The second problem is that this overwrites the inbuilt Python XML module.  Now that the inbuilt module is far more advanced, this package causes big problems.  As a work around, I have added code to relax to detect which version of the XML library is being used (inbuilt or depreciated ancient junk), and relax will then assume the correct XML formatting of results and save files in the test suite.  Therefore the newest repository code should just work.  I will therefore probably release relax 1.3.16 soon with this minor fix.<br>
<br>Cheers,<br><br>Edward<br><br><br><br><br><br><div class="gmail_quote">On 2 May 2012 19:38, anonymous <span dir="ltr">&lt;<a rel="nofollow" href="mailto:NO-REPLY.INVALID-ADDRESS@xxxxxxx" target="_blank">NO-REPLY.INVALID-ADDRESS@xxxxxxx</a>&gt;</span> wrote:<br>
<blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Additional Item Attachment, task #7581 (project relax):<br>
<br>
File name: <a rel="nofollow" href="http://relax-py.info" target="_blank">relax-py.info</a>                  Size:2 KB<br>
File name: relax-py.patch                 Size:2 KB<br>
<div class="im"><br>
<br>
    _______________________________________________________<br>
<br>
Reply to this item at:<br>
<br>
  &lt;<a rel="nofollow" href="http://gna.org/task/?7581" target="_blank">http://gna.org/task/?7581</a>&gt;<br>
<br>
_______________________________________________<br>
  Message sent via/by Gna!<br>
  <a rel="nofollow" href="http://gna.org/" target="_blank">http://gna.org/</a><br>
<br>
<br>
</div>_______________________________________________<br>
relax (<a rel="nofollow" href="http://www.nmr-relax.com" target="_blank">http://www.nmr-relax.com</a>)<br>
<br>
This is the relax-devel mailing list<br>
<a rel="nofollow" href="mailto:relax-devel@xxxxxxx">relax-devel@xxxxxxx</a><br>
<br>
To unsubscribe from this list, get a password<br>
reminder, or change your subscription options,<br>
visit the list information page at<br>
<a rel="nofollow" href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-devel" target="_blank">https://mail.gna.org/listinfo/relax-devel</a><br>
</blockquote></div><br>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00000" href="msg00000.html">[task #7581] Mac OS X support</a></strong>
<ul><li><em>From:</em> anonymous</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu May 03 15:20:08 2012</div>  
</body>
</html>
