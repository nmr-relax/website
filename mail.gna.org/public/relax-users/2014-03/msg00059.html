<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: Model&#45;free analysis error -->
<!--X-From-R13: Febryf Szgrxæe Zvaarg &#60;gyvaargNaze&#45;erynk.pbz> -->
<!--X-Date: Wed, 26 Mar 2014 16:54:25 +0100 -->
<!--X-Message-Id: CA+CBx2NnXuO7xVXuJk4GZpfAeuGydSkjqYc+BfZwhGGV609nSA@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: loom.20140207T152903&#45;876@post.gmane.org -->
<!--X-Reference: CAED9pY&#45;&#45;SKVNqRYj1PXBJX0BV5eO7aBQxaOPQS7xV8e&#45;ecfXfA@mail.gmail.com -->
<!--X-Reference: 57E7794ED2439341B1ED0B47DBB1D89D32C52C20@MBX10.ad.oak.ox.ac.uk -->
<!--X-Reference: CAED9pY8TfdoOqQ9i=PsqS3Y2dtsjBniH28c69m2XMTzjPUGR2g@mail.gmail.com -->
<!--X-Reference: 57E7794ED2439341B1ED0B47DBB1D89D60DDE9FE@MBX10.ad.oak.ox.ac.uk -->
<!--X-Reference: CAED9pY97OBK=M95LdxzC+UMNmRYGFHZZAXHCGwKu1+JMExxoqQ@mail.gmail.com -->
<!--X-Reference: 57E7794ED2439341B1ED0B47DBB1D89D60DDEA5A@MBX10.ad.oak.ox.ac.uk -->
<!--X-Reference: CAED9pY8omua98uV&#45;m8zm30FQgewOKPNX9ZHvMSHUA=ed=iHjBg@mail.gmail.com -->
<!--X-Reference: CAED9pY&#45;mXeCpnydqoq__BzP6a+qwb&#45;wdHgRNcos6BciuoWm&#45;ew@mail.gmail.com -->
<!--X-Reference: 57E7794ED2439341B1ED0B47DBB1D89D60DE370B@MBX10.ad.oak.ox.ac.uk -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Model-free analysis error -- March 26, 2014 - 16:54</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Model-free analysis error</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00059" class="tabs">Index by Date</a> | <a href="threads.html#00059" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00058.html">Date Prev</a>] [<a href="msg00060.html">Date Next</a>] [<a href="msg00058.html">Thread Prev</a>] [<a href="msg00060.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Ivanhoe Leung &lt;ivanhoe.leung@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Wed, 26 Mar 2014 16:53:34 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:sender:in-reply-to:references:from:date:message-id :subject:to:cc:content-type; bh=3Ifn68rTy7befC9zBp927kppW7R/hTn+QWEgZEY9MTg=; b=VoPZOL3VbJI+vlRM+mcD1vTCCN8btHZfOcbh4ZXl/Pbf9A/mKmy5Zr3yz7EJ+GUgGU 01jGmVgNae3ECUw4CwWgbGwb9OHE5xoyqhR3a+hVeGQisVGS3E+tKu+j/XUsz0JKFW+j qIgrDtxGcrUJHpHhDAoFKseW39anJhuuN9tb9PvEj7zFXGl0xm8s1rBDEwYs8nIiS+pm aHQ1YkhZAMM6O0tdUYTLY3lPb6JMio7mDqVIqvptd1+IRheqtMvWkwZ8SRroAfMflsyU kI4+YZMh2VmgTOt8QDh6cczC2FnveFyAvH0y6tCdi2Me9QAT+nc1KTtRbHGIpQ7ITj5N Dx8g==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00059.html">CA+CBx2NnXuO7xVXuJk4GZpfAeuGydSkjqYc+BfZwhGGV609nSA@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;loom.20140207T152903-876@post.gmane.org&gt; &lt;CAED9pY--SKVNqRYj1PXBJX0BV5eO7aBQxaOPQS7xV8e-ecfXfA@mail.gmail.com&gt; &lt;57E7794ED2439341B1ED0B47DBB1D89D32C52C20@MBX10.ad.oak.ox.ac.uk&gt; &lt;CAED9pY8TfdoOqQ9i=PsqS3Y2dtsjBniH28c69m2XMTzjPUGR2g@mail.gmail.com&gt; &lt;<a href="msg00041.html">57E7794ED2439341B1ED0B47DBB1D89D60DDE9FE@MBX10.ad.oak.ox.ac.uk</a>&gt; &lt;CAED9pY97OBK=M95LdxzC+UMNmRYGFHZZAXHCGwKu1+JMExxoqQ@mail.gmail.com&gt; &lt;<a href="msg00044.html">57E7794ED2439341B1ED0B47DBB1D89D60DDEA5A@MBX10.ad.oak.ox.ac.uk</a>&gt; &lt;CAED9pY8omua98uV-m8zm30FQgewOKPNX9ZHvMSHUA=ed=iHjBg@mail.gmail.com&gt; &lt;<a href="msg00049.html">CAED9pY-mXeCpnydqoq__BzP6a+qwb-wdHgRNcos6BciuoWm-ew@mail.gmail.com</a>&gt; &lt;<a href="msg00058.html">57E7794ED2439341B1ED0B47DBB1D89D60DE370B@MBX10.ad.oak.ox.ac.uk</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Troels Emtekær Linnet</strong> on March 26, 2014 - 16:54:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr">Hi Ivanhoe.<div><br></div><div>I remember that Edward added a section to the manual about running time, and probably somewhere on the relax mailing list that question is answered.</div><div><br></div><div>But it depends on how many spins, computer power, and how many CPU.</div>

<div><br></div><div>But I think that anything between a day and a week is expected (best guess is a week ? )</div><div>Especially for model-free analysis.</div><div><br></div><div>Best</div><div>Troels</div><div><br></div>

</div><div class="gmail_extra"><br><br><div class="gmail_quote">2014-03-26 15:55 GMT+01:00 Ivanhoe Leung <span dir="ltr">&lt;<a rel="nofollow" href="mailto:ivanhoe.leung@xxxxxxxxxxxxx" target="_blank">ivanhoe.leung@xxxxxxxxxxxxx</a>&gt;</span>:<br>

<blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">Dear Edward and Troels,<br>
<br>
Thanks for all your suggestions - they have all been really helpful. I have now added the errors onto the T1/T2/NOE lists (I use CCPNmr Analysis).<br>
<br>
Just one more question (maybe a stupid one) - how long does it take to do the full model free analysis (I just use the default settings on the GUI). Its been running for more than 6 hours now and the &#39;Incremental progress&#39; is still showing less than 30% completion<br>


<div class=""><br>
Thanks<br>
<br>
Ivan<br>
<br>
<br>
________________________________________<br>
From: <a rel="nofollow" href="mailto:edward.dauvergne@xxxxxxxxx">edward.dauvergne@xxxxxxxxx</a> [<a rel="nofollow" href="mailto:edward.dauvergne@xxxxxxxxx">edward.dauvergne@xxxxxxxxx</a>] on behalf of Edward d&#39;Auvergne [<a rel="nofollow" href="mailto:edward@xxxxxxxxxxxxx">edward@xxxxxxxxxxxxx</a>]<br>


</div>Sent: 25 March 2014 18:03<br>
<div class="HOEnZb"><div class="h5">To: Ivanhoe Leung<br>
Cc: <a rel="nofollow" href="mailto:relax-users@xxxxxxx">relax-users@xxxxxxx</a><br>
Subject: Re: Model-free analysis error<br>
<br>
Hi Ivan and Troels,<br>
<br>
Continuing from<br>
<a rel="nofollow" href="http://thread.gmane.org/gmane.science.nmr.relax.devel/5263/focus=5268" target="_blank">http://thread.gmane.org/gmane.science.nmr.relax.devel/5263/focus=5268</a>,<br>
the default error of 1.0 is important.  This causes the chi-square<br>
value to collapse into the sum of squared errors (SSE), making the<br>
analysis still possible.  However the real errors should really be<br>
provided at all times.  A model-free analysis requires the greatest<br>
precision and accuracy of all NMR analysis types.  Not providing<br>
errors, i.e. using crude errors of 1.0, for all data will really fubar<br>
your results (<a rel="nofollow" href="https://en.wikipedia.org/wiki/Military_slang#FUBAR" target="_blank">https://en.wikipedia.org/wiki/Military_slang#FUBAR</a>).  If<br>
these are not available, please use the relaxation curve-fitting and<br>
steady-state NOE analyses in relax to properly calculate relaxation<br>
data errors from either replicated spectra or the base plane noise<br>
(see the &#39;rm&#39; command in Sparky or the equivalent in other software).<br>
These peak intensity errors do not linearly map to the relaxation<br>
data, hence why different errors for all data points is rather<br>
important.<br>
<br>
Regards,<br>
<br>
Edward<br>
<br>
<br>
<br>
On 25 March 2014 18:35, Edward d&#39;Auvergne &lt;<a rel="nofollow" href="mailto:edward@xxxxxxxxxxxxx">edward@xxxxxxxxxxxxx</a>&gt; wrote:<br>
&gt; Cheers!  I can confirm the problem - the identification of the @N and<br>
&gt; @H atom pairs takes a long, long time.  However it does successfully<br>
&gt; complete after a few minutes.  There are two problems I can identify.<br>
&gt; Solving the first will be the easiest.  From the saved state file that<br>
&gt; you uploaded, I can see that you have loaded all atoms of the PDB file<br>
&gt; into relax as nuclear spins.  For your analysis this is not necessary,<br>
&gt; just load the @N and @H atoms.  Then the interatom.define user<br>
&gt; function will operate much faster as then it will not need to loop<br>
&gt; over all these 1231 atoms (1231^2 times) but only the 296 @H and @N<br>
&gt; atoms.  See <a rel="nofollow" href="http://www.nmr-relax.com/manual/d_Auvergne_protocol_GUI_mode_setting_up_spin.html" target="_blank">http://www.nmr-relax.com/manual/d_Auvergne_protocol_GUI_mode_setting_up_spin.html</a><br>
&gt; and <a rel="nofollow" href="http://www.nmr-relax.com/manual/GUI_mode_spins_from_structural_data.html" target="_blank">http://www.nmr-relax.com/manual/GUI_mode_spins_from_structural_data.html</a><br>
&gt; for more details (the PDF version of the manual at<br>
&gt; <a rel="nofollow" href="http://download.gna.org/relax/manual/relax.pdf" target="_blank">http://download.gna.org/relax/manual/relax.pdf</a> is of higher quality).<br>
&gt;<br>
&gt; The second problem is in relax.  There must be an inefficiency<br>
&gt; somewhere in the relax code which causes this to take so long.  I&#39;ll<br>
&gt; look and see if this function can be sped up, but it might require<br>
&gt; modifying the internal PDB reader in relax to automatically determine<br>
&gt; connected atoms for the standard protein/DNA/RNA residues.  Fixing<br>
&gt; this is a lot of work, so the first option might be fastest for you.<br>
&gt; As connected atoms in the protein were not automatically detected by<br>
&gt; the relax PDB reader, relax must first loop over each atoms to check<br>
&gt; for connections and for each it must then loop over all other atoms<br>
&gt; and determine if those atoms are within a certain short distance.  If<br>
&gt; so, it will consider the atoms to be bonded.  Because of these two<br>
&gt; nested loops, for 1231 atoms there would be 1231^2 = 1515361<br>
&gt; interatomic distance checks.  This is why it is slow.  For just the @N<br>
&gt; and @H spins the number of checks would be ~20 times less.<br>
&gt;<br>
&gt; Regards,<br>
&gt;<br>
&gt; Edward<br>
&gt;<br>
&gt;<br>
&gt; P. S.  For any relax developers out there, the fix is to support the<br>
&gt; standard PDB atom naming in the Chemical Component Dictionary, as<br>
&gt; described in <a rel="nofollow" href="http://www.wwpdb.org/documentation/format33/sect9.html#ATOM" target="_blank">http://www.wwpdb.org/documentation/format33/sect9.html#ATOM</a><br>
&gt; and found at <a rel="nofollow" href="ftp://ftp.wwpdb.org/pub/pdb/data/monomers/" target="_blank">ftp://ftp.wwpdb.org/pub/pdb/data/monomers/</a>.  The ATOM<br>
&gt; records in a PDB file must conform to this nomenclature and the given<br>
&gt; CONECT records.  All the definitions are in the single file<br>
&gt; <a rel="nofollow" href="ftp://ftp.wwpdb.org/pub/pdb/data/monomers/het_dictionary.txt" target="_blank">ftp://ftp.wwpdb.org/pub/pdb/data/monomers/het_dictionary.txt</a>.  For<br>
&gt; example to see glycine, search for &quot;HET    GLY&quot;.  The number of spaces<br>
&gt; is essential here.  We could add the standard amino acid HET<br>
&gt; dictionaries to relax and use the CONECT records in these to bond all<br>
&gt; atoms together.  Some problems are that in X-ray structures certain<br>
&gt; random atoms will be missing and that encountering non-standard or<br>
&gt; modified amino acids is not uncommon.  Therefore the distance-based<br>
&gt; algorithm would be always needed as a fallback if the relax PDB reader<br>
&gt; does not find connected atoms for a given atom.<br>
&gt;<br>
&gt;<br>
&gt;<br>
&gt; On 25 March 2014 16:34, Ivanhoe Leung &lt;<a rel="nofollow" href="mailto:ivanhoe.leung@xxxxxxxxxxxxx">ivanhoe.leung@xxxxxxxxxxxxx</a>&gt; wrote:<br>
&gt;&gt; Dear Edward,<br>
&gt;&gt;<br>
&gt;&gt; I have submitted a bug report as requested<br>
&gt;&gt;<br>
&gt;&gt; <a rel="nofollow" href="https://gna.org/bugs/index.php?21862" target="_blank">https://gna.org/bugs/index.php?21862</a><br>
&gt;&gt;<br>
&gt;&gt; Thanks<br>
&gt;&gt;<br>
&gt;&gt; Ivan<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt; ________________________________________<br>
&gt;&gt; From: <a rel="nofollow" href="mailto:edward.dauvergne@xxxxxxxxx">edward.dauvergne@xxxxxxxxx</a> [<a rel="nofollow" href="mailto:edward.dauvergne@xxxxxxxxx">edward.dauvergne@xxxxxxxxx</a>] on behalf of Edward d&#39;Auvergne [<a rel="nofollow" href="mailto:edward@xxxxxxxxxxxxx">edward@xxxxxxxxxxxxx</a>]<br>


&gt;&gt; Sent: 25 March 2014 14:43<br>
&gt;&gt; To: Ivanhoe Leung<br>
&gt;&gt; Cc: <a rel="nofollow" href="mailto:relax-users@xxxxxxx">relax-users@xxxxxxx</a><br>
&gt;&gt; Subject: Re: Model-free analysis error<br>
&gt;&gt;<br>
&gt;&gt; Hi Ivan,<br>
&gt;&gt;<br>
&gt;&gt; If you could create a bug report using the link<br>
&gt;&gt; <a rel="nofollow" href="https://gna.org/bugs/?func=additem&amp;group=relax" target="_blank">https://gna.org/bugs/?func=additem&amp;group=relax</a>, that would be<br>
&gt;&gt; appreciated.  Please try to include as much information as possible.<br>
&gt;&gt; The best would be if you could attach a truncated data set, the<br>
&gt;&gt; minimum required to trigger the bug (slightly randomised if you would<br>
&gt;&gt; like to keep it private).  If I can reproduce the bug myself, I can<br>
&gt;&gt; normally have a fix for it within 5-10 minutes.  Oh, it would be good<br>
&gt;&gt; to check that you are using the latest version of relax - currently<br>
&gt;&gt; 3.1.6 (<a rel="nofollow" href="http://www.nmr-relax.com/download.html" target="_blank">http://www.nmr-relax.com/download.html</a>) - just in case the bug<br>
&gt;&gt; has already been fixed.<br>
&gt;&gt;<br>
&gt;&gt; Cheers,<br>
&gt;&gt;<br>
&gt;&gt; Edward<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt; On 25 March 2014 15:33, Ivanhoe Leung &lt;<a rel="nofollow" href="mailto:ivanhoe.leung@xxxxxxxxxxxxx">ivanhoe.leung@xxxxxxxxxxxxx</a>&gt; wrote:<br>
&gt;&gt;&gt; Dear Edward,<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; I have now conducted measurements (T1, T2 and NOE) in two seperate fields (600 and 700 MHz) as suggested in your previous email.<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; I have upload six different files onto the &quot;Relaxation Data List&quot;. The data is in the following format<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; 2 ALA 5.49631746729691 N<br>
&gt;&gt;&gt; 3 ASP 3.74279511939516 N<br>
&gt;&gt;&gt; 4 ASP 6.12594952217594 N<br>
&gt;&gt;&gt; 6 SER 6.75812664729337 N<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; However, after I click the &quot;Dipolar relaxation&quot; button, the programme freezes up when I press &quot;Apply&quot; or &quot;Next&quot;.<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; I encountered no problem with the other three buttons (CSA relaxation / X isotope / H isotope)<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; I wonder if it is because I am not supplying the right type of data to the software, or if this is a python problem?<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; Thanks and I hope to hear back from you soon!<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; Ivan<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; ________________________________________<br>
&gt;&gt;&gt; From: <a rel="nofollow" href="mailto:edward.dauvergne@xxxxxxxxx">edward.dauvergne@xxxxxxxxx</a> [<a rel="nofollow" href="mailto:edward.dauvergne@xxxxxxxxx">edward.dauvergne@xxxxxxxxx</a>] on behalf of Edward d&#39;Auvergne [<a rel="nofollow" href="mailto:edward@xxxxxxxxxxxxx">edward@xxxxxxxxxxxxx</a>]<br>


&gt;&gt;&gt; Sent: 10 February 2014 16:09<br>
&gt;&gt;&gt; To: Ivanhoe Leung<br>
&gt;&gt;&gt; Cc: <a rel="nofollow" href="mailto:relax-users@xxxxxxx">relax-users@xxxxxxx</a><br>
&gt;&gt;&gt; Subject: Re: Model-free analysis error<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; Hi Ivan,<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; To continue:<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt;&gt; On another note, I wonder if it is possible to modify the nmr-relax programme so that I can do model-free analysis with data from only one field strength? Alternatively, do you know of any programme (that can be installed on Windows) that can do such analysis? My work focused mainly on small molecule and ligand-based NMR and I have only just very recently started looking in to protein dynamics so I am still experimentinng different software and data treatment etc.<br>


&gt;&gt;&gt;<br>
&gt;&gt;&gt; Firstly, the subject of single field strength data has been discussed<br>
&gt;&gt;&gt; numerous times on this mailing list.  I would recommend you read my<br>
&gt;&gt;&gt; previous responses to questions relating to single field strength<br>
&gt;&gt;&gt; data, and look the other messages in those threads.  You will find<br>
&gt;&gt;&gt; these discussions quite informative and highly detailed:<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; - Martin Ballaschk:<br>
&gt;&gt;&gt; <a rel="nofollow" href="http://thread.gmane.org/gmane.science.nmr.relax.user/1409/focus=1438" target="_blank">http://thread.gmane.org/gmane.science.nmr.relax.user/1409/focus=1438</a><br>
&gt;&gt;&gt; - Shantanu Bhattacharyya:<br>
&gt;&gt;&gt; <a rel="nofollow" href="http://thread.gmane.org/gmane.science.nmr.relax.user/1367/focus=1369" target="_blank">http://thread.gmane.org/gmane.science.nmr.relax.user/1367/focus=1369</a><br>
&gt;&gt;&gt; - Mengjun Xue:<br>
&gt;&gt;&gt; <a rel="nofollow" href="http://thread.gmane.org/gmane.science.nmr.relax.user/1276/focus=1277" target="_blank">http://thread.gmane.org/gmane.science.nmr.relax.user/1276/focus=1277</a><br>
&gt;&gt;&gt; - Fernando Amador: <a rel="nofollow" href="http://article.gmane.org/gmane.science.nmr.relax.user/84" target="_blank">http://article.gmane.org/gmane.science.nmr.relax.user/84</a><br>
&gt;&gt;&gt; - Shantanu Bhattacharyya:<br>
&gt;&gt;&gt; <a rel="nofollow" href="http://thread.gmane.org/gmane.science.nmr.relax.user/1086/focus=1087" target="_blank">http://thread.gmane.org/gmane.science.nmr.relax.user/1086/focus=1087</a><br>
&gt;&gt;&gt; - Dhanasekaran Muthu:<br>
&gt;&gt;&gt; <a rel="nofollow" href="http://thread.gmane.org/gmane.science.nmr.relax.user/1152/focus=1153" target="_blank">http://thread.gmane.org/gmane.science.nmr.relax.user/1152/focus=1153</a><br>
&gt;&gt;&gt; - Vitaly Vostrikov:<br>
&gt;&gt;&gt; <a rel="nofollow" href="http://thread.gmane.org/gmane.science.nmr.relax.user/1147/focus=1150" target="_blank">http://thread.gmane.org/gmane.science.nmr.relax.user/1147/focus=1150</a><br>
&gt;&gt;&gt; - Aldino Viegas:<br>
&gt;&gt;&gt; <a rel="nofollow" href="http://thread.gmane.org/gmane.science.nmr.relax.user/1127/focus=1128" target="_blank">http://thread.gmane.org/gmane.science.nmr.relax.user/1127/focus=1128</a><br>
&gt;&gt;&gt; - Pierre-Yves Savard:<br>
&gt;&gt;&gt; <a rel="nofollow" href="http://thread.gmane.org/gmane.science.nmr.relax.user/724/focus=725" target="_blank">http://thread.gmane.org/gmane.science.nmr.relax.user/724/focus=725</a><br>
&gt;&gt;&gt; - Keith Constantine:<br>
&gt;&gt;&gt; <a rel="nofollow" href="http://thread.gmane.org/gmane.science.nmr.relax.user/513/focus=517" target="_blank">http://thread.gmane.org/gmane.science.nmr.relax.user/513/focus=517</a><br>
&gt;&gt;&gt; - Clare-Louise Evans:<br>
&gt;&gt;&gt; <a rel="nofollow" href="http://thread.gmane.org/gmane.science.nmr.relax.user/326/focus=332" target="_blank">http://thread.gmane.org/gmane.science.nmr.relax.user/326/focus=332</a><br>
&gt;&gt;&gt; - Hongyan Li:  <a rel="nofollow" href="http://thread.gmane.org/gmane.science.nmr.relax.devel/694/focus=701" target="_blank">http://thread.gmane.org/gmane.science.nmr.relax.devel/694/focus=701</a><br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; These will have lots of additional information.  This is just a<br>
&gt;&gt;&gt; selection of possibly the most useful messages.<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; You will soon see that this is a complicated topic.  Note that relax<br>
&gt;&gt;&gt; is capable of performing 100% of the functionality of Modelfree4 (with<br>
&gt;&gt;&gt; or without the Fast-Modelfree GUI interface), Dasha, Tensor2, and<br>
&gt;&gt;&gt; DYNAMICS.  If you play with the optimisation settings you can even<br>
&gt;&gt;&gt; find identical results to within machine precision - relax can mimic<br>
&gt;&gt;&gt; these other softwares.<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; The key is that the full analysis protocol is rather complicated -<br>
&gt;&gt;&gt; many people don&#39;t understand this - and that these softwares do not<br>
&gt;&gt;&gt; implement the full iterative protocol.  Therefore you either have to<br>
&gt;&gt;&gt; perform it manually or write a script to perform all of the steps.<br>
&gt;&gt;&gt; The protocol is described in the relax manual in figure 7.2<br>
&gt;&gt;&gt; (<a rel="nofollow" href="http://www.nmr-relax.com/manual/diffusion_seeded_paradigm.html" target="_blank">http://www.nmr-relax.com/manual/diffusion_seeded_paradigm.html</a>).  In<br>
&gt;&gt;&gt; summary:<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; a)  Find an initial diffusion tensor estimate (you can do this in<br>
&gt;&gt;&gt; relax by only using model m0).  This requires all non-mobile residues<br>
&gt;&gt;&gt; and side chain spins to be excluded, and this can be problematic.  See<br>
&gt;&gt;&gt; the d&#39;Auvergne and Gooley, 2008b paper at<br>
&gt;&gt;&gt; <a rel="nofollow" href="http://dx.doi.org/10.1007/s10858-007-9213-3" target="_blank">http://dx.doi.org/10.1007/s10858-007-9213-3</a> for an example of the<br>
&gt;&gt;&gt; catastrophic failure that this initial estimate can result in.  Or the<br>
&gt;&gt;&gt; bacteriorhodopsin fragment of Korzhnev et al., 1999<br>
&gt;&gt;&gt; (<a rel="nofollow" href="http://dx.doi.org/10.1023/a:1008356809071" target="_blank">http://dx.doi.org/10.1023/a:1008356809071</a>) where this complete<br>
&gt;&gt;&gt; failure was earlier demonstrated.<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; b)  Optimise all of the model-free models from m0 to m9.  This<br>
&gt;&gt;&gt; requires high precision optimisation, for a comparison of all the<br>
&gt;&gt;&gt; softwares see the d&#39;Auvergne and Gooley, 2008a model-free optimisation<br>
&gt;&gt;&gt; paper at <a rel="nofollow" href="http://dx.doi.org/10.1007/s10858-007-9214-2" target="_blank">http://dx.doi.org/10.1007/s10858-007-9214-2</a>.  Only relax and<br>
&gt;&gt;&gt; Dasha implement the full range of model-free models, though the models<br>
&gt;&gt;&gt; m6, m7, and m8 cannot be used if only single field strength data is<br>
&gt;&gt;&gt; used (m6 is the original 2-time scale motion model of Clore et al.,<br>
&gt;&gt;&gt; 1990).<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; c)  Eliminate failed models (this is only available in relax, see the<br>
&gt;&gt;&gt; d&#39;Auvergne and Gooley, 2006 model elimination paper at<br>
&gt;&gt;&gt; <a rel="nofollow" href="http://dx.doi.org/10.1007/s10858-006-9007-z" target="_blank">http://dx.doi.org/10.1007/s10858-006-9007-z</a>).<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; d)  Select the best model-free model for each spin system.  This again<br>
&gt;&gt;&gt; requires precision modern techniques, with the best being AIC model<br>
&gt;&gt;&gt; select (see the d&#39;Auvergne and Gooley, 2003 model-free model selection<br>
&gt;&gt;&gt; paper at <a rel="nofollow" href="http://dx.doi.org/10.1023/A:1021902006114" target="_blank">http://dx.doi.org/10.1023/A:1021902006114</a>).  If you are<br>
&gt;&gt;&gt; unaware that ANOVA statistics for model selection (hypothesis testing<br>
&gt;&gt;&gt; via chi-squared, F- and t-tests) was abandoned by the field of model<br>
&gt;&gt;&gt; selection over 100 years ago (a field which makes the NMR field look<br>
&gt;&gt;&gt; very, very small), then you should really look at that paper.<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; e)  Optimise the global model.  This is the diffusion tensor plus the<br>
&gt;&gt;&gt; model-free models for all spin systems.<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; f)  Check for convergence (identical chi-squared values to a previous<br>
&gt;&gt;&gt; iteration, and not necessarily the last one).  If no, then go back to<br>
&gt;&gt;&gt; b) and repeat.  Note that the chi-squared value can go up<br>
&gt;&gt;&gt; significantly between iterations, but this is because the model is<br>
&gt;&gt;&gt; simplifying itself at a much faster rate by loosing parameters - it&#39;s<br>
&gt;&gt;&gt; Occam&#39;s razor at work.  Again see the d&#39;Auvergne and Gooley, 2008b<br>
&gt;&gt;&gt; paper at <a rel="nofollow" href="http://dx.doi.org/10.1007/s10858-007-9213-3" target="_blank">http://dx.doi.org/10.1007/s10858-007-9213-3</a> for figures<br>
&gt;&gt;&gt; demonstrating this.  The concept as to what is happening during this<br>
&gt;&gt;&gt; combined model-free optimisation and model selection algorithm is<br>
&gt;&gt;&gt; described in the d&#39;Auvergne and Gooley, 2007 MolBiosyst paper at<br>
&gt;&gt;&gt; <a rel="nofollow" href="http://dx.doi.org/10.1039/b702202f" target="_blank">http://dx.doi.org/10.1039/b702202f</a>.  It can take up to 20 iterations<br>
&gt;&gt;&gt; or more to reach convergence, depending upon the quality of the<br>
&gt;&gt;&gt; relaxation data and the 3D structure or the system in study.<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; g)  Once steps a-f have been completed for all global models<br>
&gt;&gt;&gt; (characterised by the spheroid, prolate spheroid, oblate spheroid, and<br>
&gt;&gt;&gt; ellipsoid diffusion tensors), then model selection between the<br>
&gt;&gt;&gt; different global models needs to be performed.<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; h)  Monte Carlo simulations for error analysis must be performed at the end.<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; i)  Elimination of failed Monte Carlo simulations is essential for<br>
&gt;&gt;&gt; keeping the errors to reasonable values for certain spin systems.<br>
&gt;&gt;&gt; This is also a relax-only feature (see the d&#39;Auvergne and Gooley, 2007<br>
&gt;&gt;&gt; model elimination paper at<br>
&gt;&gt;&gt; <a rel="nofollow" href="http://dx.doi.org/10.1007/s10858-006-9007-z" target="_blank">http://dx.doi.org/10.1007/s10858-006-9007-z</a>).<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; These steps must be implemented independently of which software you<br>
&gt;&gt;&gt; use, as NONE implement the full protocol.  Note however that the<br>
&gt;&gt;&gt; protocol I developed (in the d&#39;Auvergne and Gooley, 2007 theory paper<br>
&gt;&gt;&gt; at <a rel="nofollow" href="http://dx.doi.org/10.1039/b702202f" target="_blank">http://dx.doi.org/10.1039/b702202f</a> and the d&#39;Auvergne and Gooley,<br>
&gt;&gt;&gt; 2008b paper at <a rel="nofollow" href="http://dx.doi.org/10.1007/s10858-007-9213-3" target="_blank">http://dx.doi.org/10.1007/s10858-007-9213-3</a>) is fully<br>
&gt;&gt;&gt; implemented in relax, however this required multiple field strength<br>
&gt;&gt;&gt; data.  This is a rather large script located at<br>
&gt;&gt;&gt; auto_anlayses/dauvergne_protocol.py.  This protocol is used by the<br>
&gt;&gt;&gt; GUI.  So one option would be to copy this<br>
&gt;&gt;&gt; auto_anlayses/dauvergne_protocol.py script and modify it for the<br>
&gt;&gt;&gt; figure 7.2 protocol.<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; *** Note *** I must warn you about using single field strength data.<br>
&gt;&gt;&gt; It is now quite difficult to publish a model-free analysis with only<br>
&gt;&gt;&gt; single field strength data as most of the field know about the<br>
&gt;&gt;&gt; catastrophic analysis failures resulting in large amounts of<br>
&gt;&gt;&gt; artificial motion.  These failures can also be much more subtle.  Many<br>
&gt;&gt;&gt; reviewers will ask for such data to be collected as the results cannot<br>
&gt;&gt;&gt; not be trusted otherwise.  For a model-free analysis, it is almost<br>
&gt;&gt;&gt; essential to collect data at multiple field strengths, otherwise it<br>
&gt;&gt;&gt; can be sometimes impossible to distinguish between the anisotropic<br>
&gt;&gt;&gt; part of the Brownian tumbling of the molecule and internal motion -<br>
&gt;&gt;&gt; specifically due to the NH vectors in secondary structure elements all<br>
&gt;&gt;&gt; pointing in a similar direction.  I have a much better explanation, as<br>
&gt;&gt;&gt; well as citations to all the relevant literature in:<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; d&#39;Auvergne E. J., Gooley P. R. (2007). Set theory formulation of the<br>
&gt;&gt;&gt; model-free problem and the diffusion seeded model-free paradigm. Mol.<br>
&gt;&gt;&gt; Biosyst., 3(7), 483-494. (<a rel="nofollow" href="http://dx.doi.org/10.1039/b702202f" target="_blank">http://dx.doi.org/10.1039/b702202f</a>)<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; In this paper, you will see reviewed both the artificial nanosecond<br>
&gt;&gt;&gt; motions of the Schurr 1994 paper and the artifical Rex motions of the<br>
&gt;&gt;&gt; Tjandra 1995 paper.<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; Finally, you will probably find it much easier to spend the 7-8 days<br>
&gt;&gt;&gt; collecting data at another field strength than to implement the<br>
&gt;&gt;&gt; protocol of steps a-i in a relax, Modelfree4, or Dasha script (or via<br>
&gt;&gt;&gt; multiple iterations of the GUI programs), as well as study all of the<br>
&gt;&gt;&gt; relevant literature to understand all of the types of failures than<br>
&gt;&gt;&gt; only occurs with single field strength data.  With multiple field<br>
&gt;&gt;&gt; strength data you can perform Sebastien Morin&#39;s consistency testing<br>
&gt;&gt;&gt; analysis in relax (<a rel="nofollow" href="http://dx.doi.org/10.1007/s10858-009-9381-4" target="_blank">http://dx.doi.org/10.1007/s10858-009-9381-4</a> and<br>
&gt;&gt;&gt; <a rel="nofollow" href="http://www.nmr-relax.com/manual/Consistency_testing.html" target="_blank">http://www.nmr-relax.com/manual/Consistency_testing.html</a>).  That way<br>
&gt;&gt;&gt; you can see if your per-experiment temperature calibration and<br>
&gt;&gt;&gt; per-experiment temperature control techniques have works sufficiently<br>
&gt;&gt;&gt; well (<a rel="nofollow" href="http://www.nmr-relax.com/manual/Temperature_control_calibration.html" target="_blank">http://www.nmr-relax.com/manual/Temperature_control_calibration.html</a>)<br>
&gt;&gt;&gt; and if you have used long enough recycle delays.  Collecting data at a<br>
&gt;&gt;&gt; second field would probably save you significant amounts of time, and<br>
&gt;&gt;&gt; has the additional benefit that it would guarantee that the dynamics<br>
&gt;&gt;&gt; you see at the end will be real.  I cannot emphasize enough how<br>
&gt;&gt;&gt; important it is to collect data at multiple fields, most importantly<br>
&gt;&gt;&gt; the NOE and R2 data.<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; Regards,<br>
&gt;&gt;&gt;<br>
&gt;&gt;&gt; Edward<br>
<br>
_______________________________________________<br>
relax (<a rel="nofollow" href="http://www.nmr-relax.com" target="_blank">http://www.nmr-relax.com</a>)<br>
<br>
This is the relax-users mailing list<br>
<a rel="nofollow" href="mailto:relax-users@xxxxxxx">relax-users@xxxxxxx</a><br>
<br>
To unsubscribe from this list, get a password<br>
reminder, or change your subscription options,<br>
visit the list information page at<br>
<a rel="nofollow" href="https://mail.gna.org/listinfo/relax-users" target="_blank">https://mail.gna.org/listinfo/relax-users</a><br>
</div></div></blockquote></div><br></div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00060" href="msg00060.html">Re: Model-free analysis error</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00041" href="msg00041.html">RE: Model-free analysis error</a></strong>
<ul><li><em>From:</em> Ivanhoe Leung</li></ul></li>
<li><strong><a name="00042" href="msg00042.html">Re: Model-free analysis error</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00044" href="msg00044.html">RE: Model-free analysis error</a></strong>
<ul><li><em>From:</em> Ivanhoe Leung</li></ul></li>
<li><strong><a name="00048" href="msg00048.html">Re: Model-free analysis error</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00049" href="msg00049.html">Re: Model-free analysis error</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00058" href="msg00058.html">RE: Model-free analysis error</a></strong>
<ul><li><em>From:</em> Ivanhoe Leung</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Mar 26 17:20:12 2014</div>  
</body>
</html>
