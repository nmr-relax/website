<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: relax on Mac with fink -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Fri, 26 Feb 2010 09:55:04 +0100 -->
<!--X-Message-Id: 7f080ed11002260054q5e2b27b0p1d027c771bc44af3@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 7f080ed11002220930v2fc66423r25ddd8d687035f2b@mail.gmail.com -->
<!--X-Reference: 4B82CA16.3010509@ulaval.ca -->
<!--X-Reference: 7f080ed11002230557p22a978bdl39687e53f9e8aea@mail.gmail.com -->
<!--X-Reference: 20100224143027.GA16692@bromo.med.uc.edu -->
<!--X-Reference: 7f080ed11002240714k6fd96e04t9d9d575453b4d9ad@mail.gmail.com -->
<!--X-Reference: 20100225004019.GA20386@bromo.med.uc.edu -->
<!--X-Reference: 7f080ed11002242329g2d1e98abrb7b636f0980ce50f@mail.gmail.com -->
<!--X-Reference: 20100225144316.GA24718@bromo.med.uc.edu -->
<!--X-Reference: 7f080ed11002250746t76c44e46t964a3ed1eccedba1@mail.gmail.com -->
<!--X-Reference: 20100225212011.GA26630@bromo.med.uc.edu -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: relax on Mac with fink -- February 26, 2010 - 09:55</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: relax on Mac with fink</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00030" class="tabs">Index by Date</a> | <a href="threads.html#00030" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00029.html">Date Prev</a>] [<a href="msg00031.html">Date Next</a>] [<a href="msg00028.html">Thread Prev</a>] [<a href="msg00031.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Jack Howarth &lt;howarth@xxxxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Fri, 26 Feb 2010 09:54:19 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00030.html">7f080ed11002260054q5e2b27b0p1d027c771bc44af3@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;7f080ed11002220930v2fc66423r25ddd8d687035f2b@xxxxxxxxxxxxxx&gt;	&lt;4B82CA16.3010509@xxxxxxxxx&gt;	&lt;7f080ed11002230557p22a978bdl39687e53f9e8aea@xxxxxxxxxxxxxx&gt;	&lt;20100224143027.GA16692@xxxxxxxxxxxxxxxx&gt;	&lt;7f080ed11002240714k6fd96e04t9d9d575453b4d9ad@xxxxxxxxxxxxxx&gt;	&lt;20100225004019.GA20386@xxxxxxxxxxxxxxxx&gt;	&lt;7f080ed11002242329g2d1e98abrb7b636f0980ce50f@xxxxxxxxxxxxxx&gt;	&lt;20100225144316.GA24718@xxxxxxxxxxxxxxxx&gt;	&lt;7f080ed11002250746t76c44e46t964a3ed1eccedba1@xxxxxxxxxxxxxx&gt;	&lt;20100225212011.GA26630@xxxxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on February 26, 2010 - 09:55:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">This is awesome news!  Now the test suite is passing 100% on all major
platforms (it should also pass for solaris, the BSDs, etc., anywhere
Python and the python modules are installed).  As for python specific
change,

diff -uNr relax-1.3.5/relax relax-1.3.5.patched/relax
--- relax-1.3.5/relax   2010-02-25 08:58:20.000000000 -0500
+++ relax-1.3.5.patched/relax   2010-02-25 09:01:26.000000000 -0500
@@ -1,4 +1,4 @@
-#! /usr/bin/env python
+#! /usr/bin/env python2.X

 
###############################################################################
 #                                                                            
 #

I'm guessing you have python2.6 in the final version?  I like these
ideas for the released code as the C modules are often specific to the
exact Python version there were compiled against.  I've been thinking
for a while about providing v2.5 and v2.6 compiled relax versions (for
GNU/Linux and MS Windows).  But how did you get scons to target a
specific Python version?

Cheers,

Edward


On 25 February 2010 22:20, Jack Howarth &lt;howarth@xxxxxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">On Thu, Feb 25, 2010 at 04:46:43PM +0100, Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

This failure is because it takes 201 iterations to reach the minimum
compared to 204 with x86_64 hardware.  I have now removed this
iteration check as testing the values and chi-squared number is
sufficient to see that the minimum has been reached.  Could you update
the repository copy (svn up) and check again?

For the Fink specific changes to the scons/install.py file, is there a
way of signalling that this is a Fink install rather than a normal
install?  Maybe I could add an scons target called install_fink so
that you type:

$ scons install_fink

That way we can bring in these changes into the relax repository,
something which might be useful for installing relax on Macs in the
distant future.

Cheers,

Edward


</pre></blockquote><pre style="margin: 0em;">

Edward,
  The current relax 1.3 svn no longer shows any failures in the
testsuite when built under fink on powerpc-apple-darwin9. I'll
check the other arches in the next day or so.
  As for adding the patches from fink, those are problematic. The
fink approach is to support python variants (hence the relax-py
package name that can build against the fink python 2.5 or 2.6.
The relax-py.patch basically...

1) patches the relax script so that python is called as python2.X
with the X replaced according which python fink is building relax-py
against.
2) the generation of pyc files are suppressed in the scons/install.py
script because fink guidelines are not to package .pyc or .pyo files
but generate then from a postinstall packaging script.
3) the sconstruct script is patched to allow the relax path to be
renamed relax-py2X to indicate which python relax was built against
and to install the binaries in the bin subdirectory of the fink
installation.

The only way to handle this would be to have separate .fink versions
of these three files with the patches applied. This would be problematic
for sconstruct.
           Jack

</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00031" href="msg00031.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Jack Howarth</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00009" href="msg00009.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00012" href="msg00012.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Sébastien Morin</li></ul></li>
<li><strong><a name="00013" href="msg00013.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00018" href="msg00018.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Jack Howarth</li></ul></li>
<li><strong><a name="00017" href="msg00017.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00019" href="msg00019.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Jack Howarth</li></ul></li>
<li><strong><a name="00021" href="msg00021.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00027" href="msg00027.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Jack Howarth</li></ul></li>
<li><strong><a name="00025" href="msg00025.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00028" href="msg00028.html">Re: relax on Mac with fink</a></strong>
<ul><li><em>From:</em> Jack Howarth</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Feb 26 15:20:42 2010</div>  
</body>
</html>
