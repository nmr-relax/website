<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: R2 from R1rho &#38; R1 -->
<!--X-From-R13: Febryf Szgrxæe Zvaarg &#60;gyvaargNtznvy.pbz> -->
<!--X-Date: Thu, 27 Mar 2014 09:26:08 +0100 -->
<!--X-Message-Id: CA+CBx2O2vTfmWQ5OnQyBBoEz&#45;c1UCFJhRy2Kut_XuXMJBPBH4g@mail.gmail.com -->
<!--X-Content-Type: multipart/alternative -->
<!--X-Reference: 5332B7B4.3030001@fz&#45;juelich.de -->
<!--X-Reference: CA+CBx2OX9_wUX2XZi45rG+ZCeFfGtxaOB_2gCKzAZKOo4vYxrA@mail.gmail.com -->
<!--X-Reference: 5332C0D0.2030505@fz&#45;juelich.de -->
<!--X-Reference: CAED9pY&#45;+msx3ht68sn0Rb7aMWO_C2L_v7y50tm_8n+6KvunUMQ@mail.gmail.com -->
<!--X-Reference: 5332D4A6.8000901@fz&#45;juelich.de -->
<!--X-Reference: CAED9pY_FzuggT_qvHb1hQjoB4BN0pJ9N4o+ASuE=P+k4J9VW2Q@mail.gmail.com -->
<!--X-Reference: CA+CBx2MOEVnhgUex0_vM1MZbdrZnf_e6JW&#45;DmjVU+yq3reAj1Q@mail.gmail.com -->
<!--X-Reference: CAED9pY&#45;Th1ZJNd8Z51BVty6iV7cL06wHVGVxpe_8sEYo7eyfiQ@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: R2 from R1rho &amp; R1 -- March 27, 2014 - 09:26</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: R2 from R1rho &amp; R1</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00068" class="tabs">Index by Date</a> | <a href="threads.html#00068" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00066.html">Date Prev</a>] [<a href="msg00067.html">Date Next</a>] [<a href="msg00064.html">Thread Prev</a>] [<a href="msg00067.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Edward d'Auvergne&quot; &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 27 Mar 2014 09:25:19 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-users@xxxxxxx&quot; &lt;relax-users@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113; h=mime-version:in-reply-to:references:from:date:message-id:subject:to :cc:content-type; bh=oqbgsoZ0yDTwRqlsV0FpacRo6OBnJnqA+aKASHK6wD0=; b=KYATnQjhLR3Butx01d24Ym4j1NPIOxHqvqNPD7AbdKI97KliItbW729eIqnu59KY4O wDXhFhENSGb06Ue6t9xK8RGm+Pe502h2gldlvjbZvtYWC99jqKKK//dOM31hHB1my03W u6iQLjxTEPCzQMYACwETFk5SJjLGT083C4uf5bH6tV6amoJIzfDIeu7mO8SyQAXBj2A1 0byt9gaVJlbTyVPHifUyhs3chqa9q7SSgQvZXi7U7Xm4f76q1Wm393V8OtXVGB6BosV+ WaEHCQjM1t+Arq6Tx4C0FWQz1T5MQwVgSy20w3kLsw0H5K/gVUw9Fc12Dxodcy7SWkhk LBuA==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00068.html">CA+CBx2O2vTfmWQ5OnQyBBoEz-c1UCFJhRy2Kut_XuXMJBPBH4g@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00051.html">5332B7B4.3030001@fz-juelich.de</a>&gt; &lt;<a href="msg00052.html">CA+CBx2OX9_wUX2XZi45rG+ZCeFfGtxaOB_2gCKzAZKOo4vYxrA@mail.gmail.com</a>&gt; &lt;<a href="msg00053.html">5332C0D0.2030505@fz-juelich.de</a>&gt; &lt;<a href="msg00054.html">CAED9pY-+msx3ht68sn0Rb7aMWO_C2L_v7y50tm_8n+6KvunUMQ@mail.gmail.com</a>&gt; &lt;<a href="msg00056.html">5332D4A6.8000901@fz-juelich.de</a>&gt; &lt;CAED9pY_FzuggT_qvHb1hQjoB4BN0pJ9N4o+ASuE=P+k4J9VW2Q@mail.gmail.com&gt; &lt;<a href="msg00062.html">CA+CBx2MOEVnhgUex0_vM1MZbdrZnf_e6JW-DmjVU+yq3reAj1Q@mail.gmail.com</a>&gt; &lt;<a href="msg00064.html">CAED9pY-Th1ZJNd8Z51BVty6iV7cL06wHVGVxpe_8sEYo7eyfiQ@mail.gmail.com</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Troels Emtekær Linnet</strong> on March 27, 2014 - 09:26:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<div dir="ltr">Hi Edward.<div><br></div><div>Yep, I think some &quot;porcelain functions&quot; that will work on</div><div>relax base &quot;plumbing&quot; functions would be the best solution?</div><div><br></div><div>That could return info to screen, and return values in dictionarys, where the dictionary keys are also stored.</div>


<div>Actually, an extension of &quot;calc_rotating_frame_params&quot; in  &quot;specific_analyses.relax_disp.disp_data&quot;</div><div>which should take interpolated offset data as a possibility.</div><div><br></div><div>


For 3D, I would prefer that we use gnuplot instead ?</div><div><br></div><div>I really really start liking the idea of the grace files.</div><div>Here you in &quot;one&quot; file carry around both the data and definitions to the plot.</div>


<div><br></div><div>For matplotlib, you would need to acquire that the user has relax and matplotlib installed at the same time.</div><div>That is not so good, and would be a problem for the compiled sources.</div><div><br>

</div><div>Unless you export python files, with the data inside, and then the plot commands to matplotlib.</div>
<div><br></div><div>Hm hm.</div><div><br></div><div>What is best?</div><div><br></div><div>Expect the user to know gnuplot , and have that installed?</div><div>Or that the user have matplotlib ?</div><div><br></div><div>

I know that matplotlib on our RHEL system is only 0.99, and is not moving.</div><div>Gnuplot is old... And proven to work.</div><div><br></div><div>Reach for the future or backwards-compability?</div><div><br></div><div>
Best</div>
<div>Troels</div><div><br></div></div><div class="gmail_extra"><br clear="all"><div><br>Troels Emtekær Linnet<div style="display:inline"></div></div>
<br><br><div class="gmail_quote">2014-03-27 8:51 GMT+01:00 Edward d&#39;Auvergne <span dir="ltr">&lt;<a rel="nofollow" href="mailto:edward@xxxxxxxxxxxxx" target="_blank">edward@xxxxxxxxxxxxx</a>&gt;</span>:<br><blockquote class="gmail_quote" style="margin:0 0 0 .8ex;border-left:1px #ccc solid;padding-left:1ex">

Hi Troels,<br>
<br>
Storing such secondary dispersion parameters (Rex, R1rho&#39;+Rex, etc.)<br>
is not a good idea as they can be very difficult to keep up to date.<br>
They are dependent on the base parameters of the model as well as the<br>
experimental details (offsets, field strengths, etc.), so any change<br>
in these values would require the secondary parameters to be updated -<br>
but this approach is often a big source of future bugs.  It is better<br>
to generate them when asked by a user function, as &#39;theta&#39; and &#39;w_eff&#39;<br>
currently are.<br>
<br>
A 3D graph as a surface would be quite interesting!  I have seen such<br>
plots before, but I can&#39;t remember off the top of my head in which<br>
papers that was.  For this we would need to add some basic<br>
infrastructure to relax for plotting with matplotlib.  Grace does not<br>
do 3D surface graphs.  Adding this infrastructure is rather trivial as<br>
the code for the Grace user functions can simply be copied and<br>
modified.  The hardest part is simply that I don&#39;t have experience<br>
with matplotlib, so I don&#39;t know how to command it to produce high<br>
quality plots.  Maybe I&#39;ll post something on the relax-devel mailing<br>
list about this.<br>
<br>
Regards,<br>
<br>
Edward<br>
<div class="HOEnZb"><div class="h5"><br>
<br>
<br>
<br>
On 26 March 2014 21:45, Troels Emtekær Linnet &lt;<a rel="nofollow" href="mailto:tlinnet@xxxxxxxxxxxxx">tlinnet@xxxxxxxxxxxxx</a>&gt; wrote:<br>
&gt; Hi Edward.<br>
&gt;<br>
&gt; I would advise not to save Rex as a value, since it is correlated with the<br>
&gt; effective field.<br>
&gt;<br>
&gt; Ah ja, that was the problem!<br>
&gt; Theta and the effective field are correlated (obvious).<br>
&gt;<br>
&gt; So one can only interpolate, by determining to ramp either spin lock field<br>
&gt; or offset. I wonder how that looks as a 3D graph?<br>
&gt;<br>
&gt; Best<br>
&gt; Troels<br>
&gt;<br>
&gt; Den 26/03/2014 14.42 skrev &quot;Edward d&#39;Auvergne&quot; &lt;<a rel="nofollow" href="mailto:edward@xxxxxxxxxxxxx">edward@xxxxxxxxxxxxx</a>&gt;:<br>
&gt;<br>
&gt;&gt; Hi,<br>
&gt;&gt;<br>
&gt;&gt; Equation 20 in that paper (<a rel="nofollow" href="http://dx.doi.org/10.1021/cr0404287" target="_blank">http://dx.doi.org/10.1021/cr0404287</a>) is<br>
&gt;&gt; actually the sum of the spin-spin relaxation and Rex!  This is exactly<br>
&gt;&gt; what Troels has been working with recently.  See<br>
&gt;&gt; <a rel="nofollow" href="http://wiki.nmr-relax.com/Matplotlib_DPL94_R1rho_R2eff" target="_blank">http://wiki.nmr-relax.com/Matplotlib_DPL94_R1rho_R2eff</a>.  In the<br>
&gt;&gt; relaxation dispersion analysis in relax we should really have two<br>
&gt;&gt; parameters automatically generated for the user, R2 and Rex (defined<br>
&gt;&gt; as R2 = R1rho&#39; + Rex).  These could then be used to generate<br>
&gt;&gt; dispersion plots of R2 or Rex verses Omega_eff.  This might take a<br>
&gt;&gt; while though, in the mean time have a look at Troels&#39; script on that<br>
&gt;&gt; wiki page.<br>
&gt;&gt;<br>
&gt;&gt; Regards,<br>
&gt;&gt;<br>
&gt;&gt; Edward<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt;<br>
&gt;&gt; On 26 March 2014 14:22, Justin Lecher &lt;<a rel="nofollow" href="mailto:j.lecher@xxxxxxxxxxxxx">j.lecher@xxxxxxxxxxxxx</a>&gt; wrote:<br>
&gt;&gt; &gt; On 26/03/14 13:39, Edward d&#39;Auvergne wrote:<br>
&gt;&gt; &gt;&gt; Hi,<br>
&gt;&gt; &gt;&gt;<br>
&gt;&gt; &gt;&gt; The key here is what is meant by R2.  There are many different<br>
&gt;&gt; &gt;&gt; definitions.  In relax, the parameter name R2 is defined as:<br>
&gt;&gt; &gt;&gt;<br>
&gt;&gt; &gt;&gt; - In the standard relaxation equations, spin-spin relaxation<br>
&gt;&gt; &gt;&gt; component.  I.e. the part influenced by the spectral density function<br>
&gt;&gt; &gt;&gt; J(w).<br>
&gt;&gt; &gt;&gt;<br>
&gt;&gt; &gt;&gt; - Again in the standard relaxation equations, R2 is used for R2*,<br>
&gt;&gt; &gt;&gt; where R2* = R2 + Rex.  R2* is also defined differently if you look at<br>
&gt;&gt; &gt;&gt; the exponential decay curves or if you looking at peak widths (for the<br>
&gt;&gt; &gt;&gt; later there are additional factors broadening the peaks which add to<br>
&gt;&gt; &gt;&gt; the R2* equation).<br>
&gt;&gt; &gt;&gt;<br>
&gt;&gt; &gt;&gt; - For relaxation dispersion, R2 is currently defined as R1rho&#39;, i.e.<br>
&gt;&gt; &gt;&gt; just the parts influenced by the spectral density function.  Here<br>
&gt;&gt; &gt;&gt; R1rho&#39; is the on-resonance part of R1rho, excluding exchange.<br>
&gt;&gt; &gt;&gt;<br>
&gt;&gt; &gt;&gt; R2 = R1rho&#39; + Rex could also be defined, which is probably what you<br>
&gt;&gt; &gt;&gt; are after.  The value of R1rho&#39; + Rex has been named many different<br>
&gt;&gt; &gt;&gt; things by the field and there seems to be no consensus.  I have<br>
&gt;&gt; &gt;&gt; discussed this with Troels at<br>
&gt;&gt; &gt;&gt; <a rel="nofollow" href="http://thread.gmane.org/gmane.science.nmr.relax.devel/5119/focus=5207" target="_blank">http://thread.gmane.org/gmane.science.nmr.relax.devel/5119/focus=5207</a>.<br>
&gt;&gt; &gt;&gt;  This is a long thread with many discussions about implementing this<br>
&gt;&gt; &gt;&gt; as an automatically calculated parameter - which in the end would be a<br>
&gt;&gt; &gt;&gt; great feature.<br>
&gt;&gt; &gt;&gt;<br>
&gt;&gt; &gt;&gt; So which R2 value are you after?<br>
&gt;&gt; &gt;&gt;<br>
&gt;&gt; &gt;&gt; Regards,<br>
&gt;&gt; &gt;&gt;<br>
&gt;&gt; &gt;&gt; Edward<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; Hi Edward,<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; Principally I am looking for pure R2 without Rex contribution.<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; Currently we are using some home made scripts which basically are using<br>
&gt;&gt; &gt; equation 20 in Palmer, Massi, 2006 (PMID 16683750).<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; So for the technical side, how do I proceed in relax? Do I need to fix<br>
&gt;&gt; &gt; the decay for R1 and R1rho and then calculate R2 or just fit R1 and use<br>
&gt;&gt; &gt; my raw intensities from the R1rho measurements for the R2 calculation?<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; Thanks,<br>
&gt;&gt; &gt; Justin<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt; --<br>
&gt;&gt; &gt; Justin Lecher<br>
&gt;&gt; &gt; Institute of Complex Systems<br>
&gt;&gt; &gt; ICS-6 Structural Biochemistry<br>
&gt;&gt; &gt; Research Centre Juelich<br>
&gt;&gt; &gt; 52425 Juelich, Germany<br>
&gt;&gt; &gt; phone: +49 2461 61 2117<br>
&gt;&gt; &gt;<br>
&gt;&gt; &gt;<br>
</div></div></blockquote></div><br></div>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00067" href="msg00067.html">Re: R2 from R1rho &amp; R1</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00051" href="msg00051.html">R2 from R1rho &amp; R1</a></strong>
<ul><li><em>From:</em> Justin Lecher</li></ul></li>
<li><strong><a name="00052" href="msg00052.html">Re: R2 from R1rho &amp; R1</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00053" href="msg00053.html">Re: R2 from R1rho &amp; R1</a></strong>
<ul><li><em>From:</em> Justin Lecher</li></ul></li>
<li><strong><a name="00054" href="msg00054.html">Re: R2 from R1rho &amp; R1</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00056" href="msg00056.html">Re: R2 from R1rho &amp; R1</a></strong>
<ul><li><em>From:</em> Justin Lecher</li></ul></li>
<li><strong><a name="00057" href="msg00057.html">Re: R2 from R1rho &amp; R1</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00062" href="msg00062.html">Re: R2 from R1rho &amp; R1</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00064" href="msg00064.html">Re: R2 from R1rho &amp; R1</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Mar 27 11:20:15 2014</div>  
</body>
</html>
