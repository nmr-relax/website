<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: r21789 &#45; /trunk/test_suite/gui_tests/relax_disp.py -->
<!--X-From-R13: Febryf Szgrxæe Zvaarg <gyvaargNaze&#45;erynk.pbz> -->
<!--X-Date: Fri, 06 Dec 2013 09:50:22 +0100 -->
<!--X-Message-Id: CA+CBx2OThNneG2p7&#45;Y44tw6z6YZwg2p9wsexbea5p5hNBtv7vw@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: E1VoYhj&#45;00085T&#45;Dm@subversion.gna.org -->
<!--X-Reference: CAED9pY8V=Up=&#45;rkc&#45;yBnopQc_wkRx0tr2NjgYpc63LJOO8+=mA@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: r21789 - /trunk/test_suite/gui_tests/relax_disp.py -- December 06, 2013 - 09:50</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: r21789 - /trunk/test_suite/gui_tests/relax_disp.py</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00055" class="tabs">Index by Date</a> | <a href="threads.html#00055" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00054.html">Date Prev</a>] [<a href="msg00056.html">Date Next</a>] [<a href="msg00049.html">Thread Prev</a>] [<a href="msg00051.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Edward d'Auvergne&quot; &lt;edward@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Fri, 6 Dec 2013 09:49:31 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:sender:in-reply-to:references:from:date:message-id	:subject:to:cc:content-type;	bh=/BLQ832zVh8Pj31RKhDfpJcOrd2Gh3kMpfgBmb6VGBQ=;	b=GmQ/p7uQ/PTfzkrrKPvjswOOGuPSU5WcQFr3VpxNqCXTpCOcGav1aFB8PuuEJrbM7X	NWvQhG5UoOt1JoAgEivUu6DsKChlk3BSR2ffI5WD8JkPvEDxuEuq16Q2Hha41kFe/OnF	rTeyhAtdX/06ZvO61OeaybSKQvgxOmh/UX9PP/gntlI0FC0adhhnR5J9qcC0MaGFYUD5	kLdVGv+Be1jzOdcowju4KMG25GfSrtOqFdL0o9Junrejc9RNcXfAQMX1XecP57FsVbSI	GDbwrZdj7bYk+irA/SszuWjddnWKzgi9DTOT2+xe/67aNPF1lm2+K2BnFX2bT3Af0ozD	SUzA==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00055.html">CA+CBx2OThNneG2p7-Y44tw6z6YZwg2p9wsexbea5p5hNBtv7vw@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;E1VoYhj-00085T-Dm@xxxxxxxxxxxxxxxxxx&gt;	&lt;CAED9pY8V=Up=-rkc-yBnopQc_wkRx0tr2NjgYpc63LJOO8+=mA@xxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Troels Emtekær Linnet</strong> on December 06, 2013 - 09:50:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Cheers.

That is now fixed.

2013/12/6 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Troels,

For the docstring here, you don't really need to have &quot;Submitted by
Troels E. Linnet.&quot; written into it.  You can see that when going to
the bug report or looking at the subversion history.  You do however
need to add your name to the copyright notices of all the files you
make major changes to (maybe when it is more than 5 lines of changes).
 So that would be:

/trunk/lib/spectrum/sparky.py
/trunk/pipe_control/spectrum.py
/trunk/test_suite/gui_tests/relax_disp.py
/trunk/test_suite/system_tests/peak_lists.py
/trunk/user_functions/spectrum.py

Just add your name to the end of the author lists, as these are
ordered by who made the first modifications.

Cheers,

Edward



On 5 December 2013 14:10,  &lt;tlinnet@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Author: tlinnet
Date: Thu Dec  5 14:10:55 2013
New Revision: 21789

URL: <a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax?rev=21789&amp;view=rev">http://svn.gna.org/viewcvs/relax?rev=21789&amp;view=rev</a>
Log:
Implemented GUI test, which caches the bug.

Fix for bug #21076, (<a  rel="nofollow" href="https://gna.org/bugs/?21076">https://gna.org/bugs/?21076</a>) - When loading a 
multi-spectra NMRPipe seriesTab file through the GUI, several Error 
messages occur.

Modified:
    trunk/test_suite/gui_tests/relax_disp.py

Modified: trunk/test_suite/gui_tests/relax_disp.py
URL: 
<a  rel="nofollow" href="http://svn.gna.org/viewcvs/relax/trunk/test_suite/gui_tests/relax_disp.py?rev=21789&amp;r1=21788&amp;r2=21789&amp;view=diff">http://svn.gna.org/viewcvs/relax/trunk/test_suite/gui_tests/relax_disp.py?rev=21789&amp;r1=21788&amp;r2=21789&amp;view=diff</a>
==============================================================================
--- trunk/test_suite/gui_tests/relax_disp.py (original)
+++ trunk/test_suite/gui_tests/relax_disp.py Thu Dec  5 14:10:55 2013
@@ -134,6 +134,60 @@
             # The errors.
             self.assert_(hasattr(spin, 'baseplane_rmsd'))
             self.assertEqual(spin.baseplane_rmsd['0_2'], 3000.0)
+
+
+    def test_bug_21076_multi_col_peak_list(self):
+        &quot;&quot;&quot;Test catching U{bug #21076&lt;<a  rel="nofollow" href="https://gna.org/bugs/?21076">https://gna.org/bugs/?21076</a>&gt;}, 
loading a multi-spectra NMRPipe seriesTab file through the GUI, Error 
messages occur. Submitted by Troels E. Linnet.&quot;&quot;&quot;
+
+        # The paths to the data files.
+        data_path = status.install_path + sep + 'test_suite' + sep + 
'shared_data' + sep + 'dispersion' + sep + 'KTeilum_FMPoulsen_MAkke_2006' 
+ sep + 'acbp_cpmg_disp_101MGuHCl_40C_041223' + sep
+
+        # Simulate the new analysis wizard, selecting the fixed time CPMG 
experiment.
+        self.app.gui.analysis.menu_new(None)
+        page = self.app.gui.analysis.new_wizard.wizard.get_page(0)
+        page.select_disp(None)
+        self.app.gui.analysis.new_wizard.wizard._go_next(None)
+        self.app.gui.analysis.new_wizard.wizard._go_next(None)
+
+        # Get the data.
+        analysis_type, analysis_name, pipe_name, pipe_bundle, uf_exec = 
self.app.gui.analysis.new_wizard.get_data()
+
+        # Set up the analysis.
+        self.app.gui.analysis.new_analysis(analysis_type=analysis_type, 
analysis_name=analysis_name, pipe_name=pipe_name, pipe_bundle=pipe_bundle, 
uf_exec=uf_exec)
+
+        # Alias the analysis.
+        analysis = self.app.gui.analysis.get_page_from_name(&quot;Relaxation 
dispersion&quot;)
+
+        # Change the results directory.
+        analysis.field_results_dir.SetValue(str_to_gui(ds.tmpdir))
+
+        # Load the sequence.
+        file = data_path + 'relax_2_spins_trunc.py'
+        self._execute_uf(uf_name='script', file=file, dir=None)
+
+        # Flush the interpreter in preparation for the synchronous user 
functions of the peak list wizard.
+        interpreter.flush()
+
+        # Set up the nuclear isotopes.
+        analysis.spin_isotope()
+        uf_store['spin.isotope'].page.SetValue('spin_id', '')
+        uf_store['spin.isotope'].wizard._go_next()
+        interpreter.flush()    # Required because of the asynchronous uf 
call.
+
+        # Set up the peak intensity wizard.
+        analysis.peak_wizard_launch(None)
+        wizard = analysis.peak_wizard
+
+        # The spectrum.
+        page = wizard.get_page(wizard.page_indices['read'])
+        
page.uf_args['file'].SetValue(str_to_gui(&quot;%sfolded_sparky_corr_final_max_standard_trunc.ser&quot;
 % data_path))
+        page.uf_args['spectrum_id'].SetValue(['auto'])
+        wizard._go_next(None)
+
+        # The error type.
+        page = wizard.get_page(wizard.page_indices['err_type'])
+        page.selection = 'rmsd'
+        wizard._go_next(None)


     def test_hansen_trunc_data(self):


_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-commits mailing list
relax-commits@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-commits">https://mail.gna.org/listinfo/relax-commits</a>
</pre></blockquote><pre style="margin: 0em;">

_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00049" href="msg00049.html">Re: r21789 - /trunk/test_suite/gui_tests/relax_disp.py</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Dec 06 10:00:08 2013</div>  
</body>
</html>
