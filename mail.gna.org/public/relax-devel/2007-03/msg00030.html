<!-- MHonArc v2.6.10 -->
<!--X-Subject: Re: [Fwd: Re: Multiple test cases and the splitting up of large	modules.] -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneq.qnhiretarNtznvy.pbz> -->
<!--X-Date: Fri, 09 Mar 2007 05:57:07 +0100 -->
<!--X-Message-Id: 7f080ed10703082056t6539f3aco9d9ab4e8a48cc00e@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 45EFE13E.3080304@bmb.leeds.ac.uk -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [Fwd: Re: Multiple test cases and the splitting up of large	modules.] -- March 09, 2007 - 05:57</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: [Fwd: Re: Multiple test cases and the splitting up of large	modules.]</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00030" class="tabs">Index by Date</a> | <a href="threads.html#00030" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00029.html">Date Prev</a>] [<a href="msg00031.html">Date Next</a>] [<a href="msg00026.html">Thread Prev</a>] [Thread Next]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: &quot;Gary S. Thompson&quot; &lt;garyt@xxxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Fri, 9 Mar 2007 15:56:19 +1100</li>
<li class="menuitem">
<em>Cc</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Dkim-signature</em>: a=rsa-sha1; c=relaxed/relaxed; d=gmail.com; s=beta;	h=domainkey-signature:received:received:message-id:date:from:to:subject:cc:in-reply-to:mime-version:content-type:content-transfer-encoding:content-disposition:references;	b=AosUoPEW12F/xx+RIEybynAuV/cqEFUcfef2TGq2dD0p7Y3g5uxtQtgCOXW9KHuBD3qC7Pi6Nmqv6/lseiKJ7NOj8sUInwZbkmq+fmMsNy8f5qOmaTijM5U4bxrB3kjgTcj3TMtAg/aH25hrRJBmTQyo/KRlVzCiqtVEhgrtcdw=</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00030.html">7f080ed10703082056t6539f3aco9d9ab4e8a48cc00e@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;<a href="msg00026.html">45EFE13E.3080304@bmb.leeds.ac.uk</a>&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on March 09, 2007 - 05:57:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<tt>On 3/8/07, Gary S. Thompson &lt;garyt@xxxxxxxxxxxxxxx&gt; wrote:
</tt><blockquote class="blockquote"><pre style="margin: 0em;"><br>---------- Forwarded message ----------
From: &quot;Gary S. Thompson&quot; &lt;garyt@xxxxxxxxxxxxxxx&gt;
To: Edward d'Auvergne &lt;edward.dauvergne@xxxxxxxxx&gt;
Date: Thu, 08 Mar 2007 10:04:41 +0000
Subject: Re: Multiple test cases and the splitting up of large modules.
Edward d'Auvergne wrote:</pre><br>
<pre style="margin: 0em;">&gt; On 3/8/07, Gary S. Thompson &lt;garyt@xxxxxxxxxxxxxxx&gt; wrote:
&gt;
&gt;&gt; Edward d'Auvergne wrote:
&gt;&gt;
&gt;&gt; &gt;On Tue, 2007-03-06 at 09:49 +0000, Chris MacRaild wrote:
&gt;&gt; &gt;
&gt;&gt; &gt;
&gt;&gt; &gt;&gt;On Tue, 2007-03-06 at 08:44 퍍㐙ꫲ S. Thompson wrote:
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt;
&gt;&gt; &gt;&gt;&gt;Edward d'Auvergne wrote:
&gt;
&gt;
&gt; [ snip ]
&gt;
&gt;&gt; &gt;As for splitting up large modules such as the 66 method, 5701 line
&gt;&gt; &gt;'specific_fns/model_free.py' file, I've been playing around with a few
&gt;&gt; &gt;ideas.  I have committed to the 1.3 repository line a change which does
&gt;&gt; &gt;not affect program operation in any way but lays down a foundation for
&gt;&gt; &gt;the breaking up of the model_free.py file
&gt;&gt; &gt;(<a  href="https://mail.gna.org/public/relax-commits/2007-03/msg00029.html">https://mail.gna.org/public/relax-commits/2007-03/msg00029.html</a>). This
&gt;&gt; &gt;change introduces the directory 'specific_fns/model_free/' while still
&gt;&gt; &gt;retaining the module namespace of 'specific_fns.model_free' by using
&gt;&gt; &gt;import statements in the directory's '__init__.py' file.  I've borrowed
&gt;&gt; &gt;this concept from the Python site-packages, especially the Numeric and
&gt;&gt; &gt;scipy modules.
&gt;&gt; &gt;
&gt;&gt; note numeric and scipy (especially) do carry some baggae and have code
&gt;&gt; bases which are known to be 'tricky'
&gt;
&gt;
&gt; This usage of __init__.py to populate the module corresponding to the
&gt; directory with objects and methods appears to be quite a standard
&gt; thing though.  Looking again through the site-packages, other code
&gt; which uses this technique include pygtk, psyco, zope, twisted, Pyrex,
&gt; etc.  Scientific Python doesn't use the technique and that would be
&gt; one of the most complicated packages for understanding it's data
&gt; structures and modules and what needs to be imported.
&gt;
&gt; Edward</pre><br>
<pre style="margin: 0em;">Hi Ed
    I guess what i am saying is the fact there is precedent for the use
of __init__.py to munge module layouts doesn't mean that it is a good
thing. Most of the libraries that use it do so because they have large
user bases and the user bases are the programmer (most of these are
libraries rather than programs)and so backwards compatability becomes
very important. However, in our case with a developer base of 4 and no
one using the code base  as a library we can be far more  consistent in
having the disk layout of files and the module structure mirror each other
</pre></blockquote><pre style="margin: 0em;"><br>I think I've struck that balance with the setup of the 'data'
directory/module.  Have a look at file 'data/__init__.py'
corresponding to the 'data' module which contains the 'Data' class and
the file 'data/pipe_container.py' corresponding to the
'data.pipe_container' module which contains the 'PipeContainer' class.
The PipeContainer is also located in the 'data' module because of its
import but that is solely so that the Data class can use it.
PipeContainer should be imported from 'data.pipe_container' and not
'data'.</pre><br>
<pre style="margin: 0em;">In the case of the 'specific_fns/model_free' directory/module, things
could be a bit different.  The aim would be to break
'specific_fns/model_free/model_free.py' into multiple modules within
the 'specific_fns/model_free' directory.  '__init__.py' could then
import all the functions or classes into the 'specific_fns.model_free'
module namespace.  I say could because this is only an idea which may
or may not turn out to have benefits.  One benefit - less typing - may
be the simplification of the specific function setup code in
'specific_fns/specific_setup.py'.  This isn't much of a benefit though
and a counter example is that the function
'self.relax.specific.model_free.molmol.macro()' in that file.  The
current benefit is that the module 'specific_fns.model_free' appears
unchanged to the rest of relax.  The module changes could easily be
accommodated for though!  Even if you had all of the
'specific_fns.model_free.molmol' functions imported into
'specific_fns.model_free', you could still import them from
'specific_fns.model_free.molmol' rather than
'specific_fns.model_free'.  In summary the benefits I can currently
envisage are weak.  Therefore I'm happy to drop the idea :)</pre><br>
<pre style="margin: 0em;">Cheers,</pre><br>
<pre style="margin: 0em;">Edward</pre><br>
<pre style="margin: 0em;"><br>P.S.  The breaking up of the model-free module will probably require
the conversion of the class methods into functions.  This will break
all of the little benefits I described above anyway.
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00026" href="msg00026.html">[Fwd: Re: Multiple test cases and the splitting up of large modules.]</a></strong>
<ul><li><em>From:</em> Gary S. Thompson</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Fri Mar 09 07:40:16 2007</div>  
</body>
</html>
