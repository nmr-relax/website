<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: [sr #3117] Functionality to inspect interactively after running	script &#45; The equivalence to python &#45;i -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Thu, 13 Feb 2014 17:52:36 +0100 -->
<!--X-Message-Id: CAED9pY&#45;vyL+2eS6KM5bRac4Q6kfP0K69Oudk3ni7BbuS2=HWTg@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20140213&#45;114757.sv20529.7323@gna.org -->
<!--X-Reference: CAED9pY8sgxr+B3=dKoUBqWhd+eMcL5Lh0fCpNXo67No_B7aJPA@mail.gmail.com -->
<!--X-Reference: CA+CBx2M&#45;4ZsQ7XCiMdLE7671PBjfxcq_uO28K8cS=sxRgYtD5g@mail.gmail.com -->
<!--X-Reference: CAED9pY9sEUCyndvEtjdZNH7vn+nyXTkLQxp7XZfPaQXUy5Yc6A@mail.gmail.com -->
<!--X-Reference: CAED9pY_1w2i9xkFRuzz8FjrddXUSKyCik3sf6vtJNZhat2sTcw@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [sr #3117] Functionality to inspect interactively after running	script - The equivalence to python -i -- February 13, 2014 - 17:52</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: [sr #3117] Functionality to inspect interactively after running	script - The equivalence to python -i</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00066" class="tabs">Index by Date</a> | <a href="threads.html#00066" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00065.html">Date Prev</a>] [<a href="msg00067.html">Date Next</a>] [<a href="msg00064.html">Thread Prev</a>] [<a href="msg00065.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Thu, 13 Feb 2014 17:51:56 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=20120113;	h=mime-version:sender:in-reply-to:references:date:message-id:subject	:from:to:cc:content-type:content-transfer-encoding;	bh=k1yjROFUZiiX78JHeFqWYLVBIENV/PetbyCbHL4kqfM=;	b=reC0kXNwbbhnSCSWeLX5I4rxhsYQersDmdu+U39i1McMRShHgritSHAbVAOHJYFCIj	sDk+4AitVF/WqqV97CjX1NjK6Z96j+OJkSb3BNR+xKBpSh00YwsZth3/y8rrYdveCGWO	90EFEn4E16/rQDjPvAHICa9mOAMhz8qp5fH1jFEIi5aKAwoj6UGLBH/sRHbKqFyZtlZ4	zRPrhK6KEp0Hj5QeyXsrmdDmzAiCpCJlSqb2C2MdtXnygR1gJV7w0BTgL7QFaLuPezmm	ktKaau8RcNyv03oWlD9fcmFsxN7kxJJrUjtJ/RSE1F716rLDfN2cA8qJSCEK/y77MFur	VBsQ==</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00066.html">CAED9pY-vyL+2eS6KM5bRac4Q6kfP0K69Oudk3ni7BbuS2=HWTg@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;20140213-114757.sv20529.7323@xxxxxxx&gt;	&lt;CAED9pY8sgxr+B3=dKoUBqWhd+eMcL5Lh0fCpNXo67No_B7aJPA@xxxxxxxxxxxxxx&gt;	&lt;CA+CBx2M-4ZsQ7XCiMdLE7671PBjfxcq_uO28K8cS=sxRgYtD5g@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY9sEUCyndvEtjdZNH7vn+nyXTkLQxp7XZfPaQXUy5Yc6A@xxxxxxxxxxxxxx&gt;	&lt;CAED9pY_1w2i9xkFRuzz8FjrddXUSKyCik3sf6vtJNZhat2sTcw@xxxxxxxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on February 13, 2014 - 17:52:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Ok, this ancient and useless quit argument is gone!  See
<a  rel="nofollow" href="http://thread.gmane.org/gmane.science.nmr.relax.scm/19944">http://thread.gmane.org/gmane.science.nmr.relax.scm/19944</a>.

Regards,

Edward

On 13 February 2014 17:22, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Note that that 'quit' argument for the interpreter is ancient and
non-functional!  I'll look at finally eliminating it from relax.

Regards,

Edward



On 13 February 2014 17:08, Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Troels,

The key is in the last if-else statement.  This logic executes the
run_script() function returns the result if a script file is provided.
 And if not, the prompt() function is executed.  This is the problem,
for your aim you need both executed!  I hope this helps.

Regards,

Edward



On 13 February 2014 16:59, Troels Emtekær Linnet &lt;tlinnet@xxxxxxxxxxxxx&gt; 
wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward.

In interpreter.py I have a problem.

-----------------
    # Quit relax.
    # FIXME: need to drop off end of interpreter loop to exit cleanly
    #if quit:
    #    sys.exit()
-------------

I have tried tried to set the Quit flag to False, but it seems it is not 
in
use?

So I can't find what causes relax to quit after running the script.

Best
Troels



2014-02-13 12:59 GMT+01:00 Edward d'Auvergne &lt;edward@xxxxxxxxxxxxx&gt;:

</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Troels,

Such functionality would be great!  The option '-i' is already used
though for the system information printout.  Do you have an
alternative suggestion?  Maybe:

-c, --continue    Execute the given script and continue into the
prompt mode to allow for interactive inspection.
-p, --prompt      Execute the given script and continue into the
prompt mode to allow for interactive inspection (this will require
changing the -p, --pedantic flag, which is not an issue).

I like the second as it is more logical.  What would your suggestions be?

As for an implementation, this should not be too hard.  Actually, it
should be rather trivial by just launching into the prompt mode with
the script as an argument, and then running the script inside the
prompt.interpreter.Interpreter.run() method.  Look at that method and
you'll see that implementing this feature should be a patch of less
than 10 lines!  Just that file and the base 'relax.py' file for adding
a new option and passing the script name in should be sufficient.

Regards,

Edward

On 13 February 2014 12:47, Troels E. Linnet
&lt;NO-REPLY.INVALID-ADDRESS@xxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">URL:
  &lt;<a  rel="nofollow" href="http://gna.org/support/?3117">http://gna.org/support/?3117</a>&gt;

                 Summary: Functionality to inspect interactively after
running
script - The equivalence to python -i
                 Project: relax
            Submitted by: tlinnet
            Submitted on: Thu 13 Feb 2014 11:47:57 AM UTC
                Category: None
                Priority: 5 - Normal
                Severity: 1 - Wish
                  Status: Need Info
             Assigned to: None
        Originator Email:
             Open/Closed: Open
         Discussion Lock: Any
        Operating System: None

    _______________________________________________________

Details:

I would be of interest ti have an option: relax -i script.py

It should be the equivalence to the functionality: python -i script.py

At the moment, such a possibility is reached by:
relax
script(&quot;script.py&quot;)

But here one can only access the relax data containers.
Any defined variables in the script is not reached.








    _______________________________________________________

Reply to this item at:

  &lt;<a  rel="nofollow" href="http://gna.org/support/?3117">http://gna.org/support/?3117</a>&gt;

_______________________________________________
  Message sent via/by Gna!
  <a  rel="nofollow" href="http://gna.org/">http://gna.org/</a>


_______________________________________________
relax (<a  rel="nofollow" href="http://www.nmr-relax.com">http://www.nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="https://mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>
</pre></blockquote></blockquote><pre style="margin: 0em;">


</pre></blockquote></blockquote></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00059" href="msg00059.html">[sr #3117] Functionality to inspect interactively after running	script - The equivalence to python -i</a></strong>
<ul><li><em>From:</em> Troels E. Linnet</li></ul></li>
<li><strong><a name="00061" href="msg00061.html">Re: [sr #3117] Functionality to inspect interactively after running	script - The equivalence to python -i</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00062" href="msg00062.html">Re: [sr #3117] Functionality to inspect interactively after running	script - The equivalence to python -i</a></strong>
<ul><li><em>From:</em> Troels Emtekær Linnet</li></ul></li>
<li><strong><a name="00063" href="msg00063.html">Re: [sr #3117] Functionality to inspect interactively after running	script - The equivalence to python -i</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00064" href="msg00064.html">Re: [sr #3117] Functionality to inspect interactively after running	script - The equivalence to python -i</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Thu Feb 13 18:20:08 2014</div>  
</body>
</html>
