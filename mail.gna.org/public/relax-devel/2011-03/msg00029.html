<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Finished the reading of all the BMRB model&#45;free data &#45; necessary	corrections to the database entries. -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Mon, 14 Mar 2011 10:39:06 +0100 -->
<!--X-Message-Id: AANLkTimdWh=UkeknDg8u=&#45;_XjChmYT6WfAUTzXHpnQ+G@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: AANLkTimH4u6eqeNCx+wYTOjq7AL_egKbqZmenL3sGLqG@mail.gmail.com -->
<!--X-Reference: AANLkTi=U5+xRfjcLg1&#45;8coisxhke1E3JvQ2oZRsOZZkH@mail.gmail.com -->
<!--X-Reference: AANLkTinT5v8EJLzvjaS9d&#45;JO7ZEqVSMrijMZwhOPNKQB@mail.gmail.com -->
<!--X-Reference: 4D6FDE2A.20102@bmrb.wisc.edu -->
<!--X-Reference: AANLkTimLCoQCoO15TwAkEruBJsmxKULMk2RzT7jauku6@mail.gmail.com -->
<!--X-Reference: 4D71EE15.4080900@ulaval.ca -->
<!--X-Reference: 4D73D89D.8010905@bmrb.wisc.edu -->
<!--X-Reference: AANLkTikh0O=xSQtok9PV1juH+EZDfXf4_ws9KvUsjqNE@mail.gmail.com -->
<!--X-Reference: 4D762101.3020001@ulaval.ca -->
<!--X-Reference: AANLkTi=aEBumBoOct6FWM3Cw0j5Ce=NEhE&#45;j882q+mCS@mail.gmail.com -->
<!--X-Reference: 4D7CBB0C.6010203@ulaval.ca -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Finished the reading of all the BMRB model-free data - necessary	corrections to the database entries. -- March 14, 2011 - 10:39</title>
<link rel="stylesheet" type="text/css" href="/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="https://gna.org/images/gna.theme/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Finished the reading of all the BMRB model-free data - necessary	corrections to the database entries.</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00029" class="tabs">Index by Date</a> | <a href="threads.html#00029" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00028.html">Date Prev</a>] [<a href="msg00030.html">Date Next</a>] [<a href="msg00028.html">Thread Prev</a>] [<a href="msg00011.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Sébastien Morin &lt;sebastien.morin.1@xxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Mon, 14 Mar 2011 10:38:35 +0100</li>
<li class="menuitem">
<em>Cc</em>: &quot;relax-devel@xxxxxxx&quot; &lt;relax-devel@xxxxxxx&gt;,	Eldon Ulrich &lt;elu@xxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;	h=domainkey-signature:mime-version:sender:in-reply-to:references:date	:x-google-sender-auth:message-id:subject:from:to:cc:content-type	:content-transfer-encoding;	bh=2+5uuhqg7R5BRgqYy76hXchwHf4ua3B3u+f1JTQ2ZFM=;	b=VcWKPwXjV/HmFGOvpQdaUw2QtHauqs2RbjHeaparxKAWZWQ1hWx8EZpZT1Lz+Jm70b	UAvdl3+aQpHkUNgnM7f/NwHds2yujuBkOpcoFYVwir5oRRxfNlBd3B2WlQruQwydxFyy	xRYiISpNsQ/enFN5Os6HNZx7ZTfgbrTASlyL8=</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00029.html">AANLkTimdWh=UkeknDg8u=-_XjChmYT6WfAUTzXHpnQ+G@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;AANLkTimH4u6eqeNCx+wYTOjq7AL_egKbqZmenL3sGLqG@xxxxxxxxxxxxxx&gt;	&lt;AANLkTi=U5+xRfjcLg1-8coisxhke1E3JvQ2oZRsOZZkH@xxxxxxxxxxxxxx&gt;	&lt;AANLkTinT5v8EJLzvjaS9d-JO7ZEqVSMrijMZwhOPNKQB@xxxxxxxxxxxxxx&gt;	&lt;4D6FDE2A.20102@xxxxxxxxxxxxx&gt;	&lt;AANLkTimLCoQCoO15TwAkEruBJsmxKULMk2RzT7jauku6@xxxxxxxxxxxxxx&gt;	&lt;4D71EE15.4080900@xxxxxxxxx&gt; &lt;4D73D89D.8010905@xxxxxxxxxxxxx&gt;	&lt;AANLkTikh0O=xSQtok9PV1juH+EZDfXf4_ws9KvUsjqNE@xxxxxxxxxxxxxx&gt;	&lt;4D762101.3020001@xxxxxxxxx&gt;	&lt;AANLkTi=aEBumBoOct6FWM3Cw0j5Ce=NEhE-j882q+mCS@xxxxxxxxxxxxxx&gt;	&lt;4D7CBB0C.6010203@xxxxxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on March 14, 2011 - 10:39:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

That sounds like a very bad idea - the sample heating per scan will be
different!  People normally using single fid, not single scan
interleaving for the NOE, so this will most likely have a significant
impact on the NOE values.  Is this used often?  I would suggest that
the user could note this in the experimental details during
deposition.  If all of this gets much more complicated, I will likely
not implement it just so I can finish the paper, but maybe consider it
for the future.

If you would like to have a go implementing the reading and writing of
this in both relax and bmrblib (<a  rel="nofollow" href="https://gna.org/projects/bmrblib/">https://gna.org/projects/bmrblib/</a>),
please feel free.  After designing the NMR-STAR tags, this will
require new user functions in the exp_info user function class, then
the bmrb.read() and bmrb.write() calls go through
specific_fns/model_free/bmrb.py (assuming a model-free analysis), then
this will call bmrb_read() and bmrb_write() functions in
generic_fns/exp_info.py.  These last 2 functions interface with the
bmrblib for both reading and writing the data.

One idea would be to ask the user to supply the acqu*s files or the
procpar files.  The relax would be able to extract tonnes of
experimental information from this and deposit it into the BMRB.
Though individual details like recycle delays might have to be
supplied manually via specific user functions.

Cheers,

Edward



On 13 March 2011 13:39, Sébastien Morin &lt;sebastien.morin.1@xxxxxxxxx&gt; wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi,

Another important item which came to my mind this morning concerns recycle
delays and saturation times in NOE experiments.

As most studies will use a fixed total delay for the reference and saturated
experiments (i.e. recycle delay of reference spectrum = [recycle delay of
saturated spectrum + saturation delay]), some will not...

This is best explained by citing [Morin (In press) A practical guide to
protein dynamics from 15N spin relaxation in solution. Prog. NMR Spec.
<a  rel="nofollow" href="http://dx.doi.org/10.1016/j.pnmrs.2010.12.003]:">http://dx.doi.org/10.1016/j.pnmrs.2010.12.003]:</a>

===========
[...] in order to measure reliable NOE data for very flexible residues (or
in the case of small proteins) at high magnetic fields, extended recovery
and saturation delays might be needed [L.E. Kay, D.A. Torchia, A. Bax,
Backbone dynamics of proteins as studied by 15N inverse detected
heteronuclear NMR spectroscopy: application to staphylococcal nuclease,
Biochemistry 28 (1989) 8972–8979. ; C. Renner, M. Schleicher, L. Moroder,
T.A. Holak, Practical aspects of the 2D 15N–[1H]–NOE experiment, J. Biomol.
NMR 23 (2002) 23–33. ; Q. Gong, R. Ishima, 15N–{1H} NOE experiment at high
magnetic field strengths, J. Biomol. NMR 37 (2007) 147–157.].

Indeed, two different experiments are used for measuring the steady-state
NOE (with and without saturation). In these two different experiments, the
magnetisation does not behave identically. As a consequence, the recovery
time in the absence of saturation needs to be longer, whereas for the
experiment with saturation, the recovery delay can be shorter since it is
followed by the saturation delay [C. Renner, M. Schleicher, L. Moroder, T.A.
Holak, Practical aspects of the 2D 15N–[1H]–NOE experiment, J. Biomol. NMR
23 (2002) 23–33.]. If delays for both recovery and saturation are too short,
then the measured NOE will be overestimated [C. Renner, M. Schleicher, L.
Moroder, T.A. Holak, Practical aspects of the 2D 15N–[1H]–NOE experiment, J.
Biomol. NMR 23 (2002) 23–33.]. This problem is most important at high
magnetic fields since both 1H and 15N T1 increase with increasing magnetic
field, hence increasing the time needed for return of magnetisation parallel
to the z axis, especially for flexible segments. Renner et al. [C. Renner,
M. Schleicher, L. Moroder, T.A. Holak, Practical aspects of the 2D
15N–[1H]–NOE experiment, J. Biomol. NMR 23 (2002) 23–33.] proposed a
recovery delay of 10 s (or more) for the experiment without saturation and
of 1 s for the experiment with saturation, where a saturation delay of 5 s
should follow. Hence, when suspecting higher flexibility (either by
comparison with a similar protein, or by estimation of order parameters from
methods such as the contact model [F. Zhang, R. Brüschweiler, Contact model
for the prediction of NMR N–H order parameters in globular proteins, J. Am.
Chem. Soc. 124 (2002) 12654–12655.] or the random coil index [M.V.
Berjanskii, D.S. Wishart, A simple method to predict protein flexibility
using secondary chemical shifts, J. Am. Chem. Soc. 127 (2005) 14970–14971. ;
M. Berjanskii, D.S. Wishart, Nmr: prediction of protein flexibility, Nat.
Protocols 1 (2006) 683–688. ; M.V. Berjanskii, D.S. Wishart, The RCI server:
rapid and accurate calculation of protein flexibility using chemical shifts,
Nucleic Acids Res. 35 (2007) W531– W537. ; M.V. Berjanskii, D.S. Wishart,
Application of the random coil index to studying protein flexibility, J.
Biomol. NMR 40 (2008) 31–48.]), special care should be taken and the above
guidelines followed for the recording of reliable NOE data.
===========

Thus, the possibility for two different recycle delays should be taken into
account for NOE data entry. Of course, the saturation delay should also be
included in the deposited data.

Best regards,


Séb :)



On 11-03-08 1:49 PM, Edward d'Auvergne wrote:
</pre><blockquote class="blockquote"><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">

Seb, we should discuss and make a list of the necessary tags.  We can
have relax ask the user to input the required data, this will be the
easiest for the user and BMRB input.  Adding new tags appears to be
quite a lot easier with the BMRB than modifying existing designs, but
we should be certain of these tags and design the list to be the
highest quality possible.
</pre></blockquote><pre style="margin: 0em;">

How should we write this list ? By exchanging emails in a new thread ? Or
by
svn ?
</pre></blockquote><pre style="margin: 0em;">

It would be best by email, as Eldon will need to add the tags and his
input will be needed.


</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">* the number of different relaxation delays (including some
information on duplicates)
* the order with which the different relaxation delays were recorded
(and the use of interleaving)

This is a good idea, but is hard to implement as a strict definition.
Maybe a single tag with free-formatted text could be used.  For
example:

 _Auto_relaxation.Delay_interleaving

where the free text could be something like &quot;300, 20, 1000, 10, 1500,
200&quot;.  Eldon, is there another way of storing this info?

</pre></blockquote><pre style="margin: 0em;">This is a good idea, although maybe free text could be replaced by,
first, a
question on the number of delays, then tags for each delays (where the
total
number would have been specified earlier). This would avoid having
different
formatting in the free text list...
</pre></blockquote><pre style="margin: 0em;">

We can do this on the relax-side with one or two user functions.
Adding the number is not necessary as we can easily count the elements
of a list.  In relax I would have 2 structures, a dictionary for
storing the delay times per experiment, and a list storing the order.
This will probably require 2 user functions.

Storing this data in the BMRB is a different question.  The tags are
fixed, so you can't have one tag per delay.  It might be possible to
create a new looping tag category, but this is not the best way to
store an ordered list.  Maybe Eldon knows a better way.  We can always
dump the information into the _Auto_relaxation_list.Details tag if we
have no interest in using it for automatic parsing of the BMRB, but I
think to make this type of information parsable would be a good idea.
What do you think?


</pre><blockquote class="blockquote"><blockquote class="blockquote"><pre style="margin: 0em;">* the number of samples used (if not a single one)

A single Auto_relaxation or Heteronuc_NOE saveframe should really come
from a single sample.  If there are different samples for different
experiments, then _Auto_relaxation_list.Sample_condition_list_ID
should point to the different samples for each saveframe.

</pre></blockquote><pre style="margin: 0em;">Currently, the name of the sample used for a single experiment is shown.
Although, for model-free analysis results, it would be nice to have, in
addition to the list of samples (as it is currently), the number of
samples
directly written. This would make it easier for quick lookup of the data
as
you could search for the tag and know directly if the analysis was made
from
data with one or multiple samples. It would help judge consistency and
inconsistency issues...
</pre></blockquote><pre style="margin: 0em;">

This should be easy enough to see in the
_Order_parameter_experiment.Sample_ID tag.  You just have to count the
number of different IDs.  I think this information is already in the
model-free saveframes.  I'm not sure how capable relax is of handling
this though.

Regards,

Edward
</pre></blockquote><pre style="margin: 0em;">

--
Sébastien Morin, Ph.D.
Postdoctoral fellow
S. Grzesiek NMR Laboratory
Biozentrum, Universität Basel
Basel, Switzerland


</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00006" href="msg00006.html">Re: Finished the reading of all the BMRB model-free data - necessary	corrections to the database entries.</a></strong>
<ul><li><em>From:</em> Eldon Ulrich</li></ul></li>
<li><strong><a name="00007" href="msg00007.html">Re: Finished the reading of all the BMRB model-free data - necessary	corrections to the database entries.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00009" href="msg00009.html">Re: Finished the reading of all the BMRB model-free data - necessary	corrections to the database entries.</a></strong>
<ul><li><em>From:</em> Sébastien Morin</li></ul></li>
<li><strong><a name="00010" href="msg00010.html">Re: Finished the reading of all the BMRB model-free data - necessary	corrections to the database entries.</a></strong>
<ul><li><em>From:</em> Eldon Ulrich</li></ul></li>
<li><strong><a name="00012" href="msg00012.html">Re: Finished the reading of all the BMRB model-free data - necessary	corrections to the database entries.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00014" href="msg00014.html">Re: Finished the reading of all the BMRB model-free data - necessary	corrections to the database entries.</a></strong>
<ul><li><em>From:</em> Sébastien Morin</li></ul></li>
<li><strong><a name="00016" href="msg00016.html">Re: Finished the reading of all the BMRB model-free data - necessary	corrections to the database entries.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00028" href="msg00028.html">Re: Finished the reading of all the BMRB model-free data - necessary	corrections to the database entries.</a></strong>
<ul><li><em>From:</em> Sébastien Morin</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer">You are on the <a href="http://gna.org">Gna!</a> mail server.</div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Mon Mar 14 12:00:15 2011</div>  
</body>
</html>
