<!-- MHonArc v2.6.16 -->
<!--X-Subject: Re: Box layouts. -->
<!--X-From-R13: "Sqjneq q'Ohiretar" <rqjneqNaze&#45;erynk.pbz> -->
<!--X-Date: Wed, 27 Jan 2010 10:16:16 +0100 -->
<!--X-Message-Id: 7f080ed11001270115v788c0d40s372e97368f2ce8c7@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 7f080ed11001260131i35d2ea1axf12634428cab4673@mail.gmail.com -->
<!--X-Reference: 4B5F5CBA.4070607@gmx.ch -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: Box layouts. -- January 27, 2010 - 10:16</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Re: Box layouts.</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00084" class="tabs">Index by Date</a> | <a href="threads.html#00084" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[<a href="msg00083.html">Date Prev</a>] [<a href="msg00085.html">Date Next</a>] [<a href="msg00078.html">Thread Prev</a>] [<a href="msg00077.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: Michael Bieri &lt;michael.bieri@xxxxxx&gt;</li>
<li class="menuitem">
<em>Date</em>: Wed, 27 Jan 2010 10:15:30 +0100</li>
<li class="menuitem">
<em>Cc</em>: relax-devel@xxxxxxx</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00084.html">7f080ed11001270115v788c0d40s372e97368f2ce8c7@mail.gmail.com</a>&gt;</li>
<li class="menuitem">
<em>References</em>: &lt;7f080ed11001260131i35d2ea1axf12634428cab4673@xxxxxxxxxxxxxx&gt;	&lt;4B5F5CBA.4070607@xxxxxx&gt;</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Edward d'Auvergne</strong> on January 27, 2010 - 10:16:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">Hi,

Unfortunately Australia day is not a holiday in Deutschland - not even
in Bayern!  If you carefully study the code changes I have made, that
would be a quick crash course on how to program.  My programming
abilities are theoretically not the best as I learnt coding in the
same way as you now are, though they are very practical and get the
job done cleanly.  From the variable name duplication, and also the
massive code block duplications, it was clear that this was a result
of a large expansion from a small starting point into one large blob
of code.

If you look at what I have done with the model-free code, you'll see
how I have separated this out from the rest of relax_gui.py.  The same
should be done with the other analyses.  Then there would be a single
module for the NOE, eliminating the 3 times duplicated code base (the
same with R1 and R2).  From relax_gui, you pass in 'self' into the
analysis class __init__() methods and store this as 'self.gui'.  If
necessary for communication within the GUI, the analysis classes can
be stored in 'self.analyses' (accessible as 'self.gui.analyses' in the
other analysis classes).

I still have to look into creating some base classes for basic GUI
elements that can then be inherited (i.e. 'class
Auto_model_free(Base_class):').  Or converting entire blocks of a
frame into a different class - this allows the methods bound to GUI
events (like model_*() in auto_model_free) to be written once and then
used everywhere.  The point of breaking the code into blocks of
methods or classes is that building the GUI then becomes like playing
with lego.  With all the analyses in relax_gui.py, this was more like
a sculpture you made out of clay.  But if we convert this to lego
form, then a block needs to be only written once and reused
everywhere.  In the end, radical redesigns of the GUI layout simply
require a few line changes in the top level block!

Regards,

Edward




2010/1/26 Michael Bieri &lt;michael.bieri@xxxxxx&gt;:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">Hi Edward

I am just back from the prolonged Australia day weekend. You obviously
worked hard on the GUI, so let me reorientated in the code.

I will rename all the copy_copy... elements into logical naming (these are
all from the beginning, where I was quite fresh in programming).

I will also have a look at the modelfree calculation, but I think the GUI
needs an owns script, as we need a feedback to the GUI elements during
calculations, which is not necessary for the other UIs. But maybe you
already made them separate.

I will have some time today to understand the new structure you've created
and give some feedbacks later.

Cheers
Michael

Edward d'Auvergne schrieb:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">

Hi Michael,

I am in the process of trying to fix the automatic model-free protocol
execution in the GUI.  I have successfully spun out all of this code
into its own module, gui_bieri.auto_analyses.auto_model_free.  I will
now try to shift each model-free GUI out into separate functions, and
thereby eliminate names such as
'results_dir_copy_copy_copy_copy_copy_1_copy' which I am totally lost
with!  These functions will return the elements they create so that
they can be placed in the box layout that you have defined in the
sizer_* objects.  For me to get this back into order, would you be
able to describe - maybe with an SVG diagram to include with the code
- of your box layout for the different frames?

Also note that the automatic protocol code from full_analysis.py that
was duplicated has been deleted!  I shifted the code from the
full_analysis.py script into the relax module
auto_analyses.dauvergne_protocol.  Both the full_analysis.py script
and the model-free GUI now uses this code, although not all the data
is sent in (the web interface will eventually also use this).  This is
why I am hacking apart your model-free GUI code, to be able to
understand and obtain all the data we need to send into the
dAuvergne_protocol class.  I would highly recommend that you perform
similar code clean ups for the rest of the GUI - one module per
analysis frame.  Just watch what I am doing for ideas.

Cheers,

Edward

_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-devel mailing list
relax-devel@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="http://www.nmr-relax.com/mail.gna.org/listinfo/relax-devel">https://mail.gna.org/listinfo/relax-devel</a>


</pre></blockquote><pre style="margin: 0em;">

</pre></blockquote><pre style="margin: 0em;">


</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00076" href="msg00076.html">Box layouts.</a></strong>
<ul><li><em>From:</em> Edward d'Auvergne</li></ul></li>
<li><strong><a name="00078" href="msg00078.html">Re: Box layouts.</a></strong>
<ul><li><em>From:</em> Michael Bieri</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Wed Jan 27 11:40:20 2010</div>  
</body>
</html>
