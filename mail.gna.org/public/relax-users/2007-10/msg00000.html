<!-- MHonArc v2.6.16 -->
<!--X-Subject: Reduced spectral density mapping at three fields -->
<!--X-From-R13: Rnavry Brerm <crermNzby.ovby.rgum.pu> -->
<!--X-Date: Fri, 12 Oct 2007 17:16:19 +0200 -->
<!--X-Message-Id: 470F8F99.4050203@mol.biol.ethz.ch -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: XSMTP0sAHm40umuAnU800013f33@XSMTP0.ethz.ch -->
<!--X-Head-End-->
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Reduced spectral density mapping at three fields -- October 12, 2007 - 17:16</title>
<link rel="stylesheet" type="text/css" href="/mail.gna.org/archives-color-gna.css"> 
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<h2><img src="/mail.gna.org/images/mail.orig.png" width="48" height="48"
alt="mail" class="pageicon" />Reduced spectral density mapping at three fields</h2>
<br />
<div class="topmenu">
<a href="../" class="tabs">Others Months</a> | <a href="index.html#00000" class="tabs">Index by Date</a> | <a href="threads.html#00000" class="tabs">Thread Index</a><br />
<span class="smaller">&gt;&gt;&nbsp;&nbsp;
[Date Prev] [<a href="msg00001.html">Date Next</a>] [Thread Prev] [<a href="msg00001.html">Thread Next</a>]
</div>

<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h3><a name="header" href="#header">Header</a></h3>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul class="headdata">
<li class="menuitem">
<em>To</em>: relax-users@xxxxxxx</li>
<li class="menuitem">
<em>Date</em>: Fri, 12 Oct 2007 17:15:37 +0200</li>
<li class="menuitem">
<em>Message-id</em>: &lt;<a href="msg00000.html">470F8F99.4050203@mol.biol.ethz.ch</a>&gt;</li>
<li class="menuitem">
<em>Organization</em>: ETH Zurich</li>
<li class="menuitem">
<em>References</em>: &lt;XSMTP0sAHm40umuAnU800013f33@xxxxxxxxxxxxxx&gt;</li>
<li class="menuitem">
<em>User-agent</em>: Thunderbird 2.0.0.6 (X11/20070728)</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
</div><!-- end headdata -->
<br />
<h3><a name="content" href="#content">Content</a></h3>
<div class="postedby">Posted by <strong>Daniel Perez</strong> on October 12, 2007 - 17:16:</div>
<div class="msgdata">
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre style="margin: 0em;">
Hi Ed,

Basic question,

</pre><tt>relax only consider the relaxation data from one field to calculate the 
</tt><tt>reduced spectra density mapping at three frequencies. Shouldn't one use 
</tt><tt>at least three independent data sets (three fields) to calculate these 
</tt><tt>three parameters.
</tt><pre style="margin: 0em;">

Best Regards

Daniel

relax-users-request@xxxxxxx wrote:
</pre><blockquote class="blockquote"><pre style="margin: 0em;">
Send relax-users mailing list submissions to
        relax-users@xxxxxxx

To subscribe or unsubscribe via the World Wide Web, visit
        <a  rel="nofollow" href="/mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>
or, via email, send a message with subject or body 'help' to
        relax-users-request@xxxxxxx

You can reach the person managing the list at
        relax-users-owner@xxxxxxx

When replying, please edit your Subject line so it is more specific
than &quot;Re: Contents of relax-users digest...&quot;


Today's Topics:

   1. Re: Reduced spectral density mapping (Edward d'Auvergne)
   2. Re: Convergence on different systems (Edward d'Auvergne)


----------------------------------------------------------------------

Message: 1
Date: Sun, 3 Dec 2006 01:50:45 +1100
From: &quot;Edward d'Auvergne&quot; &lt;edward.dauvergne@xxxxxxxxx&gt;
Subject: Re: Reduced spectral density mapping
To: &quot;Sebastien Morin&quot; &lt;sebastien.morin.1@xxxxxxxxx&gt;
Cc: relax-users@xxxxxxx
Message-ID:
        &lt;7f080ed10612020650v35859880kb06b327442d6fda5@xxxxxxxxxxxxxx&gt;
Content-Type: text/plain; charset=WINDOWS-1252; format=flowed

Hi,

Reduced spectral density mapping is a direct calculation of the
spectral density values, there is no optimisation.  The only part
where optimisation could be used, but is not necessary, is in the
calculation of the single J(0) value using data at multiple field
strengths.  See Kroenke et al., 1999 for details (Kroenke, C. D.,
Rance, M. and Palmer, A. G. (1999). Variability of the 15N chemical
shift anisotropy in Escherichia coli ribonuclease H in solution. J.
Am. Chem. Soc. 121, 10119-10125).  relax can't do this yet though
(although anyone is free to add that feature).

Edward


On 12/2/06, Sebastien Morin &lt;sebastien.morin.1@xxxxxxxxx&gt; wrote:
</pre><tt>  
</tt><blockquote class="blockquote"><pre style="margin: 0em;">
Hi Edward

Thanks for your help.

I have another question about reduced spectral density mapping.

With the script jw_mapping.py, one has to select the frequency
(jw_mapping.set_frq()). I would like to know if it is possible to select
datasets at multiple fields and then optimize everything together...
Would this lead to better values as is the case with the model-free
approach ?

I tried by simply putting three fields :

===============================================================
jw_mapping.set_frq(name, frq=499.719 * 1e6, frq=599.739 * 1e6,
frq=799.744 * 1e6)
===============================================================

but as I thought, ended up with an error :

===============================================================
SyntaxError: duplicate keyword argument
===============================================================

Of course...

Thanks for help !


Séb :)
</pre><tt>    
</tt></blockquote><pre style="margin: 0em;">



------------------------------

Message: 2
Date: Sun, 3 Dec 2006 02:02:53 +1100
From: &quot;Edward d'Auvergne&quot; &lt;edward.dauvergne@xxxxxxxxx&gt;
Subject: Re: Convergence on different systems
To: &quot;Sebastien Morin&quot; &lt;sebastien.morin.1@xxxxxxxxx&gt;
Cc: relax-users@xxxxxxx
Message-ID:
        &lt;7f080ed10612020702w17d7e190k75b922313b2e65c8@xxxxxxxxxxxxxx&gt;
Content-Type: text/plain; charset=ISO-8859-1; format=flowed

Convergence when using Newton optimisation in relax (or in any
application) should be quite fast.  The Newton algorithm has what is
known as quadratic convergence - the fastest type of convergence.  In
comparison steepest descent has linear convergence and the BFGS
algorithm has super-linear convergence.  For more details see, for
example, Nocedal, J. and S. J. Wright: 1999, Numerical Optimization,
Springer Series in Operations Research, New York: Springer-Verlag.
Because of the quadratic convergence, tiny parameter differences will
most likely never occur and hence the convergence tests for identical
values won't be an issue.  These tests for identical values will not
increase the amount of CPU time required relative to approximate value
tests where a small tolerance is added.

The only problem is if you continually change CPU architectures,
operating systems, etc., during the running of the 'full_analysis.py'
script.  It should be fine though if the same diffusion tensor is
optimised on the same machine.

Cheers,

Edward


On 12/2/06, Sebastien Morin &lt;sebastien.morin.1@xxxxxxxxx&gt; wrote:
</pre><tt>  
</tt><blockquote class="blockquote"><pre style="margin: 0em;">
Hi

I used the full_analysis.py script until convergence for the 4 diffusion
models (sphere, prolate, oblate, ellipsoid), each on one different
computer. Those computer, however, are quite similar, all 32-bits x86
Gentoo Linux with same kernel, gcc, python, etc.

For the final run, I switched on a different system, our dual core
pseudo 64-bits NMR console computer running Red Hat Enterprise 4 with
almost everything different from our Gentoo workstations which are
really more up-to-date. Before starting the final run, I wanted to check
if number rounding would be the same... Well, is wasn't and the run with
the ellipsoid diffusion model ended up saying it wasn't converged yet :

#####################
# Convergence tests #
#####################
Chi-squared test:
    chi2 (k-1): 7022.7261139599996
    chi2 (k):   7022.7261139563052
    The chi-squared value has not converged.
Identical model-free models test:
    The model-free models have converged.
Identical parameter test:
    Spin system: 26 PHE
    Parameter:   S2f
    Value (k-1): 0.84811676720047557
    Value (k):   0.84811676720047491
    The model-free parameters have not converged.
Convergence:
    [ No ]

As is obvious, the differences are really small, but still relax thinks
it's enough to spend many hours more trying to get absolute reproducibility.

My question.

Is it really necessary to get convergence on so small digits ? Probably
yes, as it was designed this way... So, if yes, why ? Isn't it a problem
for multi-computer processing ?

Thanks !


Séb :)


_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="/mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>

</pre><tt>    
</tt></blockquote><pre style="margin: 0em;">



------------------------------

_______________________________________________
relax (<a  rel="nofollow" href="http://nmr-relax.com">http://nmr-relax.com</a>)

This is the relax-users mailing list
relax-users@xxxxxxx

To unsubscribe from this list, get a password
reminder, or change your subscription options,
visit the list information page at
<a  rel="nofollow" href="/mail.gna.org/listinfo/relax-users">https://mail.gna.org/listinfo/relax-users</a>

End of relax-users Digest, Vol 8, Issue 3
*****************************************
</pre><tt>  
</tt></blockquote><pre style="margin: 0em;">


--
Dr. Daniel Perez
Inst. f. Molekularbiologie u. Biophysik
Schafmattstr. 20
ETH-Hönggerberg, HPK G 5
CH-8093 Zürich
Phone: +41 44 633 25 37



</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
</div><!-- end msgdata -->
<br />
<h3><a name="related" href="#related">Related Messages</a></h3>
<div class="relateddata">
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00001" href="msg00001.html">Re: Reduced spectral density mapping at three fields</a></strong>
<ul><li><em>From:</em> Sebastien Morin</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
</div><!-- end relateddata -->
<!-- NoBotLinksApartFromRelatedMessages -->

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
<div class="footer"></div><br />
<div class="right">Powered by <a href="http://www.mhonarc.org">MHonArc</a>, Updated Sun Oct 21 18:20:33 2007</div>  
</body>
</html>
